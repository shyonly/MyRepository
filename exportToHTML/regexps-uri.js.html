<html>
<head>
<title>regexps-uri.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cf8e6d;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #6aab73;}
.s4 { color: #7a7e85;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
regexps-uri.js</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s2">{ </span><span class="s1">merge</span><span class="s2">, </span><span class="s1">subexp </span><span class="s2">} </span><span class="s1">from </span><span class="s3">&quot;./util&quot;</span><span class="s2">;</span>
<span class="s0">export function </span><span class="s1">buildExps</span><span class="s2">(</span><span class="s1">isIRI</span><span class="s2">) {</span>
    <span class="s0">const </span><span class="s1">ALPHA$$ </span><span class="s2">= </span><span class="s3">&quot;[A-Za-z]&quot;</span><span class="s2">, </span><span class="s1">CR$ </span><span class="s2">= </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">x0D]&quot;</span><span class="s2">, </span><span class="s1">DIGIT$$ </span><span class="s2">= </span><span class="s3">&quot;[0-9]&quot;</span><span class="s2">, </span><span class="s1">DQUOTE$$ </span><span class="s2">= </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">x22]&quot;</span><span class="s2">, </span><span class="s1">HEXDIG$$ </span><span class="s2">= </span><span class="s1">merge</span><span class="s2">(</span><span class="s1">DIGIT$$</span><span class="s2">, </span><span class="s3">&quot;[A-Fa-f]&quot;</span><span class="s2">), </span><span class="s4">//case-insensitive</span>
    <span class="s1">LF$$ </span><span class="s2">= </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">x0A]&quot;</span><span class="s2">, </span><span class="s1">SP$$ </span><span class="s2">= </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">x20]&quot;</span><span class="s2">, </span><span class="s1">PCT_ENCODED$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;%[EFef]&quot; </span><span class="s2">+ </span><span class="s1">HEXDIG$$ </span><span class="s2">+ </span><span class="s3">&quot;%&quot; </span><span class="s2">+ </span><span class="s1">HEXDIG$$ </span><span class="s2">+ </span><span class="s1">HEXDIG$$ </span><span class="s2">+ </span><span class="s3">&quot;%&quot; </span><span class="s2">+ </span><span class="s1">HEXDIG$$ </span><span class="s2">+ </span><span class="s1">HEXDIG$$</span><span class="s2">) + </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;%[89A-Fa-f]&quot; </span><span class="s2">+ </span><span class="s1">HEXDIG$$ </span><span class="s2">+ </span><span class="s3">&quot;%&quot; </span><span class="s2">+ </span><span class="s1">HEXDIG$$ </span><span class="s2">+ </span><span class="s1">HEXDIG$$</span><span class="s2">) + </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;%&quot; </span><span class="s2">+ </span><span class="s1">HEXDIG$$ </span><span class="s2">+ </span><span class="s1">HEXDIG$$</span><span class="s2">)), </span><span class="s4">//expanded</span>
    <span class="s1">GEN_DELIMS$$ </span><span class="s2">= </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">/</span><span class="s0">\\</span><span class="s3">?</span><span class="s0">\\</span><span class="s3">#</span><span class="s0">\\</span><span class="s3">[</span><span class="s0">\\</span><span class="s3">]</span><span class="s0">\\</span><span class="s3">@]&quot;</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$ </span><span class="s2">= </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">!</span><span class="s0">\\</span><span class="s3">$</span><span class="s0">\\</span><span class="s3">&amp;</span><span class="s0">\\</span><span class="s3">'</span><span class="s0">\\</span><span class="s3">(</span><span class="s0">\\</span><span class="s3">)</span><span class="s0">\\</span><span class="s3">*</span><span class="s0">\\</span><span class="s3">+</span><span class="s0">\\</span><span class="s3">,</span><span class="s0">\\</span><span class="s3">;</span><span class="s0">\\</span><span class="s3">=]&quot;</span><span class="s2">, </span><span class="s1">RESERVED$$ </span><span class="s2">= </span><span class="s1">merge</span><span class="s2">(</span><span class="s1">GEN_DELIMS$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">), </span><span class="s1">UCSCHAR$$ </span><span class="s2">= </span><span class="s1">isIRI </span><span class="s2">? </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">xA0-</span><span class="s0">\\</span><span class="s3">u200D</span><span class="s0">\\</span><span class="s3">u2010-</span><span class="s0">\\</span><span class="s3">u2029</span><span class="s0">\\</span><span class="s3">u202F-</span><span class="s0">\\</span><span class="s3">uD7FF</span><span class="s0">\\</span><span class="s3">uF900-</span><span class="s0">\\</span><span class="s3">uFDCF</span><span class="s0">\\</span><span class="s3">uFDF0-</span><span class="s0">\\</span><span class="s3">uFFEF]&quot; </span><span class="s2">: </span><span class="s3">&quot;[]&quot;</span><span class="s2">, </span><span class="s4">//subset, excludes bidi control characters</span>
    <span class="s1">IPRIVATE$$ </span><span class="s2">= </span><span class="s1">isIRI </span><span class="s2">? </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">uE000-</span><span class="s0">\\</span><span class="s3">uF8FF]&quot; </span><span class="s2">: </span><span class="s3">&quot;[]&quot;</span><span class="s2">, </span><span class="s4">//subset</span>
    <span class="s1">UNRESERVED$$ </span><span class="s2">= </span><span class="s1">merge</span><span class="s2">(</span><span class="s1">ALPHA$$</span><span class="s2">, </span><span class="s1">DIGIT$$</span><span class="s2">, </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">-</span><span class="s0">\\</span><span class="s3">.</span><span class="s0">\\</span><span class="s3">_</span><span class="s0">\\</span><span class="s3">~]&quot;</span><span class="s2">, </span><span class="s1">UCSCHAR$$</span><span class="s2">), </span><span class="s1">SCHEME$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">ALPHA$$ </span><span class="s2">+ </span><span class="s1">merge</span><span class="s2">(</span><span class="s1">ALPHA$$</span><span class="s2">, </span><span class="s1">DIGIT$$</span><span class="s2">, </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">+</span><span class="s0">\\</span><span class="s3">-</span><span class="s0">\\</span><span class="s3">.]&quot;</span><span class="s2">) + </span><span class="s3">&quot;*&quot;</span><span class="s2">), </span><span class="s1">USERINFO$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">PCT_ENCODED$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">merge</span><span class="s2">(</span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">, </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">:]&quot;</span><span class="s2">)) + </span><span class="s3">&quot;*&quot;</span><span class="s2">), </span><span class="s1">DEC_OCTET$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;25[0-5]&quot;</span><span class="s2">) + </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;2[0-4]&quot; </span><span class="s2">+ </span><span class="s1">DIGIT$$</span><span class="s2">) + </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;1&quot; </span><span class="s2">+ </span><span class="s1">DIGIT$$ </span><span class="s2">+ </span><span class="s1">DIGIT$$</span><span class="s2">) + </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;[1-9]&quot; </span><span class="s2">+ </span><span class="s1">DIGIT$$</span><span class="s2">) + </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">DIGIT$$</span><span class="s2">), </span><span class="s1">DEC_OCTET_RELAXED$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;25[0-5]&quot;</span><span class="s2">) + </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;2[0-4]&quot; </span><span class="s2">+ </span><span class="s1">DIGIT$$</span><span class="s2">) + </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;1&quot; </span><span class="s2">+ </span><span class="s1">DIGIT$$ </span><span class="s2">+ </span><span class="s1">DIGIT$$</span><span class="s2">) + </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;0?[1-9]&quot; </span><span class="s2">+ </span><span class="s1">DIGIT$$</span><span class="s2">) + </span><span class="s3">&quot;|0?0?&quot; </span><span class="s2">+ </span><span class="s1">DIGIT$$</span><span class="s2">), </span><span class="s4">//relaxed parsing rules</span>
    <span class="s1">IPV4ADDRESS$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">DEC_OCTET_RELAXED$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">.&quot; </span><span class="s2">+ </span><span class="s1">DEC_OCTET_RELAXED$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">.&quot; </span><span class="s2">+ </span><span class="s1">DEC_OCTET_RELAXED$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">.&quot; </span><span class="s2">+ </span><span class="s1">DEC_OCTET_RELAXED$</span><span class="s2">), </span><span class="s1">H16$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">HEXDIG$$ </span><span class="s2">+ </span><span class="s3">&quot;{1,4}&quot;</span><span class="s2">), </span><span class="s1">LS32$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">H16$</span><span class="s2">) + </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">IPV4ADDRESS$</span><span class="s2">), </span><span class="s1">IPV6ADDRESS1$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot;</span><span class="s2">) + </span><span class="s3">&quot;{6}&quot; </span><span class="s2">+ </span><span class="s1">LS32$</span><span class="s2">), </span><span class="s4">//                           6( h16 &quot;:&quot; ) ls32</span>
    <span class="s1">IPV6ADDRESS2$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot;</span><span class="s2">) + </span><span class="s3">&quot;{5}&quot; </span><span class="s2">+ </span><span class="s1">LS32$</span><span class="s2">), </span><span class="s4">//                      &quot;::&quot; 5( h16 &quot;:&quot; ) ls32</span>
    <span class="s1">IPV6ADDRESS3$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$</span><span class="s2">) + </span><span class="s3">&quot;?</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot;</span><span class="s2">) + </span><span class="s3">&quot;{4}&quot; </span><span class="s2">+ </span><span class="s1">LS32$</span><span class="s2">), </span><span class="s4">//[               h16 ] &quot;::&quot; 4( h16 &quot;:&quot; ) ls32</span>
    <span class="s1">IPV6ADDRESS4$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot;</span><span class="s2">) + </span><span class="s3">&quot;{0,1}&quot; </span><span class="s2">+ </span><span class="s1">H16$</span><span class="s2">) + </span><span class="s3">&quot;?</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot;</span><span class="s2">) + </span><span class="s3">&quot;{3}&quot; </span><span class="s2">+ </span><span class="s1">LS32$</span><span class="s2">), </span><span class="s4">//[ *1( h16 &quot;:&quot; ) h16 ] &quot;::&quot; 3( h16 &quot;:&quot; ) ls32</span>
    <span class="s1">IPV6ADDRESS5$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot;</span><span class="s2">) + </span><span class="s3">&quot;{0,2}&quot; </span><span class="s2">+ </span><span class="s1">H16$</span><span class="s2">) + </span><span class="s3">&quot;?</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot;</span><span class="s2">) + </span><span class="s3">&quot;{2}&quot; </span><span class="s2">+ </span><span class="s1">LS32$</span><span class="s2">), </span><span class="s4">//[ *2( h16 &quot;:&quot; ) h16 ] &quot;::&quot; 2( h16 &quot;:&quot; ) ls32</span>
    <span class="s1">IPV6ADDRESS6$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot;</span><span class="s2">) + </span><span class="s3">&quot;{0,3}&quot; </span><span class="s2">+ </span><span class="s1">H16$</span><span class="s2">) + </span><span class="s3">&quot;?</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">LS32$</span><span class="s2">), </span><span class="s4">//[ *3( h16 &quot;:&quot; ) h16 ] &quot;::&quot;    h16 &quot;:&quot;   ls32</span>
    <span class="s1">IPV6ADDRESS7$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot;</span><span class="s2">) + </span><span class="s3">&quot;{0,4}&quot; </span><span class="s2">+ </span><span class="s1">H16$</span><span class="s2">) + </span><span class="s3">&quot;?</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">LS32$</span><span class="s2">), </span><span class="s4">//[ *4( h16 &quot;:&quot; ) h16 ] &quot;::&quot;              ls32</span>
    <span class="s1">IPV6ADDRESS8$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot;</span><span class="s2">) + </span><span class="s3">&quot;{0,5}&quot; </span><span class="s2">+ </span><span class="s1">H16$</span><span class="s2">) + </span><span class="s3">&quot;?</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">H16$</span><span class="s2">), </span><span class="s4">//[ *5( h16 &quot;:&quot; ) h16 ] &quot;::&quot;              h16</span>
    <span class="s1">IPV6ADDRESS9$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">H16$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot;</span><span class="s2">) + </span><span class="s3">&quot;{0,6}&quot; </span><span class="s2">+ </span><span class="s1">H16$</span><span class="s2">) + </span><span class="s3">&quot;?</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">:&quot;</span><span class="s2">), </span><span class="s4">//[ *6( h16 &quot;:&quot; ) h16 ] &quot;::&quot;</span>
    <span class="s1">IPV6ADDRESS$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">([</span><span class="s1">IPV6ADDRESS1$</span><span class="s2">, </span><span class="s1">IPV6ADDRESS2$</span><span class="s2">, </span><span class="s1">IPV6ADDRESS3$</span><span class="s2">, </span><span class="s1">IPV6ADDRESS4$</span><span class="s2">, </span><span class="s1">IPV6ADDRESS5$</span><span class="s2">, </span><span class="s1">IPV6ADDRESS6$</span><span class="s2">, </span><span class="s1">IPV6ADDRESS7$</span><span class="s2">, </span><span class="s1">IPV6ADDRESS8$</span><span class="s2">, </span><span class="s1">IPV6ADDRESS9$</span><span class="s2">].</span><span class="s1">join</span><span class="s2">(</span><span class="s3">&quot;|&quot;</span><span class="s2">)), </span><span class="s1">ZONEID$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">UNRESERVED$$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PCT_ENCODED$</span><span class="s2">) + </span><span class="s3">&quot;+&quot;</span><span class="s2">), </span><span class="s4">//RFC 6874</span>
    <span class="s1">IPV6ADDRZ$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">IPV6ADDRESS$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">%25&quot; </span><span class="s2">+ </span><span class="s1">ZONEID$</span><span class="s2">), </span><span class="s4">//RFC 6874</span>
    <span class="s1">IPV6ADDRZ_RELAXED$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">IPV6ADDRESS$ </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">%25|</span><span class="s0">\\</span><span class="s3">%(?!&quot; </span><span class="s2">+ </span><span class="s1">HEXDIG$$ </span><span class="s2">+ </span><span class="s3">&quot;{2})&quot;</span><span class="s2">) + </span><span class="s1">ZONEID$</span><span class="s2">), </span><span class="s4">//RFC 6874, with relaxed parsing rules</span>
    <span class="s1">IPVFUTURE$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;[vV]&quot; </span><span class="s2">+ </span><span class="s1">HEXDIG$$ </span><span class="s2">+ </span><span class="s3">&quot;+</span><span class="s0">\\</span><span class="s3">.&quot; </span><span class="s2">+ </span><span class="s1">merge</span><span class="s2">(</span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">, </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">:]&quot;</span><span class="s2">) + </span><span class="s3">&quot;+&quot;</span><span class="s2">), </span><span class="s1">IP_LITERAL$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">[&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">IPV6ADDRZ_RELAXED$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">IPV6ADDRESS$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">IPVFUTURE$</span><span class="s2">) + </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">]&quot;</span><span class="s2">), </span><span class="s4">//RFC 6874</span>
    <span class="s1">REG_NAME$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">PCT_ENCODED$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">merge</span><span class="s2">(</span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">)) + </span><span class="s3">&quot;*&quot;</span><span class="s2">), </span><span class="s1">HOST$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">IP_LITERAL$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">IPV4ADDRESS$ </span><span class="s2">+ </span><span class="s3">&quot;(?!&quot; </span><span class="s2">+ </span><span class="s1">REG_NAME$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot; </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">REG_NAME$</span><span class="s2">), </span><span class="s1">PORT$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">DIGIT$$ </span><span class="s2">+ </span><span class="s3">&quot;*&quot;</span><span class="s2">), </span><span class="s1">AUTHORITY$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">USERINFO$ </span><span class="s2">+ </span><span class="s3">&quot;@&quot;</span><span class="s2">) + </span><span class="s3">&quot;?&quot; </span><span class="s2">+ </span><span class="s1">HOST$ </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">PORT$</span><span class="s2">) + </span><span class="s3">&quot;?&quot;</span><span class="s2">), </span><span class="s1">PCHAR$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">PCT_ENCODED$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">merge</span><span class="s2">(</span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">, </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">@]&quot;</span><span class="s2">)), </span><span class="s1">SEGMENT$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">PCHAR$ </span><span class="s2">+ </span><span class="s3">&quot;*&quot;</span><span class="s2">), </span><span class="s1">SEGMENT_NZ$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">PCHAR$ </span><span class="s2">+ </span><span class="s3">&quot;+&quot;</span><span class="s2">), </span><span class="s1">SEGMENT_NZ_NC$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">PCT_ENCODED$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">merge</span><span class="s2">(</span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">, </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">@]&quot;</span><span class="s2">)) + </span><span class="s3">&quot;+&quot;</span><span class="s2">), </span><span class="s1">PATH_ABEMPTY$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">/&quot; </span><span class="s2">+ </span><span class="s1">SEGMENT$</span><span class="s2">) + </span><span class="s3">&quot;*&quot;</span><span class="s2">), </span><span class="s1">PATH_ABSOLUTE$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">/&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">SEGMENT_NZ$ </span><span class="s2">+ </span><span class="s1">PATH_ABEMPTY$</span><span class="s2">) + </span><span class="s3">&quot;?&quot;</span><span class="s2">), </span><span class="s4">//simplified</span>
    <span class="s1">PATH_NOSCHEME$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">SEGMENT_NZ_NC$ </span><span class="s2">+ </span><span class="s1">PATH_ABEMPTY$</span><span class="s2">), </span><span class="s4">//simplified</span>
    <span class="s1">PATH_ROOTLESS$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">SEGMENT_NZ$ </span><span class="s2">+ </span><span class="s1">PATH_ABEMPTY$</span><span class="s2">), </span><span class="s4">//simplified</span>
    <span class="s1">PATH_EMPTY$ </span><span class="s2">= </span><span class="s3">&quot;(?!&quot; </span><span class="s2">+ </span><span class="s1">PCHAR$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">, </span><span class="s1">PATH$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">PATH_ABEMPTY$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_ABSOLUTE$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_NOSCHEME$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_ROOTLESS$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_EMPTY$</span><span class="s2">), </span><span class="s1">QUERY$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">PCHAR$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">merge</span><span class="s2">(</span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">/</span><span class="s0">\\</span><span class="s3">?]&quot;</span><span class="s2">, </span><span class="s1">IPRIVATE$$</span><span class="s2">)) + </span><span class="s3">&quot;*&quot;</span><span class="s2">), </span><span class="s1">FRAGMENT$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">PCHAR$ </span><span class="s2">+ </span><span class="s3">&quot;|[</span><span class="s0">\\</span><span class="s3">/</span><span class="s0">\\</span><span class="s3">?]&quot;</span><span class="s2">) + </span><span class="s3">&quot;*&quot;</span><span class="s2">), </span><span class="s1">HIER_PART$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">/</span><span class="s0">\\</span><span class="s3">/&quot; </span><span class="s2">+ </span><span class="s1">AUTHORITY$ </span><span class="s2">+ </span><span class="s1">PATH_ABEMPTY$</span><span class="s2">) + </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_ABSOLUTE$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_ROOTLESS$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_EMPTY$</span><span class="s2">), </span><span class="s1">URI$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">SCHEME$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">HIER_PART$ </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">?&quot; </span><span class="s2">+ </span><span class="s1">QUERY$</span><span class="s2">) + </span><span class="s3">&quot;?&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">#&quot; </span><span class="s2">+ </span><span class="s1">FRAGMENT$</span><span class="s2">) + </span><span class="s3">&quot;?&quot;</span><span class="s2">), </span><span class="s1">RELATIVE_PART$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">/</span><span class="s0">\\</span><span class="s3">/&quot; </span><span class="s2">+ </span><span class="s1">AUTHORITY$ </span><span class="s2">+ </span><span class="s1">PATH_ABEMPTY$</span><span class="s2">) + </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_ABSOLUTE$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_NOSCHEME$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_EMPTY$</span><span class="s2">), </span><span class="s1">RELATIVE$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">RELATIVE_PART$ </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">?&quot; </span><span class="s2">+ </span><span class="s1">QUERY$</span><span class="s2">) + </span><span class="s3">&quot;?&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">#&quot; </span><span class="s2">+ </span><span class="s1">FRAGMENT$</span><span class="s2">) + </span><span class="s3">&quot;?&quot;</span><span class="s2">), </span><span class="s1">URI_REFERENCE$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">URI$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">RELATIVE$</span><span class="s2">), </span><span class="s1">ABSOLUTE_URI$ </span><span class="s2">= </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">SCHEME$ </span><span class="s2">+ </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">HIER_PART$ </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">?&quot; </span><span class="s2">+ </span><span class="s1">QUERY$</span><span class="s2">) + </span><span class="s3">&quot;?&quot;</span><span class="s2">), </span><span class="s1">GENERIC_REF$ </span><span class="s2">= </span><span class="s3">&quot;^(&quot; </span><span class="s2">+ </span><span class="s1">SCHEME$ </span><span class="s2">+ </span><span class="s3">&quot;)</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">/</span><span class="s0">\\</span><span class="s3">/(&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;(&quot; </span><span class="s2">+ </span><span class="s1">USERINFO$ </span><span class="s2">+ </span><span class="s3">&quot;)@&quot;</span><span class="s2">) + </span><span class="s3">&quot;?(&quot; </span><span class="s2">+ </span><span class="s1">HOST$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:(&quot; </span><span class="s2">+ </span><span class="s1">PORT$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?(&quot; </span><span class="s2">+ </span><span class="s1">PATH_ABEMPTY$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_ABSOLUTE$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_ROOTLESS$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_EMPTY$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">?(&quot; </span><span class="s2">+ </span><span class="s1">QUERY$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">#(&quot; </span><span class="s2">+ </span><span class="s1">FRAGMENT$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?$&quot;</span><span class="s2">, </span><span class="s1">RELATIVE_REF$ </span><span class="s2">= </span><span class="s3">&quot;^(){0}&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">/</span><span class="s0">\\</span><span class="s3">/(&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;(&quot; </span><span class="s2">+ </span><span class="s1">USERINFO$ </span><span class="s2">+ </span><span class="s3">&quot;)@&quot;</span><span class="s2">) + </span><span class="s3">&quot;?(&quot; </span><span class="s2">+ </span><span class="s1">HOST$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:(&quot; </span><span class="s2">+ </span><span class="s1">PORT$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?(&quot; </span><span class="s2">+ </span><span class="s1">PATH_ABEMPTY$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_ABSOLUTE$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_NOSCHEME$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_EMPTY$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">?(&quot; </span><span class="s2">+ </span><span class="s1">QUERY$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">#(&quot; </span><span class="s2">+ </span><span class="s1">FRAGMENT$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?$&quot;</span><span class="s2">, </span><span class="s1">ABSOLUTE_REF$ </span><span class="s2">= </span><span class="s3">&quot;^(&quot; </span><span class="s2">+ </span><span class="s1">SCHEME$ </span><span class="s2">+ </span><span class="s3">&quot;)</span><span class="s0">\\</span><span class="s3">:&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">/</span><span class="s0">\\</span><span class="s3">/(&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;(&quot; </span><span class="s2">+ </span><span class="s1">USERINFO$ </span><span class="s2">+ </span><span class="s3">&quot;)@&quot;</span><span class="s2">) + </span><span class="s3">&quot;?(&quot; </span><span class="s2">+ </span><span class="s1">HOST$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:(&quot; </span><span class="s2">+ </span><span class="s1">PORT$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?(&quot; </span><span class="s2">+ </span><span class="s1">PATH_ABEMPTY$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_ABSOLUTE$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_ROOTLESS$ </span><span class="s2">+ </span><span class="s3">&quot;|&quot; </span><span class="s2">+ </span><span class="s1">PATH_EMPTY$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">?(&quot; </span><span class="s2">+ </span><span class="s1">QUERY$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?$&quot;</span><span class="s2">, </span><span class="s1">SAMEDOC_REF$ </span><span class="s2">= </span><span class="s3">&quot;^&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">#(&quot; </span><span class="s2">+ </span><span class="s1">FRAGMENT$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?$&quot;</span><span class="s2">, </span><span class="s1">AUTHORITY_REF$ </span><span class="s2">= </span><span class="s3">&quot;^&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;(&quot; </span><span class="s2">+ </span><span class="s1">USERINFO$ </span><span class="s2">+ </span><span class="s3">&quot;)@&quot;</span><span class="s2">) + </span><span class="s3">&quot;?(&quot; </span><span class="s2">+ </span><span class="s1">HOST$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">:(&quot; </span><span class="s2">+ </span><span class="s1">PORT$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?$&quot;</span><span class="s2">;</span>
    <span class="s0">return </span><span class="s2">{</span>
        <span class="s1">NOT_SCHEME</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">merge</span><span class="s2">(</span><span class="s3">&quot;[^]&quot;</span><span class="s2">, </span><span class="s1">ALPHA$$</span><span class="s2">, </span><span class="s1">DIGIT$$</span><span class="s2">, </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">+</span><span class="s0">\\</span><span class="s3">-</span><span class="s0">\\</span><span class="s3">.]&quot;</span><span class="s2">), </span><span class="s3">&quot;g&quot;</span><span class="s2">),</span>
        <span class="s1">NOT_USERINFO</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">merge</span><span class="s2">(</span><span class="s3">&quot;[^</span><span class="s0">\\</span><span class="s3">%</span><span class="s0">\\</span><span class="s3">:]&quot;</span><span class="s2">, </span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">), </span><span class="s3">&quot;g&quot;</span><span class="s2">),</span>
        <span class="s1">NOT_HOST</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">merge</span><span class="s2">(</span><span class="s3">&quot;[^</span><span class="s0">\\</span><span class="s3">%</span><span class="s0">\\</span><span class="s3">[</span><span class="s0">\\</span><span class="s3">]</span><span class="s0">\\</span><span class="s3">:]&quot;</span><span class="s2">, </span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">), </span><span class="s3">&quot;g&quot;</span><span class="s2">),</span>
        <span class="s1">NOT_PATH</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">merge</span><span class="s2">(</span><span class="s3">&quot;[^</span><span class="s0">\\</span><span class="s3">%</span><span class="s0">\\</span><span class="s3">/</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">@]&quot;</span><span class="s2">, </span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">), </span><span class="s3">&quot;g&quot;</span><span class="s2">),</span>
        <span class="s1">NOT_PATH_NOSCHEME</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">merge</span><span class="s2">(</span><span class="s3">&quot;[^</span><span class="s0">\\</span><span class="s3">%</span><span class="s0">\\</span><span class="s3">/</span><span class="s0">\\</span><span class="s3">@]&quot;</span><span class="s2">, </span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">), </span><span class="s3">&quot;g&quot;</span><span class="s2">),</span>
        <span class="s1">NOT_QUERY</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">merge</span><span class="s2">(</span><span class="s3">&quot;[^</span><span class="s0">\\</span><span class="s3">%]&quot;</span><span class="s2">, </span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">, </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">@</span><span class="s0">\\</span><span class="s3">/</span><span class="s0">\\</span><span class="s3">?]&quot;</span><span class="s2">, </span><span class="s1">IPRIVATE$$</span><span class="s2">), </span><span class="s3">&quot;g&quot;</span><span class="s2">),</span>
        <span class="s1">NOT_FRAGMENT</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">merge</span><span class="s2">(</span><span class="s3">&quot;[^</span><span class="s0">\\</span><span class="s3">%]&quot;</span><span class="s2">, </span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">, </span><span class="s3">&quot;[</span><span class="s0">\\</span><span class="s3">:</span><span class="s0">\\</span><span class="s3">@</span><span class="s0">\\</span><span class="s3">/</span><span class="s0">\\</span><span class="s3">?]&quot;</span><span class="s2">), </span><span class="s3">&quot;g&quot;</span><span class="s2">),</span>
        <span class="s1">ESCAPE</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">merge</span><span class="s2">(</span><span class="s3">&quot;[^]&quot;</span><span class="s2">, </span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">SUB_DELIMS$$</span><span class="s2">), </span><span class="s3">&quot;g&quot;</span><span class="s2">),</span>
        <span class="s1">UNRESERVED</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s3">&quot;g&quot;</span><span class="s2">),</span>
        <span class="s1">OTHER_CHARS</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">merge</span><span class="s2">(</span><span class="s3">&quot;[^</span><span class="s0">\\</span><span class="s3">%]&quot;</span><span class="s2">, </span><span class="s1">UNRESERVED$$</span><span class="s2">, </span><span class="s1">RESERVED$$</span><span class="s2">), </span><span class="s3">&quot;g&quot;</span><span class="s2">),</span>
        <span class="s1">PCT_ENCODED</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">PCT_ENCODED$</span><span class="s2">, </span><span class="s3">&quot;g&quot;</span><span class="s2">),</span>
        <span class="s1">IPV4ADDRESS</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s3">&quot;^(&quot; </span><span class="s2">+ </span><span class="s1">IPV4ADDRESS$ </span><span class="s2">+ </span><span class="s3">&quot;)$&quot;</span><span class="s2">),</span>
        <span class="s1">IPV6ADDRESS</span><span class="s2">: </span><span class="s0">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s3">&quot;^</span><span class="s0">\\</span><span class="s3">[?(&quot; </span><span class="s2">+ </span><span class="s1">IPV6ADDRESS$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot; </span><span class="s2">+ </span><span class="s1">subexp</span><span class="s2">(</span><span class="s1">subexp</span><span class="s2">(</span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">%25|</span><span class="s0">\\</span><span class="s3">%(?!&quot; </span><span class="s2">+ </span><span class="s1">HEXDIG$$ </span><span class="s2">+ </span><span class="s3">&quot;{2})&quot;</span><span class="s2">) + </span><span class="s3">&quot;(&quot; </span><span class="s2">+ </span><span class="s1">ZONEID$ </span><span class="s2">+ </span><span class="s3">&quot;)&quot;</span><span class="s2">) + </span><span class="s3">&quot;?</span><span class="s0">\\</span><span class="s3">]?$&quot;</span><span class="s2">) </span><span class="s4">//RFC 6874, with relaxed parsing rules</span>
    <span class="s2">};</span>
<span class="s2">}</span>
<span class="s0">export default </span><span class="s1">buildExps</span><span class="s2">(</span><span class="s0">false</span><span class="s2">);</span>
<span class="s4">//# sourceMappingURL=regexps-uri.js.map</span></pre>
</body>
</html>
<html>
<head>
<title>table.vue</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #d5b778;}
.s1 { color: #bcbec4;}
.s2 { color: #bababa;}
.s3 { color: #6aab73;}
.s4 { color: #2aacb8;}
.s5 { color: #cf8e6d;}
.s6 { color: #7a7e85;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
table.vue</font>
</center></td></tr></table>
<pre><span class="s0">&lt;template&gt;</span>
  <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;el-table&quot;</span>
    <span class="s2">:class</span><span class="s3">=&quot;</span><span class="s1">[{</span>
      <span class="s3">'el-table--fit'</span><span class="s1">: fit,</span>
      <span class="s3">'el-table--striped'</span><span class="s1">: stripe,</span>
      <span class="s3">'el-table--border'</span><span class="s1">: border || isGroup,</span>
      <span class="s3">'el-table--hidden'</span><span class="s1">: isHidden,</span>
      <span class="s3">'el-table--group'</span><span class="s1">: isGroup,</span>
      <span class="s3">'el-table--fluid-height'</span><span class="s1">: maxHeight,</span>
      <span class="s3">'el-table--scrollable-x'</span><span class="s1">: layout.scrollX,</span>
      <span class="s3">'el-table--scrollable-y'</span><span class="s1">: layout.scrollY,</span>
      <span class="s3">'el-table--enable-row-hover'</span><span class="s1">: !store.states.isComplex,</span>
      <span class="s3">'el-table--enable-row-transition'</span><span class="s1">: (store.states.data || []).length !== </span><span class="s4">0 </span><span class="s1">&amp;&amp; (store.states.data || []).length &lt; </span><span class="s4">100</span>
    <span class="s1">}, tableSize ? </span><span class="s3">`el-table--</span><span class="s1">${ tableSize }</span><span class="s3">` </span><span class="s1">: </span><span class="s3">''</span><span class="s1">]</span><span class="s3">&quot;</span>
    <span class="s2">@mouseleave</span><span class="s3">=&quot;</span><span class="s1">handleMouseLeave($event)</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;hidden-columns&quot; </span><span class="s2">ref</span><span class="s3">=&quot;hiddenColumns&quot;</span><span class="s0">&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/div&gt;</span>
    <span class="s0">&lt;div</span>
      <span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">showHeader</span><span class="s3">&quot;</span>
      <span class="s2">v-mousewheel</span><span class="s3">=&quot;</span><span class="s1">handleHeaderFooterMousewheel</span><span class="s3">&quot;</span>
      <span class="s2">class</span><span class="s3">=&quot;el-table__header-wrapper&quot;</span>
      <span class="s2">ref</span><span class="s3">=&quot;headerWrapper&quot;</span><span class="s0">&gt;</span>
      <span class="s0">&lt;table-header</span>
        <span class="s2">ref</span><span class="s3">=&quot;tableHeader&quot;</span>
        <span class="s2">:store</span><span class="s3">=&quot;</span><span class="s1">store</span><span class="s3">&quot;</span>
        <span class="s2">:border</span><span class="s3">=&quot;</span><span class="s1">border</span><span class="s3">&quot;</span>
        <span class="s2">:default-sort</span><span class="s3">=&quot;</span><span class="s1">defaultSort</span><span class="s3">&quot;</span>
        <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">{</span>
          <span class="s1">width: layout.bodyWidth ? layout.bodyWidth + </span><span class="s3">'px' </span><span class="s1">: </span><span class="s3">''</span>
        <span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
      <span class="s0">&lt;/table-header&gt;</span>
    <span class="s0">&lt;/div&gt;</span>
    <span class="s0">&lt;div</span>
      <span class="s2">class</span><span class="s3">=&quot;el-table__body-wrapper&quot;</span>
      <span class="s2">ref</span><span class="s3">=&quot;bodyWrapper&quot;</span>
      <span class="s2">:class</span><span class="s3">=&quot;</span><span class="s1">[layout.scrollX ? </span><span class="s3">`is-scrolling-</span><span class="s1">${scrollPosition}</span><span class="s3">` </span><span class="s1">: </span><span class="s3">'is-scrolling-none'</span><span class="s1">]</span><span class="s3">&quot;</span>
      <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">[bodyHeight]</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
      <span class="s0">&lt;table-body</span>
        <span class="s2">:context</span><span class="s3">=&quot;</span><span class="s1">context</span><span class="s3">&quot;</span>
        <span class="s2">:store</span><span class="s3">=&quot;</span><span class="s1">store</span><span class="s3">&quot;</span>
        <span class="s2">:stripe</span><span class="s3">=&quot;</span><span class="s1">stripe</span><span class="s3">&quot;</span>
        <span class="s2">:row-class-name</span><span class="s3">=&quot;</span><span class="s1">rowClassName</span><span class="s3">&quot;</span>
        <span class="s2">:row-style</span><span class="s3">=&quot;</span><span class="s1">rowStyle</span><span class="s3">&quot;</span>
        <span class="s2">:highlight</span><span class="s3">=&quot;</span><span class="s1">highlightCurrentRow</span><span class="s3">&quot;</span>
        <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">{</span>
           <span class="s1">width: bodyWidth</span>
        <span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
      <span class="s0">&lt;/table-body&gt;</span>
      <span class="s0">&lt;div</span>
        <span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">!data || data.length === </span><span class="s4">0</span><span class="s3">&quot;</span>
        <span class="s2">class</span><span class="s3">=&quot;el-table__empty-block&quot;</span>
        <span class="s2">ref</span><span class="s3">=&quot;emptyBlock&quot;</span>
        <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">emptyBlockStyle</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;span </span><span class="s2">class</span><span class="s3">=&quot;el-table__empty-text&quot; </span><span class="s0">&gt;</span>
          <span class="s0">&lt;slot </span><span class="s2">name</span><span class="s3">=&quot;empty&quot;</span><span class="s0">&gt;</span><span class="s1">{{ emptyText || t('el.table.emptyText') }}</span><span class="s0">&lt;/slot&gt;</span>
        <span class="s0">&lt;/span&gt;</span>
      <span class="s0">&lt;/div&gt;</span>
      <span class="s0">&lt;div</span>
        <span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">$slots.append</span><span class="s3">&quot;</span>
        <span class="s2">class</span><span class="s3">=&quot;el-table__append-wrapper&quot;</span>
        <span class="s2">ref</span><span class="s3">=&quot;appendWrapper&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;slot </span><span class="s2">name</span><span class="s3">=&quot;append&quot;</span><span class="s0">&gt;&lt;/slot&gt;</span>
      <span class="s0">&lt;/div&gt;</span>
    <span class="s0">&lt;/div&gt;</span>
    <span class="s0">&lt;div</span>
      <span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">showSummary</span><span class="s3">&quot;</span>
      <span class="s2">v-show</span><span class="s3">=&quot;</span><span class="s1">data &amp;&amp; data.length &gt; </span><span class="s4">0</span><span class="s3">&quot;</span>
      <span class="s2">v-mousewheel</span><span class="s3">=&quot;</span><span class="s1">handleHeaderFooterMousewheel</span><span class="s3">&quot;</span>
      <span class="s2">class</span><span class="s3">=&quot;el-table__footer-wrapper&quot;</span>
      <span class="s2">ref</span><span class="s3">=&quot;footerWrapper&quot;</span><span class="s0">&gt;</span>
      <span class="s0">&lt;table-footer</span>
        <span class="s2">:store</span><span class="s3">=&quot;</span><span class="s1">store</span><span class="s3">&quot;</span>
        <span class="s2">:border</span><span class="s3">=&quot;</span><span class="s1">border</span><span class="s3">&quot;</span>
        <span class="s2">:sum-text</span><span class="s3">=&quot;</span><span class="s1">sumText || t(</span><span class="s3">'el.table.sumText'</span><span class="s1">)</span><span class="s3">&quot;</span>
        <span class="s2">:summary-method</span><span class="s3">=&quot;</span><span class="s1">summaryMethod</span><span class="s3">&quot;</span>
        <span class="s2">:default-sort</span><span class="s3">=&quot;</span><span class="s1">defaultSort</span><span class="s3">&quot;</span>
        <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">{</span>
          <span class="s1">width: layout.bodyWidth ? layout.bodyWidth + </span><span class="s3">'px' </span><span class="s1">: </span><span class="s3">''</span>
        <span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
      <span class="s0">&lt;/table-footer&gt;</span>
    <span class="s0">&lt;/div&gt;</span>
    <span class="s0">&lt;div</span>
      <span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">fixedColumns.length &gt; </span><span class="s4">0</span><span class="s3">&quot;</span>
      <span class="s2">v-mousewheel</span><span class="s3">=&quot;</span><span class="s1">handleFixedMousewheel</span><span class="s3">&quot;</span>
      <span class="s2">class</span><span class="s3">=&quot;el-table__fixed&quot;</span>
      <span class="s2">ref</span><span class="s3">=&quot;fixedWrapper&quot;</span>
      <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">[{</span>
        <span class="s1">width: layout.fixedWidth ? layout.fixedWidth + </span><span class="s3">'px' </span><span class="s1">: </span><span class="s3">''</span>
      <span class="s1">},</span>
      <span class="s1">fixedHeight]</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
      <span class="s0">&lt;div</span>
        <span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">showHeader</span><span class="s3">&quot;</span>
        <span class="s2">class</span><span class="s3">=&quot;el-table__fixed-header-wrapper&quot;</span>
        <span class="s2">ref</span><span class="s3">=&quot;fixedHeaderWrapper&quot; </span><span class="s0">&gt;</span>
        <span class="s0">&lt;table-header</span>
          <span class="s2">ref</span><span class="s3">=&quot;fixedTableHeader&quot;</span>
          <span class="s2">fixed</span><span class="s3">=&quot;left&quot;</span>
          <span class="s2">:border</span><span class="s3">=&quot;</span><span class="s1">border</span><span class="s3">&quot;</span>
          <span class="s2">:store</span><span class="s3">=&quot;</span><span class="s1">store</span><span class="s3">&quot;</span>
          <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">{</span>
            <span class="s1">width: bodyWidth</span>
          <span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;&lt;/table-header&gt;</span>
      <span class="s0">&lt;/div&gt;</span>
      <span class="s0">&lt;div</span>
        <span class="s2">class</span><span class="s3">=&quot;el-table__fixed-body-wrapper&quot;</span>
        <span class="s2">ref</span><span class="s3">=&quot;fixedBodyWrapper&quot;</span>
        <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">[{</span>
          <span class="s1">top: layout.headerHeight + </span><span class="s3">'px'</span>
        <span class="s1">},</span>
        <span class="s1">fixedBodyHeight]</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;table-body</span>
          <span class="s2">fixed</span><span class="s3">=&quot;left&quot;</span>
          <span class="s2">:store</span><span class="s3">=&quot;</span><span class="s1">store</span><span class="s3">&quot;</span>
          <span class="s2">:stripe</span><span class="s3">=&quot;</span><span class="s1">stripe</span><span class="s3">&quot;</span>
          <span class="s2">:highlight</span><span class="s3">=&quot;</span><span class="s1">highlightCurrentRow</span><span class="s3">&quot;</span>
          <span class="s2">:row-class-name</span><span class="s3">=&quot;</span><span class="s1">rowClassName</span><span class="s3">&quot;</span>
          <span class="s2">:row-style</span><span class="s3">=&quot;</span><span class="s1">rowStyle</span><span class="s3">&quot;</span>
          <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">{</span>
            <span class="s1">width: bodyWidth</span>
          <span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;/table-body&gt;</span>
        <span class="s0">&lt;div</span>
          <span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">$slots.append</span><span class="s3">&quot;</span>
          <span class="s2">class</span><span class="s3">=&quot;el-table__append-gutter&quot;</span>
          <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">{ height: layout.appendHeight + </span><span class="s3">'px'</span><span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
      <span class="s0">&lt;/div&gt;</span>
      <span class="s0">&lt;div</span>
        <span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">showSummary</span><span class="s3">&quot;</span>
        <span class="s2">v-show</span><span class="s3">=&quot;</span><span class="s1">data &amp;&amp; data.length &gt; </span><span class="s4">0</span><span class="s3">&quot;</span>
        <span class="s2">class</span><span class="s3">=&quot;el-table__fixed-footer-wrapper&quot;</span>
        <span class="s2">ref</span><span class="s3">=&quot;fixedFooterWrapper&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;table-footer</span>
          <span class="s2">fixed</span><span class="s3">=&quot;left&quot;</span>
          <span class="s2">:border</span><span class="s3">=&quot;</span><span class="s1">border</span><span class="s3">&quot;</span>
          <span class="s2">:sum-text</span><span class="s3">=&quot;</span><span class="s1">sumText || t(</span><span class="s3">'el.table.sumText'</span><span class="s1">)</span><span class="s3">&quot;</span>
          <span class="s2">:summary-method</span><span class="s3">=&quot;</span><span class="s1">summaryMethod</span><span class="s3">&quot;</span>
          <span class="s2">:store</span><span class="s3">=&quot;</span><span class="s1">store</span><span class="s3">&quot;</span>
          <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">{</span>
            <span class="s1">width: bodyWidth</span>
          <span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;&lt;/table-footer&gt;</span>
      <span class="s0">&lt;/div&gt;</span>
    <span class="s0">&lt;/div&gt;</span>
    <span class="s0">&lt;div</span>
      <span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">rightFixedColumns.length &gt; </span><span class="s4">0</span><span class="s3">&quot;</span>
      <span class="s2">v-mousewheel</span><span class="s3">=&quot;</span><span class="s1">handleFixedMousewheel</span><span class="s3">&quot;</span>
      <span class="s2">class</span><span class="s3">=&quot;el-table__fixed-right&quot;</span>
      <span class="s2">ref</span><span class="s3">=&quot;rightFixedWrapper&quot;</span>
      <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">[{</span>
        <span class="s1">width: layout.rightFixedWidth ? layout.rightFixedWidth + </span><span class="s3">'px' </span><span class="s1">: </span><span class="s3">''</span><span class="s1">,</span>
        <span class="s1">right: layout.scrollY ? (border ? layout.gutterWidth : (layout.gutterWidth || </span><span class="s4">0</span><span class="s1">)) + </span><span class="s3">'px' </span><span class="s1">: </span><span class="s3">''</span>
      <span class="s1">},</span>
      <span class="s1">fixedHeight]</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
      <span class="s0">&lt;div </span><span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">showHeader</span><span class="s3">&quot;</span>
        <span class="s2">class</span><span class="s3">=&quot;el-table__fixed-header-wrapper&quot;</span>
        <span class="s2">ref</span><span class="s3">=&quot;rightFixedHeaderWrapper&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;table-header</span>
          <span class="s2">ref</span><span class="s3">=&quot;rightFixedTableHeader&quot;</span>
          <span class="s2">fixed</span><span class="s3">=&quot;right&quot;</span>
          <span class="s2">:border</span><span class="s3">=&quot;</span><span class="s1">border</span><span class="s3">&quot;</span>
          <span class="s2">:store</span><span class="s3">=&quot;</span><span class="s1">store</span><span class="s3">&quot;</span>
          <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">{</span>
            <span class="s1">width: bodyWidth</span>
          <span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;&lt;/table-header&gt;</span>
      <span class="s0">&lt;/div&gt;</span>
      <span class="s0">&lt;div</span>
        <span class="s2">class</span><span class="s3">=&quot;el-table__fixed-body-wrapper&quot;</span>
        <span class="s2">ref</span><span class="s3">=&quot;rightFixedBodyWrapper&quot;</span>
        <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">[{</span>
          <span class="s1">top: layout.headerHeight + </span><span class="s3">'px'</span>
        <span class="s1">},</span>
        <span class="s1">fixedBodyHeight]</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;table-body</span>
          <span class="s2">fixed</span><span class="s3">=&quot;right&quot;</span>
          <span class="s2">:store</span><span class="s3">=&quot;</span><span class="s1">store</span><span class="s3">&quot;</span>
          <span class="s2">:stripe</span><span class="s3">=&quot;</span><span class="s1">stripe</span><span class="s3">&quot;</span>
          <span class="s2">:row-class-name</span><span class="s3">=&quot;</span><span class="s1">rowClassName</span><span class="s3">&quot;</span>
          <span class="s2">:row-style</span><span class="s3">=&quot;</span><span class="s1">rowStyle</span><span class="s3">&quot;</span>
          <span class="s2">:highlight</span><span class="s3">=&quot;</span><span class="s1">highlightCurrentRow</span><span class="s3">&quot;</span>
          <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">{</span>
            <span class="s1">width: bodyWidth</span>
          <span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;/table-body&gt;</span>
         <span class="s0">&lt;div</span>
          <span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">$slots.append</span><span class="s3">&quot;</span>
          <span class="s2">class</span><span class="s3">=&quot;el-table__append-gutter&quot;</span>
          <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">{ height: layout.appendHeight + </span><span class="s3">'px' </span><span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
      <span class="s0">&lt;/div&gt;</span>
      <span class="s0">&lt;div</span>
        <span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">showSummary</span><span class="s3">&quot;</span>
        <span class="s2">v-show</span><span class="s3">=&quot;</span><span class="s1">data &amp;&amp; data.length &gt; </span><span class="s4">0</span><span class="s3">&quot;</span>
        <span class="s2">class</span><span class="s3">=&quot;el-table__fixed-footer-wrapper&quot;</span>
        <span class="s2">ref</span><span class="s3">=&quot;rightFixedFooterWrapper&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;table-footer</span>
          <span class="s2">fixed</span><span class="s3">=&quot;right&quot;</span>
          <span class="s2">:border</span><span class="s3">=&quot;</span><span class="s1">border</span><span class="s3">&quot;</span>
          <span class="s2">:sum-text</span><span class="s3">=&quot;</span><span class="s1">sumText || t(</span><span class="s3">'el.table.sumText'</span><span class="s1">)</span><span class="s3">&quot;</span>
          <span class="s2">:summary-method</span><span class="s3">=&quot;</span><span class="s1">summaryMethod</span><span class="s3">&quot;</span>
          <span class="s2">:store</span><span class="s3">=&quot;</span><span class="s1">store</span><span class="s3">&quot;</span>
          <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">{</span>
            <span class="s1">width: bodyWidth</span>
          <span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;&lt;/table-footer&gt;</span>
      <span class="s0">&lt;/div&gt;</span>
    <span class="s0">&lt;/div&gt;</span>
    <span class="s0">&lt;div</span>
      <span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">rightFixedColumns.length &gt; </span><span class="s4">0</span><span class="s3">&quot;</span>
      <span class="s2">class</span><span class="s3">=&quot;el-table__fixed-right-patch&quot;</span>
      <span class="s2">ref</span><span class="s3">=&quot;rightFixedPatch&quot;</span>
      <span class="s2">:style</span><span class="s3">=&quot;</span><span class="s1">{</span>
        <span class="s1">width: layout.scrollY ? layout.gutterWidth + </span><span class="s3">'px' </span><span class="s1">: </span><span class="s3">'0'</span><span class="s1">,</span>
        <span class="s1">height: layout.headerHeight + </span><span class="s3">'px'</span>
      <span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;el-table__column-resize-proxy&quot; </span><span class="s2">ref</span><span class="s3">=&quot;resizeProxy&quot; </span><span class="s2">v-show</span><span class="s3">=&quot;</span><span class="s1">resizeProxyVisible</span><span class="s3">&quot;</span><span class="s0">&gt;&lt;/div&gt;</span>
  <span class="s0">&lt;/div&gt;</span>
<span class="s0">&lt;/template&gt;</span>

<span class="s0">&lt;script </span><span class="s2">type</span><span class="s3">=&quot;text/babel&quot;</span><span class="s0">&gt;</span>
  <span class="s5">import </span><span class="s1">ElCheckbox from </span><span class="s3">'element-ui/packages/checkbox'</span><span class="s1">;</span>
  <span class="s5">import </span><span class="s1">{ debounce, throttle } from </span><span class="s3">'throttle-debounce'</span><span class="s1">;</span>
  <span class="s5">import </span><span class="s1">{ addResizeListener, removeResizeListener } from </span><span class="s3">'element-ui/src/utils/resize-event'</span><span class="s1">;</span>
  <span class="s5">import </span><span class="s1">Mousewheel from </span><span class="s3">'element-ui/src/directives/mousewheel'</span><span class="s1">;</span>
  <span class="s5">import </span><span class="s1">Locale from </span><span class="s3">'element-ui/src/mixins/locale'</span><span class="s1">;</span>
  <span class="s5">import </span><span class="s1">Migrating from </span><span class="s3">'element-ui/src/mixins/migrating'</span><span class="s1">;</span>
  <span class="s5">import </span><span class="s1">{ createStore, mapStates } from </span><span class="s3">'./store/helper'</span><span class="s1">;</span>
  <span class="s5">import </span><span class="s1">TableLayout from </span><span class="s3">'./table-layout'</span><span class="s1">;</span>
  <span class="s5">import </span><span class="s1">TableBody from </span><span class="s3">'./table-body'</span><span class="s1">;</span>
  <span class="s5">import </span><span class="s1">TableHeader from </span><span class="s3">'./table-header'</span><span class="s1">;</span>
  <span class="s5">import </span><span class="s1">TableFooter from </span><span class="s3">'./table-footer'</span><span class="s1">;</span>
  <span class="s5">import </span><span class="s1">{ parseHeight } from </span><span class="s3">'./util'</span><span class="s1">;</span>

  <span class="s5">let </span><span class="s1">tableIdSeed = </span><span class="s4">1</span><span class="s1">;</span>

  <span class="s5">export default </span><span class="s1">{</span>
    <span class="s1">name: </span><span class="s3">'ElTable'</span><span class="s1">,</span>

    <span class="s1">mixins: [Locale, Migrating],</span>

    <span class="s1">directives: {</span>
      <span class="s1">Mousewheel</span>
    <span class="s1">},</span>

    <span class="s1">props: {</span>
      <span class="s1">data: {</span>
        <span class="s1">type: Array,</span>
        <span class="s5">default</span><span class="s1">: </span><span class="s5">function</span><span class="s1">() {</span>
          <span class="s5">return </span><span class="s1">[];</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">size: String,</span>

      <span class="s1">width: [String, Number],</span>

      <span class="s1">height: [String, Number],</span>

      <span class="s1">maxHeight: [String, Number],</span>

      <span class="s1">fit: {</span>
        <span class="s1">type: Boolean,</span>
        <span class="s5">default</span><span class="s1">: </span><span class="s5">true</span>
      <span class="s1">},</span>

      <span class="s1">stripe: Boolean,</span>

      <span class="s1">border: Boolean,</span>

      <span class="s1">rowKey: [String, Function],</span>

      <span class="s1">context: {},</span>

      <span class="s1">showHeader: {</span>
        <span class="s1">type: Boolean,</span>
        <span class="s5">default</span><span class="s1">: </span><span class="s5">true</span>
      <span class="s1">},</span>

      <span class="s1">showSummary: Boolean,</span>

      <span class="s1">sumText: String,</span>

      <span class="s1">summaryMethod: Function,</span>

      <span class="s1">rowClassName: [String, Function],</span>

      <span class="s1">rowStyle: [Object, Function],</span>

      <span class="s1">cellClassName: [String, Function],</span>

      <span class="s1">cellStyle: [Object, Function],</span>

      <span class="s1">headerRowClassName: [String, Function],</span>

      <span class="s1">headerRowStyle: [Object, Function],</span>

      <span class="s1">headerCellClassName: [String, Function],</span>

      <span class="s1">headerCellStyle: [Object, Function],</span>

      <span class="s1">highlightCurrentRow: Boolean,</span>

      <span class="s1">highlightSelectionRow: {</span>
        <span class="s1">type: Boolean,</span>
        <span class="s5">default</span><span class="s1">: </span><span class="s5">false</span>
      <span class="s1">},</span>

      <span class="s1">currentRowKey: [String, Number],</span>

      <span class="s1">emptyText: String,</span>

      <span class="s1">expandRowKeys: Array,</span>

      <span class="s1">defaultExpandAll: Boolean,</span>

      <span class="s1">defaultSort: Object,</span>

      <span class="s1">tooltipEffect: String,</span>

      <span class="s1">spanMethod: Function,</span>

      <span class="s1">selectOnIndeterminate: {</span>
        <span class="s1">type: Boolean,</span>
        <span class="s5">default</span><span class="s1">: </span><span class="s5">true</span>
      <span class="s1">},</span>

      <span class="s1">indent: {</span>
        <span class="s1">type: Number,</span>
        <span class="s5">default</span><span class="s1">: </span><span class="s4">16</span>
      <span class="s1">},</span>

      <span class="s1">treeProps: {</span>
        <span class="s1">type: Object,</span>
        <span class="s5">default</span><span class="s1">() {</span>
          <span class="s5">return </span><span class="s1">{</span>
            <span class="s1">hasChildren: </span><span class="s3">'hasChildren'</span><span class="s1">,</span>
            <span class="s1">children: </span><span class="s3">'children'</span>
          <span class="s1">};</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">lazy: Boolean,</span>

      <span class="s1">load: Function</span>
    <span class="s1">},</span>

    <span class="s1">components: {</span>
      <span class="s1">TableHeader,</span>
      <span class="s1">TableFooter,</span>
      <span class="s1">TableBody,</span>
      <span class="s1">ElCheckbox</span>
    <span class="s1">},</span>

    <span class="s1">methods: {</span>
      <span class="s1">getMigratingConfig() {</span>
        <span class="s5">return </span><span class="s1">{</span>
          <span class="s1">events: {</span>
            <span class="s1">expand: </span><span class="s3">'expand is renamed to expand-change'</span>
          <span class="s1">}</span>
        <span class="s1">};</span>
      <span class="s1">},</span>

      <span class="s1">setCurrentRow(row) {</span>
        <span class="s5">this</span><span class="s1">.store.commit(</span><span class="s3">'setCurrentRow'</span><span class="s1">, row);</span>
      <span class="s1">},</span>

      <span class="s1">toggleRowSelection(row, selected) {</span>
        <span class="s5">this</span><span class="s1">.store.toggleRowSelection(row, selected, </span><span class="s5">false</span><span class="s1">);</span>
        <span class="s5">this</span><span class="s1">.store.updateAllSelected();</span>
      <span class="s1">},</span>

      <span class="s1">toggleRowExpansion(row, expanded) {</span>
        <span class="s5">this</span><span class="s1">.store.toggleRowExpansionAdapter(row, expanded);</span>
      <span class="s1">},</span>

      <span class="s1">clearSelection() {</span>
        <span class="s5">this</span><span class="s1">.store.clearSelection();</span>
      <span class="s1">},</span>

      <span class="s1">clearFilter(columnKeys) {</span>
        <span class="s5">this</span><span class="s1">.store.clearFilter(columnKeys);</span>
      <span class="s1">},</span>

      <span class="s1">clearSort() {</span>
        <span class="s5">this</span><span class="s1">.store.clearSort();</span>
      <span class="s1">},</span>

      <span class="s1">handleMouseLeave() {</span>
        <span class="s5">this</span><span class="s1">.store.commit(</span><span class="s3">'setHoverRow'</span><span class="s1">, </span><span class="s5">null</span><span class="s1">);</span>
        <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.hoverState) </span><span class="s5">this</span><span class="s1">.hoverState = </span><span class="s5">null</span><span class="s1">;</span>
      <span class="s1">},</span>

      <span class="s1">updateScrollY() {</span>
        <span class="s5">const </span><span class="s1">changed = </span><span class="s5">this</span><span class="s1">.layout.updateScrollY();</span>
        <span class="s5">if </span><span class="s1">(changed) {</span>
          <span class="s5">this</span><span class="s1">.layout.notifyObservers(</span><span class="s3">'scrollable'</span><span class="s1">);</span>
          <span class="s5">this</span><span class="s1">.layout.updateColumnsWidth();</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">handleFixedMousewheel(event, data) {</span>
        <span class="s5">const </span><span class="s1">bodyWrapper = </span><span class="s5">this</span><span class="s1">.bodyWrapper;</span>
        <span class="s5">if </span><span class="s1">(Math.abs(data.spinY) &gt; </span><span class="s4">0</span><span class="s1">) {</span>
          <span class="s5">const </span><span class="s1">currentScrollTop = bodyWrapper.scrollTop;</span>
          <span class="s5">if </span><span class="s1">(data.pixelY &lt; </span><span class="s4">0 </span><span class="s1">&amp;&amp; currentScrollTop !== </span><span class="s4">0</span><span class="s1">) {</span>
            <span class="s1">event.preventDefault();</span>
          <span class="s1">}</span>
          <span class="s5">if </span><span class="s1">(data.pixelY &gt; </span><span class="s4">0 </span><span class="s1">&amp;&amp; bodyWrapper.scrollHeight - bodyWrapper.clientHeight &gt; currentScrollTop) {</span>
            <span class="s1">event.preventDefault();</span>
          <span class="s1">}</span>
          <span class="s1">bodyWrapper.scrollTop += Math.ceil(data.pixelY / </span><span class="s4">5</span><span class="s1">);</span>
        <span class="s1">} </span><span class="s5">else </span><span class="s1">{</span>
          <span class="s1">bodyWrapper.scrollLeft += Math.ceil(data.pixelX / </span><span class="s4">5</span><span class="s1">);</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">handleHeaderFooterMousewheel(event, data) {</span>
        <span class="s5">const </span><span class="s1">{ pixelX, pixelY } = data;</span>
        <span class="s5">if </span><span class="s1">(Math.abs(pixelX) &gt;= Math.abs(pixelY)) {</span>
          <span class="s5">this</span><span class="s1">.bodyWrapper.scrollLeft += data.pixelX / </span><span class="s4">5</span><span class="s1">;</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s6">// TODO 使用 CSS transform</span>
      <span class="s1">syncPostion() {</span>
        <span class="s5">const </span><span class="s1">{ scrollLeft, scrollTop, offsetWidth, scrollWidth } = </span><span class="s5">this</span><span class="s1">.bodyWrapper;</span>
        <span class="s5">const </span><span class="s1">{ headerWrapper, footerWrapper, fixedBodyWrapper, rightFixedBodyWrapper } = </span><span class="s5">this</span><span class="s1">.$refs;</span>
        <span class="s5">if </span><span class="s1">(headerWrapper) headerWrapper.scrollLeft = scrollLeft;</span>
        <span class="s5">if </span><span class="s1">(footerWrapper) footerWrapper.scrollLeft = scrollLeft;</span>
        <span class="s5">if </span><span class="s1">(fixedBodyWrapper) fixedBodyWrapper.scrollTop = scrollTop;</span>
        <span class="s5">if </span><span class="s1">(rightFixedBodyWrapper) rightFixedBodyWrapper.scrollTop = scrollTop;</span>
        <span class="s5">const </span><span class="s1">maxScrollLeftPosition = scrollWidth - offsetWidth - </span><span class="s4">1</span><span class="s1">;</span>
        <span class="s5">if </span><span class="s1">(scrollLeft &gt;= maxScrollLeftPosition) {</span>
          <span class="s5">this</span><span class="s1">.scrollPosition = </span><span class="s3">'right'</span><span class="s1">;</span>
        <span class="s1">} </span><span class="s5">else if </span><span class="s1">(scrollLeft === </span><span class="s4">0</span><span class="s1">) {</span>
          <span class="s5">this</span><span class="s1">.scrollPosition = </span><span class="s3">'left'</span><span class="s1">;</span>
        <span class="s1">} </span><span class="s5">else </span><span class="s1">{</span>
          <span class="s5">this</span><span class="s1">.scrollPosition = </span><span class="s3">'middle'</span><span class="s1">;</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">throttleSyncPostion: throttle(</span><span class="s4">16</span><span class="s1">, </span><span class="s5">function</span><span class="s1">() {</span>
        <span class="s5">this</span><span class="s1">.syncPostion();</span>
      <span class="s1">}),</span>

      <span class="s1">onScroll(evt) {</span>
        <span class="s5">let </span><span class="s1">raf = window.requestAnimationFrame;</span>
        <span class="s5">if </span><span class="s1">(!raf) {</span>
          <span class="s5">this</span><span class="s1">.throttleSyncPostion();</span>
        <span class="s1">} </span><span class="s5">else </span><span class="s1">{</span>
          <span class="s1">raf(</span><span class="s5">this</span><span class="s1">.syncPostion);</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">bindEvents() {</span>
        <span class="s5">this</span><span class="s1">.bodyWrapper.addEventListener(</span><span class="s3">'scroll'</span><span class="s1">, </span><span class="s5">this</span><span class="s1">.onScroll, { passive: </span><span class="s5">true </span><span class="s1">});</span>
        <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.fit) {</span>
          <span class="s1">addResizeListener(</span><span class="s5">this</span><span class="s1">.$el, </span><span class="s5">this</span><span class="s1">.resizeListener);</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">unbindEvents() {</span>
        <span class="s5">this</span><span class="s1">.bodyWrapper.removeEventListener(</span><span class="s3">'scroll'</span><span class="s1">, </span><span class="s5">this</span><span class="s1">.onScroll, { passive: </span><span class="s5">true </span><span class="s1">});</span>
        <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.fit) {</span>
          <span class="s1">removeResizeListener(</span><span class="s5">this</span><span class="s1">.$el, </span><span class="s5">this</span><span class="s1">.resizeListener);</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">resizeListener() {</span>
        <span class="s5">if </span><span class="s1">(!</span><span class="s5">this</span><span class="s1">.$ready) </span><span class="s5">return</span><span class="s1">;</span>
        <span class="s5">let </span><span class="s1">shouldUpdateLayout = </span><span class="s5">false</span><span class="s1">;</span>
        <span class="s5">const </span><span class="s1">el = </span><span class="s5">this</span><span class="s1">.$el;</span>
        <span class="s5">const </span><span class="s1">{ width: oldWidth, height: oldHeight } = </span><span class="s5">this</span><span class="s1">.resizeState;</span>

        <span class="s5">const </span><span class="s1">width = el.offsetWidth;</span>
        <span class="s5">if </span><span class="s1">(oldWidth !== width) {</span>
          <span class="s1">shouldUpdateLayout = </span><span class="s5">true</span><span class="s1">;</span>
        <span class="s1">}</span>

        <span class="s5">const </span><span class="s1">height = el.offsetHeight;</span>
        <span class="s5">if </span><span class="s1">((</span><span class="s5">this</span><span class="s1">.height || </span><span class="s5">this</span><span class="s1">.shouldUpdateHeight) &amp;&amp; oldHeight !== height) {</span>
          <span class="s1">shouldUpdateLayout = </span><span class="s5">true</span><span class="s1">;</span>
        <span class="s1">}</span>

        <span class="s5">if </span><span class="s1">(shouldUpdateLayout) {</span>
          <span class="s5">this</span><span class="s1">.resizeState.width = width;</span>
          <span class="s5">this</span><span class="s1">.resizeState.height = height;</span>
          <span class="s5">this</span><span class="s1">.doLayout();</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">doLayout() {</span>
        <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.shouldUpdateHeight) {</span>
          <span class="s5">this</span><span class="s1">.layout.updateElsHeight();</span>
        <span class="s1">}</span>
        <span class="s5">this</span><span class="s1">.layout.updateColumnsWidth();</span>
      <span class="s1">},</span>

      <span class="s1">sort(prop, order) {</span>
        <span class="s5">this</span><span class="s1">.store.commit(</span><span class="s3">'sort'</span><span class="s1">, { prop, order });</span>
      <span class="s1">},</span>

      <span class="s1">toggleAllSelection() {</span>
        <span class="s5">this</span><span class="s1">.store.commit(</span><span class="s3">'toggleAllSelection'</span><span class="s1">);</span>
      <span class="s1">}</span>

    <span class="s1">},</span>

    <span class="s1">computed: {</span>
      <span class="s1">tableSize() {</span>
        <span class="s5">return this</span><span class="s1">.size || (</span><span class="s5">this</span><span class="s1">.$ELEMENT || {}).size;</span>
      <span class="s1">},</span>

      <span class="s1">bodyWrapper() {</span>
        <span class="s5">return this</span><span class="s1">.$refs.bodyWrapper;</span>
      <span class="s1">},</span>

      <span class="s1">shouldUpdateHeight() {</span>
        <span class="s5">return this</span><span class="s1">.height ||</span>
          <span class="s5">this</span><span class="s1">.maxHeight ||</span>
          <span class="s5">this</span><span class="s1">.fixedColumns.length &gt; </span><span class="s4">0 </span><span class="s1">||</span>
          <span class="s5">this</span><span class="s1">.rightFixedColumns.length &gt; </span><span class="s4">0</span><span class="s1">;</span>
      <span class="s1">},</span>

      <span class="s1">bodyWidth() {</span>
        <span class="s5">const </span><span class="s1">{ bodyWidth, scrollY, gutterWidth } = </span><span class="s5">this</span><span class="s1">.layout;</span>
        <span class="s5">return </span><span class="s1">bodyWidth ? bodyWidth - (scrollY ? gutterWidth : </span><span class="s4">0</span><span class="s1">) + </span><span class="s3">'px' </span><span class="s1">: </span><span class="s3">''</span><span class="s1">;</span>
      <span class="s1">},</span>

      <span class="s1">bodyHeight() {</span>
        <span class="s5">const </span><span class="s1">{ headerHeight = </span><span class="s4">0</span><span class="s1">, bodyHeight, footerHeight = </span><span class="s4">0</span><span class="s1">} = </span><span class="s5">this</span><span class="s1">.layout;</span>
        <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.height) {</span>
          <span class="s5">return </span><span class="s1">{</span>
            <span class="s1">height: bodyHeight ? bodyHeight + </span><span class="s3">'px' </span><span class="s1">: </span><span class="s3">''</span>
          <span class="s1">};</span>
        <span class="s1">} </span><span class="s5">else if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.maxHeight) {</span>
          <span class="s5">const </span><span class="s1">maxHeight = parseHeight(</span><span class="s5">this</span><span class="s1">.maxHeight);</span>
          <span class="s5">if </span><span class="s1">(</span><span class="s5">typeof </span><span class="s1">maxHeight === </span><span class="s3">'number'</span><span class="s1">) {</span>
            <span class="s5">return </span><span class="s1">{</span>
              <span class="s3">'max-height'</span><span class="s1">: (maxHeight - footerHeight - (</span><span class="s5">this</span><span class="s1">.showHeader ? headerHeight : </span><span class="s4">0</span><span class="s1">)) + </span><span class="s3">'px'</span>
            <span class="s1">};</span>
          <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s5">return </span><span class="s1">{};</span>
      <span class="s1">},</span>

      <span class="s1">fixedBodyHeight() {</span>
        <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.height) {</span>
          <span class="s5">return </span><span class="s1">{</span>
            <span class="s1">height: </span><span class="s5">this</span><span class="s1">.layout.fixedBodyHeight ? </span><span class="s5">this</span><span class="s1">.layout.fixedBodyHeight + </span><span class="s3">'px' </span><span class="s1">: </span><span class="s3">''</span>
          <span class="s1">};</span>
        <span class="s1">} </span><span class="s5">else if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.maxHeight) {</span>
          <span class="s5">let </span><span class="s1">maxHeight = parseHeight(</span><span class="s5">this</span><span class="s1">.maxHeight);</span>
          <span class="s5">if </span><span class="s1">(</span><span class="s5">typeof </span><span class="s1">maxHeight === </span><span class="s3">'number'</span><span class="s1">) {</span>
            <span class="s1">maxHeight = </span><span class="s5">this</span><span class="s1">.layout.scrollX ? maxHeight - </span><span class="s5">this</span><span class="s1">.layout.gutterWidth : maxHeight;</span>
            <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.showHeader) {</span>
              <span class="s1">maxHeight -= </span><span class="s5">this</span><span class="s1">.layout.headerHeight;</span>
            <span class="s1">}</span>
            <span class="s1">maxHeight -= </span><span class="s5">this</span><span class="s1">.layout.footerHeight;</span>
            <span class="s5">return </span><span class="s1">{</span>
              <span class="s3">'max-height'</span><span class="s1">: maxHeight + </span><span class="s3">'px'</span>
            <span class="s1">};</span>
          <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s5">return </span><span class="s1">{};</span>
      <span class="s1">},</span>

      <span class="s1">fixedHeight() {</span>
        <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.maxHeight) {</span>
          <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.showSummary) {</span>
            <span class="s5">return </span><span class="s1">{</span>
              <span class="s1">bottom: </span><span class="s4">0</span>
            <span class="s1">};</span>
          <span class="s1">}</span>
          <span class="s5">return </span><span class="s1">{</span>
            <span class="s1">bottom: (</span><span class="s5">this</span><span class="s1">.layout.scrollX &amp;&amp; </span><span class="s5">this</span><span class="s1">.data.length) ? </span><span class="s5">this</span><span class="s1">.layout.gutterWidth + </span><span class="s3">'px' </span><span class="s1">: </span><span class="s3">''</span>
          <span class="s1">};</span>
        <span class="s1">} </span><span class="s5">else </span><span class="s1">{</span>
          <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.showSummary) {</span>
            <span class="s5">return </span><span class="s1">{</span>
              <span class="s1">height: </span><span class="s5">this</span><span class="s1">.layout.tableHeight ? </span><span class="s5">this</span><span class="s1">.layout.tableHeight + </span><span class="s3">'px' </span><span class="s1">: </span><span class="s3">''</span>
            <span class="s1">};</span>
          <span class="s1">}</span>
          <span class="s5">return </span><span class="s1">{</span>
            <span class="s1">height: </span><span class="s5">this</span><span class="s1">.layout.viewportHeight ? </span><span class="s5">this</span><span class="s1">.layout.viewportHeight + </span><span class="s3">'px' </span><span class="s1">: </span><span class="s3">''</span>
          <span class="s1">};</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">emptyBlockStyle() {</span>
        <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.data &amp;&amp; </span><span class="s5">this</span><span class="s1">.data.length) </span><span class="s5">return null</span><span class="s1">;</span>
        <span class="s5">let </span><span class="s1">height = </span><span class="s3">'100%'</span><span class="s1">;</span>
        <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.layout.appendHeight) {</span>
          <span class="s1">height = </span><span class="s3">`calc(100% - </span><span class="s1">${</span><span class="s5">this</span><span class="s1">.layout.appendHeight}</span><span class="s3">px)`</span><span class="s1">;</span>
        <span class="s1">}</span>
        <span class="s5">return </span><span class="s1">{</span>
          <span class="s1">width: </span><span class="s5">this</span><span class="s1">.bodyWidth,</span>
          <span class="s1">height</span>
        <span class="s1">};</span>
      <span class="s1">},</span>

      <span class="s1">...mapStates({</span>
        <span class="s1">selection: </span><span class="s3">'selection'</span><span class="s1">,</span>
        <span class="s1">columns: </span><span class="s3">'columns'</span><span class="s1">,</span>
        <span class="s1">tableData: </span><span class="s3">'data'</span><span class="s1">,</span>
        <span class="s1">fixedColumns: </span><span class="s3">'fixedColumns'</span><span class="s1">,</span>
        <span class="s1">rightFixedColumns: </span><span class="s3">'rightFixedColumns'</span>
      <span class="s1">})</span>
    <span class="s1">},</span>

    <span class="s1">watch: {</span>
      <span class="s1">height: {</span>
        <span class="s1">immediate: </span><span class="s5">true</span><span class="s1">,</span>
        <span class="s1">handler(value) {</span>
          <span class="s5">this</span><span class="s1">.layout.setHeight(value);</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">maxHeight: {</span>
        <span class="s1">immediate: </span><span class="s5">true</span><span class="s1">,</span>
        <span class="s1">handler(value) {</span>
          <span class="s5">this</span><span class="s1">.layout.setMaxHeight(value);</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">currentRowKey: {</span>
        <span class="s1">immediate: </span><span class="s5">true</span><span class="s1">,</span>
        <span class="s1">handler(value) {</span>
          <span class="s5">if </span><span class="s1">(!</span><span class="s5">this</span><span class="s1">.rowKey) </span><span class="s5">return</span><span class="s1">;</span>
          <span class="s5">this</span><span class="s1">.store.setCurrentRowKey(value);</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">data: {</span>
        <span class="s1">immediate: </span><span class="s5">true</span><span class="s1">,</span>
        <span class="s1">handler(value) {</span>
          <span class="s5">this</span><span class="s1">.store.commit(</span><span class="s3">'setData'</span><span class="s1">, value);</span>
        <span class="s1">}</span>
      <span class="s1">},</span>

      <span class="s1">expandRowKeys: {</span>
        <span class="s1">immediate: </span><span class="s5">true</span><span class="s1">,</span>
        <span class="s1">handler(newVal) {</span>
          <span class="s5">if </span><span class="s1">(newVal) {</span>
            <span class="s5">this</span><span class="s1">.store.setExpandRowKeysAdapter(newVal);</span>
          <span class="s1">}</span>
        <span class="s1">}</span>
      <span class="s1">}</span>
    <span class="s1">},</span>

    <span class="s1">created() {</span>
      <span class="s5">this</span><span class="s1">.tableId = </span><span class="s3">'el-table_' </span><span class="s1">+ tableIdSeed++;</span>
      <span class="s5">this</span><span class="s1">.debouncedUpdateLayout = debounce(</span><span class="s4">50</span><span class="s1">, () =&gt; </span><span class="s5">this</span><span class="s1">.doLayout());</span>
    <span class="s1">},</span>

    <span class="s1">mounted() {</span>
      <span class="s5">this</span><span class="s1">.bindEvents();</span>
      <span class="s5">this</span><span class="s1">.store.updateColumns();</span>
      <span class="s5">this</span><span class="s1">.doLayout();</span>

      <span class="s5">this</span><span class="s1">.resizeState = {</span>
        <span class="s1">width: </span><span class="s5">this</span><span class="s1">.$el.offsetWidth,</span>
        <span class="s1">height: </span><span class="s5">this</span><span class="s1">.$el.offsetHeight</span>
      <span class="s1">};</span>

      <span class="s6">// init filters</span>
      <span class="s5">this</span><span class="s1">.store.states.columns.forEach(column =&gt; {</span>
        <span class="s5">if </span><span class="s1">(column.filteredValue &amp;&amp; column.filteredValue.length) {</span>
          <span class="s5">this</span><span class="s1">.store.commit(</span><span class="s3">'filterChange'</span><span class="s1">, {</span>
            <span class="s1">column,</span>
            <span class="s1">values: column.filteredValue,</span>
            <span class="s1">silent: </span><span class="s5">true</span>
          <span class="s1">});</span>
        <span class="s1">}</span>
      <span class="s1">});</span>

      <span class="s5">this</span><span class="s1">.$ready = </span><span class="s5">true</span><span class="s1">;</span>
    <span class="s1">},</span>

    <span class="s1">destroyed() {</span>
      <span class="s5">this</span><span class="s1">.unbindEvents();</span>
    <span class="s1">},</span>

    <span class="s1">data() {</span>
      <span class="s5">const </span><span class="s1">{ hasChildren = </span><span class="s3">'hasChildren'</span><span class="s1">, children = </span><span class="s3">'children' </span><span class="s1">} = </span><span class="s5">this</span><span class="s1">.treeProps;</span>
      <span class="s5">this</span><span class="s1">.store = createStore(</span><span class="s5">this</span><span class="s1">, {</span>
        <span class="s1">rowKey: </span><span class="s5">this</span><span class="s1">.rowKey,</span>
        <span class="s1">defaultExpandAll: </span><span class="s5">this</span><span class="s1">.defaultExpandAll,</span>
        <span class="s1">selectOnIndeterminate: </span><span class="s5">this</span><span class="s1">.selectOnIndeterminate,</span>
        <span class="s6">// TreeTable 的相关配置</span>
        <span class="s1">indent: </span><span class="s5">this</span><span class="s1">.indent,</span>
        <span class="s1">lazy: </span><span class="s5">this</span><span class="s1">.lazy,</span>
        <span class="s1">lazyColumnIdentifier: hasChildren,</span>
        <span class="s1">childrenColumnName: children</span>
      <span class="s1">});</span>
      <span class="s5">const </span><span class="s1">layout = </span><span class="s5">new </span><span class="s1">TableLayout({</span>
        <span class="s1">store: </span><span class="s5">this</span><span class="s1">.store,</span>
        <span class="s1">table: </span><span class="s5">this</span><span class="s1">,</span>
        <span class="s1">fit: </span><span class="s5">this</span><span class="s1">.fit,</span>
        <span class="s1">showHeader: </span><span class="s5">this</span><span class="s1">.showHeader</span>
      <span class="s1">});</span>
      <span class="s5">return </span><span class="s1">{</span>
        <span class="s1">layout,</span>
        <span class="s1">isHidden: </span><span class="s5">false</span><span class="s1">,</span>
        <span class="s1">renderExpanded: </span><span class="s5">null</span><span class="s1">,</span>
        <span class="s1">resizeProxyVisible: </span><span class="s5">false</span><span class="s1">,</span>
        <span class="s1">resizeState: {</span>
          <span class="s1">width: </span><span class="s5">null</span><span class="s1">,</span>
          <span class="s1">height: </span><span class="s5">null</span>
        <span class="s1">},</span>
        <span class="s6">// 是否拥有多级表头</span>
        <span class="s1">isGroup: </span><span class="s5">false</span><span class="s1">,</span>
        <span class="s1">scrollPosition: </span><span class="s3">'left'</span>
      <span class="s1">};</span>
    <span class="s1">}</span>
  <span class="s1">};</span>
<span class="s0">&lt;/script&gt;</span>
</pre>
</body>
</html>
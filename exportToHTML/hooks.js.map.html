<html>
<head>
<title>hooks.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
hooks.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;commonJSHooksKey&quot;</span><span class="s0">,</span><span class="s1">&quot;defineCommonJSHook&quot;</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">,</span><span class="s1">&quot;hook&quot;</span><span class="s0">,</span><span class="s1">&quot;hooks&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;set&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;findMap&quot;</span><span class="s0">,</span><span class="s1">&quot;arr&quot;</span><span class="s0">,</span><span class="s1">&quot;cb&quot;</span><span class="s0">,</span><span class="s1">&quot;el&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;makeInvokers&quot;</span><span class="s0">,</span><span class="s1">&quot;getWrapperPayload&quot;</span><span class="s0">,</span><span class="s1">&quot;args&quot;</span><span class="s0">,</span><span class="s1">&quot;wrapReference&quot;</span><span class="s0">,</span><span class="s1">&quot;buildRequireWrapper&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../src/hooks.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { types as t, File } from </span><span class="s3">\&quot;</span><span class="s1">@babel/core</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import type { isSideEffectImport } from </span><span class="s3">\&quot;</span><span class="s1">@babel/helper-module-transforms</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">const commonJSHooksKey =</span><span class="s3">\n  \&quot;</span><span class="s1">@babel/plugin-transform-modules-commonjs/customWrapperPlugin</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">type SourceMetadata = Parameters&lt;typeof isSideEffectImport&gt;[0];</span><span class="s3">\n\n</span><span class="s1">// A hook exposes a set of function that can customize how `require()` calls and</span><span class="s3">\n</span><span class="s1">// references to the imported bindings are handled. These functions can either</span><span class="s3">\n</span><span class="s1">// return a result, or return `null` to delegate to the next hook.</span><span class="s3">\n</span><span class="s1">export interface CommonJSHook {</span><span class="s3">\n  </span><span class="s1">name: string;</span><span class="s3">\n  </span><span class="s1">version: string;</span><span class="s3">\n  </span><span class="s1">wrapReference?(ref: t.Expression, payload: unknown): t.CallExpression | null;</span><span class="s3">\n  </span><span class="s1">// Optionally wrap a `require` call. If this function returns `false`, the</span><span class="s3">\n  </span><span class="s1">// `require` call is removed from the generated code.</span><span class="s3">\n  </span><span class="s1">buildRequireWrapper?(</span><span class="s3">\n    </span><span class="s1">name: string,</span><span class="s3">\n    </span><span class="s1">init: t.Expression,</span><span class="s3">\n    </span><span class="s1">payload: unknown,</span><span class="s3">\n    </span><span class="s1">referenced: boolean,</span><span class="s3">\n  </span><span class="s1">): t.Statement | false | null;</span><span class="s3">\n  </span><span class="s1">getWrapperPayload?(</span><span class="s3">\n    </span><span class="s1">source: string,</span><span class="s3">\n    </span><span class="s1">metadata: SourceMetadata,</span><span class="s3">\n    </span><span class="s1">importNodes: t.Node[],</span><span class="s3">\n  </span><span class="s1">): string | null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function defineCommonJSHook(file: File, hook: CommonJSHook) {</span><span class="s3">\n  </span><span class="s1">let hooks = file.get(commonJSHooksKey);</span><span class="s3">\n  </span><span class="s1">if (!hooks) file.set(commonJSHooksKey, (hooks = []));</span><span class="s3">\n  </span><span class="s1">hooks.push(hook);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function findMap&lt;T, U&gt;(arr: T[] | null, cb: (el: T) =&gt; U): U | null {</span><span class="s3">\n  </span><span class="s1">if (arr) {</span><span class="s3">\n    </span><span class="s1">for (const el of arr) {</span><span class="s3">\n      </span><span class="s1">const res = cb(el);</span><span class="s3">\n      </span><span class="s1">if (res != null) return res;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function makeInvokers(</span><span class="s3">\n  </span><span class="s1">file: File,</span><span class="s3">\n</span><span class="s1">): Pick&lt;</span><span class="s3">\n  </span><span class="s1">CommonJSHook,</span><span class="s3">\n  \&quot;</span><span class="s1">wrapReference</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">getWrapperPayload</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">buildRequireWrapper</span><span class="s3">\&quot;\n</span><span class="s1">&gt; {</span><span class="s3">\n  </span><span class="s1">const hooks: CommonJSHook[] | null = file.get(commonJSHooksKey);</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">getWrapperPayload(...args) {</span><span class="s3">\n      </span><span class="s1">return findMap(hooks, hook =&gt; hook.getWrapperPayload?.(...args));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">wrapReference(...args) {</span><span class="s3">\n      </span><span class="s1">return findMap(hooks, hook =&gt; hook.wrapReference?.(...args));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">buildRequireWrapper(...args) {</span><span class="s3">\n      </span><span class="s1">return findMap(hooks, hook =&gt; hook.buildRequireWrapper?.(...args));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;AAGA,MAAMA,gBAAgB,GACpB,8DAA8D;AA0BzD,SAASC,kBAAkBA,CAACC,IAAU,EAAEC,IAAkB,EAAE;EACjE,IAAIC,KAAK,GAAGF,IAAI,CAACG,GAAG,CAACL,gBAAgB,CAAC;EACtC,IAAI,CAACI,KAAK,EAAEF,IAAI,CAACI,GAAG,CAACN,gBAAgB,EAAGI,KAAK,GAAG,EAAG,CAAC;EACpDA,KAAK,CAACG,IAAI,CAACJ,IAAI,CAAC;AAClB;AAEA,SAASK,OAAOA,CAAOC,GAAe,EAAEC,EAAgB,EAAY;EAClE,IAAID,GAAG,EAAE;IACP,KAAK,MAAME,EAAE,IAAIF,GAAG,EAAE;MACpB,MAAMG,GAAG,GAAGF,EAAE,CAACC,EAAE,CAAC;MAClB,IAAIC,GAAG,IAAI,IAAI,EAAE,OAAOA,GAAG;IAC7B;EACF;AACF;AAEO,SAASC,YAAYA,CAC1BX,IAAU,EAIV;EACA,MAAME,KAA4B,GAAGF,IAAI,CAACG,GAAG,CAACL,gBAAgB,CAAC;EAE/D,OAAO;IACLc,iBAAiBA,CAAC,GAAGC,IAAI,EAAE;MACzB,OAAOP,OAAO,CAACJ,KAAK,EAAED,IAAI,IAAIA,IAAI,CAACW,iBAAiB,oBAAtBX,IAAI,CAACW,iBAAiB,CAAG,GAAGC,IAAI,CAAC,CAAC;IAClE,CAAC;IACDC,aAAaA,CAAC,GAAGD,IAAI,EAAE;MACrB,OAAOP,OAAO,CAACJ,KAAK,EAAED,IAAI,IAAIA,IAAI,CAACa,aAAa,oBAAlBb,IAAI,CAACa,aAAa,CAAG,GAAGD,IAAI,CAAC,CAAC;IAC9D,CAAC;IACDE,mBAAmBA,CAAC,GAAGF,IAAI,EAAE;MAC3B,OAAOP,OAAO,CAACJ,KAAK,EAAED,IAAI,IAAIA,IAAI,CAACc,mBAAmB,oBAAxBd,IAAI,CAACc,mBAAmB,CAAG,GAAGF,IAAI,CAAC,CAAC;IACpE;EACF,CAAC;AACH&quot;</span><span class="s0">}</span></pre>
</body>
</html>
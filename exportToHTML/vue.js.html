<html>
<head>
<title>vue.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #7a7e85;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #cf8e6d;}
.s4 { color: #6aab73;}
.s5 { color: #5f826b; font-style: italic;}
.s6 { color: #2aacb8;}
.s7 { color: #42c3d4;}
.s8 { color: #67a37c; font-style: italic;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
vue.js</font>
</center></td></tr></table>
<pre><span class="s0">/*! 
 * Vue.js v2.7.14 
 * (c) 2014-2022 Evan You 
 * Released under the MIT License. 
 */</span>
<span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">global</span><span class="s2">, </span><span class="s1">factory</span><span class="s2">) {</span>
  <span class="s3">typeof </span><span class="s1">exports </span><span class="s2">=== </span><span class="s4">'object' </span><span class="s2">&amp;&amp; </span><span class="s3">typeof </span><span class="s1">module </span><span class="s2">!== </span><span class="s4">'undefined' </span><span class="s2">? </span><span class="s1">module</span><span class="s2">.</span><span class="s1">exports </span><span class="s2">= </span><span class="s1">factory</span><span class="s2">() :</span>
  <span class="s3">typeof </span><span class="s1">define </span><span class="s2">=== </span><span class="s4">'function' </span><span class="s2">&amp;&amp; </span><span class="s1">define</span><span class="s2">.</span><span class="s1">amd </span><span class="s2">? </span><span class="s1">define</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">) :</span>
  <span class="s2">(</span><span class="s1">global </span><span class="s2">= </span><span class="s3">typeof </span><span class="s1">globalThis </span><span class="s2">!== </span><span class="s4">'undefined' </span><span class="s2">? </span><span class="s1">globalThis </span><span class="s2">: </span><span class="s1">global </span><span class="s2">|| </span><span class="s1">self</span><span class="s2">, </span><span class="s1">global</span><span class="s2">.</span><span class="s1">Vue </span><span class="s2">= </span><span class="s1">factory</span><span class="s2">());</span>
<span class="s2">})(</span><span class="s3">this</span><span class="s2">, (</span><span class="s3">function </span><span class="s2">() { </span><span class="s4">'use strict'</span><span class="s2">;</span>

  <span class="s3">var </span><span class="s1">emptyObject </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">freeze</span><span class="s2">({});</span>
  <span class="s3">var </span><span class="s1">isArray </span><span class="s2">= </span><span class="s1">Array</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">;</span>
  <span class="s0">// These helpers produce better VM code in JS engines due to their</span>
  <span class="s0">// explicitness and function inlining.</span>
  <span class="s3">function </span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">v</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">v </span><span class="s2">=== </span><span class="s1">undefined </span><span class="s2">|| </span><span class="s1">v </span><span class="s2">=== </span><span class="s3">null</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">v</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">v </span><span class="s2">!== </span><span class="s1">undefined </span><span class="s2">&amp;&amp; </span><span class="s1">v </span><span class="s2">!== </span><span class="s3">null</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">v</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">v </span><span class="s2">=== </span><span class="s3">true</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isFalse</span><span class="s2">(</span><span class="s1">v</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">v </span><span class="s2">=== </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Check if value is primitive.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">isPrimitive</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">value </span><span class="s2">=== </span><span class="s4">'string' </span><span class="s2">||</span>
          <span class="s3">typeof </span><span class="s1">value </span><span class="s2">=== </span><span class="s4">'number' </span><span class="s2">||</span>
          <span class="s0">// $flow-disable-line</span>
          <span class="s3">typeof </span><span class="s1">value </span><span class="s2">=== </span><span class="s4">'symbol' </span><span class="s2">||</span>
          <span class="s3">typeof </span><span class="s1">value </span><span class="s2">=== </span><span class="s4">'boolean'</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">return typeof </span><span class="s1">value </span><span class="s2">=== </span><span class="s4">'function'</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Quick object check - this is primarily used to tell</span>
   <span class="s5">* objects from primitive values when we know the value</span>
   <span class="s5">* is a JSON-compliant type.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">obj </span><span class="s2">!== </span><span class="s3">null </span><span class="s2">&amp;&amp; </span><span class="s3">typeof </span><span class="s1">obj </span><span class="s2">=== </span><span class="s4">'object'</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Get the raw type string of a value, e.g., [object Object].</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">_toString </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">toRawType</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">_toString</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">value</span><span class="s2">).</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">8</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Strict object type check. Only returns true</span>
   <span class="s5">* for plain JavaScript objects.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">_toString</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">) === </span><span class="s4">'[object Object]'</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isRegExp</span><span class="s2">(</span><span class="s1">v</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">_toString</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">v</span><span class="s2">) === </span><span class="s4">'[object RegExp]'</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Check if val is a valid array index.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">isValidArrayIndex</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">n </span><span class="s2">= </span><span class="s1">parseFloat</span><span class="s2">(</span><span class="s1">String</span><span class="s2">(</span><span class="s1">val</span><span class="s2">));</span>
      <span class="s3">return </span><span class="s1">n </span><span class="s2">&gt;= </span><span class="s6">0 </span><span class="s2">&amp;&amp; </span><span class="s1">Math</span><span class="s2">.</span><span class="s1">floor</span><span class="s2">(</span><span class="s1">n</span><span class="s2">) === </span><span class="s1">n </span><span class="s2">&amp;&amp; </span><span class="s1">isFinite</span><span class="s2">(</span><span class="s1">val</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isPromise</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) &amp;&amp;</span>
          <span class="s3">typeof </span><span class="s1">val</span><span class="s2">.</span><span class="s1">then </span><span class="s2">=== </span><span class="s4">'function' </span><span class="s2">&amp;&amp;</span>
          <span class="s3">typeof </span><span class="s1">val</span><span class="s2">.</span><span class="s1">catch </span><span class="s2">=== </span><span class="s4">'function'</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Convert a value to a string that is actually rendered.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">toString</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">val </span><span class="s2">== </span><span class="s3">null</span>
          <span class="s2">? </span><span class="s4">''</span>
          <span class="s2">: </span><span class="s1">Array</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) || (</span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) &amp;&amp; </span><span class="s1">val</span><span class="s2">.</span><span class="s1">toString </span><span class="s2">=== </span><span class="s1">_toString</span><span class="s2">)</span>
              <span class="s2">? </span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">val</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s6">2</span><span class="s2">)</span>
              <span class="s2">: </span><span class="s1">String</span><span class="s2">(</span><span class="s1">val</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Convert an input value to a number for persistence.</span>
   <span class="s5">* If the conversion fails, return original string.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">toNumber</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">n </span><span class="s2">= </span><span class="s1">parseFloat</span><span class="s2">(</span><span class="s1">val</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">isNaN</span><span class="s2">(</span><span class="s1">n</span><span class="s2">) ? </span><span class="s1">val </span><span class="s2">: </span><span class="s1">n</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Make a map and return a function for checking if a key</span>
   <span class="s5">* is in that map.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s1">str</span><span class="s2">, </span><span class="s1">expectsLowerCase</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">map </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">list </span><span class="s2">= </span><span class="s1">str</span><span class="s2">.</span><span class="s1">split</span><span class="s2">(</span><span class="s4">','</span><span class="s2">);</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">list</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">map</span><span class="s2">[</span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]] = </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">expectsLowerCase </span><span class="s2">? </span><span class="s3">function </span><span class="s2">(</span><span class="s1">val</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">map</span><span class="s2">[</span><span class="s1">val</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">()]; } : </span><span class="s3">function </span><span class="s2">(</span><span class="s1">val</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">map</span><span class="s2">[</span><span class="s1">val</span><span class="s2">]; };</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Check if a tag is a built-in tag.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">isBuiltInTag </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'slot,component'</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
  <span class="s5">/**</span>
   <span class="s5">* Check if an attribute is a reserved attribute.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">isReservedAttribute </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'key,ref,slot,slot-scope,is'</span><span class="s2">);</span>
  <span class="s5">/**</span>
   <span class="s5">* Remove an item from an array.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">remove$2</span><span class="s2">(</span><span class="s1">arr</span><span class="s2">, </span><span class="s1">item</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">len </span><span class="s2">= </span><span class="s1">arr</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">len</span><span class="s2">) {</span>
          <span class="s0">// fast path for the only / last item</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">item </span><span class="s2">=== </span><span class="s1">arr</span><span class="s2">[</span><span class="s1">len </span><span class="s2">- </span><span class="s6">1</span><span class="s2">]) {</span>
              <span class="s1">arr</span><span class="s2">.</span><span class="s1">length </span><span class="s2">= </span><span class="s1">len </span><span class="s2">- </span><span class="s6">1</span><span class="s2">;</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">index </span><span class="s2">= </span><span class="s1">arr</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">item</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">index </span><span class="s2">&gt; -</span><span class="s6">1</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">arr</span><span class="s2">.</span><span class="s1">splice</span><span class="s2">(</span><span class="s1">index</span><span class="s2">, </span><span class="s6">1</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Check whether an object has the property.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">hasOwnProperty </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">hasOwnProperty</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">hasOwnProperty</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Create a cached version of a pure function.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">cached</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">cache </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
      <span class="s3">return function </span><span class="s1">cachedFn</span><span class="s2">(</span><span class="s1">str</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">hit </span><span class="s2">= </span><span class="s1">cache</span><span class="s2">[</span><span class="s1">str</span><span class="s2">];</span>
          <span class="s3">return </span><span class="s1">hit </span><span class="s2">|| (</span><span class="s1">cache</span><span class="s2">[</span><span class="s1">str</span><span class="s2">] = </span><span class="s1">fn</span><span class="s2">(</span><span class="s1">str</span><span class="s2">));</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Camelize a hyphen-delimited string.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">camelizeRE </span><span class="s2">= </span><span class="s7">/-(\w)/g</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">camelize </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">str</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">str</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">camelizeRE</span><span class="s2">, </span><span class="s3">function </span><span class="s2">(</span><span class="s1">_</span><span class="s2">, </span><span class="s1">c</span><span class="s2">) { </span><span class="s3">return </span><span class="s2">(</span><span class="s1">c </span><span class="s2">? </span><span class="s1">c</span><span class="s2">.</span><span class="s1">toUpperCase</span><span class="s2">() : </span><span class="s4">''</span><span class="s2">); });</span>
  <span class="s2">});</span>
  <span class="s5">/**</span>
   <span class="s5">* Capitalize a string.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">capitalize </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">str</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">str</span><span class="s2">.</span><span class="s1">charAt</span><span class="s2">(</span><span class="s6">0</span><span class="s2">).</span><span class="s1">toUpperCase</span><span class="s2">() + </span><span class="s1">str</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">1</span><span class="s2">);</span>
  <span class="s2">});</span>
  <span class="s5">/**</span>
   <span class="s5">* Hyphenate a camelCase string.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">hyphenateRE </span><span class="s2">= </span><span class="s7">/\B([A-Z])/g</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">hyphenate </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">str</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">str</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">hyphenateRE</span><span class="s2">, </span><span class="s4">'-$1'</span><span class="s2">).</span><span class="s1">toLowerCase</span><span class="s2">();</span>
  <span class="s2">});</span>
  <span class="s5">/**</span>
   <span class="s5">* Simple bind polyfill for environments that do not support it,</span>
   <span class="s5">* e.g., PhantomJS 1.x. Technically, we don't need this anymore</span>
   <span class="s5">* since native bind is now performant enough in most browsers.</span>
   <span class="s5">* But removing it would mean breaking code that was able to run in</span>
   <span class="s5">* PhantomJS 1.x, so this must be kept for backward compatibility.</span>
   <span class="s5">*/</span>
  <span class="s0">/* istanbul ignore next */</span>
  <span class="s3">function </span><span class="s1">polyfillBind</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">, </span><span class="s1">ctx</span><span class="s2">) {</span>
      <span class="s3">function </span><span class="s1">boundFn</span><span class="s2">(</span><span class="s1">a</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">l </span><span class="s2">= </span><span class="s1">arguments</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
          <span class="s3">return </span><span class="s1">l</span>
              <span class="s2">? </span><span class="s1">l </span><span class="s2">&gt; </span><span class="s6">1</span>
                  <span class="s2">? </span><span class="s1">fn</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s1">ctx</span><span class="s2">, </span><span class="s1">arguments</span><span class="s2">)</span>
                  <span class="s2">: </span><span class="s1">fn</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">ctx</span><span class="s2">, </span><span class="s1">a</span><span class="s2">)</span>
              <span class="s2">: </span><span class="s1">fn</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">ctx</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s1">boundFn</span><span class="s2">.</span><span class="s1">_length </span><span class="s2">= </span><span class="s1">fn</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s1">boundFn</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">nativeBind</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">, </span><span class="s1">ctx</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">fn</span><span class="s2">.</span><span class="s1">bind</span><span class="s2">(</span><span class="s1">ctx</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s0">// @ts-expect-error bind cannot be `undefined`</span>
  <span class="s3">var </span><span class="s1">bind$1 </span><span class="s2">= </span><span class="s1">Function</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">bind </span><span class="s2">? </span><span class="s1">nativeBind </span><span class="s2">: </span><span class="s1">polyfillBind</span><span class="s2">;</span>
  <span class="s5">/**</span>
   <span class="s5">* Convert an Array-like object to a real Array.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">toArray</span><span class="s2">(</span><span class="s1">list</span><span class="s2">, </span><span class="s1">start</span><span class="s2">) {</span>
      <span class="s1">start </span><span class="s2">= </span><span class="s1">start </span><span class="s2">|| </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s1">list</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s1">start</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">ret </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Array</span><span class="s2">(</span><span class="s1">i</span><span class="s2">);</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">i</span><span class="s2">--) {</span>
          <span class="s1">ret</span><span class="s2">[</span><span class="s1">i</span><span class="s2">] = </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i </span><span class="s2">+ </span><span class="s1">start</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">ret</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Mix properties into target object.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">extend</span><span class="s2">(</span><span class="s1">to</span><span class="s2">, </span><span class="s1">_from</span><span class="s2">) {</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">_from</span><span class="s2">) {</span>
          <span class="s1">to</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">_from</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">to</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Merge an Array of Objects into a single Object.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">toObject</span><span class="s2">(</span><span class="s1">arr</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= {};</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">arr</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">arr</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]) {</span>
              <span class="s1">extend</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s1">arr</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s0">/* eslint-disable no-unused-vars */</span>
  <span class="s5">/**</span>
   <span class="s5">* Perform no operation.</span>
   <span class="s5">* Stubbing args to make Flow happy without leaving useless transpiled code</span>
   <span class="s5">* with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">noop</span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c</span><span class="s2">) { }</span>
  <span class="s5">/**</span>
   <span class="s5">* Always return false.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">no </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c</span><span class="s2">) { </span><span class="s3">return false</span><span class="s2">; };</span>
  <span class="s0">/* eslint-enable no-unused-vars */</span>
  <span class="s5">/**</span>
   <span class="s5">* Return the same value.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">identity </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">_</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">_</span><span class="s2">; };</span>
  <span class="s5">/**</span>
   <span class="s5">* Generate a string containing static keys from compiler modules.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">genStaticKeys$1</span><span class="s2">(</span><span class="s1">modules</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">modules</span>
          <span class="s2">.</span><span class="s1">reduce</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">keys</span><span class="s2">, </span><span class="s1">m</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">keys</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">m</span><span class="s2">.</span><span class="s1">staticKeys </span><span class="s2">|| []);</span>
      <span class="s2">}, [])</span>
          <span class="s2">.</span><span class="s1">join</span><span class="s2">(</span><span class="s4">','</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Check if two values are loosely equal - that is,</span>
   <span class="s5">* if they are plain objects, do they have the same shape?</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">looseEqual</span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">a </span><span class="s2">=== </span><span class="s1">b</span><span class="s2">)</span>
          <span class="s3">return true</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">isObjectA </span><span class="s2">= </span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">a</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">isObjectB </span><span class="s2">= </span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">b</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isObjectA </span><span class="s2">&amp;&amp; </span><span class="s1">isObjectB</span><span class="s2">) {</span>
          <span class="s3">try </span><span class="s2">{</span>
              <span class="s3">var </span><span class="s1">isArrayA </span><span class="s2">= </span><span class="s1">Array</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">a</span><span class="s2">);</span>
              <span class="s3">var </span><span class="s1">isArrayB </span><span class="s2">= </span><span class="s1">Array</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">b</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isArrayA </span><span class="s2">&amp;&amp; </span><span class="s1">isArrayB</span><span class="s2">) {</span>
                  <span class="s3">return </span><span class="s2">(</span><span class="s1">a</span><span class="s2">.</span><span class="s1">length </span><span class="s2">=== </span><span class="s1">b</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&amp;&amp;</span>
                      <span class="s1">a</span><span class="s2">.</span><span class="s1">every</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">e</span><span class="s2">, </span><span class="s1">i</span><span class="s2">) {</span>
                          <span class="s3">return </span><span class="s1">looseEqual</span><span class="s2">(</span><span class="s1">e</span><span class="s2">, </span><span class="s1">b</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
                      <span class="s2">}));</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">a </span><span class="s3">instanceof </span><span class="s1">Date </span><span class="s2">&amp;&amp; </span><span class="s1">b </span><span class="s3">instanceof </span><span class="s1">Date</span><span class="s2">) {</span>
                  <span class="s3">return </span><span class="s1">a</span><span class="s2">.</span><span class="s1">getTime</span><span class="s2">() === </span><span class="s1">b</span><span class="s2">.</span><span class="s1">getTime</span><span class="s2">();</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(!</span><span class="s1">isArrayA </span><span class="s2">&amp;&amp; !</span><span class="s1">isArrayB</span><span class="s2">) {</span>
                  <span class="s3">var </span><span class="s1">keysA </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">a</span><span class="s2">);</span>
                  <span class="s3">var </span><span class="s1">keysB </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">b</span><span class="s2">);</span>
                  <span class="s3">return </span><span class="s2">(</span><span class="s1">keysA</span><span class="s2">.</span><span class="s1">length </span><span class="s2">=== </span><span class="s1">keysB</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&amp;&amp;</span>
                      <span class="s1">keysA</span><span class="s2">.</span><span class="s1">every</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">key</span><span class="s2">) {</span>
                          <span class="s3">return </span><span class="s1">looseEqual</span><span class="s2">(</span><span class="s1">a</span><span class="s2">[</span><span class="s1">key</span><span class="s2">], </span><span class="s1">b</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]);</span>
                      <span class="s2">}));</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s0">/* istanbul ignore next */</span>
                  <span class="s3">return false</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
              <span class="s0">/* istanbul ignore next */</span>
              <span class="s3">return false</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(!</span><span class="s1">isObjectA </span><span class="s2">&amp;&amp; !</span><span class="s1">isObjectB</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">String</span><span class="s2">(</span><span class="s1">a</span><span class="s2">) === </span><span class="s1">String</span><span class="s2">(</span><span class="s1">b</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return false</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Return the first index at which a loosely equal value can be</span>
   <span class="s5">* found in the array (if value is a plain object, the array must</span>
   <span class="s5">* contain an object of the same shape), or -1 if it is not present.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">looseIndexOf</span><span class="s2">(</span><span class="s1">arr</span><span class="s2">, </span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">arr</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">looseEqual</span><span class="s2">(</span><span class="s1">arr</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">val</span><span class="s2">))</span>
              <span class="s3">return </span><span class="s1">i</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s2">-</span><span class="s6">1</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Ensure a function is called only once.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">once</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">called </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">return function </span><span class="s2">() {</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">called</span><span class="s2">) {</span>
              <span class="s1">called </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s1">fn</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s3">this</span><span class="s2">, </span><span class="s1">arguments</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s0">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is#polyfill</span>
  <span class="s3">function </span><span class="s1">hasChanged</span><span class="s2">(</span><span class="s1">x</span><span class="s2">, </span><span class="s1">y</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">x </span><span class="s2">=== </span><span class="s1">y</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">x </span><span class="s2">=== </span><span class="s6">0 </span><span class="s2">&amp;&amp; </span><span class="s6">1 </span><span class="s2">/ </span><span class="s1">x </span><span class="s2">!== </span><span class="s6">1 </span><span class="s2">/ </span><span class="s1">y</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">x </span><span class="s2">=== </span><span class="s1">x </span><span class="s2">|| </span><span class="s1">y </span><span class="s2">=== </span><span class="s1">y</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">SSR_ATTR </span><span class="s2">= </span><span class="s4">'data-server-rendered'</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">ASSET_TYPES </span><span class="s2">= [</span><span class="s4">'component'</span><span class="s2">, </span><span class="s4">'directive'</span><span class="s2">, </span><span class="s4">'filter'</span><span class="s2">];</span>
  <span class="s3">var </span><span class="s1">LIFECYCLE_HOOKS </span><span class="s2">= [</span>
      <span class="s4">'beforeCreate'</span><span class="s2">,</span>
      <span class="s4">'created'</span><span class="s2">,</span>
      <span class="s4">'beforeMount'</span><span class="s2">,</span>
      <span class="s4">'mounted'</span><span class="s2">,</span>
      <span class="s4">'beforeUpdate'</span><span class="s2">,</span>
      <span class="s4">'updated'</span><span class="s2">,</span>
      <span class="s4">'beforeDestroy'</span><span class="s2">,</span>
      <span class="s4">'destroyed'</span><span class="s2">,</span>
      <span class="s4">'activated'</span><span class="s2">,</span>
      <span class="s4">'deactivated'</span><span class="s2">,</span>
      <span class="s4">'errorCaptured'</span><span class="s2">,</span>
      <span class="s4">'serverPrefetch'</span><span class="s2">,</span>
      <span class="s4">'renderTracked'</span><span class="s2">,</span>
      <span class="s4">'renderTriggered'</span>
  <span class="s2">];</span>

  <span class="s3">var </span><span class="s1">config </span><span class="s2">= {</span>
      <span class="s5">/**</span>
       <span class="s5">* Option merge strategies (used in core/util/options)</span>
       <span class="s5">*/</span>
      <span class="s0">// $flow-disable-line</span>
      <span class="s1">optionMergeStrategies</span><span class="s2">: </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">),</span>
      <span class="s5">/**</span>
       <span class="s5">* Whether to suppress warnings.</span>
       <span class="s5">*/</span>
      <span class="s1">silent</span><span class="s2">: </span><span class="s3">false</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Show production mode tip message on boot?</span>
       <span class="s5">*/</span>
      <span class="s1">productionTip</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Whether to enable devtools</span>
       <span class="s5">*/</span>
      <span class="s1">devtools</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Whether to record perf</span>
       <span class="s5">*/</span>
      <span class="s1">performance</span><span class="s2">: </span><span class="s3">false</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Error handler for watcher errors</span>
       <span class="s5">*/</span>
      <span class="s1">errorHandler</span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Warn handler for watcher warns</span>
       <span class="s5">*/</span>
      <span class="s1">warnHandler</span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Ignore certain custom elements</span>
       <span class="s5">*/</span>
      <span class="s1">ignoredElements</span><span class="s2">: [],</span>
      <span class="s5">/**</span>
       <span class="s5">* Custom user key aliases for v-on</span>
       <span class="s5">*/</span>
      <span class="s0">// $flow-disable-line</span>
      <span class="s1">keyCodes</span><span class="s2">: </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">),</span>
      <span class="s5">/**</span>
       <span class="s5">* Check if a tag is reserved so that it cannot be registered as a</span>
       <span class="s5">* component. This is platform-dependent and may be overwritten.</span>
       <span class="s5">*/</span>
      <span class="s1">isReservedTag</span><span class="s2">: </span><span class="s1">no</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Check if an attribute is reserved so that it cannot be used as a component</span>
       <span class="s5">* prop. This is platform-dependent and may be overwritten.</span>
       <span class="s5">*/</span>
      <span class="s1">isReservedAttr</span><span class="s2">: </span><span class="s1">no</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Check if a tag is an unknown element.</span>
       <span class="s5">* Platform-dependent.</span>
       <span class="s5">*/</span>
      <span class="s1">isUnknownElement</span><span class="s2">: </span><span class="s1">no</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Get the namespace of an element</span>
       <span class="s5">*/</span>
      <span class="s1">getTagNamespace</span><span class="s2">: </span><span class="s1">noop</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Parse the real tag name for the specific platform.</span>
       <span class="s5">*/</span>
      <span class="s1">parsePlatformTagName</span><span class="s2">: </span><span class="s1">identity</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Check if an attribute must be bound using property, e.g. value</span>
       <span class="s5">* Platform-dependent.</span>
       <span class="s5">*/</span>
      <span class="s1">mustUseProp</span><span class="s2">: </span><span class="s1">no</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Perform updates asynchronously. Intended to be used by Vue Test Utils</span>
       <span class="s5">* This will significantly reduce performance if set to false.</span>
       <span class="s5">*/</span>
      <span class="s1">async</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
      <span class="s5">/**</span>
       <span class="s5">* Exposed for legacy reasons</span>
       <span class="s5">*/</span>
      <span class="s1">_lifecycleHooks</span><span class="s2">: </span><span class="s1">LIFECYCLE_HOOKS</span>
  <span class="s2">};</span>

  <span class="s5">/**</span>
   <span class="s5">* unicode letters used for parsing html tags, component names and property paths.</span>
   <span class="s5">* using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname</span>
   <span class="s5">* skipping \u10000-\uEFFFF due to it freezing up PhantomJS</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">unicodeRegExp </span><span class="s2">= </span><span class="s7">/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/</span><span class="s2">;</span>
  <span class="s5">/**</span>
   <span class="s5">* Check if a string starts with $ or _</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">isReserved</span><span class="s2">(</span><span class="s1">str</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">c </span><span class="s2">= (</span><span class="s1">str </span><span class="s2">+ </span><span class="s4">''</span><span class="s2">).</span><span class="s1">charCodeAt</span><span class="s2">(</span><span class="s6">0</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">c </span><span class="s2">=== </span><span class="s6">0x24 </span><span class="s2">|| </span><span class="s1">c </span><span class="s2">=== </span><span class="s6">0x5f</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Define a property.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">def</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">val</span><span class="s2">, </span><span class="s1">enumerable</span><span class="s2">) {</span>
      <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, {</span>
          <span class="s1">value</span><span class="s2">: </span><span class="s1">val</span><span class="s2">,</span>
          <span class="s1">enumerable</span><span class="s2">: !!</span><span class="s1">enumerable</span><span class="s2">,</span>
          <span class="s1">writable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
          <span class="s1">configurable</span><span class="s2">: </span><span class="s3">true</span>
      <span class="s2">});</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Parse simple path.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">bailRE </span><span class="s2">= </span><span class="s3">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s4">&quot;[^&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">unicodeRegExp</span><span class="s2">.</span><span class="s1">source</span><span class="s2">, </span><span class="s4">&quot;.$_</span><span class="s3">\\</span><span class="s4">d]&quot;</span><span class="s2">));</span>
  <span class="s3">function </span><span class="s1">parsePath</span><span class="s2">(</span><span class="s1">path</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">bailRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">path</span><span class="s2">)) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">segments </span><span class="s2">= </span><span class="s1">path</span><span class="s2">.</span><span class="s1">split</span><span class="s2">(</span><span class="s4">'.'</span><span class="s2">);</span>
      <span class="s3">return function </span><span class="s2">(</span><span class="s1">obj</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">segments</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">obj</span><span class="s2">)</span>
                  <span class="s3">return</span><span class="s2">;</span>
              <span class="s1">obj </span><span class="s2">= </span><span class="s1">obj</span><span class="s2">[</span><span class="s1">segments</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]];</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">obj</span><span class="s2">;</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s0">// can we use __proto__?</span>
  <span class="s3">var </span><span class="s1">hasProto </span><span class="s2">= </span><span class="s4">'__proto__' </span><span class="s3">in </span><span class="s2">{};</span>
  <span class="s0">// Browser environment sniffing</span>
  <span class="s3">var </span><span class="s1">inBrowser </span><span class="s2">= </span><span class="s3">typeof </span><span class="s1">window </span><span class="s2">!== </span><span class="s4">'undefined'</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">UA </span><span class="s2">= </span><span class="s1">inBrowser </span><span class="s2">&amp;&amp; </span><span class="s1">window</span><span class="s2">.</span><span class="s1">navigator</span><span class="s2">.</span><span class="s1">userAgent</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">();</span>
  <span class="s3">var </span><span class="s1">isIE </span><span class="s2">= </span><span class="s1">UA </span><span class="s2">&amp;&amp; </span><span class="s7">/msie|trident/</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">UA</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">isIE9 </span><span class="s2">= </span><span class="s1">UA </span><span class="s2">&amp;&amp; </span><span class="s1">UA</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'msie 9.0'</span><span class="s2">) &gt; </span><span class="s6">0</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">isEdge </span><span class="s2">= </span><span class="s1">UA </span><span class="s2">&amp;&amp; </span><span class="s1">UA</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'edge/'</span><span class="s2">) &gt; </span><span class="s6">0</span><span class="s2">;</span>
  <span class="s1">UA </span><span class="s2">&amp;&amp; </span><span class="s1">UA</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'android'</span><span class="s2">) &gt; </span><span class="s6">0</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">isIOS </span><span class="s2">= </span><span class="s1">UA </span><span class="s2">&amp;&amp; </span><span class="s7">/iphone|ipad|ipod|ios/</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">UA</span><span class="s2">);</span>
  <span class="s1">UA </span><span class="s2">&amp;&amp; </span><span class="s7">/chrome\/\d+/</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">UA</span><span class="s2">) &amp;&amp; !</span><span class="s1">isEdge</span><span class="s2">;</span>
  <span class="s1">UA </span><span class="s2">&amp;&amp; </span><span class="s7">/phantomjs/</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">UA</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">isFF </span><span class="s2">= </span><span class="s1">UA </span><span class="s2">&amp;&amp; </span><span class="s1">UA</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s7">/firefox\/(\d+)/</span><span class="s2">);</span>
  <span class="s0">// Firefox has a &quot;watch&quot; function on Object.prototype...</span>
  <span class="s0">// @ts-expect-error firebox support</span>
  <span class="s3">var </span><span class="s1">nativeWatch </span><span class="s2">= {}.</span><span class="s1">watch</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">supportsPassive </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s3">if </span><span class="s2">(</span><span class="s1">inBrowser</span><span class="s2">) {</span>
      <span class="s3">try </span><span class="s2">{</span>
          <span class="s3">var </span><span class="s1">opts </span><span class="s2">= {};</span>
          <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">opts</span><span class="s2">, </span><span class="s4">'passive'</span><span class="s2">, {</span>
              <span class="s1">get</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
                  <span class="s0">/* istanbul ignore next */</span>
                  <span class="s1">supportsPassive </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}); </span><span class="s0">// https://github.com/facebook/flow/issues/285</span>
          <span class="s1">window</span><span class="s2">.</span><span class="s1">addEventListener</span><span class="s2">(</span><span class="s4">'test-passive'</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s1">opts</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) { }</span>
  <span class="s2">}</span>
  <span class="s0">// this needs to be lazy-evaled because vue may be required before</span>
  <span class="s0">// vue-server-renderer can set VUE_ENV</span>
  <span class="s3">var </span><span class="s1">_isServer</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">isServerRendering </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">_isServer </span><span class="s2">=== </span><span class="s1">undefined</span><span class="s2">) {</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">inBrowser </span><span class="s2">&amp;&amp; </span><span class="s3">typeof </span><span class="s1">global </span><span class="s2">!== </span><span class="s4">'undefined'</span><span class="s2">) {</span>
              <span class="s0">// detect presence of vue-server-renderer and avoid</span>
              <span class="s0">// Webpack shimming the process</span>
              <span class="s1">_isServer </span><span class="s2">=</span>
                  <span class="s1">global</span><span class="s2">[</span><span class="s4">'process'</span><span class="s2">] &amp;&amp; </span><span class="s1">global</span><span class="s2">[</span><span class="s4">'process'</span><span class="s2">].</span><span class="s1">env</span><span class="s2">.</span><span class="s1">VUE_ENV </span><span class="s2">=== </span><span class="s4">'server'</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">_isServer </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">_isServer</span><span class="s2">;</span>
  <span class="s2">};</span>
  <span class="s0">// detect devtools</span>
  <span class="s3">var </span><span class="s1">devtools </span><span class="s2">= </span><span class="s1">inBrowser </span><span class="s2">&amp;&amp; </span><span class="s1">window</span><span class="s2">.</span><span class="s1">__VUE_DEVTOOLS_GLOBAL_HOOK__</span><span class="s2">;</span>
  <span class="s0">/* istanbul ignore next */</span>
  <span class="s3">function </span><span class="s1">isNative</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">) {</span>
      <span class="s3">return typeof </span><span class="s1">Ctor </span><span class="s2">=== </span><span class="s4">'function' </span><span class="s2">&amp;&amp; </span><span class="s7">/native code/</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">());</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">hasSymbol </span><span class="s2">= </span><span class="s3">typeof </span><span class="s1">Symbol </span><span class="s2">!== </span><span class="s4">'undefined' </span><span class="s2">&amp;&amp;</span>
      <span class="s1">isNative</span><span class="s2">(</span><span class="s1">Symbol</span><span class="s2">) &amp;&amp;</span>
      <span class="s3">typeof </span><span class="s1">Reflect </span><span class="s2">!== </span><span class="s4">'undefined' </span><span class="s2">&amp;&amp;</span>
      <span class="s1">isNative</span><span class="s2">(</span><span class="s1">Reflect</span><span class="s2">.</span><span class="s1">ownKeys</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">_Set</span><span class="s2">; </span><span class="s0">// $flow-disable-line</span>
  <span class="s0">/* istanbul ignore if */ </span><span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">Set </span><span class="s2">!== </span><span class="s4">'undefined' </span><span class="s2">&amp;&amp; </span><span class="s1">isNative</span><span class="s2">(</span><span class="s1">Set</span><span class="s2">)) {</span>
      <span class="s0">// use native Set when available.</span>
      <span class="s1">_Set </span><span class="s2">= </span><span class="s1">Set</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">else </span><span class="s2">{</span>
      <span class="s0">// a non-standard Set polyfill that only works with primitive keys.</span>
      <span class="s1">_Set </span><span class="s2">= </span><span class="s5">/** </span><span class="s8">@class </span><span class="s5">*/ </span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">function </span><span class="s1">Set</span><span class="s2">() {</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">set </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">Set</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">has </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">key</span><span class="s2">) {</span>
              <span class="s3">return this</span><span class="s2">.</span><span class="s1">set</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] === </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s2">};</span>
          <span class="s1">Set</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">add </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">key</span><span class="s2">) {</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">set</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s2">};</span>
          <span class="s1">Set</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">clear </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">set </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
          <span class="s2">};</span>
          <span class="s3">return </span><span class="s1">Set</span><span class="s2">;</span>
      <span class="s2">}());</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">currentInstance </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
  <span class="s5">/**</span>
   <span class="s5">* This is exposed for compatibility with v3 (e.g. some functions in VueUse</span>
   <span class="s5">* relies on it). Do not use this internally, just use `currentInstance`.</span>
   <span class="s5">*</span>
   <span class="s5">* </span><span class="s8">@internal </span><span class="s5">this function needs manual type declaration because it relies</span>
   <span class="s5">* on previously manually authored types from Vue 2</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">getCurrentInstance</span><span class="s2">() {</span>
      <span class="s3">return </span><span class="s1">currentInstance </span><span class="s2">&amp;&amp; { </span><span class="s1">proxy</span><span class="s2">: </span><span class="s1">currentInstance </span><span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* </span><span class="s8">@internal</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">setCurrentInstance</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vm </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">vm </span><span class="s2">= </span><span class="s3">null</span><span class="s2">; }</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">vm</span><span class="s2">)</span>
          <span class="s1">currentInstance </span><span class="s2">&amp;&amp; </span><span class="s1">currentInstance</span><span class="s2">.</span><span class="s1">_scope</span><span class="s2">.</span><span class="s1">off</span><span class="s2">();</span>
      <span class="s1">currentInstance </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">;</span>
      <span class="s1">vm </span><span class="s2">&amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_scope</span><span class="s2">.</span><span class="s1">on</span><span class="s2">();</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* </span><span class="s8">@internal</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">VNode </span><span class="s2">= </span><span class="s5">/** </span><span class="s8">@class </span><span class="s5">*/ </span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
      <span class="s3">function </span><span class="s1">VNode</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">text</span><span class="s2">, </span><span class="s1">elm</span><span class="s2">, </span><span class="s1">context</span><span class="s2">, </span><span class="s1">componentOptions</span><span class="s2">, </span><span class="s1">asyncFactory</span><span class="s2">) {</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">= </span><span class="s1">tag</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">data </span><span class="s2">= </span><span class="s1">data</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">children </span><span class="s2">= </span><span class="s1">children</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">text </span><span class="s2">= </span><span class="s1">text</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">elm </span><span class="s2">= </span><span class="s1">elm</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">ns </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">context </span><span class="s2">= </span><span class="s1">context</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">fnContext </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">fnOptions </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">fnScopeId </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">key </span><span class="s2">= </span><span class="s1">data </span><span class="s2">&amp;&amp; </span><span class="s1">data</span><span class="s2">.</span><span class="s1">key</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">componentOptions </span><span class="s2">= </span><span class="s1">componentOptions</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">componentInstance </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">parent </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">raw </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">isStatic </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">isRootInsert </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">isComment </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">isCloned </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">isOnce </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">asyncFactory </span><span class="s2">= </span><span class="s1">asyncFactory</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">asyncMeta </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">isAsyncPlaceholder </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">VNode</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">, </span><span class="s4">&quot;child&quot;</span><span class="s2">, {</span>
          <span class="s0">// DEPRECATED: alias for componentInstance for backwards compat.</span>
          <span class="s0">/* istanbul ignore next */</span>
          <span class="s1">get</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">return this</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">;</span>
          <span class="s2">},</span>
          <span class="s1">enumerable</span><span class="s2">: </span><span class="s3">false</span><span class="s2">,</span>
          <span class="s1">configurable</span><span class="s2">: </span><span class="s3">true</span>
      <span class="s2">});</span>
      <span class="s3">return </span><span class="s1">VNode</span><span class="s2">;</span>
  <span class="s2">}());</span>
  <span class="s3">var </span><span class="s1">createEmptyVNode </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">text</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">text </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">text </span><span class="s2">= </span><span class="s4">''</span><span class="s2">; }</span>
      <span class="s3">var </span><span class="s1">node </span><span class="s2">= </span><span class="s3">new </span><span class="s1">VNode</span><span class="s2">();</span>
      <span class="s1">node</span><span class="s2">.</span><span class="s1">text </span><span class="s2">= </span><span class="s1">text</span><span class="s2">;</span>
      <span class="s1">node</span><span class="s2">.</span><span class="s1">isComment </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s1">node</span><span class="s2">;</span>
  <span class="s2">};</span>
  <span class="s3">function </span><span class="s1">createTextVNode</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s3">return new </span><span class="s1">VNode</span><span class="s2">(</span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">String</span><span class="s2">(</span><span class="s1">val</span><span class="s2">));</span>
  <span class="s2">}</span>
  <span class="s0">// optimized shallow clone</span>
  <span class="s0">// used for static nodes and slot nodes because they may be reused across</span>
  <span class="s0">// multiple renders, cloning them avoids errors when DOM manipulations rely</span>
  <span class="s0">// on their elm reference.</span>
  <span class="s3">function </span><span class="s1">cloneVNode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">cloned </span><span class="s2">= </span><span class="s3">new </span><span class="s1">VNode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">, </span>
      <span class="s0">// #7975</span>
      <span class="s0">// clone children array to avoid mutating original in case of cloning</span>
      <span class="s0">// a child.</span>
      <span class="s1">vnode</span><span class="s2">.</span><span class="s1">children </span><span class="s2">&amp;&amp; </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(), </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">text</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentOptions</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">asyncFactory</span><span class="s2">);</span>
      <span class="s1">cloned</span><span class="s2">.</span><span class="s1">ns </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">ns</span><span class="s2">;</span>
      <span class="s1">cloned</span><span class="s2">.</span><span class="s1">isStatic </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">isStatic</span><span class="s2">;</span>
      <span class="s1">cloned</span><span class="s2">.</span><span class="s1">key </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">key</span><span class="s2">;</span>
      <span class="s1">cloned</span><span class="s2">.</span><span class="s1">isComment </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">isComment</span><span class="s2">;</span>
      <span class="s1">cloned</span><span class="s2">.</span><span class="s1">fnContext </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">fnContext</span><span class="s2">;</span>
      <span class="s1">cloned</span><span class="s2">.</span><span class="s1">fnOptions </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">fnOptions</span><span class="s2">;</span>
      <span class="s1">cloned</span><span class="s2">.</span><span class="s1">fnScopeId </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">fnScopeId</span><span class="s2">;</span>
      <span class="s1">cloned</span><span class="s2">.</span><span class="s1">asyncMeta </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">asyncMeta</span><span class="s2">;</span>
      <span class="s1">cloned</span><span class="s2">.</span><span class="s1">isCloned </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s1">cloned</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s0">/* not type checking this file because flow doesn't play well with Proxy */</span>
  <span class="s3">var </span><span class="s1">initProxy</span><span class="s2">;</span>
  <span class="s2">{</span>
      <span class="s3">var </span><span class="s1">allowedGlobals_1 </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'Infinity,undefined,NaN,isFinite,isNaN,' </span><span class="s2">+</span>
          <span class="s4">'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' </span><span class="s2">+</span>
          <span class="s4">'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,' </span><span class="s2">+</span>
          <span class="s4">'require' </span><span class="s0">// for Webpack/Browserify</span>
      <span class="s2">);</span>
      <span class="s3">var </span><span class="s1">warnNonPresent_1 </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Property or method </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">is not defined on the instance but &quot;</span><span class="s2">) +</span>
              <span class="s4">'referenced during render. Make sure that this property is reactive, ' </span><span class="s2">+</span>
              <span class="s4">'either in the data option, or for class-based components, by ' </span><span class="s2">+</span>
              <span class="s4">'initializing the property. ' </span><span class="s2">+</span>
              <span class="s4">'See: https://v2.vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.'</span><span class="s2">, </span><span class="s1">target</span><span class="s2">);</span>
      <span class="s2">};</span>
      <span class="s3">var </span><span class="s1">warnReservedPrefix_1 </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Property </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">must be accessed with </span><span class="s3">\&quot;</span><span class="s4">$data.&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">because &quot;</span><span class="s2">) +</span>
              <span class="s4">'properties starting with &quot;$&quot; or &quot;_&quot; are not proxied in the Vue instance to ' </span><span class="s2">+</span>
              <span class="s4">'prevent conflicts with Vue internals. ' </span><span class="s2">+</span>
              <span class="s4">'See: https://v2.vuejs.org/v2/api/#data'</span><span class="s2">, </span><span class="s1">target</span><span class="s2">);</span>
      <span class="s2">};</span>
      <span class="s3">var </span><span class="s1">hasProxy_1 </span><span class="s2">= </span><span class="s3">typeof </span><span class="s1">Proxy </span><span class="s2">!== </span><span class="s4">'undefined' </span><span class="s2">&amp;&amp; </span><span class="s1">isNative</span><span class="s2">(</span><span class="s1">Proxy</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">hasProxy_1</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">isBuiltInModifier_1 </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'stop,prevent,self,ctrl,shift,alt,meta,exact'</span><span class="s2">);</span>
          <span class="s1">config</span><span class="s2">.</span><span class="s1">keyCodes </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Proxy</span><span class="s2">(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">keyCodes</span><span class="s2">, {</span>
              <span class="s1">set</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isBuiltInModifier_1</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
                      <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Avoid overwriting built-in modifier in config.keyCodes: .&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">));</span>
                      <span class="s3">return false</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s1">target</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">value</span><span class="s2">;</span>
                      <span class="s3">return true</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">});</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">hasHandler_1 </span><span class="s2">= {</span>
          <span class="s1">has</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">has </span><span class="s2">= </span><span class="s1">key </span><span class="s3">in </span><span class="s1">target</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">isAllowed </span><span class="s2">= </span><span class="s1">allowedGlobals_1</span><span class="s2">(</span><span class="s1">key</span><span class="s2">) ||</span>
                  <span class="s2">(</span><span class="s3">typeof </span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'string' </span><span class="s2">&amp;&amp;</span>
                      <span class="s1">key</span><span class="s2">.</span><span class="s1">charAt</span><span class="s2">(</span><span class="s6">0</span><span class="s2">) === </span><span class="s4">'_' </span><span class="s2">&amp;&amp;</span>
                      <span class="s2">!(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">target</span><span class="s2">.</span><span class="s1">$data</span><span class="s2">));</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">has </span><span class="s2">&amp;&amp; !</span><span class="s1">isAllowed</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">target</span><span class="s2">.</span><span class="s1">$data</span><span class="s2">)</span>
                      <span class="s1">warnReservedPrefix_1</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
                  <span class="s3">else</span>
                      <span class="s1">warnNonPresent_1</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">return </span><span class="s1">has </span><span class="s2">|| !</span><span class="s1">isAllowed</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s3">var </span><span class="s1">getHandler_1 </span><span class="s2">= {</span>
          <span class="s1">get</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'string' </span><span class="s2">&amp;&amp; !(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">target</span><span class="s2">)) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">target</span><span class="s2">.</span><span class="s1">$data</span><span class="s2">)</span>
                      <span class="s1">warnReservedPrefix_1</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
                  <span class="s3">else</span>
                      <span class="s1">warnNonPresent_1</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">return </span><span class="s1">target</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s1">initProxy </span><span class="s2">= </span><span class="s3">function </span><span class="s1">initProxy</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">hasProxy_1</span><span class="s2">) {</span>
              <span class="s0">// determine which proxy handler to use</span>
              <span class="s3">var </span><span class="s1">options </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">handlers </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">render </span><span class="s2">&amp;&amp; </span><span class="s1">options</span><span class="s2">.</span><span class="s1">render</span><span class="s2">.</span><span class="s1">_withStripped </span><span class="s2">? </span><span class="s1">getHandler_1 </span><span class="s2">: </span><span class="s1">hasHandler_1</span><span class="s2">;</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">_renderProxy </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Proxy</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">handlers</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">_renderProxy </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s5">/******************************************************************************</span>
  <span class="s5">Copyright (c) Microsoft Corporation.</span>

  <span class="s5">Permission to use, copy, modify, and/or distribute this software for any</span>
  <span class="s5">purpose with or without fee is hereby granted.</span>

  <span class="s5">THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH</span>
  <span class="s5">REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY</span>
  <span class="s5">AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,</span>
  <span class="s5">INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM</span>
  <span class="s5">LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR</span>
  <span class="s5">OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR</span>
  <span class="s5">PERFORMANCE OF THIS SOFTWARE.</span>
  <span class="s5">***************************************************************************** */</span>

  <span class="s3">var </span><span class="s1">__assign </span><span class="s2">= </span><span class="s3">function</span><span class="s2">() {</span>
      <span class="s1">__assign </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">assign </span><span class="s2">|| </span><span class="s3">function </span><span class="s1">__assign</span><span class="s2">(</span><span class="s1">t</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">s</span><span class="s2">, </span><span class="s1">i </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">n </span><span class="s2">= </span><span class="s1">arguments</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">n</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">s </span><span class="s2">= </span><span class="s1">arguments</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">p </span><span class="s3">in </span><span class="s1">s</span><span class="s2">) </span><span class="s3">if </span><span class="s2">(</span><span class="s1">Object</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">hasOwnProperty</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">s</span><span class="s2">, </span><span class="s1">p</span><span class="s2">)) </span><span class="s1">t</span><span class="s2">[</span><span class="s1">p</span><span class="s2">] = </span><span class="s1">s</span><span class="s2">[</span><span class="s1">p</span><span class="s2">];</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">t</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s3">return </span><span class="s1">__assign</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s3">this</span><span class="s2">, </span><span class="s1">arguments</span><span class="s2">);</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">uid$2 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">pendingCleanupDeps </span><span class="s2">= [];</span>
  <span class="s3">var </span><span class="s1">cleanupDeps </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">pendingCleanupDeps</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">var </span><span class="s1">dep </span><span class="s2">= </span><span class="s1">pendingCleanupDeps</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s1">dep</span><span class="s2">.</span><span class="s1">subs </span><span class="s2">= </span><span class="s1">dep</span><span class="s2">.</span><span class="s1">subs</span><span class="s2">.</span><span class="s1">filter</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">s</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">s</span><span class="s2">; });</span>
          <span class="s1">dep</span><span class="s2">.</span><span class="s1">_pending </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s1">pendingCleanupDeps</span><span class="s2">.</span><span class="s1">length </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
  <span class="s2">};</span>
  <span class="s5">/**</span>
   <span class="s5">* A dep is an observable that can have multiple</span>
   <span class="s5">* directives subscribing to it.</span>
   <span class="s5">* </span><span class="s8">@internal</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">Dep </span><span class="s2">= </span><span class="s5">/** </span><span class="s8">@class </span><span class="s5">*/ </span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
      <span class="s3">function </span><span class="s1">Dep</span><span class="s2">() {</span>
          <span class="s0">// pending subs cleanup</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">_pending </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">id </span><span class="s2">= </span><span class="s1">uid$2</span><span class="s2">++;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">subs </span><span class="s2">= [];</span>
      <span class="s2">}</span>
      <span class="s1">Dep</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">addSub </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">sub</span><span class="s2">) {</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">subs</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">sub</span><span class="s2">);</span>
      <span class="s2">};</span>
      <span class="s1">Dep</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">removeSub </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">sub</span><span class="s2">) {</span>
          <span class="s0">// #12696 deps with massive amount of subscribers are extremely slow to</span>
          <span class="s0">// clean up in Chromium</span>
          <span class="s0">// to workaround this, we unset the sub for now, and clear them on</span>
          <span class="s0">// next scheduler flush.</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">subs</span><span class="s2">[</span><span class="s3">this</span><span class="s2">.</span><span class="s1">subs</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">sub</span><span class="s2">)] = </span><span class="s3">null</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s3">this</span><span class="s2">.</span><span class="s1">_pending</span><span class="s2">) {</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">_pending </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s1">pendingCleanupDeps</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s3">this</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s1">Dep</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">depend </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">info</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">) {</span>
              <span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">.</span><span class="s1">addDep</span><span class="s2">(</span><span class="s3">this</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">info </span><span class="s2">&amp;&amp; </span><span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">.</span><span class="s1">onTrack</span><span class="s2">) {</span>
                  <span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">.</span><span class="s1">onTrack</span><span class="s2">(</span><span class="s1">__assign</span><span class="s2">({ </span><span class="s1">effect</span><span class="s2">: </span><span class="s1">Dep</span><span class="s2">.</span><span class="s1">target </span><span class="s2">}, </span><span class="s1">info</span><span class="s2">));</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s1">Dep</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">notify </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">info</span><span class="s2">) {</span>
          <span class="s0">// stabilize the subscriber list first</span>
          <span class="s3">var </span><span class="s1">subs </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">subs</span><span class="s2">.</span><span class="s1">filter</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">s</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">s</span><span class="s2">; });</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">config</span><span class="s2">.</span><span class="s1">async</span><span class="s2">) {</span>
              <span class="s0">// subs aren't sorted in scheduler if not running async</span>
              <span class="s0">// we need to sort them now to make sure they fire in correct</span>
              <span class="s0">// order</span>
              <span class="s1">subs</span><span class="s2">.</span><span class="s1">sort</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">a</span><span class="s2">.</span><span class="s1">id </span><span class="s2">- </span><span class="s1">b</span><span class="s2">.</span><span class="s1">id</span><span class="s2">; });</span>
          <span class="s2">}</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">subs</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">var </span><span class="s1">sub </span><span class="s2">= </span><span class="s1">subs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">info</span><span class="s2">) {</span>
                  <span class="s1">sub</span><span class="s2">.</span><span class="s1">onTrigger </span><span class="s2">&amp;&amp;</span>
                      <span class="s1">sub</span><span class="s2">.</span><span class="s1">onTrigger</span><span class="s2">(</span><span class="s1">__assign</span><span class="s2">({ </span><span class="s1">effect</span><span class="s2">: </span><span class="s1">subs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">] }, </span><span class="s1">info</span><span class="s2">));</span>
              <span class="s2">}</span>
              <span class="s1">sub</span><span class="s2">.</span><span class="s1">update</span><span class="s2">();</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s3">return </span><span class="s1">Dep</span><span class="s2">;</span>
  <span class="s2">}());</span>
  <span class="s0">// The current target watcher being evaluated.</span>
  <span class="s0">// This is globally unique because only one watcher</span>
  <span class="s0">// can be evaluated at a time.</span>
  <span class="s1">Dep</span><span class="s2">.</span><span class="s1">target </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">targetStack </span><span class="s2">= [];</span>
  <span class="s3">function </span><span class="s1">pushTarget</span><span class="s2">(</span><span class="s1">target</span><span class="s2">) {</span>
      <span class="s1">targetStack</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">target</span><span class="s2">);</span>
      <span class="s1">Dep</span><span class="s2">.</span><span class="s1">target </span><span class="s2">= </span><span class="s1">target</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">popTarget</span><span class="s2">() {</span>
      <span class="s1">targetStack</span><span class="s2">.</span><span class="s1">pop</span><span class="s2">();</span>
      <span class="s1">Dep</span><span class="s2">.</span><span class="s1">target </span><span class="s2">= </span><span class="s1">targetStack</span><span class="s2">[</span><span class="s1">targetStack</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">];</span>
  <span class="s2">}</span>

  <span class="s0">/* 
   * not type checking this file because flow doesn't play well with 
   * dynamically accessing methods on Array prototype 
   */</span>
  <span class="s3">var </span><span class="s1">arrayProto </span><span class="s2">= </span><span class="s1">Array</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">arrayMethods </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">arrayProto</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">methodsToPatch </span><span class="s2">= [</span>
      <span class="s4">'push'</span><span class="s2">,</span>
      <span class="s4">'pop'</span><span class="s2">,</span>
      <span class="s4">'shift'</span><span class="s2">,</span>
      <span class="s4">'unshift'</span><span class="s2">,</span>
      <span class="s4">'splice'</span><span class="s2">,</span>
      <span class="s4">'sort'</span><span class="s2">,</span>
      <span class="s4">'reverse'</span>
  <span class="s2">];</span>
  <span class="s5">/**</span>
   <span class="s5">* Intercept mutating methods and emit events</span>
   <span class="s5">*/</span>
  <span class="s1">methodsToPatch</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">method</span><span class="s2">) {</span>
      <span class="s0">// cache original method</span>
      <span class="s3">var </span><span class="s1">original </span><span class="s2">= </span><span class="s1">arrayProto</span><span class="s2">[</span><span class="s1">method</span><span class="s2">];</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">arrayMethods</span><span class="s2">, </span><span class="s1">method</span><span class="s2">, </span><span class="s3">function </span><span class="s1">mutator</span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">args </span><span class="s2">= [];</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">_i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">_i </span><span class="s2">&lt; </span><span class="s1">arguments</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">_i</span><span class="s2">++) {</span>
              <span class="s1">args</span><span class="s2">[</span><span class="s1">_i</span><span class="s2">] = </span><span class="s1">arguments</span><span class="s2">[</span><span class="s1">_i</span><span class="s2">];</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">result </span><span class="s2">= </span><span class="s1">original</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s3">this</span><span class="s2">, </span><span class="s1">args</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">ob </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">inserted</span><span class="s2">;</span>
          <span class="s3">switch </span><span class="s2">(</span><span class="s1">method</span><span class="s2">) {</span>
              <span class="s3">case </span><span class="s4">'push'</span><span class="s2">:</span>
              <span class="s3">case </span><span class="s4">'unshift'</span><span class="s2">:</span>
                  <span class="s1">inserted </span><span class="s2">= </span><span class="s1">args</span><span class="s2">;</span>
                  <span class="s3">break</span><span class="s2">;</span>
              <span class="s3">case </span><span class="s4">'splice'</span><span class="s2">:</span>
                  <span class="s1">inserted </span><span class="s2">= </span><span class="s1">args</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">2</span><span class="s2">);</span>
                  <span class="s3">break</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">inserted</span><span class="s2">)</span>
              <span class="s1">ob</span><span class="s2">.</span><span class="s1">observeArray</span><span class="s2">(</span><span class="s1">inserted</span><span class="s2">);</span>
          <span class="s0">// notify change</span>
          <span class="s2">{</span>
              <span class="s1">ob</span><span class="s2">.</span><span class="s1">dep</span><span class="s2">.</span><span class="s1">notify</span><span class="s2">({</span>
                  <span class="s1">type</span><span class="s2">: </span><span class="s4">&quot;array mutation&quot; </span><span class="s0">/* TriggerOpTypes.ARRAY_MUTATION */</span><span class="s2">,</span>
                  <span class="s1">target</span><span class="s2">: </span><span class="s3">this</span><span class="s2">,</span>
                  <span class="s1">key</span><span class="s2">: </span><span class="s1">method</span>
              <span class="s2">});</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">result</span><span class="s2">;</span>
      <span class="s2">});</span>
  <span class="s2">});</span>

  <span class="s3">var </span><span class="s1">arrayKeys </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">getOwnPropertyNames</span><span class="s2">(</span><span class="s1">arrayMethods</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">NO_INIITIAL_VALUE </span><span class="s2">= {};</span>
  <span class="s5">/**</span>
   <span class="s5">* In some cases we may want to disable observation inside a component's</span>
   <span class="s5">* update computation.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">shouldObserve </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">toggleObserving</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s1">shouldObserve </span><span class="s2">= </span><span class="s1">value</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s0">// ssr mock dep</span>
  <span class="s3">var </span><span class="s1">mockDep </span><span class="s2">= {</span>
      <span class="s1">notify</span><span class="s2">: </span><span class="s1">noop</span><span class="s2">,</span>
      <span class="s1">depend</span><span class="s2">: </span><span class="s1">noop</span><span class="s2">,</span>
      <span class="s1">addSub</span><span class="s2">: </span><span class="s1">noop</span><span class="s2">,</span>
      <span class="s1">removeSub</span><span class="s2">: </span><span class="s1">noop</span>
  <span class="s2">};</span>
  <span class="s5">/**</span>
   <span class="s5">* Observer class that is attached to each observed</span>
   <span class="s5">* object. Once attached, the observer converts the target</span>
   <span class="s5">* object's property keys into getter/setters that</span>
   <span class="s5">* collect dependencies and dispatch updates.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">Observer </span><span class="s2">= </span><span class="s5">/** </span><span class="s8">@class </span><span class="s5">*/ </span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
      <span class="s3">function </span><span class="s1">Observer</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">shallow</span><span class="s2">, </span><span class="s1">mock</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">shallow </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">shallow </span><span class="s2">= </span><span class="s3">false</span><span class="s2">; }</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">mock </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">mock </span><span class="s2">= </span><span class="s3">false</span><span class="s2">; }</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">value </span><span class="s2">= </span><span class="s1">value</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">shallow </span><span class="s2">= </span><span class="s1">shallow</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">mock </span><span class="s2">= </span><span class="s1">mock</span><span class="s2">;</span>
          <span class="s0">// this.value = value</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">dep </span><span class="s2">= </span><span class="s1">mock </span><span class="s2">? </span><span class="s1">mockDep </span><span class="s2">: </span><span class="s3">new </span><span class="s1">Dep</span><span class="s2">();</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">vmCount </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
          <span class="s1">def</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">'__ob__'</span><span class="s2">, </span><span class="s3">this</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">mock</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">hasProto</span><span class="s2">) {</span>
                      <span class="s1">value</span><span class="s2">.</span><span class="s1">__proto__ </span><span class="s2">= </span><span class="s1">arrayMethods</span><span class="s2">;</span>
                      <span class="s0">/* eslint-enable no-proto */</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">arrayKeys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                          <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s1">arrayKeys</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
                          <span class="s1">def</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">arrayMethods</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]);</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">shallow</span><span class="s2">) {</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">observeArray</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s5">/**</span>
               <span class="s5">* Walk through all properties and convert them into</span>
               <span class="s5">* getter/setters. This method should only be called when</span>
               <span class="s5">* value type is Object.</span>
               <span class="s5">*/</span>
              <span class="s3">var </span><span class="s1">keys </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">keys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s1">keys</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
                  <span class="s1">defineReactive</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">NO_INIITIAL_VALUE</span><span class="s2">, </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">shallow</span><span class="s2">, </span><span class="s1">mock</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s5">/**</span>
       <span class="s5">* Observe a list of Array items.</span>
       <span class="s5">*/</span>
      <span class="s1">Observer</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">observeArray </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">value</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">observe</span><span class="s2">(</span><span class="s1">value</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s3">false</span><span class="s2">, </span><span class="s3">this</span><span class="s2">.</span><span class="s1">mock</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s3">return </span><span class="s1">Observer</span><span class="s2">;</span>
  <span class="s2">}());</span>
  <span class="s0">// helpers</span>
  <span class="s5">/**</span>
   <span class="s5">* Attempt to create an observer instance for a value,</span>
   <span class="s5">* returns the new observer if successfully observed,</span>
   <span class="s5">* or the existing observer if the value already has one.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">observe</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">shallow</span><span class="s2">, </span><span class="s1">ssrMockReactivity</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">value </span><span class="s2">&amp;&amp; </span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">'__ob__'</span><span class="s2">) &amp;&amp; </span><span class="s1">value</span><span class="s2">.</span><span class="s1">__ob__ </span><span class="s3">instanceof </span><span class="s1">Observer</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">value</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">shouldObserve </span><span class="s2">&amp;&amp;</span>
          <span class="s2">(</span><span class="s1">ssrMockReactivity </span><span class="s2">|| !</span><span class="s1">isServerRendering</span><span class="s2">()) &amp;&amp;</span>
          <span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) || </span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) &amp;&amp;</span>
          <span class="s1">Object</span><span class="s2">.</span><span class="s1">isExtensible</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) &amp;&amp;</span>
          <span class="s2">!</span><span class="s1">value</span><span class="s2">.</span><span class="s1">__v_skip </span><span class="s0">/* ReactiveFlags.SKIP */ </span><span class="s2">&amp;&amp;</span>
          <span class="s2">!</span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) &amp;&amp;</span>
          <span class="s2">!(</span><span class="s1">value </span><span class="s3">instanceof </span><span class="s1">VNode</span><span class="s2">)) {</span>
          <span class="s3">return new </span><span class="s1">Observer</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">shallow</span><span class="s2">, </span><span class="s1">ssrMockReactivity</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Define a reactive property on an Object.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">defineReactive</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">val</span><span class="s2">, </span><span class="s1">customSetter</span><span class="s2">, </span><span class="s1">shallow</span><span class="s2">, </span><span class="s1">mock</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">dep </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Dep</span><span class="s2">();</span>
      <span class="s3">var </span><span class="s1">property </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">getOwnPropertyDescriptor</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">property </span><span class="s2">&amp;&amp; </span><span class="s1">property</span><span class="s2">.</span><span class="s1">configurable </span><span class="s2">=== </span><span class="s3">false</span><span class="s2">) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// cater for pre-defined getter/setters</span>
      <span class="s3">var </span><span class="s1">getter </span><span class="s2">= </span><span class="s1">property </span><span class="s2">&amp;&amp; </span><span class="s1">property</span><span class="s2">.</span><span class="s1">get</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">setter </span><span class="s2">= </span><span class="s1">property </span><span class="s2">&amp;&amp; </span><span class="s1">property</span><span class="s2">.</span><span class="s1">set</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">((!</span><span class="s1">getter </span><span class="s2">|| </span><span class="s1">setter</span><span class="s2">) &amp;&amp;</span>
          <span class="s2">(</span><span class="s1">val </span><span class="s2">=== </span><span class="s1">NO_INIITIAL_VALUE </span><span class="s2">|| </span><span class="s1">arguments</span><span class="s2">.</span><span class="s1">length </span><span class="s2">=== </span><span class="s6">2</span><span class="s2">)) {</span>
          <span class="s1">val </span><span class="s2">= </span><span class="s1">obj</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">childOb </span><span class="s2">= !</span><span class="s1">shallow </span><span class="s2">&amp;&amp; </span><span class="s1">observe</span><span class="s2">(</span><span class="s1">val</span><span class="s2">, </span><span class="s3">false</span><span class="s2">, </span><span class="s1">mock</span><span class="s2">);</span>
      <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, {</span>
          <span class="s1">enumerable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
          <span class="s1">configurable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
          <span class="s1">get</span><span class="s2">: </span><span class="s3">function </span><span class="s1">reactiveGetter</span><span class="s2">() {</span>
              <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">getter </span><span class="s2">? </span><span class="s1">getter</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">) : </span><span class="s1">val</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">) {</span>
                  <span class="s2">{</span>
                      <span class="s1">dep</span><span class="s2">.</span><span class="s1">depend</span><span class="s2">({</span>
                          <span class="s1">target</span><span class="s2">: </span><span class="s1">obj</span><span class="s2">,</span>
                          <span class="s1">type</span><span class="s2">: </span><span class="s4">&quot;get&quot; </span><span class="s0">/* TrackOpTypes.GET */</span><span class="s2">,</span>
                          <span class="s1">key</span><span class="s2">: </span><span class="s1">key</span>
                      <span class="s2">});</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">childOb</span><span class="s2">) {</span>
                      <span class="s1">childOb</span><span class="s2">.</span><span class="s1">dep</span><span class="s2">.</span><span class="s1">depend</span><span class="s2">();</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
                          <span class="s1">dependArray</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">return </span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) &amp;&amp; !</span><span class="s1">shallow </span><span class="s2">? </span><span class="s1">value</span><span class="s2">.</span><span class="s1">value </span><span class="s2">: </span><span class="s1">value</span><span class="s2">;</span>
          <span class="s2">},</span>
          <span class="s1">set</span><span class="s2">: </span><span class="s3">function </span><span class="s1">reactiveSetter</span><span class="s2">(</span><span class="s1">newVal</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">getter </span><span class="s2">? </span><span class="s1">getter</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">) : </span><span class="s1">val</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">hasChanged</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">newVal</span><span class="s2">)) {</span>
                  <span class="s3">return</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">customSetter</span><span class="s2">) {</span>
                  <span class="s1">customSetter</span><span class="s2">();</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">setter</span><span class="s2">) {</span>
                  <span class="s1">setter</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">, </span><span class="s1">newVal</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">getter</span><span class="s2">) {</span>
                  <span class="s0">// #7981: for accessor properties without setter</span>
                  <span class="s3">return</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(!</span><span class="s1">shallow </span><span class="s2">&amp;&amp; </span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) &amp;&amp; !</span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">newVal</span><span class="s2">)) {</span>
                  <span class="s1">value</span><span class="s2">.</span><span class="s1">value </span><span class="s2">= </span><span class="s1">newVal</span><span class="s2">;</span>
                  <span class="s3">return</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">val </span><span class="s2">= </span><span class="s1">newVal</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s1">childOb </span><span class="s2">= !</span><span class="s1">shallow </span><span class="s2">&amp;&amp; </span><span class="s1">observe</span><span class="s2">(</span><span class="s1">newVal</span><span class="s2">, </span><span class="s3">false</span><span class="s2">, </span><span class="s1">mock</span><span class="s2">);</span>
              <span class="s2">{</span>
                  <span class="s1">dep</span><span class="s2">.</span><span class="s1">notify</span><span class="s2">({</span>
                      <span class="s1">type</span><span class="s2">: </span><span class="s4">&quot;set&quot; </span><span class="s0">/* TriggerOpTypes.SET */</span><span class="s2">,</span>
                      <span class="s1">target</span><span class="s2">: </span><span class="s1">obj</span><span class="s2">,</span>
                      <span class="s1">key</span><span class="s2">: </span><span class="s1">key</span><span class="s2">,</span>
                      <span class="s1">newValue</span><span class="s2">: </span><span class="s1">newVal</span><span class="s2">,</span>
                      <span class="s1">oldValue</span><span class="s2">: </span><span class="s1">value</span>
                  <span class="s2">});</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">});</span>
      <span class="s3">return </span><span class="s1">dep</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">set</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">((</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">target</span><span class="s2">) || </span><span class="s1">isPrimitive</span><span class="s2">(</span><span class="s1">target</span><span class="s2">))) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Cannot set reactive property on undefined, null, or primitive value: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">target</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isReadonly</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Set operation on key </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">failed: target is readonly.&quot;</span><span class="s2">));</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">ob </span><span class="s2">= </span><span class="s1">target</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">target</span><span class="s2">) &amp;&amp; </span><span class="s1">isValidArrayIndex</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
          <span class="s1">target</span><span class="s2">.</span><span class="s1">length </span><span class="s2">= </span><span class="s1">Math</span><span class="s2">.</span><span class="s1">max</span><span class="s2">(</span><span class="s1">target</span><span class="s2">.</span><span class="s1">length</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
          <span class="s1">target</span><span class="s2">.</span><span class="s1">splice</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s6">1</span><span class="s2">, </span><span class="s1">val</span><span class="s2">);</span>
          <span class="s0">// when mocking for SSR, array methods are not hijacked</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">ob </span><span class="s2">&amp;&amp; !</span><span class="s1">ob</span><span class="s2">.</span><span class="s1">shallow </span><span class="s2">&amp;&amp; </span><span class="s1">ob</span><span class="s2">.</span><span class="s1">mock</span><span class="s2">) {</span>
              <span class="s1">observe</span><span class="s2">(</span><span class="s1">val</span><span class="s2">, </span><span class="s3">false</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">val</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">target </span><span class="s2">&amp;&amp; !(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">)) {</span>
          <span class="s1">target</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">val</span><span class="s2">;</span>
          <span class="s3">return </span><span class="s1">val</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">target</span><span class="s2">.</span><span class="s1">_isVue </span><span class="s2">|| (</span><span class="s1">ob </span><span class="s2">&amp;&amp; </span><span class="s1">ob</span><span class="s2">.</span><span class="s1">vmCount</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Avoid adding reactive properties to a Vue instance or its root $data ' </span><span class="s2">+</span>
                  <span class="s4">'at runtime - declare it upfront in the data option.'</span><span class="s2">);</span>
          <span class="s3">return </span><span class="s1">val</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">ob</span><span class="s2">) {</span>
          <span class="s1">target</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">val</span><span class="s2">;</span>
          <span class="s3">return </span><span class="s1">val</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s1">defineReactive</span><span class="s2">(</span><span class="s1">ob</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">val</span><span class="s2">, </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">ob</span><span class="s2">.</span><span class="s1">shallow</span><span class="s2">, </span><span class="s1">ob</span><span class="s2">.</span><span class="s1">mock</span><span class="s2">);</span>
      <span class="s2">{</span>
          <span class="s1">ob</span><span class="s2">.</span><span class="s1">dep</span><span class="s2">.</span><span class="s1">notify</span><span class="s2">({</span>
              <span class="s1">type</span><span class="s2">: </span><span class="s4">&quot;add&quot; </span><span class="s0">/* TriggerOpTypes.ADD */</span><span class="s2">,</span>
              <span class="s1">target</span><span class="s2">: </span><span class="s1">target</span><span class="s2">,</span>
              <span class="s1">key</span><span class="s2">: </span><span class="s1">key</span><span class="s2">,</span>
              <span class="s1">newValue</span><span class="s2">: </span><span class="s1">val</span><span class="s2">,</span>
              <span class="s1">oldValue</span><span class="s2">: </span><span class="s1">undefined</span>
          <span class="s2">});</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">val</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">del</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">((</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">target</span><span class="s2">) || </span><span class="s1">isPrimitive</span><span class="s2">(</span><span class="s1">target</span><span class="s2">))) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Cannot delete reactive property on undefined, null, or primitive value: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">target</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">target</span><span class="s2">) &amp;&amp; </span><span class="s1">isValidArrayIndex</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
          <span class="s1">target</span><span class="s2">.</span><span class="s1">splice</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s6">1</span><span class="s2">);</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">ob </span><span class="s2">= </span><span class="s1">target</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">target</span><span class="s2">.</span><span class="s1">_isVue </span><span class="s2">|| (</span><span class="s1">ob </span><span class="s2">&amp;&amp; </span><span class="s1">ob</span><span class="s2">.</span><span class="s1">vmCount</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Avoid deleting properties on a Vue instance or its root $data ' </span><span class="s2">+</span>
                  <span class="s4">'- just set it to null.'</span><span class="s2">);</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isReadonly</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Delete operation on key </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">failed: target is readonly.&quot;</span><span class="s2">));</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">)) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">delete </span><span class="s1">target</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">ob</span><span class="s2">) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s2">{</span>
          <span class="s1">ob</span><span class="s2">.</span><span class="s1">dep</span><span class="s2">.</span><span class="s1">notify</span><span class="s2">({</span>
              <span class="s1">type</span><span class="s2">: </span><span class="s4">&quot;delete&quot; </span><span class="s0">/* TriggerOpTypes.DELETE */</span><span class="s2">,</span>
              <span class="s1">target</span><span class="s2">: </span><span class="s1">target</span><span class="s2">,</span>
              <span class="s1">key</span><span class="s2">: </span><span class="s1">key</span>
          <span class="s2">});</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Collect dependencies on array elements when the array is touched, since</span>
   <span class="s5">* we cannot intercept array element access like property getters.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">dependArray</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">e </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">, </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">value</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">e </span><span class="s2">= </span><span class="s1">value</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">e </span><span class="s2">&amp;&amp; </span><span class="s1">e</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">) {</span>
              <span class="s1">e</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">.</span><span class="s1">dep</span><span class="s2">.</span><span class="s1">depend</span><span class="s2">();</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">e</span><span class="s2">)) {</span>
              <span class="s1">dependArray</span><span class="s2">(</span><span class="s1">e</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">reactive</span><span class="s2">(</span><span class="s1">target</span><span class="s2">) {</span>
      <span class="s1">makeReactive</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s3">false</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">target</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Return a shallowly-reactive copy of the original object, where only the root</span>
   <span class="s5">* level properties are reactive. It also does not auto-unwrap refs (even at the</span>
   <span class="s5">* root level).</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">shallowReactive</span><span class="s2">(</span><span class="s1">target</span><span class="s2">) {</span>
      <span class="s1">makeReactive</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s4">&quot;__v_isShallow&quot; </span><span class="s0">/* ReactiveFlags.IS_SHALLOW */</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">target</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">makeReactive</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">shallow</span><span class="s2">) {</span>
      <span class="s0">// if trying to observe a readonly proxy, return the readonly version.</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isReadonly</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
          <span class="s2">{</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Avoid using Array as root value for &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">shallow </span><span class="s2">? </span><span class="s4">&quot;shallowReactive()&quot; </span><span class="s2">: </span><span class="s4">&quot;reactive()&quot;</span><span class="s2">, </span><span class="s4">&quot; as it cannot be tracked in watch() or watchEffect(). Use &quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">shallow </span><span class="s2">? </span><span class="s4">&quot;shallowRef()&quot; </span><span class="s2">: </span><span class="s4">&quot;ref()&quot;</span><span class="s2">, </span><span class="s4">&quot; instead. This is a Vue-2-only limitation.&quot;</span><span class="s2">));</span>
              <span class="s2">}</span>
              <span class="s3">var </span><span class="s1">existingOb </span><span class="s2">= </span><span class="s1">target </span><span class="s2">&amp;&amp; </span><span class="s1">target</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">existingOb </span><span class="s2">&amp;&amp; </span><span class="s1">existingOb</span><span class="s2">.</span><span class="s1">shallow </span><span class="s2">!== </span><span class="s1">shallow</span><span class="s2">) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Target is already a &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">existingOb</span><span class="s2">.</span><span class="s1">shallow </span><span class="s2">? </span><span class="s4">&quot;&quot; </span><span class="s2">: </span><span class="s4">&quot;non-&quot;</span><span class="s2">, </span><span class="s4">&quot;shallow reactive object, and cannot be converted to &quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">shallow </span><span class="s2">? </span><span class="s4">&quot;&quot; </span><span class="s2">: </span><span class="s4">&quot;non-&quot;</span><span class="s2">, </span><span class="s4">&quot;shallow.&quot;</span><span class="s2">));</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">ob </span><span class="s2">= </span><span class="s1">observe</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">shallow</span><span class="s2">, </span><span class="s1">isServerRendering</span><span class="s2">() </span><span class="s0">/* ssr mock reactivity */</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">ob</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">target </span><span class="s2">== </span><span class="s3">null </span><span class="s2">|| </span><span class="s1">isPrimitive</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;value cannot be made reactive: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">String</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)));</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isCollectionType</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Vue 2 does not support reactive collection types such as Map or Set.&quot;</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isReactive</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isReadonly</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">isReactive</span><span class="s2">(</span><span class="s1">value</span><span class="s2">[</span><span class="s4">&quot;__v_raw&quot; </span><span class="s0">/* ReactiveFlags.RAW */</span><span class="s2">]);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s2">!!(</span><span class="s1">value </span><span class="s2">&amp;&amp; </span><span class="s1">value</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isShallow</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">!!(</span><span class="s1">value </span><span class="s2">&amp;&amp; </span><span class="s1">value</span><span class="s2">.</span><span class="s1">__v_isShallow</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isReadonly</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">!!(</span><span class="s1">value </span><span class="s2">&amp;&amp; </span><span class="s1">value</span><span class="s2">.</span><span class="s1">__v_isReadonly</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isProxy</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">isReactive</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) || </span><span class="s1">isReadonly</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">toRaw</span><span class="s2">(</span><span class="s1">observed</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">raw </span><span class="s2">= </span><span class="s1">observed </span><span class="s2">&amp;&amp; </span><span class="s1">observed</span><span class="s2">[</span><span class="s4">&quot;__v_raw&quot; </span><span class="s0">/* ReactiveFlags.RAW */</span><span class="s2">];</span>
      <span class="s3">return </span><span class="s1">raw </span><span class="s2">? </span><span class="s1">toRaw</span><span class="s2">(</span><span class="s1">raw</span><span class="s2">) : </span><span class="s1">observed</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">markRaw</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s0">// non-extensible objects won't be observed anyway</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">Object</span><span class="s2">.</span><span class="s1">isExtensible</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
          <span class="s1">def</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;__v_skip&quot; </span><span class="s0">/* ReactiveFlags.SKIP */</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">value</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* </span><span class="s8">@internal</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">isCollectionType</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">type </span><span class="s2">= </span><span class="s1">toRawType</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s2">(</span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'Map' </span><span class="s2">|| </span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'WeakMap' </span><span class="s2">|| </span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'Set' </span><span class="s2">|| </span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'WeakSet'</span><span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* </span><span class="s8">@internal</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">RefFlag </span><span class="s2">= </span><span class="s4">&quot;__v_isRef&quot;</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">r</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">!!(</span><span class="s1">r </span><span class="s2">&amp;&amp; </span><span class="s1">r</span><span class="s2">.</span><span class="s1">__v_isRef </span><span class="s2">=== </span><span class="s3">true</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">ref$1</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">createRef</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s3">false</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">shallowRef</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">createRef</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createRef</span><span class="s2">(</span><span class="s1">rawValue</span><span class="s2">, </span><span class="s1">shallow</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">rawValue</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">rawValue</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">ref </span><span class="s2">= {};</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">, </span><span class="s1">RefFlag</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">, </span><span class="s4">&quot;__v_isShallow&quot; </span><span class="s0">/* ReactiveFlags.IS_SHALLOW */</span><span class="s2">, </span><span class="s1">shallow</span><span class="s2">);</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">, </span><span class="s4">'dep'</span><span class="s2">, </span><span class="s1">defineReactive</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">, </span><span class="s4">'value'</span><span class="s2">, </span><span class="s1">rawValue</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s1">shallow</span><span class="s2">, </span><span class="s1">isServerRendering</span><span class="s2">()));</span>
      <span class="s3">return </span><span class="s1">ref</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">triggerRef</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">ref</span><span class="s2">.</span><span class="s1">dep</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;received object is not a triggerable ref.&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s2">{</span>
          <span class="s1">ref</span><span class="s2">.</span><span class="s1">dep </span><span class="s2">&amp;&amp;</span>
              <span class="s1">ref</span><span class="s2">.</span><span class="s1">dep</span><span class="s2">.</span><span class="s1">notify</span><span class="s2">({</span>
                  <span class="s1">type</span><span class="s2">: </span><span class="s4">&quot;set&quot; </span><span class="s0">/* TriggerOpTypes.SET */</span><span class="s2">,</span>
                  <span class="s1">target</span><span class="s2">: </span><span class="s1">ref</span><span class="s2">,</span>
                  <span class="s1">key</span><span class="s2">: </span><span class="s4">'value'</span>
              <span class="s2">});</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">unref</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">) ? </span><span class="s1">ref</span><span class="s2">.</span><span class="s1">value </span><span class="s2">: </span><span class="s1">ref</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">proxyRefs</span><span class="s2">(</span><span class="s1">objectWithRefs</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isReactive</span><span class="s2">(</span><span class="s1">objectWithRefs</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">objectWithRefs</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">proxy </span><span class="s2">= {};</span>
      <span class="s3">var </span><span class="s1">keys </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">objectWithRefs</span><span class="s2">);</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">keys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">proxyWithRefUnwrap</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s1">objectWithRefs</span><span class="s2">, </span><span class="s1">keys</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">proxy</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">proxyWithRefUnwrap</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">source</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, {</span>
          <span class="s1">enumerable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
          <span class="s1">configurable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
          <span class="s1">get</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">var </span><span class="s1">val </span><span class="s2">= </span><span class="s1">source</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">val</span><span class="s2">)) {</span>
                  <span class="s3">return </span><span class="s1">val</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s3">var </span><span class="s1">ob </span><span class="s2">= </span><span class="s1">val </span><span class="s2">&amp;&amp; </span><span class="s1">val</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">;</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">ob</span><span class="s2">)</span>
                      <span class="s1">ob</span><span class="s2">.</span><span class="s1">dep</span><span class="s2">.</span><span class="s1">depend</span><span class="s2">();</span>
                  <span class="s3">return </span><span class="s1">val</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">},</span>
          <span class="s1">set</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">oldValue </span><span class="s2">= </span><span class="s1">source</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">oldValue</span><span class="s2">) &amp;&amp; !</span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
                  <span class="s1">oldValue</span><span class="s2">.</span><span class="s1">value </span><span class="s2">= </span><span class="s1">value</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">source</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">value</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">});</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">customRef</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">dep </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Dep</span><span class="s2">();</span>
      <span class="s3">var </span><span class="s1">_a </span><span class="s2">= </span><span class="s1">factory</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s2">{</span>
              <span class="s1">dep</span><span class="s2">.</span><span class="s1">depend</span><span class="s2">({</span>
                  <span class="s1">target</span><span class="s2">: </span><span class="s1">ref</span><span class="s2">,</span>
                  <span class="s1">type</span><span class="s2">: </span><span class="s4">&quot;get&quot; </span><span class="s0">/* TrackOpTypes.GET */</span><span class="s2">,</span>
                  <span class="s1">key</span><span class="s2">: </span><span class="s4">'value'</span>
              <span class="s2">});</span>
          <span class="s2">}</span>
      <span class="s2">}, </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s2">{</span>
              <span class="s1">dep</span><span class="s2">.</span><span class="s1">notify</span><span class="s2">({</span>
                  <span class="s1">target</span><span class="s2">: </span><span class="s1">ref</span><span class="s2">,</span>
                  <span class="s1">type</span><span class="s2">: </span><span class="s4">&quot;set&quot; </span><span class="s0">/* TriggerOpTypes.SET */</span><span class="s2">,</span>
                  <span class="s1">key</span><span class="s2">: </span><span class="s4">'value'</span>
              <span class="s2">});</span>
          <span class="s2">}</span>
      <span class="s2">}), </span><span class="s1">get </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">get</span><span class="s2">, </span><span class="s1">set </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">set</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">ref </span><span class="s2">= {</span>
          <span class="s1">get value</span><span class="s2">() {</span>
              <span class="s3">return </span><span class="s1">get</span><span class="s2">();</span>
          <span class="s2">},</span>
          <span class="s1">set value</span><span class="s2">(</span><span class="s1">newVal</span><span class="s2">) {</span>
              <span class="s1">set</span><span class="s2">(</span><span class="s1">newVal</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">, </span><span class="s1">RefFlag</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">ref</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">toRefs</span><span class="s2">(</span><span class="s1">object</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isReactive</span><span class="s2">(</span><span class="s1">object</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;toRefs() expects a reactive object but received a plain one.&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">ret </span><span class="s2">= </span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">object</span><span class="s2">) ? </span><span class="s3">new </span><span class="s1">Array</span><span class="s2">(</span><span class="s1">object</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) : {};</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">object</span><span class="s2">) {</span>
          <span class="s1">ret</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">toRef</span><span class="s2">(</span><span class="s1">object</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">ret</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">toRef</span><span class="s2">(</span><span class="s1">object</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">defaultValue</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">val </span><span class="s2">= </span><span class="s1">object</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">val</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">val</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">ref </span><span class="s2">= {</span>
          <span class="s1">get value</span><span class="s2">() {</span>
              <span class="s3">var </span><span class="s1">val </span><span class="s2">= </span><span class="s1">object</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
              <span class="s3">return </span><span class="s1">val </span><span class="s2">=== </span><span class="s1">undefined </span><span class="s2">? </span><span class="s1">defaultValue </span><span class="s2">: </span><span class="s1">val</span><span class="s2">;</span>
          <span class="s2">},</span>
          <span class="s1">set value</span><span class="s2">(</span><span class="s1">newVal</span><span class="s2">) {</span>
              <span class="s1">object</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">newVal</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">, </span><span class="s1">RefFlag</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">ref</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">rawToReadonlyFlag </span><span class="s2">= </span><span class="s4">&quot;__v_rawToReadonly&quot;</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">rawToShallowReadonlyFlag </span><span class="s2">= </span><span class="s4">&quot;__v_rawToShallowReadonly&quot;</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">readonly</span><span class="s2">(</span><span class="s1">target</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">createReadonly</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s3">false</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createReadonly</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">shallow</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
          <span class="s2">{</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Vue 2 does not support readonly arrays.&quot;</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">isCollectionType</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Vue 2 does not support readonly collection types such as Map or Set.&quot;</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;value cannot be made readonly: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">target</span><span class="s2">));</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">target</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">Object</span><span class="s2">.</span><span class="s1">isExtensible</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Vue 2 does not support creating readonly proxy for non-extensible object.&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// already a readonly object</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isReadonly</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">target</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// already has a readonly proxy</span>
      <span class="s3">var </span><span class="s1">existingFlag </span><span class="s2">= </span><span class="s1">shallow </span><span class="s2">? </span><span class="s1">rawToShallowReadonlyFlag </span><span class="s2">: </span><span class="s1">rawToReadonlyFlag</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">existingProxy </span><span class="s2">= </span><span class="s1">target</span><span class="s2">[</span><span class="s1">existingFlag</span><span class="s2">];</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">existingProxy</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">existingProxy</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">proxy </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">Object</span><span class="s2">.</span><span class="s1">getPrototypeOf</span><span class="s2">(</span><span class="s1">target</span><span class="s2">));</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">existingFlag</span><span class="s2">, </span><span class="s1">proxy</span><span class="s2">);</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s4">&quot;__v_isReadonly&quot; </span><span class="s0">/* ReactiveFlags.IS_READONLY */</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s4">&quot;__v_raw&quot; </span><span class="s0">/* ReactiveFlags.RAW */</span><span class="s2">, </span><span class="s1">target</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
          <span class="s1">def</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s1">RefFlag</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">shallow </span><span class="s2">|| </span><span class="s1">isShallow</span><span class="s2">(</span><span class="s1">target</span><span class="s2">)) {</span>
          <span class="s1">def</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s4">&quot;__v_isShallow&quot; </span><span class="s0">/* ReactiveFlags.IS_SHALLOW */</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">keys </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">target</span><span class="s2">);</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">keys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">defineReadonlyProperty</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s1">target</span><span class="s2">, </span><span class="s1">keys</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">shallow</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">proxy</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">defineReadonlyProperty</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">shallow</span><span class="s2">) {</span>
      <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, {</span>
          <span class="s1">enumerable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
          <span class="s1">configurable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
          <span class="s1">get</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">var </span><span class="s1">val </span><span class="s2">= </span><span class="s1">target</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
              <span class="s3">return </span><span class="s1">shallow </span><span class="s2">|| !</span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) ? </span><span class="s1">val </span><span class="s2">: </span><span class="s1">readonly</span><span class="s2">(</span><span class="s1">val</span><span class="s2">);</span>
          <span class="s2">},</span>
          <span class="s1">set</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Set operation on key </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">failed: target is readonly.&quot;</span><span class="s2">));</span>
          <span class="s2">}</span>
      <span class="s2">});</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Returns a reactive-copy of the original object, where only the root level</span>
   <span class="s5">* properties are readonly, and does NOT unwrap refs nor recursively convert</span>
   <span class="s5">* returned properties.</span>
   <span class="s5">* This is used for creating the props proxy object for stateful components.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">shallowReadonly</span><span class="s2">(</span><span class="s1">target</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">createReadonly</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">computed</span><span class="s2">(</span><span class="s1">getterOrOptions</span><span class="s2">, </span><span class="s1">debugOptions</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">getter</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">setter</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">onlyGetter </span><span class="s2">= </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">getterOrOptions</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">onlyGetter</span><span class="s2">) {</span>
          <span class="s1">getter </span><span class="s2">= </span><span class="s1">getterOrOptions</span><span class="s2">;</span>
          <span class="s1">setter </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Write operation failed: computed value is readonly'</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">getter </span><span class="s2">= </span><span class="s1">getterOrOptions</span><span class="s2">.</span><span class="s1">get</span><span class="s2">;</span>
          <span class="s1">setter </span><span class="s2">= </span><span class="s1">getterOrOptions</span><span class="s2">.</span><span class="s1">set</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">watcher </span><span class="s2">= </span><span class="s1">isServerRendering</span><span class="s2">()</span>
          <span class="s2">? </span><span class="s3">null</span>
          <span class="s2">: </span><span class="s3">new </span><span class="s1">Watcher</span><span class="s2">(</span><span class="s1">currentInstance</span><span class="s2">, </span><span class="s1">getter</span><span class="s2">, </span><span class="s1">noop</span><span class="s2">, { </span><span class="s1">lazy</span><span class="s2">: </span><span class="s3">true </span><span class="s2">});</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">watcher </span><span class="s2">&amp;&amp; </span><span class="s1">debugOptions</span><span class="s2">) {</span>
          <span class="s1">watcher</span><span class="s2">.</span><span class="s1">onTrack </span><span class="s2">= </span><span class="s1">debugOptions</span><span class="s2">.</span><span class="s1">onTrack</span><span class="s2">;</span>
          <span class="s1">watcher</span><span class="s2">.</span><span class="s1">onTrigger </span><span class="s2">= </span><span class="s1">debugOptions</span><span class="s2">.</span><span class="s1">onTrigger</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">ref </span><span class="s2">= {</span>
          <span class="s0">// some libs rely on the presence effect for checking computed refs</span>
          <span class="s0">// from normal refs, but the implementation doesn't matter</span>
          <span class="s1">effect</span><span class="s2">: </span><span class="s1">watcher</span><span class="s2">,</span>
          <span class="s1">get value</span><span class="s2">() {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">dirty</span><span class="s2">) {</span>
                      <span class="s1">watcher</span><span class="s2">.</span><span class="s1">evaluate</span><span class="s2">();</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">.</span><span class="s1">onTrack</span><span class="s2">) {</span>
                          <span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">.</span><span class="s1">onTrack</span><span class="s2">({</span>
                              <span class="s1">effect</span><span class="s2">: </span><span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">,</span>
                              <span class="s1">target</span><span class="s2">: </span><span class="s1">ref</span><span class="s2">,</span>
                              <span class="s1">type</span><span class="s2">: </span><span class="s4">&quot;get&quot; </span><span class="s0">/* TrackOpTypes.GET */</span><span class="s2">,</span>
                              <span class="s1">key</span><span class="s2">: </span><span class="s4">'value'</span>
                          <span class="s2">});</span>
                      <span class="s2">}</span>
                      <span class="s1">watcher</span><span class="s2">.</span><span class="s1">depend</span><span class="s2">();</span>
                  <span class="s2">}</span>
                  <span class="s3">return </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s3">return </span><span class="s1">getter</span><span class="s2">();</span>
              <span class="s2">}</span>
          <span class="s2">},</span>
          <span class="s1">set value</span><span class="s2">(</span><span class="s1">newVal</span><span class="s2">) {</span>
              <span class="s1">setter</span><span class="s2">(</span><span class="s1">newVal</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">, </span><span class="s1">RefFlag</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">, </span><span class="s4">&quot;__v_isReadonly&quot; </span><span class="s0">/* ReactiveFlags.IS_READONLY */</span><span class="s2">, </span><span class="s1">onlyGetter</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">ref</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">mark</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">measure</span><span class="s2">;</span>
  <span class="s2">{</span>
      <span class="s3">var </span><span class="s1">perf_1 </span><span class="s2">= </span><span class="s1">inBrowser </span><span class="s2">&amp;&amp; </span><span class="s1">window</span><span class="s2">.</span><span class="s1">performance</span><span class="s2">;</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">perf_1 </span><span class="s2">&amp;&amp;</span>
          <span class="s0">// @ts-ignore</span>
          <span class="s1">perf_1</span><span class="s2">.</span><span class="s1">mark </span><span class="s2">&amp;&amp;</span>
          <span class="s0">// @ts-ignore</span>
          <span class="s1">perf_1</span><span class="s2">.</span><span class="s1">measure </span><span class="s2">&amp;&amp;</span>
          <span class="s0">// @ts-ignore</span>
          <span class="s1">perf_1</span><span class="s2">.</span><span class="s1">clearMarks </span><span class="s2">&amp;&amp;</span>
          <span class="s0">// @ts-ignore</span>
          <span class="s1">perf_1</span><span class="s2">.</span><span class="s1">clearMeasures</span><span class="s2">) {</span>
          <span class="s1">mark </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">tag</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">perf_1</span><span class="s2">.</span><span class="s1">mark</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">); };</span>
          <span class="s1">measure </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s1">startTag</span><span class="s2">, </span><span class="s1">endTag</span><span class="s2">) {</span>
              <span class="s1">perf_1</span><span class="s2">.</span><span class="s1">measure</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s1">startTag</span><span class="s2">, </span><span class="s1">endTag</span><span class="s2">);</span>
              <span class="s1">perf_1</span><span class="s2">.</span><span class="s1">clearMarks</span><span class="s2">(</span><span class="s1">startTag</span><span class="s2">);</span>
              <span class="s1">perf_1</span><span class="s2">.</span><span class="s1">clearMarks</span><span class="s2">(</span><span class="s1">endTag</span><span class="s2">);</span>
              <span class="s0">// perf.clearMeasures(name)</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">normalizeEvent </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">name</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">passive </span><span class="s2">= </span><span class="s1">name</span><span class="s2">.</span><span class="s1">charAt</span><span class="s2">(</span><span class="s6">0</span><span class="s2">) === </span><span class="s4">'&amp;'</span><span class="s2">;</span>
      <span class="s1">name </span><span class="s2">= </span><span class="s1">passive </span><span class="s2">? </span><span class="s1">name</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">1</span><span class="s2">) : </span><span class="s1">name</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">once </span><span class="s2">= </span><span class="s1">name</span><span class="s2">.</span><span class="s1">charAt</span><span class="s2">(</span><span class="s6">0</span><span class="s2">) === </span><span class="s4">'~'</span><span class="s2">; </span><span class="s0">// Prefixed last, checked first</span>
      <span class="s1">name </span><span class="s2">= </span><span class="s1">once </span><span class="s2">? </span><span class="s1">name</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">1</span><span class="s2">) : </span><span class="s1">name</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">capture </span><span class="s2">= </span><span class="s1">name</span><span class="s2">.</span><span class="s1">charAt</span><span class="s2">(</span><span class="s6">0</span><span class="s2">) === </span><span class="s4">'!'</span><span class="s2">;</span>
      <span class="s1">name </span><span class="s2">= </span><span class="s1">capture </span><span class="s2">? </span><span class="s1">name</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">1</span><span class="s2">) : </span><span class="s1">name</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s2">{</span>
          <span class="s1">name</span><span class="s2">: </span><span class="s1">name</span><span class="s2">,</span>
          <span class="s1">once</span><span class="s2">: </span><span class="s1">once</span><span class="s2">,</span>
          <span class="s1">capture</span><span class="s2">: </span><span class="s1">capture</span><span class="s2">,</span>
          <span class="s1">passive</span><span class="s2">: </span><span class="s1">passive</span>
      <span class="s2">};</span>
  <span class="s2">});</span>
  <span class="s3">function </span><span class="s1">createFnInvoker</span><span class="s2">(</span><span class="s1">fns</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">function </span><span class="s1">invoker</span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">fns </span><span class="s2">= </span><span class="s1">invoker</span><span class="s2">.</span><span class="s1">fns</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">fns</span><span class="s2">)) {</span>
              <span class="s3">var </span><span class="s1">cloned </span><span class="s2">= </span><span class="s1">fns</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">();</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">cloned</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">invokeWithErrorHandling</span><span class="s2">(</span><span class="s1">cloned</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s3">null</span><span class="s2">, </span><span class="s1">arguments</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s4">&quot;v-on handler&quot;</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s0">// return handler return value for single handlers</span>
              <span class="s3">return </span><span class="s1">invokeWithErrorHandling</span><span class="s2">(</span><span class="s1">fns</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s1">arguments</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s4">&quot;v-on handler&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s1">invoker</span><span class="s2">.</span><span class="s1">fns </span><span class="s2">= </span><span class="s1">fns</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s1">invoker</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">updateListeners</span><span class="s2">(</span><span class="s1">on</span><span class="s2">, </span><span class="s1">oldOn</span><span class="s2">, </span><span class="s1">add</span><span class="s2">, </span><span class="s1">remove</span><span class="s2">, </span><span class="s1">createOnceHandler</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">name</span><span class="s2">, </span><span class="s1">cur</span><span class="s2">, </span><span class="s1">old</span><span class="s2">, </span><span class="s1">event</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">name </span><span class="s3">in </span><span class="s1">on</span><span class="s2">) {</span>
          <span class="s1">cur </span><span class="s2">= </span><span class="s1">on</span><span class="s2">[</span><span class="s1">name</span><span class="s2">];</span>
          <span class="s1">old </span><span class="s2">= </span><span class="s1">oldOn</span><span class="s2">[</span><span class="s1">name</span><span class="s2">];</span>
          <span class="s1">event </span><span class="s2">= </span><span class="s1">normalizeEvent</span><span class="s2">(</span><span class="s1">name</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">cur</span><span class="s2">)) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Invalid handler for event </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">event</span><span class="s2">.</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">: got &quot;</span><span class="s2">) + </span><span class="s1">String</span><span class="s2">(</span><span class="s1">cur</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">old</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">cur</span><span class="s2">.</span><span class="s1">fns</span><span class="s2">)) {</span>
                  <span class="s1">cur </span><span class="s2">= </span><span class="s1">on</span><span class="s2">[</span><span class="s1">name</span><span class="s2">] = </span><span class="s1">createFnInvoker</span><span class="s2">(</span><span class="s1">cur</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">event</span><span class="s2">.</span><span class="s1">once</span><span class="s2">)) {</span>
                  <span class="s1">cur </span><span class="s2">= </span><span class="s1">on</span><span class="s2">[</span><span class="s1">name</span><span class="s2">] = </span><span class="s1">createOnceHandler</span><span class="s2">(</span><span class="s1">event</span><span class="s2">.</span><span class="s1">name</span><span class="s2">, </span><span class="s1">cur</span><span class="s2">, </span><span class="s1">event</span><span class="s2">.</span><span class="s1">capture</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">add</span><span class="s2">(</span><span class="s1">event</span><span class="s2">.</span><span class="s1">name</span><span class="s2">, </span><span class="s1">cur</span><span class="s2">, </span><span class="s1">event</span><span class="s2">.</span><span class="s1">capture</span><span class="s2">, </span><span class="s1">event</span><span class="s2">.</span><span class="s1">passive</span><span class="s2">, </span><span class="s1">event</span><span class="s2">.</span><span class="s1">params</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">cur </span><span class="s2">!== </span><span class="s1">old</span><span class="s2">) {</span>
              <span class="s1">old</span><span class="s2">.</span><span class="s1">fns </span><span class="s2">= </span><span class="s1">cur</span><span class="s2">;</span>
              <span class="s1">on</span><span class="s2">[</span><span class="s1">name</span><span class="s2">] = </span><span class="s1">old</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">name </span><span class="s3">in </span><span class="s1">oldOn</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">on</span><span class="s2">[</span><span class="s1">name</span><span class="s2">])) {</span>
              <span class="s1">event </span><span class="s2">= </span><span class="s1">normalizeEvent</span><span class="s2">(</span><span class="s1">name</span><span class="s2">);</span>
              <span class="s1">remove</span><span class="s2">(</span><span class="s1">event</span><span class="s2">.</span><span class="s1">name</span><span class="s2">, </span><span class="s1">oldOn</span><span class="s2">[</span><span class="s1">name</span><span class="s2">], </span><span class="s1">event</span><span class="s2">.</span><span class="s1">capture</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">mergeVNodeHook</span><span class="s2">(</span><span class="s1">def</span><span class="s2">, </span><span class="s1">hookKey</span><span class="s2">, </span><span class="s1">hook</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">def </span><span class="s3">instanceof </span><span class="s1">VNode</span><span class="s2">) {</span>
          <span class="s1">def </span><span class="s2">= </span><span class="s1">def</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook </span><span class="s2">|| (</span><span class="s1">def</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook </span><span class="s2">= {});</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">invoker</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">oldHook </span><span class="s2">= </span><span class="s1">def</span><span class="s2">[</span><span class="s1">hookKey</span><span class="s2">];</span>
      <span class="s3">function </span><span class="s1">wrappedHook</span><span class="s2">() {</span>
          <span class="s1">hook</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s3">this</span><span class="s2">, </span><span class="s1">arguments</span><span class="s2">);</span>
          <span class="s0">// important: remove merged hook to ensure it's called only once</span>
          <span class="s0">// and prevent memory leak</span>
          <span class="s1">remove$2</span><span class="s2">(</span><span class="s1">invoker</span><span class="s2">.</span><span class="s1">fns</span><span class="s2">, </span><span class="s1">wrappedHook</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldHook</span><span class="s2">)) {</span>
          <span class="s0">// no existing hook</span>
          <span class="s1">invoker </span><span class="s2">= </span><span class="s1">createFnInvoker</span><span class="s2">([</span><span class="s1">wrappedHook</span><span class="s2">]);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">oldHook</span><span class="s2">.</span><span class="s1">fns</span><span class="s2">) &amp;&amp; </span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">oldHook</span><span class="s2">.</span><span class="s1">merged</span><span class="s2">)) {</span>
              <span class="s0">// already a merged invoker</span>
              <span class="s1">invoker </span><span class="s2">= </span><span class="s1">oldHook</span><span class="s2">;</span>
              <span class="s1">invoker</span><span class="s2">.</span><span class="s1">fns</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">wrappedHook</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s0">// existing plain hook</span>
              <span class="s1">invoker </span><span class="s2">= </span><span class="s1">createFnInvoker</span><span class="s2">([</span><span class="s1">oldHook</span><span class="s2">, </span><span class="s1">wrappedHook</span><span class="s2">]);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s1">invoker</span><span class="s2">.</span><span class="s1">merged </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s1">def</span><span class="s2">[</span><span class="s1">hookKey</span><span class="s2">] = </span><span class="s1">invoker</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">extractPropsFromVNodeData</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">Ctor</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">) {</span>
      <span class="s0">// we are only extracting raw values here.</span>
      <span class="s0">// validation and default values are handled in the child</span>
      <span class="s0">// component itself.</span>
      <span class="s3">var </span><span class="s1">propOptions </span><span class="s2">= </span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">props</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">propOptions</span><span class="s2">)) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= {};</span>
      <span class="s3">var </span><span class="s1">attrs </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">, </span><span class="s1">props </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">props</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">attrs</span><span class="s2">) || </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">props</span><span class="s2">)) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">propOptions</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">altKey </span><span class="s2">= </span><span class="s1">hyphenate</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
              <span class="s2">{</span>
                  <span class="s3">var </span><span class="s1">keyInLowerCase </span><span class="s2">= </span><span class="s1">key</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">();</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s2">!== </span><span class="s1">keyInLowerCase </span><span class="s2">&amp;&amp; </span><span class="s1">attrs </span><span class="s2">&amp;&amp; </span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">attrs</span><span class="s2">, </span><span class="s1">keyInLowerCase</span><span class="s2">)) {</span>
                      <span class="s1">tip</span><span class="s2">(</span><span class="s4">&quot;Prop </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">keyInLowerCase</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">is passed to component &quot;</span><span class="s2">) +</span>
                          <span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">formatComponentName</span><span class="s2">(</span>
                          <span class="s0">// @ts-expect-error tag is string</span>
                          <span class="s1">tag </span><span class="s2">|| </span><span class="s1">Ctor</span><span class="s2">), </span><span class="s4">&quot;, but the declared prop name is&quot;</span><span class="s2">) +</span>
                          <span class="s4">&quot; </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">. &quot;</span><span class="s2">) +</span>
                          <span class="s4">&quot;Note that HTML attributes are case-insensitive and camelCased &quot; </span><span class="s2">+</span>
                          <span class="s4">&quot;props need to use their kebab-case equivalents when using in-DOM &quot; </span><span class="s2">+</span>
                          <span class="s4">&quot;templates. You should probably use </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">altKey</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">instead of </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">.&quot;</span><span class="s2">));</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s1">checkProp</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s1">props</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">altKey</span><span class="s2">, </span><span class="s3">true</span><span class="s2">) ||</span>
                  <span class="s1">checkProp</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s1">attrs</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">altKey</span><span class="s2">, </span><span class="s3">false</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">checkProp</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s1">hash</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">altKey</span><span class="s2">, </span><span class="s1">preserve</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">hash</span><span class="s2">)) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">hash</span><span class="s2">, </span><span class="s1">key</span><span class="s2">)) {</span>
              <span class="s1">res</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">hash</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">preserve</span><span class="s2">) {</span>
                  <span class="s3">delete </span><span class="s1">hash</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
              <span class="s2">}</span>
              <span class="s3">return true</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">hash</span><span class="s2">, </span><span class="s1">altKey</span><span class="s2">)) {</span>
              <span class="s1">res</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">hash</span><span class="s2">[</span><span class="s1">altKey</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">preserve</span><span class="s2">) {</span>
                  <span class="s3">delete </span><span class="s1">hash</span><span class="s2">[</span><span class="s1">altKey</span><span class="s2">];</span>
              <span class="s2">}</span>
              <span class="s3">return true</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return false</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s0">// The template compiler attempts to minimize the need for normalization by</span>
  <span class="s0">// statically analyzing the template at compile time.</span>
  <span class="s0">//</span>
  <span class="s0">// For plain HTML markup, normalization can be completely skipped because the</span>
  <span class="s0">// generated render function is guaranteed to return Array&lt;VNode&gt;. There are</span>
  <span class="s0">// two cases where extra normalization is needed:</span>
  <span class="s0">// 1. When the children contains components - because a functional component</span>
  <span class="s0">// may return an Array instead of a single root. In this case, just a simple</span>
  <span class="s0">// normalization is needed - if any child is an Array, we flatten the whole</span>
  <span class="s0">// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep</span>
  <span class="s0">// because functional components already normalize their own children.</span>
  <span class="s3">function </span><span class="s1">simpleNormalizeChildren</span><span class="s2">(</span><span class="s1">children</span><span class="s2">) {</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">])) {</span>
              <span class="s3">return </span><span class="s1">Array</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">([], </span><span class="s1">children</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">children</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s0">// 2. When the children contains constructs that always generated nested Arrays,</span>
  <span class="s0">// e.g. &lt;template&gt;, &lt;slot&gt;, v-for, or when the children is provided by user</span>
  <span class="s0">// with hand-written render functions / JSX. In such cases a full normalization</span>
  <span class="s0">// is needed to cater to all possible types of children values.</span>
  <span class="s3">function </span><span class="s1">normalizeChildren</span><span class="s2">(</span><span class="s1">children</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">isPrimitive</span><span class="s2">(</span><span class="s1">children</span><span class="s2">)</span>
          <span class="s2">? [</span><span class="s1">createTextVNode</span><span class="s2">(</span><span class="s1">children</span><span class="s2">)]</span>
          <span class="s2">: </span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">children</span><span class="s2">)</span>
              <span class="s2">? </span><span class="s1">normalizeArrayChildren</span><span class="s2">(</span><span class="s1">children</span><span class="s2">)</span>
              <span class="s2">: </span><span class="s1">undefined</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isTextNode</span><span class="s2">(</span><span class="s1">node</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">node</span><span class="s2">) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">text</span><span class="s2">) &amp;&amp; </span><span class="s1">isFalse</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">isComment</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">normalizeArrayChildren</span><span class="s2">(</span><span class="s1">children</span><span class="s2">, </span><span class="s1">nestedIndex</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= [];</span>
      <span class="s3">var </span><span class="s1">i</span><span class="s2">, </span><span class="s1">c</span><span class="s2">, </span><span class="s1">lastIndex</span><span class="s2">, </span><span class="s1">last</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">c </span><span class="s2">= </span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">c</span><span class="s2">) || </span><span class="s3">typeof </span><span class="s1">c </span><span class="s2">=== </span><span class="s4">'boolean'</span><span class="s2">)</span>
              <span class="s3">continue</span><span class="s2">;</span>
          <span class="s1">lastIndex </span><span class="s2">= </span><span class="s1">res</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">;</span>
          <span class="s1">last </span><span class="s2">= </span><span class="s1">res</span><span class="s2">[</span><span class="s1">lastIndex</span><span class="s2">];</span>
          <span class="s0">//  nested</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">c</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&gt; </span><span class="s6">0</span><span class="s2">) {</span>
                  <span class="s1">c </span><span class="s2">= </span><span class="s1">normalizeArrayChildren</span><span class="s2">(</span><span class="s1">c</span><span class="s2">, </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">nestedIndex </span><span class="s2">|| </span><span class="s4">''</span><span class="s2">, </span><span class="s4">&quot;_&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">i</span><span class="s2">));</span>
                  <span class="s0">// merge adjacent text nodes</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isTextNode</span><span class="s2">(</span><span class="s1">c</span><span class="s2">[</span><span class="s6">0</span><span class="s2">]) &amp;&amp; </span><span class="s1">isTextNode</span><span class="s2">(</span><span class="s1">last</span><span class="s2">)) {</span>
                      <span class="s1">res</span><span class="s2">[</span><span class="s1">lastIndex</span><span class="s2">] = </span><span class="s1">createTextVNode</span><span class="s2">(</span><span class="s1">last</span><span class="s2">.</span><span class="s1">text </span><span class="s2">+ </span><span class="s1">c</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">text</span><span class="s2">);</span>
                      <span class="s1">c</span><span class="s2">.</span><span class="s1">shift</span><span class="s2">();</span>
                  <span class="s2">}</span>
                  <span class="s1">res</span><span class="s2">.</span><span class="s1">push</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s1">c</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">isPrimitive</span><span class="s2">(</span><span class="s1">c</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isTextNode</span><span class="s2">(</span><span class="s1">last</span><span class="s2">)) {</span>
                  <span class="s0">// merge adjacent text nodes</span>
                  <span class="s0">// this is necessary for SSR hydration because text nodes are</span>
                  <span class="s0">// essentially merged when rendered to HTML strings</span>
                  <span class="s1">res</span><span class="s2">[</span><span class="s1">lastIndex</span><span class="s2">] = </span><span class="s1">createTextVNode</span><span class="s2">(</span><span class="s1">last</span><span class="s2">.</span><span class="s1">text </span><span class="s2">+ </span><span class="s1">c</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">c </span><span class="s2">!== </span><span class="s4">''</span><span class="s2">) {</span>
                  <span class="s0">// convert primitive to vnode</span>
                  <span class="s1">res</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">createTextVNode</span><span class="s2">(</span><span class="s1">c</span><span class="s2">));</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isTextNode</span><span class="s2">(</span><span class="s1">c</span><span class="s2">) &amp;&amp; </span><span class="s1">isTextNode</span><span class="s2">(</span><span class="s1">last</span><span class="s2">)) {</span>
                  <span class="s0">// merge adjacent text nodes</span>
                  <span class="s1">res</span><span class="s2">[</span><span class="s1">lastIndex</span><span class="s2">] = </span><span class="s1">createTextVNode</span><span class="s2">(</span><span class="s1">last</span><span class="s2">.</span><span class="s1">text </span><span class="s2">+ </span><span class="s1">c</span><span class="s2">.</span><span class="s1">text</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s0">// default key for nested array children (likely generated by v-for)</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">children</span><span class="s2">.</span><span class="s1">_isVList</span><span class="s2">) &amp;&amp;</span>
                      <span class="s1">isDef</span><span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">) &amp;&amp;</span>
                      <span class="s1">isUndef</span><span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">key</span><span class="s2">) &amp;&amp;</span>
                      <span class="s1">isDef</span><span class="s2">(</span><span class="s1">nestedIndex</span><span class="s2">)) {</span>
                      <span class="s1">c</span><span class="s2">.</span><span class="s1">key </span><span class="s2">= </span><span class="s4">&quot;__vlist&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">nestedIndex</span><span class="s2">, </span><span class="s4">&quot;_&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">i</span><span class="s2">, </span><span class="s4">&quot;__&quot;</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s1">res</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">c</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">SIMPLE_NORMALIZE </span><span class="s2">= </span><span class="s6">1</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">ALWAYS_NORMALIZE </span><span class="s2">= </span><span class="s6">2</span><span class="s2">;</span>
  <span class="s0">// wrapper function for providing a more flexible interface</span>
  <span class="s0">// without getting yelled at by flow</span>
  <span class="s3">function </span><span class="s1">createElement$1</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">normalizationType</span><span class="s2">, </span><span class="s1">alwaysNormalize</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) || </span><span class="s1">isPrimitive</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)) {</span>
          <span class="s1">normalizationType </span><span class="s2">= </span><span class="s1">children</span><span class="s2">;</span>
          <span class="s1">children </span><span class="s2">= </span><span class="s1">data</span><span class="s2">;</span>
          <span class="s1">data </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">alwaysNormalize</span><span class="s2">)) {</span>
          <span class="s1">normalizationType </span><span class="s2">= </span><span class="s1">ALWAYS_NORMALIZE</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">_createElement</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">normalizationType</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">_createElement</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">normalizationType</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Avoid using observed data object as vnode data: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">data</span><span class="s2">), </span><span class="s4">&quot;</span><span class="s3">\n</span><span class="s4">&quot;</span><span class="s2">) + </span><span class="s4">'Always create fresh vnode data objects in each render!'</span><span class="s2">, </span><span class="s1">context</span><span class="s2">);</span>
          <span class="s3">return </span><span class="s1">createEmptyVNode</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s0">// object syntax in v-bind</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">is</span><span class="s2">)) {</span>
          <span class="s1">tag </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">is</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">tag</span><span class="s2">) {</span>
          <span class="s0">// in case of component :is set to falsy value</span>
          <span class="s3">return </span><span class="s1">createEmptyVNode</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s0">// warn against non-primitive key</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">key</span><span class="s2">) &amp;&amp; !</span><span class="s1">isPrimitive</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">key</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Avoid using non-primitive value as key, ' </span><span class="s2">+</span>
              <span class="s4">'use string/number value instead.'</span><span class="s2">, </span><span class="s1">context</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// support single function children as default scoped slot</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">children</span><span class="s2">) &amp;&amp; </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">children</span><span class="s2">[</span><span class="s6">0</span><span class="s2">])) {</span>
          <span class="s1">data </span><span class="s2">= </span><span class="s1">data </span><span class="s2">|| {};</span>
          <span class="s1">data</span><span class="s2">.</span><span class="s1">scopedSlots </span><span class="s2">= { </span><span class="s3">default</span><span class="s2">: </span><span class="s1">children</span><span class="s2">[</span><span class="s6">0</span><span class="s2">] };</span>
          <span class="s1">children</span><span class="s2">.</span><span class="s1">length </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">normalizationType </span><span class="s2">=== </span><span class="s1">ALWAYS_NORMALIZE</span><span class="s2">) {</span>
          <span class="s1">children </span><span class="s2">= </span><span class="s1">normalizeChildren</span><span class="s2">(</span><span class="s1">children</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">normalizationType </span><span class="s2">=== </span><span class="s1">SIMPLE_NORMALIZE</span><span class="s2">) {</span>
          <span class="s1">children </span><span class="s2">= </span><span class="s1">simpleNormalizeChildren</span><span class="s2">(</span><span class="s1">children</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">ns</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'string'</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">Ctor </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
          <span class="s1">ns </span><span class="s2">= (</span><span class="s1">context</span><span class="s2">.</span><span class="s1">$vnode </span><span class="s2">&amp;&amp; </span><span class="s1">context</span><span class="s2">.</span><span class="s1">$vnode</span><span class="s2">.</span><span class="s1">ns</span><span class="s2">) || </span><span class="s1">config</span><span class="s2">.</span><span class="s1">getTagNamespace</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">isReservedTag</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">)) {</span>
              <span class="s0">// platform built-in elements</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) &amp;&amp;</span>
                  <span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">nativeOn</span><span class="s2">) &amp;&amp;</span>
                  <span class="s1">data</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">!== </span><span class="s4">'component'</span><span class="s2">) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;The .native modifier for v-on is only valid on components but it was used on &lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot;&gt;.&quot;</span><span class="s2">), </span><span class="s1">context</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">vnode </span><span class="s2">= </span><span class="s3">new </span><span class="s1">VNode</span><span class="s2">(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">parsePlatformTagName</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">), </span><span class="s1">data</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">context</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">((!</span><span class="s1">data </span><span class="s2">|| !</span><span class="s1">data</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">) &amp;&amp;</span>
              <span class="s1">isDef</span><span class="s2">((</span><span class="s1">Ctor </span><span class="s2">= </span><span class="s1">resolveAsset</span><span class="s2">(</span><span class="s1">context</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">, </span><span class="s4">'components'</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">)))) {</span>
              <span class="s0">// component</span>
              <span class="s1">vnode </span><span class="s2">= </span><span class="s1">createComponent</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">context</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s0">// unknown or unlisted namespaced elements</span>
              <span class="s0">// check at runtime because it may get assigned a namespace when its</span>
              <span class="s0">// parent normalizes children</span>
              <span class="s1">vnode </span><span class="s2">= </span><span class="s3">new </span><span class="s1">VNode</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">context</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s0">// direct component options / constructor</span>
          <span class="s1">vnode </span><span class="s2">= </span><span class="s1">createComponent</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">context</span><span class="s2">, </span><span class="s1">children</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">vnode</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">)) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">ns</span><span class="s2">))</span>
              <span class="s1">applyNS</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">ns</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">))</span>
              <span class="s1">registerDeepBindings</span><span class="s2">(</span><span class="s1">data</span><span class="s2">);</span>
          <span class="s3">return </span><span class="s1">vnode</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">createEmptyVNode</span><span class="s2">();</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">applyNS</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">ns</span><span class="s2">, </span><span class="s1">force</span><span class="s2">) {</span>
      <span class="s1">vnode</span><span class="s2">.</span><span class="s1">ns </span><span class="s2">= </span><span class="s1">ns</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'foreignObject'</span><span class="s2">) {</span>
          <span class="s0">// use default namespace inside foreignObject</span>
          <span class="s1">ns </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
          <span class="s1">force </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">)) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">var </span><span class="s1">child </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">child</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">) &amp;&amp;</span>
                  <span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">child</span><span class="s2">.</span><span class="s1">ns</span><span class="s2">) || (</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">force</span><span class="s2">) &amp;&amp; </span><span class="s1">child</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">!== </span><span class="s4">'svg'</span><span class="s2">))) {</span>
                  <span class="s1">applyNS</span><span class="s2">(</span><span class="s1">child</span><span class="s2">, </span><span class="s1">ns</span><span class="s2">, </span><span class="s1">force</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s0">// ref #5318</span>
  <span class="s0">// necessary to ensure parent re-render when deep bindings like :style and</span>
  <span class="s0">// :class are used on slot nodes</span>
  <span class="s3">function </span><span class="s1">registerDeepBindings</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">style</span><span class="s2">)) {</span>
          <span class="s1">traverse</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">style</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">class</span><span class="s2">)) {</span>
          <span class="s1">traverse</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">class</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Runtime helper for rendering v-for lists.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">renderList</span><span class="s2">(</span><span class="s1">val</span><span class="s2">, </span><span class="s1">render</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">ret </span><span class="s2">= </span><span class="s3">null</span><span class="s2">, </span><span class="s1">i</span><span class="s2">, </span><span class="s1">l</span><span class="s2">, </span><span class="s1">keys</span><span class="s2">, </span><span class="s1">key</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) || </span><span class="s3">typeof </span><span class="s1">val </span><span class="s2">=== </span><span class="s4">'string'</span><span class="s2">) {</span>
          <span class="s1">ret </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Array</span><span class="s2">(</span><span class="s1">val</span><span class="s2">.</span><span class="s1">length</span><span class="s2">);</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">val</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">ret</span><span class="s2">[</span><span class="s1">i</span><span class="s2">] = </span><span class="s1">render</span><span class="s2">(</span><span class="s1">val</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">i</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">val </span><span class="s2">=== </span><span class="s4">'number'</span><span class="s2">) {</span>
          <span class="s1">ret </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Array</span><span class="s2">(</span><span class="s1">val</span><span class="s2">);</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">val</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">ret</span><span class="s2">[</span><span class="s1">i</span><span class="s2">] = </span><span class="s1">render</span><span class="s2">(</span><span class="s1">i </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">, </span><span class="s1">i</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">val</span><span class="s2">)) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">hasSymbol </span><span class="s2">&amp;&amp; </span><span class="s1">val</span><span class="s2">[</span><span class="s1">Symbol</span><span class="s2">.</span><span class="s1">iterator</span><span class="s2">]) {</span>
              <span class="s1">ret </span><span class="s2">= [];</span>
              <span class="s3">var </span><span class="s1">iterator </span><span class="s2">= </span><span class="s1">val</span><span class="s2">[</span><span class="s1">Symbol</span><span class="s2">.</span><span class="s1">iterator</span><span class="s2">]();</span>
              <span class="s3">var </span><span class="s1">result </span><span class="s2">= </span><span class="s1">iterator</span><span class="s2">.</span><span class="s1">next</span><span class="s2">();</span>
              <span class="s3">while </span><span class="s2">(!</span><span class="s1">result</span><span class="s2">.</span><span class="s1">done</span><span class="s2">) {</span>
                  <span class="s1">ret</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">render</span><span class="s2">(</span><span class="s1">result</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s1">ret</span><span class="s2">.</span><span class="s1">length</span><span class="s2">));</span>
                  <span class="s1">result </span><span class="s2">= </span><span class="s1">iterator</span><span class="s2">.</span><span class="s1">next</span><span class="s2">();</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">keys </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">val</span><span class="s2">);</span>
              <span class="s1">ret </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Array</span><span class="s2">(</span><span class="s1">keys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">);</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">keys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">key </span><span class="s2">= </span><span class="s1">keys</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
                  <span class="s1">ret</span><span class="s2">[</span><span class="s1">i</span><span class="s2">] = </span><span class="s1">render</span><span class="s2">(</span><span class="s1">val</span><span class="s2">[</span><span class="s1">key</span><span class="s2">], </span><span class="s1">key</span><span class="s2">, </span><span class="s1">i</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">ret</span><span class="s2">)) {</span>
          <span class="s1">ret </span><span class="s2">= [];</span>
      <span class="s2">}</span>
      <span class="s1">ret</span><span class="s2">.</span><span class="s1">_isVList </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s1">ret</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Runtime helper for rendering &lt;slot&gt;</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">renderSlot</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s1">fallbackRender</span><span class="s2">, </span><span class="s1">props</span><span class="s2">, </span><span class="s1">bindObject</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">scopedSlotFn </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">$scopedSlots</span><span class="s2">[</span><span class="s1">name</span><span class="s2">];</span>
      <span class="s3">var </span><span class="s1">nodes</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">scopedSlotFn</span><span class="s2">) {</span>
          <span class="s0">// scoped slot</span>
          <span class="s1">props </span><span class="s2">= </span><span class="s1">props </span><span class="s2">|| {};</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">bindObject</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">bindObject</span><span class="s2">)) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'slot v-bind without argument expects an Object'</span><span class="s2">, </span><span class="s3">this</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">props </span><span class="s2">= </span><span class="s1">extend</span><span class="s2">(</span><span class="s1">extend</span><span class="s2">({}, </span><span class="s1">bindObject</span><span class="s2">), </span><span class="s1">props</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">nodes </span><span class="s2">=</span>
              <span class="s1">scopedSlotFn</span><span class="s2">(</span><span class="s1">props</span><span class="s2">) ||</span>
                  <span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">fallbackRender</span><span class="s2">) ? </span><span class="s1">fallbackRender</span><span class="s2">() : </span><span class="s1">fallbackRender</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">nodes </span><span class="s2">=</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">$slots</span><span class="s2">[</span><span class="s1">name</span><span class="s2">] ||</span>
                  <span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">fallbackRender</span><span class="s2">) ? </span><span class="s1">fallbackRender</span><span class="s2">() : </span><span class="s1">fallbackRender</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">target </span><span class="s2">= </span><span class="s1">props </span><span class="s2">&amp;&amp; </span><span class="s1">props</span><span class="s2">.</span><span class="s1">slot</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">target</span><span class="s2">) {</span>
          <span class="s3">return this</span><span class="s2">.</span><span class="s1">$createElement</span><span class="s2">(</span><span class="s4">'template'</span><span class="s2">, { </span><span class="s1">slot</span><span class="s2">: </span><span class="s1">target </span><span class="s2">}, </span><span class="s1">nodes</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">nodes</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Runtime helper for resolving filters</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">resolveFilter</span><span class="s2">(</span><span class="s1">id</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">resolveAsset</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">, </span><span class="s4">'filters'</span><span class="s2">, </span><span class="s1">id</span><span class="s2">, </span><span class="s3">true</span><span class="s2">) || </span><span class="s1">identity</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">isKeyNotMatch</span><span class="s2">(</span><span class="s1">expect</span><span class="s2">, </span><span class="s1">actual</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">expect</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">expect</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">actual</span><span class="s2">) === -</span><span class="s6">1</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">expect </span><span class="s2">!== </span><span class="s1">actual</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Runtime helper for checking keyCodes from config.</span>
   <span class="s5">* exposed as Vue.prototype._k</span>
   <span class="s5">* passing in eventKeyName as last argument separately for backwards compat</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">checkKeyCodes</span><span class="s2">(</span><span class="s1">eventKeyCode</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">builtInKeyCode</span><span class="s2">, </span><span class="s1">eventKeyName</span><span class="s2">, </span><span class="s1">builtInKeyName</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">mappedKeyCode </span><span class="s2">= </span><span class="s1">config</span><span class="s2">.</span><span class="s1">keyCodes</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] || </span><span class="s1">builtInKeyCode</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">builtInKeyName </span><span class="s2">&amp;&amp; </span><span class="s1">eventKeyName </span><span class="s2">&amp;&amp; !</span><span class="s1">config</span><span class="s2">.</span><span class="s1">keyCodes</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]) {</span>
          <span class="s3">return </span><span class="s1">isKeyNotMatch</span><span class="s2">(</span><span class="s1">builtInKeyName</span><span class="s2">, </span><span class="s1">eventKeyName</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">mappedKeyCode</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">isKeyNotMatch</span><span class="s2">(</span><span class="s1">mappedKeyCode</span><span class="s2">, </span><span class="s1">eventKeyCode</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">eventKeyName</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">hyphenate</span><span class="s2">(</span><span class="s1">eventKeyName</span><span class="s2">) !== </span><span class="s1">key</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">eventKeyCode </span><span class="s2">=== </span><span class="s1">undefined</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Runtime helper for merging v-bind=&quot;object&quot; into a VNode's data.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">bindObjectProps</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">asProp</span><span class="s2">, </span><span class="s1">isSync</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'v-bind without argument expects an Object or Array value'</span><span class="s2">, </span><span class="s3">this</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
                  <span class="s1">value </span><span class="s2">= </span><span class="s1">toObject</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">var </span><span class="s1">hash </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">_loop_1 </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">key</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'class' </span><span class="s2">|| </span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'style' </span><span class="s2">|| </span><span class="s1">isReservedAttribute</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
                      <span class="s1">hash </span><span class="s2">= </span><span class="s1">data</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s3">var </span><span class="s1">type </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">&amp;&amp; </span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">.</span><span class="s1">type</span><span class="s2">;</span>
                      <span class="s1">hash </span><span class="s2">=</span>
                          <span class="s1">asProp </span><span class="s2">|| </span><span class="s1">config</span><span class="s2">.</span><span class="s1">mustUseProp</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">type</span><span class="s2">, </span><span class="s1">key</span><span class="s2">)</span>
                              <span class="s2">? </span><span class="s1">data</span><span class="s2">.</span><span class="s1">domProps </span><span class="s2">|| (</span><span class="s1">data</span><span class="s2">.</span><span class="s1">domProps </span><span class="s2">= {})</span>
                              <span class="s2">: </span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">|| (</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">= {});</span>
                  <span class="s2">}</span>
                  <span class="s3">var </span><span class="s1">camelizedKey </span><span class="s2">= </span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
                  <span class="s3">var </span><span class="s1">hyphenatedKey </span><span class="s2">= </span><span class="s1">hyphenate</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(!(</span><span class="s1">camelizedKey </span><span class="s3">in </span><span class="s1">hash</span><span class="s2">) &amp;&amp; !(</span><span class="s1">hyphenatedKey </span><span class="s3">in </span><span class="s1">hash</span><span class="s2">)) {</span>
                      <span class="s1">hash</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">value</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">isSync</span><span class="s2">) {</span>
                          <span class="s3">var </span><span class="s1">on </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">on </span><span class="s2">|| (</span><span class="s1">data</span><span class="s2">.</span><span class="s1">on </span><span class="s2">= {});</span>
                          <span class="s1">on</span><span class="s2">[</span><span class="s4">&quot;update:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)] = </span><span class="s3">function </span><span class="s2">(</span><span class="s1">$event</span><span class="s2">) {</span>
                              <span class="s1">value</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">$event</span><span class="s2">;</span>
                          <span class="s2">};</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
              <span class="s2">};</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">value</span><span class="s2">) {</span>
                  <span class="s1">_loop_1</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">data</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Runtime helper for rendering static trees.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">renderStatic</span><span class="s2">(</span><span class="s1">index</span><span class="s2">, </span><span class="s1">isInFor</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">cached </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">_staticTrees </span><span class="s2">|| (</span><span class="s3">this</span><span class="s2">.</span><span class="s1">_staticTrees </span><span class="s2">= []);</span>
      <span class="s3">var </span><span class="s1">tree </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">[</span><span class="s1">index</span><span class="s2">];</span>
      <span class="s0">// if has already-rendered static tree and not inside v-for,</span>
      <span class="s0">// we can reuse the same tree.</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">tree </span><span class="s2">&amp;&amp; !</span><span class="s1">isInFor</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">tree</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// otherwise, render a fresh tree.</span>
      <span class="s1">tree </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">[</span><span class="s1">index</span><span class="s2">] = </span><span class="s3">this</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">staticRenderFns</span><span class="s2">[</span><span class="s1">index</span><span class="s2">].</span><span class="s1">call</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">_renderProxy</span><span class="s2">, </span><span class="s3">this</span><span class="s2">.</span><span class="s1">_c</span><span class="s2">, </span><span class="s3">this </span><span class="s0">// for render fns generated for functional component templates</span>
      <span class="s2">);</span>
      <span class="s1">markStatic$1</span><span class="s2">(</span><span class="s1">tree</span><span class="s2">, </span><span class="s4">&quot;__static__&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">index</span><span class="s2">), </span><span class="s3">false</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">tree</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Runtime helper for v-once.</span>
   <span class="s5">* Effectively it means marking the node as static with a unique key.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">markOnce</span><span class="s2">(</span><span class="s1">tree</span><span class="s2">, </span><span class="s1">index</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s1">markStatic$1</span><span class="s2">(</span><span class="s1">tree</span><span class="s2">, </span><span class="s4">&quot;__once__&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">index</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key </span><span class="s2">? </span><span class="s4">&quot;_&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">) : </span><span class="s4">&quot;&quot;</span><span class="s2">), </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">tree</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">markStatic$1</span><span class="s2">(</span><span class="s1">tree</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">isOnce</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">tree</span><span class="s2">)) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">tree</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">tree</span><span class="s2">[</span><span class="s1">i</span><span class="s2">] &amp;&amp; </span><span class="s3">typeof </span><span class="s1">tree</span><span class="s2">[</span><span class="s1">i</span><span class="s2">] !== </span><span class="s4">'string'</span><span class="s2">) {</span>
                  <span class="s1">markStaticNode</span><span class="s2">(</span><span class="s1">tree</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;_&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">i</span><span class="s2">), </span><span class="s1">isOnce</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">markStaticNode</span><span class="s2">(</span><span class="s1">tree</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">isOnce</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">markStaticNode</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">isOnce</span><span class="s2">) {</span>
      <span class="s1">node</span><span class="s2">.</span><span class="s1">isStatic </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s1">node</span><span class="s2">.</span><span class="s1">key </span><span class="s2">= </span><span class="s1">key</span><span class="s2">;</span>
      <span class="s1">node</span><span class="s2">.</span><span class="s1">isOnce </span><span class="s2">= </span><span class="s1">isOnce</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">bindObjectListeners</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'v-on without argument expects an Object value'</span><span class="s2">, </span><span class="s3">this</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">var </span><span class="s1">on </span><span class="s2">= (</span><span class="s1">data</span><span class="s2">.</span><span class="s1">on </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">on </span><span class="s2">? </span><span class="s1">extend</span><span class="s2">({}, </span><span class="s1">data</span><span class="s2">.</span><span class="s1">on</span><span class="s2">) : {});</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">value</span><span class="s2">) {</span>
                  <span class="s3">var </span><span class="s1">existing </span><span class="s2">= </span><span class="s1">on</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
                  <span class="s3">var </span><span class="s1">ours </span><span class="s2">= </span><span class="s1">value</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
                  <span class="s1">on</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">existing </span><span class="s2">? [].</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">existing</span><span class="s2">, </span><span class="s1">ours</span><span class="s2">) : </span><span class="s1">ours</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">data</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">resolveScopedSlots</span><span class="s2">(</span><span class="s1">fns</span><span class="s2">, </span><span class="s1">res</span><span class="s2">, </span>
  <span class="s0">// the following are added in 2.6</span>
  <span class="s1">hasDynamicKeys</span><span class="s2">, </span><span class="s1">contentHashKey</span><span class="s2">) {</span>
      <span class="s1">res </span><span class="s2">= </span><span class="s1">res </span><span class="s2">|| { </span><span class="s1">$stable</span><span class="s2">: !</span><span class="s1">hasDynamicKeys </span><span class="s2">};</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">fns</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">var </span><span class="s1">slot </span><span class="s2">= </span><span class="s1">fns</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">slot</span><span class="s2">)) {</span>
              <span class="s1">resolveScopedSlots</span><span class="s2">(</span><span class="s1">slot</span><span class="s2">, </span><span class="s1">res</span><span class="s2">, </span><span class="s1">hasDynamicKeys</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">slot</span><span class="s2">) {</span>
              <span class="s0">// marker for reverse proxying v-slot without scope on this.$slots</span>
              <span class="s0">// @ts-expect-error</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">slot</span><span class="s2">.</span><span class="s1">proxy</span><span class="s2">) {</span>
                  <span class="s0">// @ts-expect-error</span>
                  <span class="s1">slot</span><span class="s2">.</span><span class="s1">fn</span><span class="s2">.</span><span class="s1">proxy </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s1">res</span><span class="s2">[</span><span class="s1">slot</span><span class="s2">.</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">slot</span><span class="s2">.</span><span class="s1">fn</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">contentHashKey</span><span class="s2">) {</span>
          <span class="s1">res</span><span class="s2">.</span><span class="s1">$key </span><span class="s2">= </span><span class="s1">contentHashKey</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s0">// helper to process dynamic keys for dynamic arguments in v-bind and v-on.</span>
  <span class="s3">function </span><span class="s1">bindDynamicKeys</span><span class="s2">(</span><span class="s1">baseObj</span><span class="s2">, </span><span class="s1">values</span><span class="s2">) {</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">values</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">+= </span><span class="s6">2</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s1">values</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'string' </span><span class="s2">&amp;&amp; </span><span class="s1">key</span><span class="s2">) {</span>
              <span class="s1">baseObj</span><span class="s2">[</span><span class="s1">values</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]] = </span><span class="s1">values</span><span class="s2">[</span><span class="s1">i </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">];</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">key </span><span class="s2">!== </span><span class="s4">'' </span><span class="s2">&amp;&amp; </span><span class="s1">key </span><span class="s2">!== </span><span class="s3">null</span><span class="s2">) {</span>
              <span class="s0">// null is a special value for explicitly removing a binding</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Invalid value for dynamic directive argument (expected string or null): &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">), </span><span class="s3">this</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">baseObj</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s0">// helper to dynamically append modifier runtime markers to event names.</span>
  <span class="s0">// ensure only append when value is already string, otherwise it will be cast</span>
  <span class="s0">// to string and cause the type check to miss.</span>
  <span class="s3">function </span><span class="s1">prependModifier</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">symbol</span><span class="s2">) {</span>
      <span class="s3">return typeof </span><span class="s1">value </span><span class="s2">=== </span><span class="s4">'string' </span><span class="s2">? </span><span class="s1">symbol </span><span class="s2">+ </span><span class="s1">value </span><span class="s2">: </span><span class="s1">value</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">installRenderHelpers</span><span class="s2">(</span><span class="s1">target</span><span class="s2">) {</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_o </span><span class="s2">= </span><span class="s1">markOnce</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_n </span><span class="s2">= </span><span class="s1">toNumber</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_s </span><span class="s2">= </span><span class="s1">toString</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_l </span><span class="s2">= </span><span class="s1">renderList</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_t </span><span class="s2">= </span><span class="s1">renderSlot</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_q </span><span class="s2">= </span><span class="s1">looseEqual</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_i </span><span class="s2">= </span><span class="s1">looseIndexOf</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_m </span><span class="s2">= </span><span class="s1">renderStatic</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_f </span><span class="s2">= </span><span class="s1">resolveFilter</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_k </span><span class="s2">= </span><span class="s1">checkKeyCodes</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_b </span><span class="s2">= </span><span class="s1">bindObjectProps</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_v </span><span class="s2">= </span><span class="s1">createTextVNode</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_e </span><span class="s2">= </span><span class="s1">createEmptyVNode</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_u </span><span class="s2">= </span><span class="s1">resolveScopedSlots</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_g </span><span class="s2">= </span><span class="s1">bindObjectListeners</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_d </span><span class="s2">= </span><span class="s1">bindDynamicKeys</span><span class="s2">;</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">_p </span><span class="s2">= </span><span class="s1">prependModifier</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Runtime helper for resolving raw children VNodes into a slot object.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">resolveSlots</span><span class="s2">(</span><span class="s1">children</span><span class="s2">, </span><span class="s1">context</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">children </span><span class="s2">|| !</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s2">{};</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">slots </span><span class="s2">= {};</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">var </span><span class="s1">child </span><span class="s2">= </span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s1">child</span><span class="s2">.</span><span class="s1">data</span><span class="s2">;</span>
          <span class="s0">// remove slot attribute if the node is resolved as a Vue slot node</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">data </span><span class="s2">&amp;&amp; </span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">&amp;&amp; </span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">.</span><span class="s1">slot</span><span class="s2">) {</span>
              <span class="s3">delete </span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">.</span><span class="s1">slot</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// named slots should only be respected if the vnode was rendered in the</span>
          <span class="s0">// same context.</span>
          <span class="s3">if </span><span class="s2">((</span><span class="s1">child</span><span class="s2">.</span><span class="s1">context </span><span class="s2">=== </span><span class="s1">context </span><span class="s2">|| </span><span class="s1">child</span><span class="s2">.</span><span class="s1">fnContext </span><span class="s2">=== </span><span class="s1">context</span><span class="s2">) &amp;&amp;</span>
              <span class="s1">data </span><span class="s2">&amp;&amp;</span>
              <span class="s1">data</span><span class="s2">.</span><span class="s1">slot </span><span class="s2">!= </span><span class="s3">null</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">name_1 </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">slot</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">slot </span><span class="s2">= </span><span class="s1">slots</span><span class="s2">[</span><span class="s1">name_1</span><span class="s2">] || (</span><span class="s1">slots</span><span class="s2">[</span><span class="s1">name_1</span><span class="s2">] = []);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">child</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'template'</span><span class="s2">) {</span>
                  <span class="s1">slot</span><span class="s2">.</span><span class="s1">push</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s1">slot</span><span class="s2">, </span><span class="s1">child</span><span class="s2">.</span><span class="s1">children </span><span class="s2">|| []);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">slot</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">child</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s2">(</span><span class="s1">slots</span><span class="s2">.</span><span class="s1">default </span><span class="s2">|| (</span><span class="s1">slots</span><span class="s2">.</span><span class="s1">default </span><span class="s2">= [])).</span><span class="s1">push</span><span class="s2">(</span><span class="s1">child</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// ignore slots that contains only whitespace</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">name_2 </span><span class="s3">in </span><span class="s1">slots</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">slots</span><span class="s2">[</span><span class="s1">name_2</span><span class="s2">].</span><span class="s1">every</span><span class="s2">(</span><span class="s1">isWhitespace</span><span class="s2">)) {</span>
              <span class="s3">delete </span><span class="s1">slots</span><span class="s2">[</span><span class="s1">name_2</span><span class="s2">];</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">slots</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isWhitespace</span><span class="s2">(</span><span class="s1">node</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">isComment </span><span class="s2">&amp;&amp; !</span><span class="s1">node</span><span class="s2">.</span><span class="s1">asyncFactory</span><span class="s2">) || </span><span class="s1">node</span><span class="s2">.</span><span class="s1">text </span><span class="s2">=== </span><span class="s4">' '</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">isAsyncPlaceholder</span><span class="s2">(</span><span class="s1">node</span><span class="s2">) {</span>
      <span class="s0">// @ts-expect-error not really boolean type</span>
      <span class="s3">return </span><span class="s1">node</span><span class="s2">.</span><span class="s1">isComment </span><span class="s2">&amp;&amp; </span><span class="s1">node</span><span class="s2">.</span><span class="s1">asyncFactory</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">normalizeScopedSlots</span><span class="s2">(</span><span class="s1">ownerVm</span><span class="s2">, </span><span class="s1">scopedSlots</span><span class="s2">, </span><span class="s1">normalSlots</span><span class="s2">, </span><span class="s1">prevScopedSlots</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">hasNormalSlots </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">normalSlots</span><span class="s2">).</span><span class="s1">length </span><span class="s2">&gt; </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">isStable </span><span class="s2">= </span><span class="s1">scopedSlots </span><span class="s2">? !!</span><span class="s1">scopedSlots</span><span class="s2">.</span><span class="s1">$stable </span><span class="s2">: !</span><span class="s1">hasNormalSlots</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s1">scopedSlots </span><span class="s2">&amp;&amp; </span><span class="s1">scopedSlots</span><span class="s2">.</span><span class="s1">$key</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">scopedSlots</span><span class="s2">) {</span>
          <span class="s1">res </span><span class="s2">= {};</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">scopedSlots</span><span class="s2">.</span><span class="s1">_normalized</span><span class="s2">) {</span>
          <span class="s0">// fast path 1: child component re-render only, parent did not change</span>
          <span class="s3">return </span><span class="s1">scopedSlots</span><span class="s2">.</span><span class="s1">_normalized</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isStable </span><span class="s2">&amp;&amp;</span>
          <span class="s1">prevScopedSlots </span><span class="s2">&amp;&amp;</span>
          <span class="s1">prevScopedSlots </span><span class="s2">!== </span><span class="s1">emptyObject </span><span class="s2">&amp;&amp;</span>
          <span class="s1">key </span><span class="s2">=== </span><span class="s1">prevScopedSlots</span><span class="s2">.</span><span class="s1">$key </span><span class="s2">&amp;&amp;</span>
          <span class="s2">!</span><span class="s1">hasNormalSlots </span><span class="s2">&amp;&amp;</span>
          <span class="s2">!</span><span class="s1">prevScopedSlots</span><span class="s2">.</span><span class="s1">$hasNormal</span><span class="s2">) {</span>
          <span class="s0">// fast path 2: stable scoped slots w/ no normal slots to proxy,</span>
          <span class="s0">// only need to normalize once</span>
          <span class="s3">return </span><span class="s1">prevScopedSlots</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">res </span><span class="s2">= {};</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key_1 </span><span class="s3">in </span><span class="s1">scopedSlots</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">scopedSlots</span><span class="s2">[</span><span class="s1">key_1</span><span class="s2">] &amp;&amp; </span><span class="s1">key_1</span><span class="s2">[</span><span class="s6">0</span><span class="s2">] !== </span><span class="s4">'$'</span><span class="s2">) {</span>
                  <span class="s1">res</span><span class="s2">[</span><span class="s1">key_1</span><span class="s2">] = </span><span class="s1">normalizeScopedSlot</span><span class="s2">(</span><span class="s1">ownerVm</span><span class="s2">, </span><span class="s1">normalSlots</span><span class="s2">, </span><span class="s1">key_1</span><span class="s2">, </span><span class="s1">scopedSlots</span><span class="s2">[</span><span class="s1">key_1</span><span class="s2">]);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// expose normal slots on scopedSlots</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key_2 </span><span class="s3">in </span><span class="s1">normalSlots</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!(</span><span class="s1">key_2 </span><span class="s3">in </span><span class="s1">res</span><span class="s2">)) {</span>
              <span class="s1">res</span><span class="s2">[</span><span class="s1">key_2</span><span class="s2">] = </span><span class="s1">proxyNormalSlot</span><span class="s2">(</span><span class="s1">normalSlots</span><span class="s2">, </span><span class="s1">key_2</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// avoriaz seems to mock a non-extensible $scopedSlots object</span>
      <span class="s0">// and when that is passed down this would cause an error</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">scopedSlots </span><span class="s2">&amp;&amp; </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">isExtensible</span><span class="s2">(</span><span class="s1">scopedSlots</span><span class="s2">)) {</span>
          <span class="s1">scopedSlots</span><span class="s2">.</span><span class="s1">_normalized </span><span class="s2">= </span><span class="s1">res</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s4">'$stable'</span><span class="s2">, </span><span class="s1">isStable</span><span class="s2">);</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s4">'$key'</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
      <span class="s1">def</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s4">'$hasNormal'</span><span class="s2">, </span><span class="s1">hasNormalSlots</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">normalizeScopedSlot</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">normalSlots</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">fn</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">normalized </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">cur </span><span class="s2">= </span><span class="s1">currentInstance</span><span class="s2">;</span>
          <span class="s1">setCurrentInstance</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s1">arguments</span><span class="s2">.</span><span class="s1">length </span><span class="s2">? </span><span class="s1">fn</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s3">null</span><span class="s2">, </span><span class="s1">arguments</span><span class="s2">) : </span><span class="s1">fn</span><span class="s2">({});</span>
          <span class="s1">res </span><span class="s2">=</span>
              <span class="s1">res </span><span class="s2">&amp;&amp; </span><span class="s3">typeof </span><span class="s1">res </span><span class="s2">=== </span><span class="s4">'object' </span><span class="s2">&amp;&amp; !</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">res</span><span class="s2">)</span>
                  <span class="s2">? [</span><span class="s1">res</span><span class="s2">] </span><span class="s0">// single vnode</span>
                  <span class="s2">: </span><span class="s1">normalizeChildren</span><span class="s2">(</span><span class="s1">res</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">vnode </span><span class="s2">= </span><span class="s1">res </span><span class="s2">&amp;&amp; </span><span class="s1">res</span><span class="s2">[</span><span class="s6">0</span><span class="s2">];</span>
          <span class="s1">setCurrentInstance</span><span class="s2">(</span><span class="s1">cur</span><span class="s2">);</span>
          <span class="s3">return </span><span class="s1">res </span><span class="s2">&amp;&amp;</span>
              <span class="s2">(!</span><span class="s1">vnode </span><span class="s2">||</span>
                  <span class="s2">(</span><span class="s1">res</span><span class="s2">.</span><span class="s1">length </span><span class="s2">=== </span><span class="s6">1 </span><span class="s2">&amp;&amp; </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">isComment </span><span class="s2">&amp;&amp; !</span><span class="s1">isAsyncPlaceholder</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">))) </span><span class="s0">// #9658, #10391</span>
              <span class="s2">? </span><span class="s1">undefined</span>
              <span class="s2">: </span><span class="s1">res</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s0">// this is a slot using the new v-slot syntax without scope. although it is</span>
      <span class="s0">// compiled as a scoped slot, render fn users would expect it to be present</span>
      <span class="s0">// on this.$slots because the usage is semantically a normal slot.</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">fn</span><span class="s2">.</span><span class="s1">proxy</span><span class="s2">) {</span>
          <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">normalSlots</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, {</span>
              <span class="s1">get</span><span class="s2">: </span><span class="s1">normalized</span><span class="s2">,</span>
              <span class="s1">enumerable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
              <span class="s1">configurable</span><span class="s2">: </span><span class="s3">true</span>
          <span class="s2">});</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">normalized</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">proxyNormalSlot</span><span class="s2">(</span><span class="s1">slots</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s3">return function </span><span class="s2">() { </span><span class="s3">return </span><span class="s1">slots</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]; };</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">initSetup</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">options </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">setup </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">setup</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">setup</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">ctx </span><span class="s2">= (</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_setupContext </span><span class="s2">= </span><span class="s1">createSetupContext</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">));</span>
          <span class="s1">setCurrentInstance</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s1">pushTarget</span><span class="s2">();</span>
          <span class="s3">var </span><span class="s1">setupResult </span><span class="s2">= </span><span class="s1">invokeWithErrorHandling</span><span class="s2">(</span><span class="s1">setup</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, [</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_props </span><span class="s2">|| </span><span class="s1">shallowReactive</span><span class="s2">({}), </span><span class="s1">ctx</span><span class="s2">], </span><span class="s1">vm</span><span class="s2">, </span><span class="s4">&quot;setup&quot;</span><span class="s2">);</span>
          <span class="s1">popTarget</span><span class="s2">();</span>
          <span class="s1">setCurrentInstance</span><span class="s2">();</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">setupResult</span><span class="s2">)) {</span>
              <span class="s0">// render function</span>
              <span class="s0">// @ts-ignore</span>
              <span class="s1">options</span><span class="s2">.</span><span class="s1">render </span><span class="s2">= </span><span class="s1">setupResult</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">setupResult</span><span class="s2">)) {</span>
              <span class="s0">// bindings</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">setupResult </span><span class="s3">instanceof </span><span class="s1">VNode</span><span class="s2">) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;setup() should not return VNodes directly - &quot; </span><span class="s2">+</span>
                      <span class="s4">&quot;return a render function instead.&quot;</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">_setupState </span><span class="s2">= </span><span class="s1">setupResult</span><span class="s2">;</span>
              <span class="s0">// __sfc indicates compiled bindings from &lt;script setup&gt;</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">setupResult</span><span class="s2">.</span><span class="s1">__sfc</span><span class="s2">) {</span>
                  <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">setupResult</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isReserved</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
                          <span class="s1">proxyWithRefUnwrap</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">setupResult</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s3">else </span><span class="s2">{</span>
                          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Avoid using variables that start with _ or $ in setup().&quot;</span><span class="s2">);</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s0">// exposed for compiled render fn</span>
                  <span class="s3">var </span><span class="s1">proxy </span><span class="s2">= (</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_setupProxy </span><span class="s2">= {});</span>
                  <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">setupResult</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s2">!== </span><span class="s4">'__sfc'</span><span class="s2">) {</span>
                          <span class="s1">proxyWithRefUnwrap</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s1">setupResult</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">setupResult </span><span class="s2">!== </span><span class="s1">undefined</span><span class="s2">) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;setup() should return an object. Received: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">setupResult </span><span class="s2">=== </span><span class="s3">null </span><span class="s2">? </span><span class="s4">'null' </span><span class="s2">: </span><span class="s3">typeof </span><span class="s1">setupResult</span><span class="s2">));</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createSetupContext</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">exposeCalled </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s2">{</span>
          <span class="s1">get attrs</span><span class="s2">() {</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_attrsProxy</span><span class="s2">) {</span>
                  <span class="s3">var </span><span class="s1">proxy </span><span class="s2">= (</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_attrsProxy </span><span class="s2">= {});</span>
                  <span class="s1">def</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s4">'_v_attr_proxy'</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
                  <span class="s1">syncSetupProxy</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$attrs</span><span class="s2">, </span><span class="s1">emptyObject</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'$attrs'</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">return </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_attrsProxy</span><span class="s2">;</span>
          <span class="s2">},</span>
          <span class="s1">get listeners</span><span class="s2">() {</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_listenersProxy</span><span class="s2">) {</span>
                  <span class="s3">var </span><span class="s1">proxy </span><span class="s2">= (</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_listenersProxy </span><span class="s2">= {});</span>
                  <span class="s1">syncSetupProxy</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$listeners</span><span class="s2">, </span><span class="s1">emptyObject</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'$listeners'</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">return </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_listenersProxy</span><span class="s2">;</span>
          <span class="s2">},</span>
          <span class="s1">get slots</span><span class="s2">() {</span>
              <span class="s3">return </span><span class="s1">initSlotsProxy</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">},</span>
          <span class="s1">emit</span><span class="s2">: </span><span class="s1">bind$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$emit</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">),</span>
          <span class="s1">expose</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">exposed</span><span class="s2">) {</span>
              <span class="s2">{</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">exposeCalled</span><span class="s2">) {</span>
                      <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;expose() should be called only once per setup().&quot;</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s1">exposeCalled </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">exposed</span><span class="s2">) {</span>
                  <span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">exposed</span><span class="s2">).</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">key</span><span class="s2">) {</span>
                      <span class="s3">return </span><span class="s1">proxyWithRefUnwrap</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">exposed</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
                  <span class="s2">});</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">syncSetupProxy</span><span class="s2">(</span><span class="s1">to</span><span class="s2">, </span><span class="s1">from</span><span class="s2">, </span><span class="s1">prev</span><span class="s2">, </span><span class="s1">instance</span><span class="s2">, </span><span class="s1">type</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">changed </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">from</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">to</span><span class="s2">)) {</span>
              <span class="s1">changed </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s1">defineProxyAttr</span><span class="s2">(</span><span class="s1">to</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">instance</span><span class="s2">, </span><span class="s1">type</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">from</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] !== </span><span class="s1">prev</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]) {</span>
              <span class="s1">changed </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">to</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">from</span><span class="s2">)) {</span>
              <span class="s1">changed </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s3">delete </span><span class="s1">to</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">changed</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">defineProxyAttr</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">instance</span><span class="s2">, </span><span class="s1">type</span><span class="s2">) {</span>
      <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">proxy</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, {</span>
          <span class="s1">enumerable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
          <span class="s1">configurable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
          <span class="s1">get</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">return </span><span class="s1">instance</span><span class="s2">[</span><span class="s1">type</span><span class="s2">][</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s2">}</span>
      <span class="s2">});</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">initSlotsProxy</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_slotsProxy</span><span class="s2">) {</span>
          <span class="s1">syncSetupSlots</span><span class="s2">((</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_slotsProxy </span><span class="s2">= {}), </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$scopedSlots</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_slotsProxy</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">syncSetupSlots</span><span class="s2">(</span><span class="s1">to</span><span class="s2">, </span><span class="s1">from</span><span class="s2">) {</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">from</span><span class="s2">) {</span>
          <span class="s1">to</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">from</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">to</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">from</span><span class="s2">)) {</span>
              <span class="s3">delete </span><span class="s1">to</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* </span><span class="s8">@internal </span><span class="s5">use manual type def because public setup context type relies on</span>
   <span class="s5">* legacy VNode types</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">useSlots</span><span class="s2">() {</span>
      <span class="s3">return </span><span class="s1">getContext</span><span class="s2">().</span><span class="s1">slots</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* </span><span class="s8">@internal </span><span class="s5">use manual type def because public setup context type relies on</span>
   <span class="s5">* legacy VNode types</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">useAttrs</span><span class="s2">() {</span>
      <span class="s3">return </span><span class="s1">getContext</span><span class="s2">().</span><span class="s1">attrs</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Vue 2 only</span>
   <span class="s5">* </span><span class="s8">@internal </span><span class="s5">use manual type def because public setup context type relies on</span>
   <span class="s5">* legacy VNode types</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">useListeners</span><span class="s2">() {</span>
      <span class="s3">return </span><span class="s1">getContext</span><span class="s2">().</span><span class="s1">listeners</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">getContext</span><span class="s2">() {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">currentInstance</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;useContext() called without active instance.&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s1">currentInstance</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_setupContext </span><span class="s2">|| (</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_setupContext </span><span class="s2">= </span><span class="s1">createSetupContext</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">));</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Runtime helper for merging default declarations. Imported by compiled code</span>
   <span class="s5">* only.</span>
   <span class="s5">* </span><span class="s8">@internal</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">mergeDefaults</span><span class="s2">(</span><span class="s1">raw</span><span class="s2">, </span><span class="s1">defaults</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">props </span><span class="s2">= </span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">raw</span><span class="s2">)</span>
          <span class="s2">? </span><span class="s1">raw</span><span class="s2">.</span><span class="s1">reduce</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">normalized</span><span class="s2">, </span><span class="s1">p</span><span class="s2">) { </span><span class="s3">return </span><span class="s2">((</span><span class="s1">normalized</span><span class="s2">[</span><span class="s1">p</span><span class="s2">] = {}), </span><span class="s1">normalized</span><span class="s2">); }, {})</span>
          <span class="s2">: </span><span class="s1">raw</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">defaults</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">opt </span><span class="s2">= </span><span class="s1">props</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">opt</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">opt</span><span class="s2">) || </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">opt</span><span class="s2">)) {</span>
                  <span class="s1">props</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = { </span><span class="s1">type</span><span class="s2">: </span><span class="s1">opt</span><span class="s2">, </span><span class="s3">default</span><span class="s2">: </span><span class="s1">defaults</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] };</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">opt</span><span class="s2">.</span><span class="s1">default </span><span class="s2">= </span><span class="s1">defaults</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">opt </span><span class="s2">=== </span><span class="s3">null</span><span class="s2">) {</span>
              <span class="s1">props</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = { </span><span class="s3">default</span><span class="s2">: </span><span class="s1">defaults</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] };</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;props default key </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">has no corresponding declaration.&quot;</span><span class="s2">));</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">props</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">initRender</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_vnode </span><span class="s2">= </span><span class="s3">null</span><span class="s2">; </span><span class="s0">// the root of the child tree</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_staticTrees </span><span class="s2">= </span><span class="s3">null</span><span class="s2">; </span><span class="s0">// v-once cached trees</span>
      <span class="s3">var </span><span class="s1">options </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">parentVnode </span><span class="s2">= (</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$vnode </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">_parentVnode</span><span class="s2">); </span><span class="s0">// the placeholder node in parent tree</span>
      <span class="s3">var </span><span class="s1">renderContext </span><span class="s2">= </span><span class="s1">parentVnode </span><span class="s2">&amp;&amp; </span><span class="s1">parentVnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">;</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$slots </span><span class="s2">= </span><span class="s1">resolveSlots</span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">_renderChildren</span><span class="s2">, </span><span class="s1">renderContext</span><span class="s2">);</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$scopedSlots </span><span class="s2">= </span><span class="s1">parentVnode</span>
          <span class="s2">? </span><span class="s1">normalizeScopedSlots</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">, </span><span class="s1">parentVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">scopedSlots</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$slots</span><span class="s2">)</span>
          <span class="s2">: </span><span class="s1">emptyObject</span><span class="s2">;</span>
      <span class="s0">// bind the createElement fn to this instance</span>
      <span class="s0">// so that we get proper render context inside it.</span>
      <span class="s0">// args order: tag, data, children, normalizationType, alwaysNormalize</span>
      <span class="s0">// internal version is used by render functions compiled from templates</span>
      <span class="s0">// @ts-expect-error</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_c </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c</span><span class="s2">, </span><span class="s1">d</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">createElement$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c</span><span class="s2">, </span><span class="s1">d</span><span class="s2">, </span><span class="s3">false</span><span class="s2">); };</span>
      <span class="s0">// normalization is always applied for the public version, used in</span>
      <span class="s0">// user-written render functions.</span>
      <span class="s0">// @ts-expect-error</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$createElement </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c</span><span class="s2">, </span><span class="s1">d</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">createElement$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c</span><span class="s2">, </span><span class="s1">d</span><span class="s2">, </span><span class="s3">true</span><span class="s2">); };</span>
      <span class="s0">// $attrs &amp; $listeners are exposed for easier HOC creation.</span>
      <span class="s0">// they need to be reactive so that HOCs using them are always updated</span>
      <span class="s3">var </span><span class="s1">parentData </span><span class="s2">= </span><span class="s1">parentVnode </span><span class="s2">&amp;&amp; </span><span class="s1">parentVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">;</span>
      <span class="s0">/* istanbul ignore else */</span>
      <span class="s2">{</span>
          <span class="s1">defineReactive</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'$attrs'</span><span class="s2">, (</span><span class="s1">parentData </span><span class="s2">&amp;&amp; </span><span class="s1">parentData</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">) || </span><span class="s1">emptyObject</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s2">!</span><span class="s1">isUpdatingChildComponent </span><span class="s2">&amp;&amp; </span><span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;$attrs is readonly.&quot;</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}, </span><span class="s3">true</span><span class="s2">);</span>
          <span class="s1">defineReactive</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'$listeners'</span><span class="s2">, </span><span class="s1">options</span><span class="s2">.</span><span class="s1">_parentListeners </span><span class="s2">|| </span><span class="s1">emptyObject</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s2">!</span><span class="s1">isUpdatingChildComponent </span><span class="s2">&amp;&amp; </span><span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;$listeners is readonly.&quot;</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">currentRenderingInstance </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">renderMixin</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">) {</span>
      <span class="s0">// install runtime convenience helpers</span>
      <span class="s1">installRenderHelpers</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">);</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$nextTick </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">fn</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">nextTick</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">, </span><span class="s3">this</span><span class="s2">);</span>
      <span class="s2">};</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">_render </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">_a </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">, </span><span class="s1">render </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">render</span><span class="s2">, </span><span class="s1">_parentVnode </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">_parentVnode</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">_parentVnode </span><span class="s2">&amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_isMounted</span><span class="s2">) {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">$scopedSlots </span><span class="s2">= </span><span class="s1">normalizeScopedSlots</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">, </span><span class="s1">_parentVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">scopedSlots</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$slots</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$scopedSlots</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_slotsProxy</span><span class="s2">) {</span>
                  <span class="s1">syncSetupSlots</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_slotsProxy</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$scopedSlots</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s0">// set parent vnode. this allows render functions to have access</span>
          <span class="s0">// to the data on the placeholder node.</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">$vnode </span><span class="s2">= </span><span class="s1">_parentVnode</span><span class="s2">;</span>
          <span class="s0">// render self</span>
          <span class="s3">var </span><span class="s1">vnode</span><span class="s2">;</span>
          <span class="s3">try </span><span class="s2">{</span>
              <span class="s0">// There's no need to maintain a stack because all render fns are called</span>
              <span class="s0">// separately from one another. Nested component's render fns are called</span>
              <span class="s0">// when parent component is patched.</span>
              <span class="s1">setCurrentInstance</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s1">currentRenderingInstance </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">;</span>
              <span class="s1">vnode </span><span class="s2">= </span><span class="s1">render</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_renderProxy</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$createElement</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
              <span class="s1">handleError</span><span class="s2">(</span><span class="s1">e</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s4">&quot;render&quot;</span><span class="s2">);</span>
              <span class="s0">// return error render result,</span>
              <span class="s0">// or previous vnode to prevent render error causing blank component</span>
              <span class="s0">/* istanbul ignore else */</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">renderError</span><span class="s2">) {</span>
                  <span class="s3">try </span><span class="s2">{</span>
                      <span class="s1">vnode </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">renderError</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_renderProxy</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$createElement</span><span class="s2">, </span><span class="s1">e</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
                      <span class="s1">handleError</span><span class="s2">(</span><span class="s1">e</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s4">&quot;renderError&quot;</span><span class="s2">);</span>
                      <span class="s1">vnode </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">vnode </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">finally </span><span class="s2">{</span>
              <span class="s1">currentRenderingInstance </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
              <span class="s1">setCurrentInstance</span><span class="s2">();</span>
          <span class="s2">}</span>
          <span class="s0">// if the returned array contains only a single node, allow it</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) &amp;&amp; </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">length </span><span class="s2">=== </span><span class="s6">1</span><span class="s2">) {</span>
              <span class="s1">vnode </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">[</span><span class="s6">0</span><span class="s2">];</span>
          <span class="s2">}</span>
          <span class="s0">// return empty vnode in case the render function errored out</span>
          <span class="s3">if </span><span class="s2">(!(</span><span class="s1">vnode </span><span class="s3">instanceof </span><span class="s1">VNode</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">)) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Multiple root nodes returned from render function. Render function ' </span><span class="s2">+</span>
                      <span class="s4">'should return a single root node.'</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">vnode </span><span class="s2">= </span><span class="s1">createEmptyVNode</span><span class="s2">();</span>
          <span class="s2">}</span>
          <span class="s0">// set parent</span>
          <span class="s1">vnode</span><span class="s2">.</span><span class="s1">parent </span><span class="s2">= </span><span class="s1">_parentVnode</span><span class="s2">;</span>
          <span class="s3">return </span><span class="s1">vnode</span><span class="s2">;</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">ensureCtor</span><span class="s2">(</span><span class="s1">comp</span><span class="s2">, </span><span class="s1">base</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">comp</span><span class="s2">.</span><span class="s1">__esModule </span><span class="s2">|| (</span><span class="s1">hasSymbol </span><span class="s2">&amp;&amp; </span><span class="s1">comp</span><span class="s2">[</span><span class="s1">Symbol</span><span class="s2">.</span><span class="s1">toStringTag</span><span class="s2">] === </span><span class="s4">'Module'</span><span class="s2">)) {</span>
          <span class="s1">comp </span><span class="s2">= </span><span class="s1">comp</span><span class="s2">.</span><span class="s1">default</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">comp</span><span class="s2">) ? </span><span class="s1">base</span><span class="s2">.</span><span class="s1">extend</span><span class="s2">(</span><span class="s1">comp</span><span class="s2">) : </span><span class="s1">comp</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createAsyncPlaceholder</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">context</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">node </span><span class="s2">= </span><span class="s1">createEmptyVNode</span><span class="s2">();</span>
      <span class="s1">node</span><span class="s2">.</span><span class="s1">asyncFactory </span><span class="s2">= </span><span class="s1">factory</span><span class="s2">;</span>
      <span class="s1">node</span><span class="s2">.</span><span class="s1">asyncMeta </span><span class="s2">= { </span><span class="s1">data</span><span class="s2">: </span><span class="s1">data</span><span class="s2">, </span><span class="s1">context</span><span class="s2">: </span><span class="s1">context</span><span class="s2">, </span><span class="s1">children</span><span class="s2">: </span><span class="s1">children</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">: </span><span class="s1">tag </span><span class="s2">};</span>
      <span class="s3">return </span><span class="s1">node</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">resolveAsyncComponent</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">, </span><span class="s1">baseCtor</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">error</span><span class="s2">) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">errorComp</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">factory</span><span class="s2">.</span><span class="s1">errorComp</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">resolved</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">factory</span><span class="s2">.</span><span class="s1">resolved</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">owner </span><span class="s2">= </span><span class="s1">currentRenderingInstance</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">owner </span><span class="s2">&amp;&amp; </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">owners</span><span class="s2">) &amp;&amp; </span><span class="s1">factory</span><span class="s2">.</span><span class="s1">owners</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">owner</span><span class="s2">) === -</span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s0">// already pending</span>
          <span class="s1">factory</span><span class="s2">.</span><span class="s1">owners</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">owner</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">loading</span><span class="s2">) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">loadingComp</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">factory</span><span class="s2">.</span><span class="s1">loadingComp</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">owner </span><span class="s2">&amp;&amp; !</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">owners</span><span class="s2">)) {</span>
          <span class="s3">var </span><span class="s1">owners_1 </span><span class="s2">= (</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">owners </span><span class="s2">= [</span><span class="s1">owner</span><span class="s2">]);</span>
          <span class="s3">var </span><span class="s1">sync_1 </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">timerLoading_1 </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">timerTimeout_1 </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
          <span class="s1">owner</span><span class="s2">.</span><span class="s1">$on</span><span class="s2">(</span><span class="s4">'hook:destroyed'</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() { </span><span class="s3">return </span><span class="s1">remove$2</span><span class="s2">(</span><span class="s1">owners_1</span><span class="s2">, </span><span class="s1">owner</span><span class="s2">); });</span>
          <span class="s3">var </span><span class="s1">forceRender_1 </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">renderCompleted</span><span class="s2">) {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">owners_1</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">owners_1</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">$forceUpdate</span><span class="s2">();</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">renderCompleted</span><span class="s2">) {</span>
                  <span class="s1">owners_1</span><span class="s2">.</span><span class="s1">length </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">timerLoading_1 </span><span class="s2">!== </span><span class="s3">null</span><span class="s2">) {</span>
                      <span class="s1">clearTimeout</span><span class="s2">(</span><span class="s1">timerLoading_1</span><span class="s2">);</span>
                      <span class="s1">timerLoading_1 </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">timerTimeout_1 </span><span class="s2">!== </span><span class="s3">null</span><span class="s2">) {</span>
                      <span class="s1">clearTimeout</span><span class="s2">(</span><span class="s1">timerTimeout_1</span><span class="s2">);</span>
                      <span class="s1">timerTimeout_1 </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">};</span>
          <span class="s3">var </span><span class="s1">resolve </span><span class="s2">= </span><span class="s1">once</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">res</span><span class="s2">) {</span>
              <span class="s0">// cache resolved</span>
              <span class="s1">factory</span><span class="s2">.</span><span class="s1">resolved </span><span class="s2">= </span><span class="s1">ensureCtor</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s1">baseCtor</span><span class="s2">);</span>
              <span class="s0">// invoke callbacks only if this is not a synchronous resolve</span>
              <span class="s0">// (async resolves are shimmed as synchronous during SSR)</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">sync_1</span><span class="s2">) {</span>
                  <span class="s1">forceRender_1</span><span class="s2">(</span><span class="s3">true</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">owners_1</span><span class="s2">.</span><span class="s1">length </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">});</span>
          <span class="s3">var </span><span class="s1">reject_1 </span><span class="s2">= </span><span class="s1">once</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">reason</span><span class="s2">) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Failed to resolve async component: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">String</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">)) +</span>
                      <span class="s2">(</span><span class="s1">reason </span><span class="s2">? </span><span class="s4">&quot;</span><span class="s3">\n</span><span class="s4">Reason: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">reason</span><span class="s2">) : </span><span class="s4">''</span><span class="s2">));</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">errorComp</span><span class="s2">)) {</span>
                  <span class="s1">factory</span><span class="s2">.</span><span class="s1">error </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                  <span class="s1">forceRender_1</span><span class="s2">(</span><span class="s3">true</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">});</span>
          <span class="s3">var </span><span class="s1">res_1 </span><span class="s2">= </span><span class="s1">factory</span><span class="s2">(</span><span class="s1">resolve</span><span class="s2">, </span><span class="s1">reject_1</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">res_1</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isPromise</span><span class="s2">(</span><span class="s1">res_1</span><span class="s2">)) {</span>
                  <span class="s0">// () =&gt; Promise</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">resolved</span><span class="s2">)) {</span>
                      <span class="s1">res_1</span><span class="s2">.</span><span class="s1">then</span><span class="s2">(</span><span class="s1">resolve</span><span class="s2">, </span><span class="s1">reject_1</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">isPromise</span><span class="s2">(</span><span class="s1">res_1</span><span class="s2">.</span><span class="s1">component</span><span class="s2">)) {</span>
                  <span class="s1">res_1</span><span class="s2">.</span><span class="s1">component</span><span class="s2">.</span><span class="s1">then</span><span class="s2">(</span><span class="s1">resolve</span><span class="s2">, </span><span class="s1">reject_1</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">res_1</span><span class="s2">.</span><span class="s1">error</span><span class="s2">)) {</span>
                      <span class="s1">factory</span><span class="s2">.</span><span class="s1">errorComp </span><span class="s2">= </span><span class="s1">ensureCtor</span><span class="s2">(</span><span class="s1">res_1</span><span class="s2">.</span><span class="s1">error</span><span class="s2">, </span><span class="s1">baseCtor</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">res_1</span><span class="s2">.</span><span class="s1">loading</span><span class="s2">)) {</span>
                      <span class="s1">factory</span><span class="s2">.</span><span class="s1">loadingComp </span><span class="s2">= </span><span class="s1">ensureCtor</span><span class="s2">(</span><span class="s1">res_1</span><span class="s2">.</span><span class="s1">loading</span><span class="s2">, </span><span class="s1">baseCtor</span><span class="s2">);</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">res_1</span><span class="s2">.</span><span class="s1">delay </span><span class="s2">=== </span><span class="s6">0</span><span class="s2">) {</span>
                          <span class="s1">factory</span><span class="s2">.</span><span class="s1">loading </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                      <span class="s2">}</span>
                      <span class="s3">else </span><span class="s2">{</span>
                          <span class="s0">// @ts-expect-error NodeJS timeout type</span>
                          <span class="s1">timerLoading_1 </span><span class="s2">= </span><span class="s1">setTimeout</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
                              <span class="s1">timerLoading_1 </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
                              <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">resolved</span><span class="s2">) &amp;&amp; </span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">error</span><span class="s2">)) {</span>
                                  <span class="s1">factory</span><span class="s2">.</span><span class="s1">loading </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                                  <span class="s1">forceRender_1</span><span class="s2">(</span><span class="s3">false</span><span class="s2">);</span>
                              <span class="s2">}</span>
                          <span class="s2">}, </span><span class="s1">res_1</span><span class="s2">.</span><span class="s1">delay </span><span class="s2">|| </span><span class="s6">200</span><span class="s2">);</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">res_1</span><span class="s2">.</span><span class="s1">timeout</span><span class="s2">)) {</span>
                      <span class="s0">// @ts-expect-error NodeJS timeout type</span>
                      <span class="s1">timerTimeout_1 </span><span class="s2">= </span><span class="s1">setTimeout</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
                          <span class="s1">timerTimeout_1 </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
                          <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">factory</span><span class="s2">.</span><span class="s1">resolved</span><span class="s2">)) {</span>
                              <span class="s1">reject_1</span><span class="s2">(</span><span class="s4">&quot;timeout (&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">res_1</span><span class="s2">.</span><span class="s1">timeout</span><span class="s2">, </span><span class="s4">&quot;ms)&quot;</span><span class="s2">) );</span>
                          <span class="s2">}</span>
                      <span class="s2">}, </span><span class="s1">res_1</span><span class="s2">.</span><span class="s1">timeout</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s1">sync_1 </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s0">// return in case resolved synchronously</span>
          <span class="s3">return </span><span class="s1">factory</span><span class="s2">.</span><span class="s1">loading </span><span class="s2">? </span><span class="s1">factory</span><span class="s2">.</span><span class="s1">loadingComp </span><span class="s2">: </span><span class="s1">factory</span><span class="s2">.</span><span class="s1">resolved</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">getFirstComponentChild</span><span class="s2">(</span><span class="s1">children</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">children</span><span class="s2">)) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">var </span><span class="s1">c </span><span class="s2">= </span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">c</span><span class="s2">) &amp;&amp; (</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">componentOptions</span><span class="s2">) || </span><span class="s1">isAsyncPlaceholder</span><span class="s2">(</span><span class="s1">c</span><span class="s2">))) {</span>
                  <span class="s3">return </span><span class="s1">c</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">initEvents</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_events </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_hasHookEvent </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s0">// init parent attached events</span>
      <span class="s3">var </span><span class="s1">listeners </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">_parentListeners</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">listeners</span><span class="s2">) {</span>
          <span class="s1">updateComponentListeners</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">listeners</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">target$1</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">add$1</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">fn</span><span class="s2">) {</span>
      <span class="s1">target$1</span><span class="s2">.</span><span class="s1">$on</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">fn</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">remove$1</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">fn</span><span class="s2">) {</span>
      <span class="s1">target$1</span><span class="s2">.</span><span class="s1">$off</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">fn</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createOnceHandler$1</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">fn</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">_target </span><span class="s2">= </span><span class="s1">target$1</span><span class="s2">;</span>
      <span class="s3">return function </span><span class="s1">onceHandler</span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s1">fn</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s3">null</span><span class="s2">, </span><span class="s1">arguments</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">res </span><span class="s2">!== </span><span class="s3">null</span><span class="s2">) {</span>
              <span class="s1">_target</span><span class="s2">.</span><span class="s1">$off</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">onceHandler</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">updateComponentListeners</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">listeners</span><span class="s2">, </span><span class="s1">oldListeners</span><span class="s2">) {</span>
      <span class="s1">target$1 </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">;</span>
      <span class="s1">updateListeners</span><span class="s2">(</span><span class="s1">listeners</span><span class="s2">, </span><span class="s1">oldListeners </span><span class="s2">|| {}, </span><span class="s1">add$1</span><span class="s2">, </span><span class="s1">remove$1</span><span class="s2">, </span><span class="s1">createOnceHandler$1</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s1">target$1 </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">eventsMixin</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">hookRE </span><span class="s2">= </span><span class="s7">/^hook:/</span><span class="s2">;</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$on </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">fn</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">event</span><span class="s2">)) {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">event</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">vm</span><span class="s2">.</span><span class="s1">$on</span><span class="s2">(</span><span class="s1">event</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">fn</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_events</span><span class="s2">[</span><span class="s1">event</span><span class="s2">] || (</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_events</span><span class="s2">[</span><span class="s1">event</span><span class="s2">] = [])).</span><span class="s1">push</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">);</span>
              <span class="s0">// optimize hook:event cost by using a boolean flag marked at registration</span>
              <span class="s0">// instead of a hash lookup</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">hookRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">event</span><span class="s2">)) {</span>
                  <span class="s1">vm</span><span class="s2">.</span><span class="s1">_hasHookEvent </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">vm</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$once </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">fn</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s3">function </span><span class="s1">on</span><span class="s2">() {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">$off</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">on</span><span class="s2">);</span>
              <span class="s1">fn</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">arguments</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">on</span><span class="s2">.</span><span class="s1">fn </span><span class="s2">= </span><span class="s1">fn</span><span class="s2">;</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">$on</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">on</span><span class="s2">);</span>
          <span class="s3">return </span><span class="s1">vm</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$off </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">fn</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s0">// all</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">arguments</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">_events </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
              <span class="s3">return </span><span class="s1">vm</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// array of events</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">event</span><span class="s2">)) {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i_1 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">event</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i_1 </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i_1</span><span class="s2">++) {</span>
                  <span class="s1">vm</span><span class="s2">.</span><span class="s1">$off</span><span class="s2">(</span><span class="s1">event</span><span class="s2">[</span><span class="s1">i_1</span><span class="s2">], </span><span class="s1">fn</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">return </span><span class="s1">vm</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// specific event</span>
          <span class="s3">var </span><span class="s1">cbs </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_events</span><span class="s2">[</span><span class="s1">event</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">cbs</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">vm</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">fn</span><span class="s2">) {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">_events</span><span class="s2">[</span><span class="s1">event</span><span class="s2">] = </span><span class="s3">null</span><span class="s2">;</span>
              <span class="s3">return </span><span class="s1">vm</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// specific handler</span>
          <span class="s3">var </span><span class="s1">cb</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s1">cbs</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">i</span><span class="s2">--) {</span>
              <span class="s1">cb </span><span class="s2">= </span><span class="s1">cbs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">cb </span><span class="s2">=== </span><span class="s1">fn </span><span class="s2">|| </span><span class="s1">cb</span><span class="s2">.</span><span class="s1">fn </span><span class="s2">=== </span><span class="s1">fn</span><span class="s2">) {</span>
                  <span class="s1">cbs</span><span class="s2">.</span><span class="s1">splice</span><span class="s2">(</span><span class="s1">i</span><span class="s2">, </span><span class="s6">1</span><span class="s2">);</span>
                  <span class="s3">break</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">vm</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$emit </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">event</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s2">{</span>
              <span class="s3">var </span><span class="s1">lowerCaseEvent </span><span class="s2">= </span><span class="s1">event</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">();</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">lowerCaseEvent </span><span class="s2">!== </span><span class="s1">event </span><span class="s2">&amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_events</span><span class="s2">[</span><span class="s1">lowerCaseEvent</span><span class="s2">]) {</span>
                  <span class="s1">tip</span><span class="s2">(</span><span class="s4">&quot;Event </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">lowerCaseEvent</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">is emitted in component &quot;</span><span class="s2">) +</span>
                      <span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">formatComponentName</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">), </span><span class="s4">&quot; but the handler is registered for </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">. &quot;</span><span class="s2">) +</span>
                      <span class="s4">&quot;Note that HTML attributes are case-insensitive and you cannot use &quot; </span><span class="s2">+</span>
                      <span class="s4">&quot;v-on to listen to camelCase events when using in-DOM templates. &quot; </span><span class="s2">+</span>
                      <span class="s4">&quot;You should probably use </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">hyphenate</span><span class="s2">(</span><span class="s1">event</span><span class="s2">), </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">instead of </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">.&quot;</span><span class="s2">));</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">cbs </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_events</span><span class="s2">[</span><span class="s1">event</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cbs</span><span class="s2">) {</span>
              <span class="s1">cbs </span><span class="s2">= </span><span class="s1">cbs</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&gt; </span><span class="s6">1 </span><span class="s2">? </span><span class="s1">toArray</span><span class="s2">(</span><span class="s1">cbs</span><span class="s2">) : </span><span class="s1">cbs</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">args </span><span class="s2">= </span><span class="s1">toArray</span><span class="s2">(</span><span class="s1">arguments</span><span class="s2">, </span><span class="s6">1</span><span class="s2">);</span>
              <span class="s3">var </span><span class="s1">info </span><span class="s2">= </span><span class="s4">&quot;event handler for </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">);</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">cbs</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">invokeWithErrorHandling</span><span class="s2">(</span><span class="s1">cbs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">args</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">vm</span><span class="s2">;</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">activeInstance </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">isUpdatingChildComponent </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">setActiveInstance</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">prevActiveInstance </span><span class="s2">= </span><span class="s1">activeInstance</span><span class="s2">;</span>
      <span class="s1">activeInstance </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">;</span>
      <span class="s3">return function </span><span class="s2">() {</span>
          <span class="s1">activeInstance </span><span class="s2">= </span><span class="s1">prevActiveInstance</span><span class="s2">;</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">initLifecycle</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">options </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">;</span>
      <span class="s0">// locate first non-abstract parent</span>
      <span class="s3">var </span><span class="s1">parent </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">parent </span><span class="s2">&amp;&amp; !</span><span class="s1">options</span><span class="s2">.</span><span class="s1">abstract</span><span class="s2">) {</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">parent</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">abstract </span><span class="s2">&amp;&amp; </span><span class="s1">parent</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">) {</span>
              <span class="s1">parent </span><span class="s2">= </span><span class="s1">parent</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s1">parent</span><span class="s2">.</span><span class="s1">$children</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$parent </span><span class="s2">= </span><span class="s1">parent</span><span class="s2">;</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$root </span><span class="s2">= </span><span class="s1">parent </span><span class="s2">? </span><span class="s1">parent</span><span class="s2">.</span><span class="s1">$root </span><span class="s2">: </span><span class="s1">vm</span><span class="s2">;</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$children </span><span class="s2">= [];</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$refs </span><span class="s2">= {};</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_provided </span><span class="s2">= </span><span class="s1">parent </span><span class="s2">? </span><span class="s1">parent</span><span class="s2">.</span><span class="s1">_provided </span><span class="s2">: </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_watcher </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_inactive </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_directInactive </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_isMounted </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_isDestroyed </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_isBeingDestroyed </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">lifecycleMixin</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">) {</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">_update </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">prevEl </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$el</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">prevVnode </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">restoreActiveInstance </span><span class="s2">= </span><span class="s1">setActiveInstance</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_vnode </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">;</span>
          <span class="s0">// Vue.prototype.__patch__ is injected in entry points</span>
          <span class="s0">// based on the rendering backend used.</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">prevVnode</span><span class="s2">) {</span>
              <span class="s0">// initial render</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">$el </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">__patch__</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$el</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">, </span><span class="s3">false </span><span class="s0">/* removeOnly */</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s0">// updates</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">$el </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">__patch__</span><span class="s2">(</span><span class="s1">prevVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">restoreActiveInstance</span><span class="s2">();</span>
          <span class="s0">// update __vue__ reference</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">prevEl</span><span class="s2">) {</span>
              <span class="s1">prevEl</span><span class="s2">.</span><span class="s1">__vue__ </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$el</span><span class="s2">) {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">$el</span><span class="s2">.</span><span class="s1">__vue__ </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// if parent is an HOC, update its $el as well</span>
          <span class="s3">var </span><span class="s1">wrapper </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">wrapper </span><span class="s2">&amp;&amp;</span>
              <span class="s1">wrapper</span><span class="s2">.</span><span class="s1">$vnode </span><span class="s2">&amp;&amp;</span>
              <span class="s1">wrapper</span><span class="s2">.</span><span class="s1">$parent </span><span class="s2">&amp;&amp;</span>
              <span class="s1">wrapper</span><span class="s2">.</span><span class="s1">$vnode </span><span class="s2">=== </span><span class="s1">wrapper</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">) {</span>
              <span class="s1">wrapper</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">.</span><span class="s1">$el </span><span class="s2">= </span><span class="s1">wrapper</span><span class="s2">.</span><span class="s1">$el</span><span class="s2">;</span>
              <span class="s1">wrapper </span><span class="s2">= </span><span class="s1">wrapper</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// updated hook is called by the scheduler to ensure that children are</span>
          <span class="s0">// updated in a parent's updated hook.</span>
      <span class="s2">};</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$forceUpdate </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_watcher</span><span class="s2">) {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">_watcher</span><span class="s2">.</span><span class="s1">update</span><span class="s2">();</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$destroy </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_isBeingDestroyed</span><span class="s2">) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'beforeDestroy'</span><span class="s2">);</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_isBeingDestroyed </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s0">// remove self from parent</span>
          <span class="s3">var </span><span class="s1">parent </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">parent </span><span class="s2">&amp;&amp; !</span><span class="s1">parent</span><span class="s2">.</span><span class="s1">_isBeingDestroyed </span><span class="s2">&amp;&amp; !</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">abstract</span><span class="s2">) {</span>
              <span class="s1">remove$2</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">.</span><span class="s1">$children</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s0">// teardown scope. this includes both the render watcher and other</span>
          <span class="s0">// watchers created</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_scope</span><span class="s2">.</span><span class="s1">stop</span><span class="s2">();</span>
          <span class="s0">// remove reference from data ob</span>
          <span class="s0">// frozen object may not have observer.</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_data</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">) {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">_data</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">.</span><span class="s1">vmCount</span><span class="s2">--;</span>
          <span class="s2">}</span>
          <span class="s0">// call the last hook...</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_isDestroyed </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s0">// invoke destroy hooks on current rendered tree</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">__patch__</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">, </span><span class="s3">null</span><span class="s2">);</span>
          <span class="s0">// fire destroyed hook</span>
          <span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'destroyed'</span><span class="s2">);</span>
          <span class="s0">// turn off all instance listeners.</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">$off</span><span class="s2">();</span>
          <span class="s0">// remove __vue__ reference</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$el</span><span class="s2">) {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">$el</span><span class="s2">.</span><span class="s1">__vue__ </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// release circular reference (#6759)</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$vnode</span><span class="s2">) {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">$vnode</span><span class="s2">.</span><span class="s1">parent </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">mountComponent</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">el</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">) {</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$el </span><span class="s2">= </span><span class="s1">el</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">render</span><span class="s2">) {</span>
          <span class="s0">// @ts-expect-error invalid type</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">render </span><span class="s2">= </span><span class="s1">createEmptyVNode</span><span class="s2">;</span>
          <span class="s2">{</span>
              <span class="s0">/* istanbul ignore if */</span>
              <span class="s3">if </span><span class="s2">((</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">template </span><span class="s2">&amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">template</span><span class="s2">.</span><span class="s1">charAt</span><span class="s2">(</span><span class="s6">0</span><span class="s2">) !== </span><span class="s4">'#'</span><span class="s2">) ||</span>
                  <span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">el </span><span class="s2">||</span>
                  <span class="s1">el</span><span class="s2">) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'You are using the runtime-only build of Vue where the template ' </span><span class="s2">+</span>
                      <span class="s4">'compiler is not available. Either pre-compile the templates into ' </span><span class="s2">+</span>
                      <span class="s4">'render functions, or use the compiler-included build.'</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Failed to mount component: template or render function not defined.'</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'beforeMount'</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">updateComponent</span><span class="s2">;</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">performance </span><span class="s2">&amp;&amp; </span><span class="s1">mark</span><span class="s2">) {</span>
          <span class="s1">updateComponent </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">var </span><span class="s1">name </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_name</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">id </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_uid</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">startTag </span><span class="s2">= </span><span class="s4">&quot;vue-perf-start:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">id</span><span class="s2">);</span>
              <span class="s3">var </span><span class="s1">endTag </span><span class="s2">= </span><span class="s4">&quot;vue-perf-end:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">id</span><span class="s2">);</span>
              <span class="s1">mark</span><span class="s2">(</span><span class="s1">startTag</span><span class="s2">);</span>
              <span class="s3">var </span><span class="s1">vnode </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_render</span><span class="s2">();</span>
              <span class="s1">mark</span><span class="s2">(</span><span class="s1">endTag</span><span class="s2">);</span>
              <span class="s1">measure</span><span class="s2">(</span><span class="s4">&quot;vue &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot; render&quot;</span><span class="s2">), </span><span class="s1">startTag</span><span class="s2">, </span><span class="s1">endTag</span><span class="s2">);</span>
              <span class="s1">mark</span><span class="s2">(</span><span class="s1">startTag</span><span class="s2">);</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">_update</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">);</span>
              <span class="s1">mark</span><span class="s2">(</span><span class="s1">endTag</span><span class="s2">);</span>
              <span class="s1">measure</span><span class="s2">(</span><span class="s4">&quot;vue &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot; patch&quot;</span><span class="s2">), </span><span class="s1">startTag</span><span class="s2">, </span><span class="s1">endTag</span><span class="s2">);</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">updateComponent </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">_update</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_render</span><span class="s2">(), </span><span class="s1">hydrating</span><span class="s2">);</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">watcherOptions </span><span class="s2">= {</span>
          <span class="s1">before</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_isMounted </span><span class="s2">&amp;&amp; !</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_isDestroyed</span><span class="s2">) {</span>
                  <span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'beforeUpdate'</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s2">{</span>
          <span class="s1">watcherOptions</span><span class="s2">.</span><span class="s1">onTrack </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'renderTracked'</span><span class="s2">, [</span><span class="s1">e</span><span class="s2">]); };</span>
          <span class="s1">watcherOptions</span><span class="s2">.</span><span class="s1">onTrigger </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'renderTriggered'</span><span class="s2">, [</span><span class="s1">e</span><span class="s2">]); };</span>
      <span class="s2">}</span>
      <span class="s0">// we set this to vm._watcher inside the watcher's constructor</span>
      <span class="s0">// since the watcher's initial patch may call $forceUpdate (e.g. inside child</span>
      <span class="s0">// component's mounted hook), which relies on vm._watcher being already defined</span>
      <span class="s3">new </span><span class="s1">Watcher</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">updateComponent</span><span class="s2">, </span><span class="s1">noop</span><span class="s2">, </span><span class="s1">watcherOptions</span><span class="s2">, </span><span class="s3">true </span><span class="s0">/* isRenderWatcher */</span><span class="s2">);</span>
      <span class="s1">hydrating </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s0">// flush buffer for flush: &quot;pre&quot; watchers queued in setup()</span>
      <span class="s3">var </span><span class="s1">preWatchers </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_preWatchers</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">preWatchers</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">preWatchers</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">preWatchers</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">run</span><span class="s2">();</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// manually mounted instance, call mounted on self</span>
      <span class="s0">// mounted is called for render-created child components in its inserted hook</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$vnode </span><span class="s2">== </span><span class="s3">null</span><span class="s2">) {</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_isMounted </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'mounted'</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">vm</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">updateChildComponent</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">propsData</span><span class="s2">, </span><span class="s1">listeners</span><span class="s2">, </span><span class="s1">parentVnode</span><span class="s2">, </span><span class="s1">renderChildren</span><span class="s2">) {</span>
      <span class="s2">{</span>
          <span class="s1">isUpdatingChildComponent </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// determine whether component has slot children</span>
      <span class="s0">// we need to do this before overwriting $options._renderChildren.</span>
      <span class="s0">// check if there are dynamic scopedSlots (hand-written or compiled but with</span>
      <span class="s0">// dynamic slot names). Static scoped slots compiled from template has the</span>
      <span class="s0">// &quot;$stable&quot; marker.</span>
      <span class="s3">var </span><span class="s1">newScopedSlots </span><span class="s2">= </span><span class="s1">parentVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">scopedSlots</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">oldScopedSlots </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$scopedSlots</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">hasDynamicScopedSlot </span><span class="s2">= !!((</span><span class="s1">newScopedSlots </span><span class="s2">&amp;&amp; !</span><span class="s1">newScopedSlots</span><span class="s2">.</span><span class="s1">$stable</span><span class="s2">) ||</span>
          <span class="s2">(</span><span class="s1">oldScopedSlots </span><span class="s2">!== </span><span class="s1">emptyObject </span><span class="s2">&amp;&amp; !</span><span class="s1">oldScopedSlots</span><span class="s2">.</span><span class="s1">$stable</span><span class="s2">) ||</span>
          <span class="s2">(</span><span class="s1">newScopedSlots </span><span class="s2">&amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$scopedSlots</span><span class="s2">.</span><span class="s1">$key </span><span class="s2">!== </span><span class="s1">newScopedSlots</span><span class="s2">.</span><span class="s1">$key</span><span class="s2">) ||</span>
          <span class="s2">(!</span><span class="s1">newScopedSlots </span><span class="s2">&amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$scopedSlots</span><span class="s2">.</span><span class="s1">$key</span><span class="s2">));</span>
      <span class="s0">// Any static slot children from the parent may have changed during parent's</span>
      <span class="s0">// update. Dynamic scoped slots may also have changed. In such cases, a forced</span>
      <span class="s0">// update is necessary to ensure correctness.</span>
      <span class="s3">var </span><span class="s1">needsForceUpdate </span><span class="s2">= !!(</span><span class="s1">renderChildren </span><span class="s2">|| </span><span class="s0">// has new static slots</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">_renderChildren </span><span class="s2">|| </span><span class="s0">// has old static slots</span>
          <span class="s1">hasDynamicScopedSlot</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">prevVNode </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$vnode</span><span class="s2">;</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">_parentVnode </span><span class="s2">= </span><span class="s1">parentVnode</span><span class="s2">;</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$vnode </span><span class="s2">= </span><span class="s1">parentVnode</span><span class="s2">; </span><span class="s0">// update vm's placeholder node without re-render</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">) {</span>
          <span class="s0">// update child tree's parent</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">.</span><span class="s1">parent </span><span class="s2">= </span><span class="s1">parentVnode</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">_renderChildren </span><span class="s2">= </span><span class="s1">renderChildren</span><span class="s2">;</span>
      <span class="s0">// update $attrs and $listeners hash</span>
      <span class="s0">// these are also reactive so they may trigger child update if the child</span>
      <span class="s0">// used them during render</span>
      <span class="s3">var </span><span class="s1">attrs </span><span class="s2">= </span><span class="s1">parentVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">|| </span><span class="s1">emptyObject</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_attrsProxy</span><span class="s2">) {</span>
          <span class="s0">// force update if attrs are accessed and has changed since it may be</span>
          <span class="s0">// passed to a child component.</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">syncSetupProxy</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_attrsProxy</span><span class="s2">, </span><span class="s1">attrs</span><span class="s2">, (</span><span class="s1">prevVNode</span><span class="s2">.</span><span class="s1">data </span><span class="s2">&amp;&amp; </span><span class="s1">prevVNode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">) || </span><span class="s1">emptyObject</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'$attrs'</span><span class="s2">)) {</span>
              <span class="s1">needsForceUpdate </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$attrs </span><span class="s2">= </span><span class="s1">attrs</span><span class="s2">;</span>
      <span class="s0">// update listeners</span>
      <span class="s1">listeners </span><span class="s2">= </span><span class="s1">listeners </span><span class="s2">|| </span><span class="s1">emptyObject</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">prevListeners </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">_parentListeners</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_listenersProxy</span><span class="s2">) {</span>
          <span class="s1">syncSetupProxy</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_listenersProxy</span><span class="s2">, </span><span class="s1">listeners</span><span class="s2">, </span><span class="s1">prevListeners </span><span class="s2">|| </span><span class="s1">emptyObject</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'$listeners'</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">$listeners </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">_parentListeners </span><span class="s2">= </span><span class="s1">listeners</span><span class="s2">;</span>
      <span class="s1">updateComponentListeners</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">listeners</span><span class="s2">, </span><span class="s1">prevListeners</span><span class="s2">);</span>
      <span class="s0">// update props</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">propsData </span><span class="s2">&amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">props</span><span class="s2">) {</span>
          <span class="s1">toggleObserving</span><span class="s2">(</span><span class="s3">false</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">props </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_props</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">propKeys </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">_propKeys </span><span class="s2">|| [];</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">propKeys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s1">propKeys</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s3">var </span><span class="s1">propOptions </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">props</span><span class="s2">; </span><span class="s0">// wtf flow?</span>
              <span class="s1">props</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">validateProp</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">propOptions</span><span class="s2">, </span><span class="s1">propsData</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">toggleObserving</span><span class="s2">(</span><span class="s3">true</span><span class="s2">);</span>
          <span class="s0">// keep a copy of raw propsData</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">propsData </span><span class="s2">= </span><span class="s1">propsData</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// resolve slots + force update if has children</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">needsForceUpdate</span><span class="s2">) {</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">$slots </span><span class="s2">= </span><span class="s1">resolveSlots</span><span class="s2">(</span><span class="s1">renderChildren</span><span class="s2">, </span><span class="s1">parentVnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">);</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">$forceUpdate</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s2">{</span>
          <span class="s1">isUpdatingChildComponent </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isInInactiveTree</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">vm </span><span class="s2">&amp;&amp; (</span><span class="s1">vm </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">)) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_inactive</span><span class="s2">)</span>
              <span class="s3">return true</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return false</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">activateChildComponent</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">direct</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">direct</span><span class="s2">) {</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_directInactive </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isInInactiveTree</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">)) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_directInactive</span><span class="s2">) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_inactive </span><span class="s2">|| </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_inactive </span><span class="s2">=== </span><span class="s3">null</span><span class="s2">) {</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_inactive </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">activateChildComponent</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
          <span class="s2">}</span>
          <span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'activated'</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">deactivateChildComponent</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">direct</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">direct</span><span class="s2">) {</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_directInactive </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isInInactiveTree</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">)) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_inactive</span><span class="s2">) {</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_inactive </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">deactivateChildComponent</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
          <span class="s2">}</span>
          <span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'deactivated'</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">hook</span><span class="s2">, </span><span class="s1">args</span><span class="s2">, </span><span class="s1">setContext</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">setContext </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">setContext </span><span class="s2">= </span><span class="s3">true</span><span class="s2">; }</span>
      <span class="s0">// #7573 disable dep collection when invoking lifecycle hooks</span>
      <span class="s1">pushTarget</span><span class="s2">();</span>
      <span class="s3">var </span><span class="s1">prev </span><span class="s2">= </span><span class="s1">currentInstance</span><span class="s2">;</span>
      <span class="s1">setContext </span><span class="s2">&amp;&amp; </span><span class="s1">setCurrentInstance</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">handlers </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">[</span><span class="s1">hook</span><span class="s2">];</span>
      <span class="s3">var </span><span class="s1">info </span><span class="s2">= </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">hook</span><span class="s2">, </span><span class="s4">&quot; hook&quot;</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">handlers</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">j </span><span class="s2">= </span><span class="s1">handlers</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">j</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">invokeWithErrorHandling</span><span class="s2">(</span><span class="s1">handlers</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">args </span><span class="s2">|| </span><span class="s3">null</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_hasHookEvent</span><span class="s2">) {</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">$emit</span><span class="s2">(</span><span class="s4">'hook:' </span><span class="s2">+ </span><span class="s1">hook</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s1">setContext </span><span class="s2">&amp;&amp; </span><span class="s1">setCurrentInstance</span><span class="s2">(</span><span class="s1">prev</span><span class="s2">);</span>
      <span class="s1">popTarget</span><span class="s2">();</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">MAX_UPDATE_COUNT </span><span class="s2">= </span><span class="s6">100</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">queue </span><span class="s2">= [];</span>
  <span class="s3">var </span><span class="s1">activatedChildren </span><span class="s2">= [];</span>
  <span class="s3">var </span><span class="s1">has </span><span class="s2">= {};</span>
  <span class="s3">var </span><span class="s1">circular </span><span class="s2">= {};</span>
  <span class="s3">var </span><span class="s1">waiting </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">flushing </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">index$1 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
  <span class="s5">/**</span>
   <span class="s5">* Reset the scheduler's state.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">resetSchedulerState</span><span class="s2">() {</span>
      <span class="s1">index$1 </span><span class="s2">= </span><span class="s1">queue</span><span class="s2">.</span><span class="s1">length </span><span class="s2">= </span><span class="s1">activatedChildren</span><span class="s2">.</span><span class="s1">length </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s1">has </span><span class="s2">= {};</span>
      <span class="s2">{</span>
          <span class="s1">circular </span><span class="s2">= {};</span>
      <span class="s2">}</span>
      <span class="s1">waiting </span><span class="s2">= </span><span class="s1">flushing </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s0">// Async edge case #6566 requires saving the timestamp when event listeners are</span>
  <span class="s0">// attached. However, calling performance.now() has a perf overhead especially</span>
  <span class="s0">// if the page has thousands of event listeners. Instead, we take a timestamp</span>
  <span class="s0">// every time the scheduler flushes and use that for all event listeners</span>
  <span class="s0">// attached during that flush.</span>
  <span class="s3">var </span><span class="s1">currentFlushTimestamp </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
  <span class="s0">// Async edge case fix requires storing an event listener's attach timestamp.</span>
  <span class="s3">var </span><span class="s1">getNow </span><span class="s2">= </span><span class="s1">Date</span><span class="s2">.</span><span class="s1">now</span><span class="s2">;</span>
  <span class="s0">// Determine what event timestamp the browser is using. Annoyingly, the</span>
  <span class="s0">// timestamp can either be hi-res (relative to page load) or low-res</span>
  <span class="s0">// (relative to UNIX epoch), so in order to compare time we have to use the</span>
  <span class="s0">// same timestamp type when saving the flush timestamp.</span>
  <span class="s0">// All IE versions use low-res event timestamps, and have problematic clock</span>
  <span class="s0">// implementations (#9632)</span>
  <span class="s3">if </span><span class="s2">(</span><span class="s1">inBrowser </span><span class="s2">&amp;&amp; !</span><span class="s1">isIE</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">performance_1 </span><span class="s2">= </span><span class="s1">window</span><span class="s2">.</span><span class="s1">performance</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">performance_1 </span><span class="s2">&amp;&amp;</span>
          <span class="s3">typeof </span><span class="s1">performance_1</span><span class="s2">.</span><span class="s1">now </span><span class="s2">=== </span><span class="s4">'function' </span><span class="s2">&amp;&amp;</span>
          <span class="s1">getNow</span><span class="s2">() &gt; </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createEvent</span><span class="s2">(</span><span class="s4">'Event'</span><span class="s2">).</span><span class="s1">timeStamp</span><span class="s2">) {</span>
          <span class="s0">// if the event timestamp, although evaluated AFTER the Date.now(), is</span>
          <span class="s0">// smaller than it, it means the event is using a hi-res timestamp,</span>
          <span class="s0">// and we need to use the hi-res version for event listener timestamps as</span>
          <span class="s0">// well.</span>
          <span class="s1">getNow </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() { </span><span class="s3">return </span><span class="s1">performance_1</span><span class="s2">.</span><span class="s1">now</span><span class="s2">(); };</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">sortCompareFn </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">a</span><span class="s2">.</span><span class="s1">post</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">b</span><span class="s2">.</span><span class="s1">post</span><span class="s2">)</span>
              <span class="s3">return </span><span class="s6">1</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">b</span><span class="s2">.</span><span class="s1">post</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s2">-</span><span class="s6">1</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">a</span><span class="s2">.</span><span class="s1">id </span><span class="s2">- </span><span class="s1">b</span><span class="s2">.</span><span class="s1">id</span><span class="s2">;</span>
  <span class="s2">};</span>
  <span class="s5">/**</span>
   <span class="s5">* Flush both queues and run the watchers.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">flushSchedulerQueue</span><span class="s2">() {</span>
      <span class="s1">currentFlushTimestamp </span><span class="s2">= </span><span class="s1">getNow</span><span class="s2">();</span>
      <span class="s1">flushing </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">watcher</span><span class="s2">, </span><span class="s1">id</span><span class="s2">;</span>
      <span class="s0">// Sort queue before flush.</span>
      <span class="s0">// This ensures that:</span>
      <span class="s0">// 1. Components are updated from parent to child. (because parent is always</span>
      <span class="s0">//    created before the child)</span>
      <span class="s0">// 2. A component's user watchers are run before its render watcher (because</span>
      <span class="s0">//    user watchers are created before the render watcher)</span>
      <span class="s0">// 3. If a component is destroyed during a parent component's watcher run,</span>
      <span class="s0">//    its watchers can be skipped.</span>
      <span class="s1">queue</span><span class="s2">.</span><span class="s1">sort</span><span class="s2">(</span><span class="s1">sortCompareFn</span><span class="s2">);</span>
      <span class="s0">// do not cache length because more watchers might be pushed</span>
      <span class="s0">// as we run existing watchers</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">index$1 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">index$1 </span><span class="s2">&lt; </span><span class="s1">queue</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">index$1</span><span class="s2">++) {</span>
          <span class="s1">watcher </span><span class="s2">= </span><span class="s1">queue</span><span class="s2">[</span><span class="s1">index$1</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">before</span><span class="s2">) {</span>
              <span class="s1">watcher</span><span class="s2">.</span><span class="s1">before</span><span class="s2">();</span>
          <span class="s2">}</span>
          <span class="s1">id </span><span class="s2">= </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">id</span><span class="s2">;</span>
          <span class="s1">has</span><span class="s2">[</span><span class="s1">id</span><span class="s2">] = </span><span class="s3">null</span><span class="s2">;</span>
          <span class="s1">watcher</span><span class="s2">.</span><span class="s1">run</span><span class="s2">();</span>
          <span class="s0">// in dev build, check and stop circular updates.</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">has</span><span class="s2">[</span><span class="s1">id</span><span class="s2">] != </span><span class="s3">null</span><span class="s2">) {</span>
              <span class="s1">circular</span><span class="s2">[</span><span class="s1">id</span><span class="s2">] = (</span><span class="s1">circular</span><span class="s2">[</span><span class="s1">id</span><span class="s2">] || </span><span class="s6">0</span><span class="s2">) + </span><span class="s6">1</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">circular</span><span class="s2">[</span><span class="s1">id</span><span class="s2">] &gt; </span><span class="s1">MAX_UPDATE_COUNT</span><span class="s2">) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'You may have an infinite update loop ' </span><span class="s2">+</span>
                      <span class="s2">(</span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">user</span>
                          <span class="s2">? </span><span class="s4">&quot;in watcher with expression </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">expression</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">)</span>
                          <span class="s2">: </span><span class="s4">&quot;in a component render function.&quot;</span><span class="s2">), </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">vm</span><span class="s2">);</span>
                  <span class="s3">break</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// keep copies of post queues before resetting state</span>
      <span class="s3">var </span><span class="s1">activatedQueue </span><span class="s2">= </span><span class="s1">activatedChildren</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">();</span>
      <span class="s3">var </span><span class="s1">updatedQueue </span><span class="s2">= </span><span class="s1">queue</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">();</span>
      <span class="s1">resetSchedulerState</span><span class="s2">();</span>
      <span class="s0">// call component updated and activated hooks</span>
      <span class="s1">callActivatedHooks</span><span class="s2">(</span><span class="s1">activatedQueue</span><span class="s2">);</span>
      <span class="s1">callUpdatedHooks</span><span class="s2">(</span><span class="s1">updatedQueue</span><span class="s2">);</span>
      <span class="s1">cleanupDeps</span><span class="s2">();</span>
      <span class="s0">// devtool hook</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">devtools </span><span class="s2">&amp;&amp; </span><span class="s1">config</span><span class="s2">.</span><span class="s1">devtools</span><span class="s2">) {</span>
          <span class="s1">devtools</span><span class="s2">.</span><span class="s1">emit</span><span class="s2">(</span><span class="s4">'flush'</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">callUpdatedHooks</span><span class="s2">(</span><span class="s1">queue</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s1">queue</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">i</span><span class="s2">--) {</span>
          <span class="s3">var </span><span class="s1">watcher </span><span class="s2">= </span><span class="s1">queue</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">vm</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm </span><span class="s2">&amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_watcher </span><span class="s2">=== </span><span class="s1">watcher </span><span class="s2">&amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_isMounted </span><span class="s2">&amp;&amp; !</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_isDestroyed</span><span class="s2">) {</span>
              <span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'updated'</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Queue a kept-alive component that was activated during patch.</span>
   <span class="s5">* The queue will be processed after the entire tree has been patched.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">queueActivatedComponent</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s0">// setting _inactive to false here so that a render function can</span>
      <span class="s0">// rely on checking whether it's in an inactive tree (e.g. router-view)</span>
      <span class="s1">vm</span><span class="s2">.</span><span class="s1">_inactive </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s1">activatedChildren</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">callActivatedHooks</span><span class="s2">(</span><span class="s1">queue</span><span class="s2">) {</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">queue</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">queue</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">_inactive </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s1">activateChildComponent</span><span class="s2">(</span><span class="s1">queue</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s3">true </span><span class="s0">/* true */</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Push a watcher into the watcher queue.</span>
   <span class="s5">* Jobs with duplicate IDs will be skipped unless it's</span>
   <span class="s5">* pushed when the queue is being flushed.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">queueWatcher</span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">id </span><span class="s2">= </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">id</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">has</span><span class="s2">[</span><span class="s1">id</span><span class="s2">] != </span><span class="s3">null</span><span class="s2">) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">watcher </span><span class="s2">=== </span><span class="s1">Dep</span><span class="s2">.</span><span class="s1">target </span><span class="s2">&amp;&amp; </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">noRecurse</span><span class="s2">) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s1">has</span><span class="s2">[</span><span class="s1">id</span><span class="s2">] = </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">flushing</span><span class="s2">) {</span>
          <span class="s1">queue</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s0">// if already flushing, splice the watcher based on its id</span>
          <span class="s0">// if already past its id, it will be run next immediately.</span>
          <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s1">queue</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">i </span><span class="s2">&gt; </span><span class="s1">index$1 </span><span class="s2">&amp;&amp; </span><span class="s1">queue</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">id </span><span class="s2">&gt; </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">id</span><span class="s2">) {</span>
              <span class="s1">i</span><span class="s2">--;</span>
          <span class="s2">}</span>
          <span class="s1">queue</span><span class="s2">.</span><span class="s1">splice</span><span class="s2">(</span><span class="s1">i </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">, </span><span class="s6">0</span><span class="s2">, </span><span class="s1">watcher</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// queue the flush</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">waiting</span><span class="s2">) {</span>
          <span class="s1">waiting </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">config</span><span class="s2">.</span><span class="s1">async</span><span class="s2">) {</span>
              <span class="s1">flushSchedulerQueue</span><span class="s2">();</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s1">nextTick</span><span class="s2">(</span><span class="s1">flushSchedulerQueue</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">WATCHER </span><span class="s2">= </span><span class="s4">&quot;watcher&quot;</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">WATCHER_CB </span><span class="s2">= </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">WATCHER</span><span class="s2">, </span><span class="s4">&quot; callback&quot;</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">WATCHER_GETTER </span><span class="s2">= </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">WATCHER</span><span class="s2">, </span><span class="s4">&quot; getter&quot;</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">WATCHER_CLEANUP </span><span class="s2">= </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">WATCHER</span><span class="s2">, </span><span class="s4">&quot; cleanup&quot;</span><span class="s2">);</span>
  <span class="s0">// Simple effect.</span>
  <span class="s3">function </span><span class="s1">watchEffect</span><span class="s2">(</span><span class="s1">effect</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">doWatch</span><span class="s2">(</span><span class="s1">effect</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">watchPostEffect</span><span class="s2">(</span><span class="s1">effect</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">doWatch</span><span class="s2">(</span><span class="s1">effect</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, (</span><span class="s1">__assign</span><span class="s2">(</span><span class="s1">__assign</span><span class="s2">({}, </span><span class="s1">options</span><span class="s2">), { </span><span class="s1">flush</span><span class="s2">: </span><span class="s4">'post' </span><span class="s2">}) ));</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">watchSyncEffect</span><span class="s2">(</span><span class="s1">effect</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">doWatch</span><span class="s2">(</span><span class="s1">effect</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, (</span><span class="s1">__assign</span><span class="s2">(</span><span class="s1">__assign</span><span class="s2">({}, </span><span class="s1">options</span><span class="s2">), { </span><span class="s1">flush</span><span class="s2">: </span><span class="s4">'sync' </span><span class="s2">}) ));</span>
  <span class="s2">}</span>
  <span class="s0">// initial value for watchers to trigger on undefined initial values</span>
  <span class="s3">var </span><span class="s1">INITIAL_WATCHER_VALUE </span><span class="s2">= {};</span>
  <span class="s0">// implementation</span>
  <span class="s3">function </span><span class="s1">watch</span><span class="s2">(</span><span class="s1">source</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">cb </span><span class="s2">!== </span><span class="s4">'function'</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;`watch(fn, options?)` signature has been moved to a separate API. &quot; </span><span class="s2">+</span>
              <span class="s4">&quot;Use `watchEffect(fn, options?)` instead. `watch` now only &quot; </span><span class="s2">+</span>
              <span class="s4">&quot;supports `watch(source, cb, options?) signature.&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">doWatch</span><span class="s2">(</span><span class="s1">source</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">doWatch</span><span class="s2">(</span><span class="s1">source</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">, </span><span class="s1">_a</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">_b </span><span class="s2">= </span><span class="s1">_a </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0 </span><span class="s2">? </span><span class="s1">emptyObject </span><span class="s2">: </span><span class="s1">_a</span><span class="s2">, </span><span class="s1">immediate </span><span class="s2">= </span><span class="s1">_b</span><span class="s2">.</span><span class="s1">immediate</span><span class="s2">, </span><span class="s1">deep </span><span class="s2">= </span><span class="s1">_b</span><span class="s2">.</span><span class="s1">deep</span><span class="s2">, </span><span class="s1">_c </span><span class="s2">= </span><span class="s1">_b</span><span class="s2">.</span><span class="s1">flush</span><span class="s2">, </span><span class="s1">flush </span><span class="s2">= </span><span class="s1">_c </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0 </span><span class="s2">? </span><span class="s4">'pre' </span><span class="s2">: </span><span class="s1">_c</span><span class="s2">, </span><span class="s1">onTrack </span><span class="s2">= </span><span class="s1">_b</span><span class="s2">.</span><span class="s1">onTrack</span><span class="s2">, </span><span class="s1">onTrigger </span><span class="s2">= </span><span class="s1">_b</span><span class="s2">.</span><span class="s1">onTrigger</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">cb</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">immediate </span><span class="s2">!== </span><span class="s1">undefined</span><span class="s2">) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;watch() </span><span class="s3">\&quot;</span><span class="s4">immediate</span><span class="s3">\&quot; </span><span class="s4">option is only respected when using the &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;watch(source, callback, options?) signature.&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">deep </span><span class="s2">!== </span><span class="s1">undefined</span><span class="s2">) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;watch() </span><span class="s3">\&quot;</span><span class="s4">deep</span><span class="s3">\&quot; </span><span class="s4">option is only respected when using the &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;watch(source, callback, options?) signature.&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">warnInvalidSource </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">s</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Invalid watch source: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">s</span><span class="s2">, </span><span class="s4">&quot;. A watch source can only be a getter/effect &quot;</span><span class="s2">) +</span>
              <span class="s4">&quot;function, a ref, a reactive object, or an array of these types.&quot;</span><span class="s2">);</span>
      <span class="s2">};</span>
      <span class="s3">var </span><span class="s1">instance </span><span class="s2">= </span><span class="s1">currentInstance</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">call </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">fn</span><span class="s2">, </span><span class="s1">type</span><span class="s2">, </span><span class="s1">args</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">args </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">args </span><span class="s2">= </span><span class="s3">null</span><span class="s2">; }</span>
          <span class="s3">return </span><span class="s1">invokeWithErrorHandling</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s1">args</span><span class="s2">, </span><span class="s1">instance</span><span class="s2">, </span><span class="s1">type</span><span class="s2">);</span>
      <span class="s2">};</span>
      <span class="s3">var </span><span class="s1">getter</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">forceTrigger </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">isMultiSource </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">source</span><span class="s2">)) {</span>
          <span class="s1">getter </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() { </span><span class="s3">return </span><span class="s1">source</span><span class="s2">.</span><span class="s1">value</span><span class="s2">; };</span>
          <span class="s1">forceTrigger </span><span class="s2">= </span><span class="s1">isShallow</span><span class="s2">(</span><span class="s1">source</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isReactive</span><span class="s2">(</span><span class="s1">source</span><span class="s2">)) {</span>
          <span class="s1">getter </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s1">source</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">.</span><span class="s1">dep</span><span class="s2">.</span><span class="s1">depend</span><span class="s2">();</span>
              <span class="s3">return </span><span class="s1">source</span><span class="s2">;</span>
          <span class="s2">};</span>
          <span class="s1">deep </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">source</span><span class="s2">)) {</span>
          <span class="s1">isMultiSource </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s1">forceTrigger </span><span class="s2">= </span><span class="s1">source</span><span class="s2">.</span><span class="s1">some</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">s</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">isReactive</span><span class="s2">(</span><span class="s1">s</span><span class="s2">) || </span><span class="s1">isShallow</span><span class="s2">(</span><span class="s1">s</span><span class="s2">); });</span>
          <span class="s1">getter </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">return </span><span class="s1">source</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">s</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">s</span><span class="s2">)) {</span>
                      <span class="s3">return </span><span class="s1">s</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s3">else if </span><span class="s2">(</span><span class="s1">isReactive</span><span class="s2">(</span><span class="s1">s</span><span class="s2">)) {</span>
                      <span class="s3">return </span><span class="s1">traverse</span><span class="s2">(</span><span class="s1">s</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">else if </span><span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">s</span><span class="s2">)) {</span>
                      <span class="s3">return </span><span class="s1">call</span><span class="s2">(</span><span class="s1">s</span><span class="s2">, </span><span class="s1">WATCHER_GETTER</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s1">warnInvalidSource</span><span class="s2">(</span><span class="s1">s</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">});</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">source</span><span class="s2">)) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cb</span><span class="s2">) {</span>
              <span class="s0">// getter with cb</span>
              <span class="s1">getter </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() { </span><span class="s3">return </span><span class="s1">call</span><span class="s2">(</span><span class="s1">source</span><span class="s2">, </span><span class="s1">WATCHER_GETTER</span><span class="s2">); };</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s0">// no cb -&gt; simple effect</span>
              <span class="s1">getter </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">instance </span><span class="s2">&amp;&amp; </span><span class="s1">instance</span><span class="s2">.</span><span class="s1">_isDestroyed</span><span class="s2">) {</span>
                      <span class="s3">return</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">cleanup</span><span class="s2">) {</span>
                      <span class="s1">cleanup</span><span class="s2">();</span>
                  <span class="s2">}</span>
                  <span class="s3">return </span><span class="s1">call</span><span class="s2">(</span><span class="s1">source</span><span class="s2">, </span><span class="s1">WATCHER</span><span class="s2">, [</span><span class="s1">onCleanup</span><span class="s2">]);</span>
              <span class="s2">};</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">getter </span><span class="s2">= </span><span class="s1">noop</span><span class="s2">;</span>
          <span class="s1">warnInvalidSource</span><span class="s2">(</span><span class="s1">source</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">cb </span><span class="s2">&amp;&amp; </span><span class="s1">deep</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">baseGetter_1 </span><span class="s2">= </span><span class="s1">getter</span><span class="s2">;</span>
          <span class="s1">getter </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() { </span><span class="s3">return </span><span class="s1">traverse</span><span class="s2">(</span><span class="s1">baseGetter_1</span><span class="s2">()); };</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">cleanup</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">onCleanup </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">fn</span><span class="s2">) {</span>
          <span class="s1">cleanup </span><span class="s2">= </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">onStop </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s1">call</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">, </span><span class="s1">WATCHER_CLEANUP</span><span class="s2">);</span>
          <span class="s2">};</span>
      <span class="s2">};</span>
      <span class="s0">// in SSR there is no need to setup an actual effect, and it should be noop</span>
      <span class="s0">// unless it's eager</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isServerRendering</span><span class="s2">()) {</span>
          <span class="s0">// we will also not call the invalidate callback (+ runner is not set up)</span>
          <span class="s1">onCleanup </span><span class="s2">= </span><span class="s1">noop</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">cb</span><span class="s2">) {</span>
              <span class="s1">getter</span><span class="s2">();</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">immediate</span><span class="s2">) {</span>
              <span class="s1">call</span><span class="s2">(</span><span class="s1">cb</span><span class="s2">, </span><span class="s1">WATCHER_CB</span><span class="s2">, [</span>
                  <span class="s1">getter</span><span class="s2">(),</span>
                  <span class="s1">isMultiSource </span><span class="s2">? [] : </span><span class="s1">undefined</span><span class="s2">,</span>
                  <span class="s1">onCleanup</span>
              <span class="s2">]);</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">noop</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">watcher </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Watcher</span><span class="s2">(</span><span class="s1">currentInstance</span><span class="s2">, </span><span class="s1">getter</span><span class="s2">, </span><span class="s1">noop</span><span class="s2">, {</span>
          <span class="s1">lazy</span><span class="s2">: </span><span class="s3">true</span>
      <span class="s2">});</span>
      <span class="s1">watcher</span><span class="s2">.</span><span class="s1">noRecurse </span><span class="s2">= !</span><span class="s1">cb</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">oldValue </span><span class="s2">= </span><span class="s1">isMultiSource </span><span class="s2">? [] : </span><span class="s1">INITIAL_WATCHER_VALUE</span><span class="s2">;</span>
      <span class="s0">// overwrite default run</span>
      <span class="s1">watcher</span><span class="s2">.</span><span class="s1">run </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">active</span><span class="s2">) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cb</span><span class="s2">) {</span>
              <span class="s0">// watch(source, cb)</span>
              <span class="s3">var </span><span class="s1">newValue </span><span class="s2">= </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">get</span><span class="s2">();</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">deep </span><span class="s2">||</span>
                  <span class="s1">forceTrigger </span><span class="s2">||</span>
                  <span class="s2">(</span><span class="s1">isMultiSource</span>
                      <span class="s2">? </span><span class="s1">newValue</span><span class="s2">.</span><span class="s1">some</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">v</span><span class="s2">, </span><span class="s1">i</span><span class="s2">) {</span>
                          <span class="s3">return </span><span class="s1">hasChanged</span><span class="s2">(</span><span class="s1">v</span><span class="s2">, </span><span class="s1">oldValue</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
                      <span class="s2">})</span>
                      <span class="s2">: </span><span class="s1">hasChanged</span><span class="s2">(</span><span class="s1">newValue</span><span class="s2">, </span><span class="s1">oldValue</span><span class="s2">))) {</span>
                  <span class="s0">// cleanup before running cb again</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">cleanup</span><span class="s2">) {</span>
                      <span class="s1">cleanup</span><span class="s2">();</span>
                  <span class="s2">}</span>
                  <span class="s1">call</span><span class="s2">(</span><span class="s1">cb</span><span class="s2">, </span><span class="s1">WATCHER_CB</span><span class="s2">, [</span>
                      <span class="s1">newValue</span><span class="s2">,</span>
                      <span class="s0">// pass undefined as the old value when it's changed for the first time</span>
                      <span class="s1">oldValue </span><span class="s2">=== </span><span class="s1">INITIAL_WATCHER_VALUE </span><span class="s2">? </span><span class="s1">undefined </span><span class="s2">: </span><span class="s1">oldValue</span><span class="s2">,</span>
                      <span class="s1">onCleanup</span>
                  <span class="s2">]);</span>
                  <span class="s1">oldValue </span><span class="s2">= </span><span class="s1">newValue</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s0">// watchEffect</span>
              <span class="s1">watcher</span><span class="s2">.</span><span class="s1">get</span><span class="s2">();</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">flush </span><span class="s2">=== </span><span class="s4">'sync'</span><span class="s2">) {</span>
          <span class="s1">watcher</span><span class="s2">.</span><span class="s1">update </span><span class="s2">= </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">run</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">flush </span><span class="s2">=== </span><span class="s4">'post'</span><span class="s2">) {</span>
          <span class="s1">watcher</span><span class="s2">.</span><span class="s1">post </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s1">watcher</span><span class="s2">.</span><span class="s1">update </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() { </span><span class="s3">return </span><span class="s1">queueWatcher</span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">); };</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s0">// pre</span>
          <span class="s1">watcher</span><span class="s2">.</span><span class="s1">update </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">instance </span><span class="s2">&amp;&amp; </span><span class="s1">instance </span><span class="s2">=== </span><span class="s1">currentInstance </span><span class="s2">&amp;&amp; !</span><span class="s1">instance</span><span class="s2">.</span><span class="s1">_isMounted</span><span class="s2">) {</span>
                  <span class="s0">// pre-watcher triggered before</span>
                  <span class="s3">var </span><span class="s1">buffer </span><span class="s2">= </span><span class="s1">instance</span><span class="s2">.</span><span class="s1">_preWatchers </span><span class="s2">|| (</span><span class="s1">instance</span><span class="s2">.</span><span class="s1">_preWatchers </span><span class="s2">= []);</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">buffer</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">) &lt; </span><span class="s6">0</span><span class="s2">)</span>
                      <span class="s1">buffer</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">queueWatcher</span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
      <span class="s2">{</span>
          <span class="s1">watcher</span><span class="s2">.</span><span class="s1">onTrack </span><span class="s2">= </span><span class="s1">onTrack</span><span class="s2">;</span>
          <span class="s1">watcher</span><span class="s2">.</span><span class="s1">onTrigger </span><span class="s2">= </span><span class="s1">onTrigger</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// initial run</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">cb</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">immediate</span><span class="s2">) {</span>
              <span class="s1">watcher</span><span class="s2">.</span><span class="s1">run</span><span class="s2">();</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">oldValue </span><span class="s2">= </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">get</span><span class="s2">();</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">flush </span><span class="s2">=== </span><span class="s4">'post' </span><span class="s2">&amp;&amp; </span><span class="s1">instance</span><span class="s2">) {</span>
          <span class="s1">instance</span><span class="s2">.</span><span class="s1">$once</span><span class="s2">(</span><span class="s4">'hook:mounted'</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() { </span><span class="s3">return </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">get</span><span class="s2">(); });</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">watcher</span><span class="s2">.</span><span class="s1">get</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s3">return function </span><span class="s2">() {</span>
          <span class="s1">watcher</span><span class="s2">.</span><span class="s1">teardown</span><span class="s2">();</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">activeEffectScope</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">EffectScope </span><span class="s2">= </span><span class="s5">/** </span><span class="s8">@class </span><span class="s5">*/ </span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
      <span class="s3">function </span><span class="s1">EffectScope</span><span class="s2">(</span><span class="s1">detached</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">detached </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">detached </span><span class="s2">= </span><span class="s3">false</span><span class="s2">; }</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">detached </span><span class="s2">= </span><span class="s1">detached</span><span class="s2">;</span>
          <span class="s5">/**</span>
           <span class="s5">* </span><span class="s8">@internal</span>
           <span class="s5">*/</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">active </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s5">/**</span>
           <span class="s5">* </span><span class="s8">@internal</span>
           <span class="s5">*/</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">effects </span><span class="s2">= [];</span>
          <span class="s5">/**</span>
           <span class="s5">* </span><span class="s8">@internal</span>
           <span class="s5">*/</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">cleanups </span><span class="s2">= [];</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">parent </span><span class="s2">= </span><span class="s1">activeEffectScope</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">detached </span><span class="s2">&amp;&amp; </span><span class="s1">activeEffectScope</span><span class="s2">) {</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">index </span><span class="s2">=</span>
                  <span class="s2">(</span><span class="s1">activeEffectScope</span><span class="s2">.</span><span class="s1">scopes </span><span class="s2">|| (</span><span class="s1">activeEffectScope</span><span class="s2">.</span><span class="s1">scopes </span><span class="s2">= [])).</span><span class="s1">push</span><span class="s2">(</span><span class="s3">this</span><span class="s2">) - </span><span class="s6">1</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s1">EffectScope</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">run </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">fn</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">active</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">currentEffectScope </span><span class="s2">= </span><span class="s1">activeEffectScope</span><span class="s2">;</span>
              <span class="s3">try </span><span class="s2">{</span>
                  <span class="s1">activeEffectScope </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
                  <span class="s3">return </span><span class="s1">fn</span><span class="s2">();</span>
              <span class="s2">}</span>
              <span class="s3">finally </span><span class="s2">{</span>
                  <span class="s1">activeEffectScope </span><span class="s2">= </span><span class="s1">currentEffectScope</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;cannot run an inactive effect scope.&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s5">/**</span>
       <span class="s5">* This should only be called on non-detached scopes</span>
       <span class="s5">* </span><span class="s8">@internal</span>
       <span class="s5">*/</span>
      <span class="s1">EffectScope</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">on </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s1">activeEffectScope </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s5">/**</span>
       <span class="s5">* This should only be called on non-detached scopes</span>
       <span class="s5">* </span><span class="s8">@internal</span>
       <span class="s5">*/</span>
      <span class="s1">EffectScope</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">off </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s1">activeEffectScope </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s1">EffectScope</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">stop </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">fromParent</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">active</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">effects</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">effects</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">teardown</span><span class="s2">();</span>
              <span class="s2">}</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">cleanups</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">cleanups</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]();</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">scopes</span><span class="s2">) {</span>
                  <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">scopes</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                      <span class="s3">this</span><span class="s2">.</span><span class="s1">scopes</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">stop</span><span class="s2">(</span><span class="s3">true</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s0">// nested scope, dereference from parent to avoid memory leaks</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s3">this</span><span class="s2">.</span><span class="s1">detached </span><span class="s2">&amp;&amp; </span><span class="s3">this</span><span class="s2">.</span><span class="s1">parent </span><span class="s2">&amp;&amp; !</span><span class="s1">fromParent</span><span class="s2">) {</span>
                  <span class="s0">// optimized O(1) removal</span>
                  <span class="s3">var </span><span class="s1">last </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">.</span><span class="s1">scopes</span><span class="s2">.</span><span class="s1">pop</span><span class="s2">();</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">last </span><span class="s2">&amp;&amp; </span><span class="s1">last </span><span class="s2">!== </span><span class="s3">this</span><span class="s2">) {</span>
                      <span class="s3">this</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">.</span><span class="s1">scopes</span><span class="s2">[</span><span class="s3">this</span><span class="s2">.</span><span class="s1">index</span><span class="s2">] = </span><span class="s1">last</span><span class="s2">;</span>
                      <span class="s1">last</span><span class="s2">.</span><span class="s1">index </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">index</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">parent </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">active </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s3">return </span><span class="s1">EffectScope</span><span class="s2">;</span>
  <span class="s2">}());</span>
  <span class="s3">function </span><span class="s1">effectScope</span><span class="s2">(</span><span class="s1">detached</span><span class="s2">) {</span>
      <span class="s3">return new </span><span class="s1">EffectScope</span><span class="s2">(</span><span class="s1">detached</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* </span><span class="s8">@internal</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">recordEffectScope</span><span class="s2">(</span><span class="s1">effect</span><span class="s2">, </span><span class="s1">scope</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">scope </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">scope </span><span class="s2">= </span><span class="s1">activeEffectScope</span><span class="s2">; }</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">scope </span><span class="s2">&amp;&amp; </span><span class="s1">scope</span><span class="s2">.</span><span class="s1">active</span><span class="s2">) {</span>
          <span class="s1">scope</span><span class="s2">.</span><span class="s1">effects</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">effect</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">getCurrentScope</span><span class="s2">() {</span>
      <span class="s3">return </span><span class="s1">activeEffectScope</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">onScopeDispose</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">activeEffectScope</span><span class="s2">) {</span>
          <span class="s1">activeEffectScope</span><span class="s2">.</span><span class="s1">cleanups</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;onScopeDispose() is called when there is no active effect scope&quot; </span><span class="s2">+</span>
              <span class="s4">&quot; to be associated with.&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">provide</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">currentInstance</span><span class="s2">) {</span>
          <span class="s2">{</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;provide() can only be used inside setup().&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s0">// TS doesn't allow symbol as index type</span>
          <span class="s1">resolveProvided</span><span class="s2">(</span><span class="s1">currentInstance</span><span class="s2">)[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">value</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">resolveProvided</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s0">// by default an instance inherits its parent's provides object</span>
      <span class="s0">// but when it needs to provide values of its own, it creates its</span>
      <span class="s0">// own provides object using parent provides object as prototype.</span>
      <span class="s0">// this way in `inject` we can simply look up injections from direct</span>
      <span class="s0">// parent and let the prototype chain do the work.</span>
      <span class="s3">var </span><span class="s1">existing </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_provided</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">parentProvides </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$parent </span><span class="s2">&amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">.</span><span class="s1">_provided</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">parentProvides </span><span class="s2">=== </span><span class="s1">existing</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_provided </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">parentProvides</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">existing</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">inject</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">defaultValue</span><span class="s2">, </span><span class="s1">treatDefaultAsFactory</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">treatDefaultAsFactory </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">treatDefaultAsFactory </span><span class="s2">= </span><span class="s3">false</span><span class="s2">; }</span>
      <span class="s0">// fallback to `currentRenderingInstance` so that this can be called in</span>
      <span class="s0">// a functional component</span>
      <span class="s3">var </span><span class="s1">instance </span><span class="s2">= </span><span class="s1">currentInstance</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">instance</span><span class="s2">) {</span>
          <span class="s0">// #2400</span>
          <span class="s0">// to support `app.use` plugins,</span>
          <span class="s0">// fallback to appContext's `provides` if the instance is at root</span>
          <span class="s3">var </span><span class="s1">provides </span><span class="s2">= </span><span class="s1">instance</span><span class="s2">.</span><span class="s1">$parent </span><span class="s2">&amp;&amp; </span><span class="s1">instance</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">.</span><span class="s1">_provided</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">provides </span><span class="s2">&amp;&amp; </span><span class="s1">key </span><span class="s3">in </span><span class="s1">provides</span><span class="s2">) {</span>
              <span class="s0">// TS doesn't allow symbol as index type</span>
              <span class="s3">return </span><span class="s1">provides</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">arguments</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&gt; </span><span class="s6">1</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">treatDefaultAsFactory </span><span class="s2">&amp;&amp; </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">defaultValue</span><span class="s2">)</span>
                  <span class="s2">? </span><span class="s1">defaultValue</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">instance</span><span class="s2">)</span>
                  <span class="s2">: </span><span class="s1">defaultValue</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;injection </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">String</span><span class="s2">(</span><span class="s1">key</span><span class="s2">), </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">not found.&quot;</span><span class="s2">));</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;inject() can only be used inside setup() or functional components.&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* </span><span class="s8">@internal </span><span class="s5">this function needs manual public type declaration because it relies</span>
   <span class="s5">* on previously manually authored types from Vue 2</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">h</span><span class="s2">(</span><span class="s1">type</span><span class="s2">, </span><span class="s1">props</span><span class="s2">, </span><span class="s1">children</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">currentInstance</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;globally imported h() can only be invoked when there is an active &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;component instance, e.g. synchronously in a component's render or setup function.&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">createElement$1</span><span class="s2">(</span><span class="s1">currentInstance</span><span class="s2">, </span><span class="s1">type</span><span class="s2">, </span><span class="s1">props</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s6">2</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">handleError</span><span class="s2">(</span><span class="s1">err</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">) {</span>
      <span class="s0">// Deactivate deps tracking while processing error handler to avoid possible infinite rendering.</span>
      <span class="s0">// See: https://github.com/vuejs/vuex/issues/1505</span>
      <span class="s1">pushTarget</span><span class="s2">();</span>
      <span class="s3">try </span><span class="s2">{</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">cur </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">;</span>
              <span class="s3">while </span><span class="s2">((</span><span class="s1">cur </span><span class="s2">= </span><span class="s1">cur</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">)) {</span>
                  <span class="s3">var </span><span class="s1">hooks </span><span class="s2">= </span><span class="s1">cur</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">errorCaptured</span><span class="s2">;</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">hooks</span><span class="s2">) {</span>
                      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">hooks</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                          <span class="s3">try </span><span class="s2">{</span>
                              <span class="s3">var </span><span class="s1">capture </span><span class="s2">= </span><span class="s1">hooks</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">call</span><span class="s2">(</span><span class="s1">cur</span><span class="s2">, </span><span class="s1">err</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">) === </span><span class="s3">false</span><span class="s2">;</span>
                              <span class="s3">if </span><span class="s2">(</span><span class="s1">capture</span><span class="s2">)</span>
                                  <span class="s3">return</span><span class="s2">;</span>
                          <span class="s2">}</span>
                          <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
                              <span class="s1">globalHandleError</span><span class="s2">(</span><span class="s1">e</span><span class="s2">, </span><span class="s1">cur</span><span class="s2">, </span><span class="s4">'errorCaptured hook'</span><span class="s2">);</span>
                          <span class="s2">}</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s1">globalHandleError</span><span class="s2">(</span><span class="s1">err</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">finally </span><span class="s2">{</span>
          <span class="s1">popTarget</span><span class="s2">();</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">invokeWithErrorHandling</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">, </span><span class="s1">context</span><span class="s2">, </span><span class="s1">args</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res</span><span class="s2">;</span>
      <span class="s3">try </span><span class="s2">{</span>
          <span class="s1">res </span><span class="s2">= </span><span class="s1">args </span><span class="s2">? </span><span class="s1">handler</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s1">context</span><span class="s2">, </span><span class="s1">args</span><span class="s2">) : </span><span class="s1">handler</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">context</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">res </span><span class="s2">&amp;&amp; !</span><span class="s1">res</span><span class="s2">.</span><span class="s1">_isVue </span><span class="s2">&amp;&amp; </span><span class="s1">isPromise</span><span class="s2">(</span><span class="s1">res</span><span class="s2">) &amp;&amp; !</span><span class="s1">res</span><span class="s2">.</span><span class="s1">_handled</span><span class="s2">) {</span>
              <span class="s1">res</span><span class="s2">.</span><span class="s1">catch</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">handleError</span><span class="s2">(</span><span class="s1">e</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info </span><span class="s2">+ </span><span class="s4">&quot; (Promise/async)&quot;</span><span class="s2">); });</span>
              <span class="s1">res</span><span class="s2">.</span><span class="s1">_handled </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
          <span class="s1">handleError</span><span class="s2">(</span><span class="s1">e</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">globalHandleError</span><span class="s2">(</span><span class="s1">err</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">errorHandler</span><span class="s2">) {</span>
          <span class="s3">try </span><span class="s2">{</span>
              <span class="s3">return </span><span class="s1">config</span><span class="s2">.</span><span class="s1">errorHandler</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s3">null</span><span class="s2">, </span><span class="s1">err</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
              <span class="s0">// if the user intentionally throws the original error in the handler,</span>
              <span class="s0">// do not log it twice</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">e </span><span class="s2">!== </span><span class="s1">err</span><span class="s2">) {</span>
                  <span class="s1">logError</span><span class="s2">(</span><span class="s1">e</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s4">'config.errorHandler'</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s1">logError</span><span class="s2">(</span><span class="s1">err</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">logError</span><span class="s2">(</span><span class="s1">err</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">) {</span>
      <span class="s2">{</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Error in &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">info</span><span class="s2">, </span><span class="s4">&quot;: </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">err</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">(), </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">/* istanbul ignore else */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">inBrowser </span><span class="s2">&amp;&amp; </span><span class="s3">typeof </span><span class="s1">console </span><span class="s2">!== </span><span class="s4">'undefined'</span><span class="s2">) {</span>
          <span class="s1">console</span><span class="s2">.</span><span class="s1">error</span><span class="s2">(</span><span class="s1">err</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">throw </span><span class="s1">err</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s0">/* globals MutationObserver */</span>
  <span class="s3">var </span><span class="s1">isUsingMicroTask </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">callbacks </span><span class="s2">= [];</span>
  <span class="s3">var </span><span class="s1">pending </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">flushCallbacks</span><span class="s2">() {</span>
      <span class="s1">pending </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">copies </span><span class="s2">= </span><span class="s1">callbacks</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">);</span>
      <span class="s1">callbacks</span><span class="s2">.</span><span class="s1">length </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">copies</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">copies</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]();</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s0">// Here we have async deferring wrappers using microtasks.</span>
  <span class="s0">// In 2.5 we used (macro) tasks (in combination with microtasks).</span>
  <span class="s0">// However, it has subtle problems when state is changed right before repaint</span>
  <span class="s0">// (e.g. #6813, out-in transitions).</span>
  <span class="s0">// Also, using (macro) tasks in event handler would cause some weird behaviors</span>
  <span class="s0">// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).</span>
  <span class="s0">// So we now use microtasks everywhere, again.</span>
  <span class="s0">// A major drawback of this tradeoff is that there are some scenarios</span>
  <span class="s0">// where microtasks have too high a priority and fire in between supposedly</span>
  <span class="s0">// sequential events (e.g. #4521, #6690, which have workarounds)</span>
  <span class="s0">// or even between bubbling of the same event (#6566).</span>
  <span class="s3">var </span><span class="s1">timerFunc</span><span class="s2">;</span>
  <span class="s0">// The nextTick behavior leverages the microtask queue, which can be accessed</span>
  <span class="s0">// via either native Promise.then or MutationObserver.</span>
  <span class="s0">// MutationObserver has wider support, however it is seriously bugged in</span>
  <span class="s0">// UIWebView in iOS &gt;= 9.3.3 when triggered in touch event handlers. It</span>
  <span class="s0">// completely stops working after triggering a few times... so, if native</span>
  <span class="s0">// Promise is available, we will use it:</span>
  <span class="s0">/* istanbul ignore next, $flow-disable-line */</span>
  <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">Promise </span><span class="s2">!== </span><span class="s4">'undefined' </span><span class="s2">&amp;&amp; </span><span class="s1">isNative</span><span class="s2">(</span><span class="s1">Promise</span><span class="s2">)) {</span>
      <span class="s3">var </span><span class="s1">p_1 </span><span class="s2">= </span><span class="s1">Promise</span><span class="s2">.</span><span class="s1">resolve</span><span class="s2">();</span>
      <span class="s1">timerFunc </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s1">p_1</span><span class="s2">.</span><span class="s1">then</span><span class="s2">(</span><span class="s1">flushCallbacks</span><span class="s2">);</span>
          <span class="s0">// In problematic UIWebViews, Promise.then doesn't completely break, but</span>
          <span class="s0">// it can get stuck in a weird state where callbacks are pushed into the</span>
          <span class="s0">// microtask queue but the queue isn't being flushed, until the browser</span>
          <span class="s0">// needs to do some other work, e.g. handle a timer. Therefore we can</span>
          <span class="s0">// &quot;force&quot; the microtask queue to be flushed by adding an empty timer.</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isIOS</span><span class="s2">)</span>
              <span class="s1">setTimeout</span><span class="s2">(</span><span class="s1">noop</span><span class="s2">);</span>
      <span class="s2">};</span>
      <span class="s1">isUsingMicroTask </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">else if </span><span class="s2">(!</span><span class="s1">isIE </span><span class="s2">&amp;&amp;</span>
      <span class="s3">typeof </span><span class="s1">MutationObserver </span><span class="s2">!== </span><span class="s4">'undefined' </span><span class="s2">&amp;&amp;</span>
      <span class="s2">(</span><span class="s1">isNative</span><span class="s2">(</span><span class="s1">MutationObserver</span><span class="s2">) ||</span>
          <span class="s0">// PhantomJS and iOS 7.x</span>
          <span class="s1">MutationObserver</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">() === </span><span class="s4">'[object MutationObserverConstructor]'</span><span class="s2">)) {</span>
      <span class="s0">// Use MutationObserver where native Promise is not available,</span>
      <span class="s0">// e.g. PhantomJS, iOS7, Android 4.4</span>
      <span class="s0">// (#6466 MutationObserver is unreliable in IE11)</span>
      <span class="s3">var </span><span class="s1">counter_1 </span><span class="s2">= </span><span class="s6">1</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">observer </span><span class="s2">= </span><span class="s3">new </span><span class="s1">MutationObserver</span><span class="s2">(</span><span class="s1">flushCallbacks</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">textNode_1 </span><span class="s2">= </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createTextNode</span><span class="s2">(</span><span class="s1">String</span><span class="s2">(</span><span class="s1">counter_1</span><span class="s2">));</span>
      <span class="s1">observer</span><span class="s2">.</span><span class="s1">observe</span><span class="s2">(</span><span class="s1">textNode_1</span><span class="s2">, {</span>
          <span class="s1">characterData</span><span class="s2">: </span><span class="s3">true</span>
      <span class="s2">});</span>
      <span class="s1">timerFunc </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s1">counter_1 </span><span class="s2">= (</span><span class="s1">counter_1 </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">) % </span><span class="s6">2</span><span class="s2">;</span>
          <span class="s1">textNode_1</span><span class="s2">.</span><span class="s1">data </span><span class="s2">= </span><span class="s1">String</span><span class="s2">(</span><span class="s1">counter_1</span><span class="s2">);</span>
      <span class="s2">};</span>
      <span class="s1">isUsingMicroTask </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">else if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">setImmediate </span><span class="s2">!== </span><span class="s4">'undefined' </span><span class="s2">&amp;&amp; </span><span class="s1">isNative</span><span class="s2">(</span><span class="s1">setImmediate</span><span class="s2">)) {</span>
      <span class="s0">// Fallback to setImmediate.</span>
      <span class="s0">// Technically it leverages the (macro) task queue,</span>
      <span class="s0">// but it is still a better choice than setTimeout.</span>
      <span class="s1">timerFunc </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s1">setImmediate</span><span class="s2">(</span><span class="s1">flushCallbacks</span><span class="s2">);</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">else </span><span class="s2">{</span>
      <span class="s0">// Fallback to setTimeout.</span>
      <span class="s1">timerFunc </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s1">setTimeout</span><span class="s2">(</span><span class="s1">flushCallbacks</span><span class="s2">, </span><span class="s6">0</span><span class="s2">);</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* </span><span class="s8">@internal</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">nextTick</span><span class="s2">(</span><span class="s1">cb</span><span class="s2">, </span><span class="s1">ctx</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">_resolve</span><span class="s2">;</span>
      <span class="s1">callbacks</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cb</span><span class="s2">) {</span>
              <span class="s3">try </span><span class="s2">{</span>
                  <span class="s1">cb</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">ctx</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
                  <span class="s1">handleError</span><span class="s2">(</span><span class="s1">e</span><span class="s2">, </span><span class="s1">ctx</span><span class="s2">, </span><span class="s4">'nextTick'</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">_resolve</span><span class="s2">) {</span>
              <span class="s1">_resolve</span><span class="s2">(</span><span class="s1">ctx</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">});</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">pending</span><span class="s2">) {</span>
          <span class="s1">pending </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s1">timerFunc</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s0">// $flow-disable-line</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">cb </span><span class="s2">&amp;&amp; </span><span class="s3">typeof </span><span class="s1">Promise </span><span class="s2">!== </span><span class="s4">'undefined'</span><span class="s2">) {</span>
          <span class="s3">return new </span><span class="s1">Promise</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">resolve</span><span class="s2">) {</span>
              <span class="s1">_resolve </span><span class="s2">= </span><span class="s1">resolve</span><span class="s2">;</span>
          <span class="s2">});</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">useCssModule</span><span class="s2">(</span><span class="s1">name</span><span class="s2">) {</span>
      <span class="s0">/* istanbul ignore else */</span>
      <span class="s2">{</span>
          <span class="s2">{</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;useCssModule() is not supported in the global build.&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">emptyObject</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Runtime helper for SFC's CSS variable injection feature.</span>
   <span class="s5">* </span><span class="s8">@private</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">useCssVars</span><span class="s2">(</span><span class="s1">getter</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">inBrowser </span><span class="s2">&amp;&amp; !</span><span class="s3">false</span><span class="s2">)</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">instance </span><span class="s2">= </span><span class="s1">currentInstance</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">instance</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;useCssVars is called without current active component instance.&quot;</span><span class="s2">);</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s1">watchPostEffect</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">el </span><span class="s2">= </span><span class="s1">instance</span><span class="s2">.</span><span class="s1">$el</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">vars </span><span class="s2">= </span><span class="s1">getter</span><span class="s2">(</span><span class="s1">instance</span><span class="s2">, </span><span class="s1">instance</span><span class="s2">.</span><span class="s1">_setupProxy</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">el </span><span class="s2">&amp;&amp; </span><span class="s1">el</span><span class="s2">.</span><span class="s1">nodeType </span><span class="s2">=== </span><span class="s6">1</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">style </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">;</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">vars</span><span class="s2">) {</span>
                  <span class="s1">style</span><span class="s2">.</span><span class="s1">setProperty</span><span class="s2">(</span><span class="s4">&quot;--&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">), </span><span class="s1">vars</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">});</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* v3-compatible async component API.</span>
   <span class="s5">* </span><span class="s8">@internal </span><span class="s5">the type is manually declared in &lt;root&gt;/types/v3-define-async-component.d.ts</span>
   <span class="s5">* because it relies on existing manual types</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">defineAsyncComponent</span><span class="s2">(</span><span class="s1">source</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">source</span><span class="s2">)) {</span>
          <span class="s1">source </span><span class="s2">= { </span><span class="s1">loader</span><span class="s2">: </span><span class="s1">source </span><span class="s2">};</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">loader </span><span class="s2">= </span><span class="s1">source</span><span class="s2">.</span><span class="s1">loader</span><span class="s2">, </span><span class="s1">loadingComponent </span><span class="s2">= </span><span class="s1">source</span><span class="s2">.</span><span class="s1">loadingComponent</span><span class="s2">, </span><span class="s1">errorComponent </span><span class="s2">= </span><span class="s1">source</span><span class="s2">.</span><span class="s1">errorComponent</span><span class="s2">, </span><span class="s1">_a </span><span class="s2">= </span><span class="s1">source</span><span class="s2">.</span><span class="s1">delay</span><span class="s2">, </span><span class="s1">delay </span><span class="s2">= </span><span class="s1">_a </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0 </span><span class="s2">? </span><span class="s6">200 </span><span class="s2">: </span><span class="s1">_a</span><span class="s2">, </span><span class="s1">timeout </span><span class="s2">= </span><span class="s1">source</span><span class="s2">.</span><span class="s1">timeout</span><span class="s2">, </span><span class="s0">// undefined = never times out</span>
      <span class="s1">_b </span><span class="s2">= </span><span class="s1">source</span><span class="s2">.</span><span class="s1">suspensible</span><span class="s2">, </span><span class="s0">// undefined = never times out</span>
      <span class="s1">suspensible </span><span class="s2">= </span><span class="s1">_b </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0 </span><span class="s2">? </span><span class="s3">false </span><span class="s2">: </span><span class="s1">_b</span><span class="s2">, </span><span class="s0">// in Vue 3 default is true</span>
      <span class="s1">userOnError </span><span class="s2">= </span><span class="s1">source</span><span class="s2">.</span><span class="s1">onError</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">suspensible</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;The suspensiblbe option for async components is not supported in Vue2. It is ignored.&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">pendingRequest </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">retries </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">retry </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s1">retries</span><span class="s2">++;</span>
          <span class="s1">pendingRequest </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
          <span class="s3">return </span><span class="s1">load</span><span class="s2">();</span>
      <span class="s2">};</span>
      <span class="s3">var </span><span class="s1">load </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">thisRequest</span><span class="s2">;</span>
          <span class="s3">return </span><span class="s2">(</span><span class="s1">pendingRequest </span><span class="s2">||</span>
              <span class="s2">(</span><span class="s1">thisRequest </span><span class="s2">= </span><span class="s1">pendingRequest </span><span class="s2">=</span>
                  <span class="s1">loader</span><span class="s2">()</span>
                      <span class="s2">.</span><span class="s1">catch</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">err</span><span class="s2">) {</span>
                      <span class="s1">err </span><span class="s2">= </span><span class="s1">err </span><span class="s3">instanceof </span><span class="s1">Error </span><span class="s2">? </span><span class="s1">err </span><span class="s2">: </span><span class="s3">new </span><span class="s1">Error</span><span class="s2">(</span><span class="s1">String</span><span class="s2">(</span><span class="s1">err</span><span class="s2">));</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">userOnError</span><span class="s2">) {</span>
                          <span class="s3">return new </span><span class="s1">Promise</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">resolve</span><span class="s2">, </span><span class="s1">reject</span><span class="s2">) {</span>
                              <span class="s3">var </span><span class="s1">userRetry </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() { </span><span class="s3">return </span><span class="s1">resolve</span><span class="s2">(</span><span class="s1">retry</span><span class="s2">()); };</span>
                              <span class="s3">var </span><span class="s1">userFail </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() { </span><span class="s3">return </span><span class="s1">reject</span><span class="s2">(</span><span class="s1">err</span><span class="s2">); };</span>
                              <span class="s1">userOnError</span><span class="s2">(</span><span class="s1">err</span><span class="s2">, </span><span class="s1">userRetry</span><span class="s2">, </span><span class="s1">userFail</span><span class="s2">, </span><span class="s1">retries </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">);</span>
                          <span class="s2">});</span>
                      <span class="s2">}</span>
                      <span class="s3">else </span><span class="s2">{</span>
                          <span class="s3">throw </span><span class="s1">err</span><span class="s2">;</span>
                      <span class="s2">}</span>
                  <span class="s2">})</span>
                      <span class="s2">.</span><span class="s1">then</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">comp</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">thisRequest </span><span class="s2">!== </span><span class="s1">pendingRequest </span><span class="s2">&amp;&amp; </span><span class="s1">pendingRequest</span><span class="s2">) {</span>
                          <span class="s3">return </span><span class="s1">pendingRequest</span><span class="s2">;</span>
                      <span class="s2">}</span>
                      <span class="s3">if </span><span class="s2">(!</span><span class="s1">comp</span><span class="s2">) {</span>
                          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Async component loader resolved to undefined. &quot; </span><span class="s2">+</span>
                              <span class="s4">&quot;If you are using retry(), make sure to return its return value.&quot;</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s0">// interop module default</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">comp </span><span class="s2">&amp;&amp;</span>
                          <span class="s2">(</span><span class="s1">comp</span><span class="s2">.</span><span class="s1">__esModule </span><span class="s2">|| </span><span class="s1">comp</span><span class="s2">[</span><span class="s1">Symbol</span><span class="s2">.</span><span class="s1">toStringTag</span><span class="s2">] === </span><span class="s4">'Module'</span><span class="s2">)) {</span>
                          <span class="s1">comp </span><span class="s2">= </span><span class="s1">comp</span><span class="s2">.</span><span class="s1">default</span><span class="s2">;</span>
                      <span class="s2">}</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">comp </span><span class="s2">&amp;&amp; !</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">comp</span><span class="s2">) &amp;&amp; !</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">comp</span><span class="s2">)) {</span>
                          <span class="s3">throw new </span><span class="s1">Error</span><span class="s2">(</span><span class="s4">&quot;Invalid async component load result: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">comp</span><span class="s2">));</span>
                      <span class="s2">}</span>
                      <span class="s3">return </span><span class="s1">comp</span><span class="s2">;</span>
                  <span class="s2">})));</span>
      <span class="s2">};</span>
      <span class="s3">return function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">component </span><span class="s2">= </span><span class="s1">load</span><span class="s2">();</span>
          <span class="s3">return </span><span class="s2">{</span>
              <span class="s1">component</span><span class="s2">: </span><span class="s1">component</span><span class="s2">,</span>
              <span class="s1">delay</span><span class="s2">: </span><span class="s1">delay</span><span class="s2">,</span>
              <span class="s1">timeout</span><span class="s2">: </span><span class="s1">timeout</span><span class="s2">,</span>
              <span class="s1">error</span><span class="s2">: </span><span class="s1">errorComponent</span><span class="s2">,</span>
              <span class="s1">loading</span><span class="s2">: </span><span class="s1">loadingComponent</span>
          <span class="s2">};</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s1">hookName</span><span class="s2">) {</span>
      <span class="s3">return function </span><span class="s2">(</span><span class="s1">fn</span><span class="s2">, </span><span class="s1">target</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">target </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">target </span><span class="s2">= </span><span class="s1">currentInstance</span><span class="s2">; }</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">target</span><span class="s2">) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">formatName</span><span class="s2">(</span><span class="s1">hookName</span><span class="s2">), </span><span class="s4">&quot; is called when there is no active component instance to be &quot;</span><span class="s2">) +</span>
                      <span class="s4">&quot;associated with. &quot; </span><span class="s2">+</span>
                      <span class="s4">&quot;Lifecycle injection APIs can only be used during execution of setup().&quot;</span><span class="s2">);</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">injectHook</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">hookName</span><span class="s2">, </span><span class="s1">fn</span><span class="s2">);</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">formatName</span><span class="s2">(</span><span class="s1">name</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">name </span><span class="s2">=== </span><span class="s4">'beforeDestroy'</span><span class="s2">) {</span>
          <span class="s1">name </span><span class="s2">= </span><span class="s4">'beforeUnmount'</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">name </span><span class="s2">=== </span><span class="s4">'destroyed'</span><span class="s2">) {</span>
          <span class="s1">name </span><span class="s2">= </span><span class="s4">'unmounted'</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s4">&quot;on&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">toUpperCase</span><span class="s2">() + </span><span class="s1">name</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">1</span><span class="s2">));</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">injectHook</span><span class="s2">(</span><span class="s1">instance</span><span class="s2">, </span><span class="s1">hookName</span><span class="s2">, </span><span class="s1">fn</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">options </span><span class="s2">= </span><span class="s1">instance</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">;</span>
      <span class="s1">options</span><span class="s2">[</span><span class="s1">hookName</span><span class="s2">] = </span><span class="s1">mergeLifecycleHook</span><span class="s2">(</span><span class="s1">options</span><span class="s2">[</span><span class="s1">hookName</span><span class="s2">], </span><span class="s1">fn</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">onBeforeMount </span><span class="s2">= </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s4">'beforeMount'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">onMounted </span><span class="s2">= </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s4">'mounted'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">onBeforeUpdate </span><span class="s2">= </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s4">'beforeUpdate'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">onUpdated </span><span class="s2">= </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s4">'updated'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">onBeforeUnmount </span><span class="s2">= </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s4">'beforeDestroy'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">onUnmounted </span><span class="s2">= </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s4">'destroyed'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">onActivated </span><span class="s2">= </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s4">'activated'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">onDeactivated </span><span class="s2">= </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s4">'deactivated'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">onServerPrefetch </span><span class="s2">= </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s4">'serverPrefetch'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">onRenderTracked </span><span class="s2">= </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s4">'renderTracked'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">onRenderTriggered </span><span class="s2">= </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s4">'renderTriggered'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">injectErrorCapturedHook </span><span class="s2">= </span><span class="s1">createLifeCycle</span><span class="s2">(</span><span class="s4">'errorCaptured'</span><span class="s2">);</span>
  <span class="s3">function </span><span class="s1">onErrorCaptured</span><span class="s2">(</span><span class="s1">hook</span><span class="s2">, </span><span class="s1">target</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">target </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">target </span><span class="s2">= </span><span class="s1">currentInstance</span><span class="s2">; }</span>
      <span class="s1">injectErrorCapturedHook</span><span class="s2">(</span><span class="s1">hook</span><span class="s2">, </span><span class="s1">target</span><span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Note: also update dist/vue.runtime.mjs when adding new exports to this file.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">version </span><span class="s2">= </span><span class="s4">'2.7.14'</span><span class="s2">;</span>
  <span class="s5">/**</span>
   <span class="s5">* </span><span class="s8">@internal </span><span class="s5">type is manually declared in &lt;root&gt;/types/v3-define-component.d.ts</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">defineComponent</span><span class="s2">(</span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">options</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">vca </span><span class="s2">= </span><span class="s0">/*#__PURE__*/</span><span class="s1">Object</span><span class="s2">.</span><span class="s1">freeze</span><span class="s2">({</span>
    <span class="s1">__proto__</span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
    <span class="s1">version</span><span class="s2">: </span><span class="s1">version</span><span class="s2">,</span>
    <span class="s1">defineComponent</span><span class="s2">: </span><span class="s1">defineComponent</span><span class="s2">,</span>
    <span class="s1">ref</span><span class="s2">: </span><span class="s1">ref$1</span><span class="s2">,</span>
    <span class="s1">shallowRef</span><span class="s2">: </span><span class="s1">shallowRef</span><span class="s2">,</span>
    <span class="s1">isRef</span><span class="s2">: </span><span class="s1">isRef</span><span class="s2">,</span>
    <span class="s1">toRef</span><span class="s2">: </span><span class="s1">toRef</span><span class="s2">,</span>
    <span class="s1">toRefs</span><span class="s2">: </span><span class="s1">toRefs</span><span class="s2">,</span>
    <span class="s1">unref</span><span class="s2">: </span><span class="s1">unref</span><span class="s2">,</span>
    <span class="s1">proxyRefs</span><span class="s2">: </span><span class="s1">proxyRefs</span><span class="s2">,</span>
    <span class="s1">customRef</span><span class="s2">: </span><span class="s1">customRef</span><span class="s2">,</span>
    <span class="s1">triggerRef</span><span class="s2">: </span><span class="s1">triggerRef</span><span class="s2">,</span>
    <span class="s1">reactive</span><span class="s2">: </span><span class="s1">reactive</span><span class="s2">,</span>
    <span class="s1">isReactive</span><span class="s2">: </span><span class="s1">isReactive</span><span class="s2">,</span>
    <span class="s1">isReadonly</span><span class="s2">: </span><span class="s1">isReadonly</span><span class="s2">,</span>
    <span class="s1">isShallow</span><span class="s2">: </span><span class="s1">isShallow</span><span class="s2">,</span>
    <span class="s1">isProxy</span><span class="s2">: </span><span class="s1">isProxy</span><span class="s2">,</span>
    <span class="s1">shallowReactive</span><span class="s2">: </span><span class="s1">shallowReactive</span><span class="s2">,</span>
    <span class="s1">markRaw</span><span class="s2">: </span><span class="s1">markRaw</span><span class="s2">,</span>
    <span class="s1">toRaw</span><span class="s2">: </span><span class="s1">toRaw</span><span class="s2">,</span>
    <span class="s1">readonly</span><span class="s2">: </span><span class="s1">readonly</span><span class="s2">,</span>
    <span class="s1">shallowReadonly</span><span class="s2">: </span><span class="s1">shallowReadonly</span><span class="s2">,</span>
    <span class="s1">computed</span><span class="s2">: </span><span class="s1">computed</span><span class="s2">,</span>
    <span class="s1">watch</span><span class="s2">: </span><span class="s1">watch</span><span class="s2">,</span>
    <span class="s1">watchEffect</span><span class="s2">: </span><span class="s1">watchEffect</span><span class="s2">,</span>
    <span class="s1">watchPostEffect</span><span class="s2">: </span><span class="s1">watchPostEffect</span><span class="s2">,</span>
    <span class="s1">watchSyncEffect</span><span class="s2">: </span><span class="s1">watchSyncEffect</span><span class="s2">,</span>
    <span class="s1">EffectScope</span><span class="s2">: </span><span class="s1">EffectScope</span><span class="s2">,</span>
    <span class="s1">effectScope</span><span class="s2">: </span><span class="s1">effectScope</span><span class="s2">,</span>
    <span class="s1">onScopeDispose</span><span class="s2">: </span><span class="s1">onScopeDispose</span><span class="s2">,</span>
    <span class="s1">getCurrentScope</span><span class="s2">: </span><span class="s1">getCurrentScope</span><span class="s2">,</span>
    <span class="s1">provide</span><span class="s2">: </span><span class="s1">provide</span><span class="s2">,</span>
    <span class="s1">inject</span><span class="s2">: </span><span class="s1">inject</span><span class="s2">,</span>
    <span class="s1">h</span><span class="s2">: </span><span class="s1">h</span><span class="s2">,</span>
    <span class="s1">getCurrentInstance</span><span class="s2">: </span><span class="s1">getCurrentInstance</span><span class="s2">,</span>
    <span class="s1">useSlots</span><span class="s2">: </span><span class="s1">useSlots</span><span class="s2">,</span>
    <span class="s1">useAttrs</span><span class="s2">: </span><span class="s1">useAttrs</span><span class="s2">,</span>
    <span class="s1">useListeners</span><span class="s2">: </span><span class="s1">useListeners</span><span class="s2">,</span>
    <span class="s1">mergeDefaults</span><span class="s2">: </span><span class="s1">mergeDefaults</span><span class="s2">,</span>
    <span class="s1">nextTick</span><span class="s2">: </span><span class="s1">nextTick</span><span class="s2">,</span>
    <span class="s1">set</span><span class="s2">: </span><span class="s1">set</span><span class="s2">,</span>
    <span class="s1">del</span><span class="s2">: </span><span class="s1">del</span><span class="s2">,</span>
    <span class="s1">useCssModule</span><span class="s2">: </span><span class="s1">useCssModule</span><span class="s2">,</span>
    <span class="s1">useCssVars</span><span class="s2">: </span><span class="s1">useCssVars</span><span class="s2">,</span>
    <span class="s1">defineAsyncComponent</span><span class="s2">: </span><span class="s1">defineAsyncComponent</span><span class="s2">,</span>
    <span class="s1">onBeforeMount</span><span class="s2">: </span><span class="s1">onBeforeMount</span><span class="s2">,</span>
    <span class="s1">onMounted</span><span class="s2">: </span><span class="s1">onMounted</span><span class="s2">,</span>
    <span class="s1">onBeforeUpdate</span><span class="s2">: </span><span class="s1">onBeforeUpdate</span><span class="s2">,</span>
    <span class="s1">onUpdated</span><span class="s2">: </span><span class="s1">onUpdated</span><span class="s2">,</span>
    <span class="s1">onBeforeUnmount</span><span class="s2">: </span><span class="s1">onBeforeUnmount</span><span class="s2">,</span>
    <span class="s1">onUnmounted</span><span class="s2">: </span><span class="s1">onUnmounted</span><span class="s2">,</span>
    <span class="s1">onActivated</span><span class="s2">: </span><span class="s1">onActivated</span><span class="s2">,</span>
    <span class="s1">onDeactivated</span><span class="s2">: </span><span class="s1">onDeactivated</span><span class="s2">,</span>
    <span class="s1">onServerPrefetch</span><span class="s2">: </span><span class="s1">onServerPrefetch</span><span class="s2">,</span>
    <span class="s1">onRenderTracked</span><span class="s2">: </span><span class="s1">onRenderTracked</span><span class="s2">,</span>
    <span class="s1">onRenderTriggered</span><span class="s2">: </span><span class="s1">onRenderTriggered</span><span class="s2">,</span>
    <span class="s1">onErrorCaptured</span><span class="s2">: </span><span class="s1">onErrorCaptured</span>
  <span class="s2">});</span>

  <span class="s3">var </span><span class="s1">seenObjects </span><span class="s2">= </span><span class="s3">new </span><span class="s1">_Set</span><span class="s2">();</span>
  <span class="s5">/**</span>
   <span class="s5">* Recursively traverse an object to evoke all converted</span>
   <span class="s5">* getters, so that every nested property inside the object</span>
   <span class="s5">* is collected as a &quot;deep&quot; dependency.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">traverse</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s1">_traverse</span><span class="s2">(</span><span class="s1">val</span><span class="s2">, </span><span class="s1">seenObjects</span><span class="s2">);</span>
      <span class="s1">seenObjects</span><span class="s2">.</span><span class="s1">clear</span><span class="s2">();</span>
      <span class="s3">return </span><span class="s1">val</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">_traverse</span><span class="s2">(</span><span class="s1">val</span><span class="s2">, </span><span class="s1">seen</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">i</span><span class="s2">, </span><span class="s1">keys</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">isA </span><span class="s2">= </span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">val</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">((!</span><span class="s1">isA </span><span class="s2">&amp;&amp; !</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">val</span><span class="s2">)) ||</span>
          <span class="s1">val</span><span class="s2">.</span><span class="s1">__v_skip </span><span class="s0">/* ReactiveFlags.SKIP */ </span><span class="s2">||</span>
          <span class="s1">Object</span><span class="s2">.</span><span class="s1">isFrozen</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) ||</span>
          <span class="s1">val </span><span class="s3">instanceof </span><span class="s1">VNode</span><span class="s2">) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">val</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">depId </span><span class="s2">= </span><span class="s1">val</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">.</span><span class="s1">dep</span><span class="s2">.</span><span class="s1">id</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">seen</span><span class="s2">.</span><span class="s1">has</span><span class="s2">(</span><span class="s1">depId</span><span class="s2">)) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s1">seen</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">depId</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isA</span><span class="s2">) {</span>
          <span class="s1">i </span><span class="s2">= </span><span class="s1">val</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">i</span><span class="s2">--)</span>
              <span class="s1">_traverse</span><span class="s2">(</span><span class="s1">val</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">seen</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">val</span><span class="s2">)) {</span>
          <span class="s1">_traverse</span><span class="s2">(</span><span class="s1">val</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s1">seen</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">keys </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">val</span><span class="s2">);</span>
          <span class="s1">i </span><span class="s2">= </span><span class="s1">keys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">i</span><span class="s2">--)</span>
              <span class="s1">_traverse</span><span class="s2">(</span><span class="s1">val</span><span class="s2">[</span><span class="s1">keys</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]], </span><span class="s1">seen</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">uid$1 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
  <span class="s5">/**</span>
   <span class="s5">* A watcher parses an expression, collects dependencies,</span>
   <span class="s5">* and fires callback when the expression value changes.</span>
   <span class="s5">* This is used for both the $watch() api and directives.</span>
   <span class="s5">* </span><span class="s8">@internal</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">Watcher </span><span class="s2">= </span><span class="s5">/** </span><span class="s8">@class </span><span class="s5">*/ </span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
      <span class="s3">function </span><span class="s1">Watcher</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">expOrFn</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">, </span><span class="s1">options</span><span class="s2">, </span><span class="s1">isRenderWatcher</span><span class="s2">) {</span>
          <span class="s1">recordEffectScope</span><span class="s2">(</span><span class="s3">this</span><span class="s2">, </span>
          <span class="s0">// if the active effect scope is manually created (not a component scope),</span>
          <span class="s0">// prioritize it</span>
          <span class="s1">activeEffectScope </span><span class="s2">&amp;&amp; !</span><span class="s1">activeEffectScope</span><span class="s2">.</span><span class="s1">_vm</span>
              <span class="s2">? </span><span class="s1">activeEffectScope</span>
              <span class="s2">: </span><span class="s1">vm</span>
                  <span class="s2">? </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_scope</span>
                  <span class="s2">: </span><span class="s1">undefined</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">((</span><span class="s3">this</span><span class="s2">.</span><span class="s1">vm </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">) &amp;&amp; </span><span class="s1">isRenderWatcher</span><span class="s2">) {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">_watcher </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// options</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">) {</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">deep </span><span class="s2">= !!</span><span class="s1">options</span><span class="s2">.</span><span class="s1">deep</span><span class="s2">;</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">user </span><span class="s2">= !!</span><span class="s1">options</span><span class="s2">.</span><span class="s1">user</span><span class="s2">;</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">lazy </span><span class="s2">= !!</span><span class="s1">options</span><span class="s2">.</span><span class="s1">lazy</span><span class="s2">;</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">sync </span><span class="s2">= !!</span><span class="s1">options</span><span class="s2">.</span><span class="s1">sync</span><span class="s2">;</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">before </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">before</span><span class="s2">;</span>
              <span class="s2">{</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">onTrack </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">onTrack</span><span class="s2">;</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">onTrigger </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">onTrigger</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">deep </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">user </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">lazy </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">sync </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">cb </span><span class="s2">= </span><span class="s1">cb</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">id </span><span class="s2">= ++</span><span class="s1">uid$1</span><span class="s2">; </span><span class="s0">// uid for batching</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">active </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">post </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">dirty </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">lazy</span><span class="s2">; </span><span class="s0">// for lazy watchers</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">deps </span><span class="s2">= [];</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">newDeps </span><span class="s2">= [];</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">depIds </span><span class="s2">= </span><span class="s3">new </span><span class="s1">_Set</span><span class="s2">();</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">newDepIds </span><span class="s2">= </span><span class="s3">new </span><span class="s1">_Set</span><span class="s2">();</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">expression </span><span class="s2">= </span><span class="s1">expOrFn</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">() ;</span>
          <span class="s0">// parse expression for getter</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">expOrFn</span><span class="s2">)) {</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">getter </span><span class="s2">= </span><span class="s1">expOrFn</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">getter </span><span class="s2">= </span><span class="s1">parsePath</span><span class="s2">(</span><span class="s1">expOrFn</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s3">this</span><span class="s2">.</span><span class="s1">getter</span><span class="s2">) {</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">getter </span><span class="s2">= </span><span class="s1">noop</span><span class="s2">;</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Failed watching path: </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">expOrFn</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">&quot;</span><span class="s2">) +</span>
                          <span class="s4">'Watcher only accepts simple dot-delimited paths. ' </span><span class="s2">+</span>
                          <span class="s4">'For full control, use a function instead.'</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">value </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">lazy </span><span class="s2">? </span><span class="s1">undefined </span><span class="s2">: </span><span class="s3">this</span><span class="s2">.</span><span class="s1">get</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s5">/**</span>
       <span class="s5">* Evaluate the getter, and re-collect dependencies.</span>
       <span class="s5">*/</span>
      <span class="s1">Watcher</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">get </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s1">pushTarget</span><span class="s2">(</span><span class="s3">this</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">value</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">vm</span><span class="s2">;</span>
          <span class="s3">try </span><span class="s2">{</span>
              <span class="s1">value </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">getter</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">user</span><span class="s2">) {</span>
                  <span class="s1">handleError</span><span class="s2">(</span><span class="s1">e</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s4">&quot;getter for watcher </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">expression</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">));</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s3">throw </span><span class="s1">e</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">finally </span><span class="s2">{</span>
              <span class="s0">// &quot;touch&quot; every property so they are all tracked as</span>
              <span class="s0">// dependencies for deep watching</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">deep</span><span class="s2">) {</span>
                  <span class="s1">traverse</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">popTarget</span><span class="s2">();</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">cleanupDeps</span><span class="s2">();</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">value</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s5">/**</span>
       <span class="s5">* Add a dependency to this directive.</span>
       <span class="s5">*/</span>
      <span class="s1">Watcher</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">addDep </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">dep</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">id </span><span class="s2">= </span><span class="s1">dep</span><span class="s2">.</span><span class="s1">id</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s3">this</span><span class="s2">.</span><span class="s1">newDepIds</span><span class="s2">.</span><span class="s1">has</span><span class="s2">(</span><span class="s1">id</span><span class="s2">)) {</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">newDepIds</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">id</span><span class="s2">);</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">newDeps</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">dep</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s3">this</span><span class="s2">.</span><span class="s1">depIds</span><span class="s2">.</span><span class="s1">has</span><span class="s2">(</span><span class="s1">id</span><span class="s2">)) {</span>
                  <span class="s1">dep</span><span class="s2">.</span><span class="s1">addSub</span><span class="s2">(</span><span class="s3">this</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s5">/**</span>
       <span class="s5">* Clean up for dependency collection.</span>
       <span class="s5">*/</span>
      <span class="s1">Watcher</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">cleanupDeps </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">deps</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">i</span><span class="s2">--) {</span>
              <span class="s3">var </span><span class="s1">dep </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">deps</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s3">this</span><span class="s2">.</span><span class="s1">newDepIds</span><span class="s2">.</span><span class="s1">has</span><span class="s2">(</span><span class="s1">dep</span><span class="s2">.</span><span class="s1">id</span><span class="s2">)) {</span>
                  <span class="s1">dep</span><span class="s2">.</span><span class="s1">removeSub</span><span class="s2">(</span><span class="s3">this</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">tmp </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">depIds</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">depIds </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">newDepIds</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">newDepIds </span><span class="s2">= </span><span class="s1">tmp</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">newDepIds</span><span class="s2">.</span><span class="s1">clear</span><span class="s2">();</span>
          <span class="s1">tmp </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">deps</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">deps </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">newDeps</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">newDeps </span><span class="s2">= </span><span class="s1">tmp</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">newDeps</span><span class="s2">.</span><span class="s1">length </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s5">/**</span>
       <span class="s5">* Subscriber interface.</span>
       <span class="s5">* Will be called when a dependency changes.</span>
       <span class="s5">*/</span>
      <span class="s1">Watcher</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">update </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s0">/* istanbul ignore else */</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">lazy</span><span class="s2">) {</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">dirty </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">sync</span><span class="s2">) {</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">run</span><span class="s2">();</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">queueWatcher</span><span class="s2">(</span><span class="s3">this</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s5">/**</span>
       <span class="s5">* Scheduler job interface.</span>
       <span class="s5">* Will be called by the scheduler.</span>
       <span class="s5">*/</span>
      <span class="s1">Watcher</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">run </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">active</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">get</span><span class="s2">();</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">value </span><span class="s2">!== </span><span class="s3">this</span><span class="s2">.</span><span class="s1">value </span><span class="s2">||</span>
                  <span class="s0">// Deep watchers and watchers on Object/Arrays should fire even</span>
                  <span class="s0">// when the value is the same, because the value may</span>
                  <span class="s0">// have mutated.</span>
                  <span class="s1">isObject</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) ||</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">deep</span><span class="s2">) {</span>
                  <span class="s0">// set new value</span>
                  <span class="s3">var </span><span class="s1">oldValue </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">value </span><span class="s2">= </span><span class="s1">value</span><span class="s2">;</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">user</span><span class="s2">) {</span>
                      <span class="s3">var </span><span class="s1">info </span><span class="s2">= </span><span class="s4">&quot;callback for watcher </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">expression</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">);</span>
                      <span class="s1">invokeWithErrorHandling</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">cb</span><span class="s2">, </span><span class="s3">this</span><span class="s2">.</span><span class="s1">vm</span><span class="s2">, [</span><span class="s1">value</span><span class="s2">, </span><span class="s1">oldValue</span><span class="s2">], </span><span class="s3">this</span><span class="s2">.</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s3">this</span><span class="s2">.</span><span class="s1">cb</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">oldValue</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s5">/**</span>
       <span class="s5">* Evaluate the value of the watcher.</span>
       <span class="s5">* This only gets called for lazy watchers.</span>
       <span class="s5">*/</span>
      <span class="s1">Watcher</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">evaluate </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">value </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">get</span><span class="s2">();</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">dirty </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s5">/**</span>
       <span class="s5">* Depend on all deps collected by this watcher.</span>
       <span class="s5">*/</span>
      <span class="s1">Watcher</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">depend </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">deps</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">i</span><span class="s2">--) {</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">deps</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">depend</span><span class="s2">();</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s5">/**</span>
       <span class="s5">* Remove self from all dependencies' subscriber list.</span>
       <span class="s5">*/</span>
      <span class="s1">Watcher</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">teardown </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">vm </span><span class="s2">&amp;&amp; !</span><span class="s3">this</span><span class="s2">.</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_isBeingDestroyed</span><span class="s2">) {</span>
              <span class="s1">remove$2</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_scope</span><span class="s2">.</span><span class="s1">effects</span><span class="s2">, </span><span class="s3">this</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">active</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">deps</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
              <span class="s3">while </span><span class="s2">(</span><span class="s1">i</span><span class="s2">--) {</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">deps</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">removeSub</span><span class="s2">(</span><span class="s3">this</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">active </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">onStop</span><span class="s2">) {</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">onStop</span><span class="s2">();</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s3">return </span><span class="s1">Watcher</span><span class="s2">;</span>
  <span class="s2">}());</span>

  <span class="s3">var </span><span class="s1">sharedPropertyDefinition </span><span class="s2">= {</span>
      <span class="s1">enumerable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
      <span class="s1">configurable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
      <span class="s1">get</span><span class="s2">: </span><span class="s1">noop</span><span class="s2">,</span>
      <span class="s1">set</span><span class="s2">: </span><span class="s1">noop</span>
  <span class="s2">};</span>
  <span class="s3">function </span><span class="s1">proxy</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">sourceKey</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s1">sharedPropertyDefinition</span><span class="s2">.</span><span class="s1">get </span><span class="s2">= </span><span class="s3">function </span><span class="s1">proxyGetter</span><span class="s2">() {</span>
          <span class="s3">return this</span><span class="s2">[</span><span class="s1">sourceKey</span><span class="s2">][</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s2">};</span>
      <span class="s1">sharedPropertyDefinition</span><span class="s2">.</span><span class="s1">set </span><span class="s2">= </span><span class="s3">function </span><span class="s1">proxySetter</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) {</span>
          <span class="s3">this</span><span class="s2">[</span><span class="s1">sourceKey</span><span class="s2">][</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">val</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">sharedPropertyDefinition</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">initState</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">opts </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">opts</span><span class="s2">.</span><span class="s1">props</span><span class="s2">)</span>
          <span class="s1">initProps$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">opts</span><span class="s2">.</span><span class="s1">props</span><span class="s2">);</span>
      <span class="s0">// Composition API</span>
      <span class="s1">initSetup</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">opts</span><span class="s2">.</span><span class="s1">methods</span><span class="s2">)</span>
          <span class="s1">initMethods</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">opts</span><span class="s2">.</span><span class="s1">methods</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">opts</span><span class="s2">.</span><span class="s1">data</span><span class="s2">) {</span>
          <span class="s1">initData</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">var </span><span class="s1">ob </span><span class="s2">= </span><span class="s1">observe</span><span class="s2">((</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_data </span><span class="s2">= {}));</span>
          <span class="s1">ob </span><span class="s2">&amp;&amp; </span><span class="s1">ob</span><span class="s2">.</span><span class="s1">vmCount</span><span class="s2">++;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">opts</span><span class="s2">.</span><span class="s1">computed</span><span class="s2">)</span>
          <span class="s1">initComputed$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">opts</span><span class="s2">.</span><span class="s1">computed</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">opts</span><span class="s2">.</span><span class="s1">watch </span><span class="s2">&amp;&amp; </span><span class="s1">opts</span><span class="s2">.</span><span class="s1">watch </span><span class="s2">!== </span><span class="s1">nativeWatch</span><span class="s2">) {</span>
          <span class="s1">initWatch</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">opts</span><span class="s2">.</span><span class="s1">watch</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">initProps$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">propsOptions</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">propsData </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">propsData </span><span class="s2">|| {};</span>
      <span class="s3">var </span><span class="s1">props </span><span class="s2">= (</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_props </span><span class="s2">= </span><span class="s1">shallowReactive</span><span class="s2">({}));</span>
      <span class="s0">// cache prop keys so that future props updates can iterate using Array</span>
      <span class="s0">// instead of dynamic object key enumeration.</span>
      <span class="s3">var </span><span class="s1">keys </span><span class="s2">= (</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">_propKeys </span><span class="s2">= []);</span>
      <span class="s3">var </span><span class="s1">isRoot </span><span class="s2">= !</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">;</span>
      <span class="s0">// root instance props should be converted</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isRoot</span><span class="s2">) {</span>
          <span class="s1">toggleObserving</span><span class="s2">(</span><span class="s3">false</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">_loop_1 </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">key</span><span class="s2">) {</span>
          <span class="s1">keys</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">validateProp</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">propsOptions</span><span class="s2">, </span><span class="s1">propsData</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s0">/* istanbul ignore else */</span>
          <span class="s2">{</span>
              <span class="s3">var </span><span class="s1">hyphenatedKey </span><span class="s2">= </span><span class="s1">hyphenate</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isReservedAttribute</span><span class="s2">(</span><span class="s1">hyphenatedKey</span><span class="s2">) ||</span>
                  <span class="s1">config</span><span class="s2">.</span><span class="s1">isReservedAttr</span><span class="s2">(</span><span class="s1">hyphenatedKey</span><span class="s2">)) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">hyphenatedKey</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">is a reserved attribute and cannot be used as component prop.&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">defineReactive</span><span class="s2">(</span><span class="s1">props</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() {</span>
                  <span class="s3">if </span><span class="s2">(!</span><span class="s1">isRoot </span><span class="s2">&amp;&amp; !</span><span class="s1">isUpdatingChildComponent</span><span class="s2">) {</span>
                      <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Avoid mutating a prop directly since the value will be &quot; </span><span class="s2">+</span>
                          <span class="s4">&quot;overwritten whenever the parent component re-renders. &quot; </span><span class="s2">+</span>
                          <span class="s4">&quot;Instead, use a data or computed property based on the prop's &quot; </span><span class="s2">+</span>
                          <span class="s4">&quot;value. Prop being mutated: </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">});</span>
          <span class="s2">}</span>
          <span class="s0">// static props are already proxied on the component's prototype</span>
          <span class="s0">// during Vue.extend(). We only need to proxy props defined at</span>
          <span class="s0">// instantiation here.</span>
          <span class="s3">if </span><span class="s2">(!(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">vm</span><span class="s2">)) {</span>
              <span class="s1">proxy</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">&quot;_props&quot;</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">propsOptions</span><span class="s2">) {</span>
          <span class="s1">_loop_1</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s1">toggleObserving</span><span class="s2">(</span><span class="s3">true</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">initData</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">data</span><span class="s2">;</span>
      <span class="s1">data </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_data </span><span class="s2">= </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) ? </span><span class="s1">getData</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) : </span><span class="s1">data </span><span class="s2">|| {};</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)) {</span>
          <span class="s1">data </span><span class="s2">= {};</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'data functions should return an object:</span><span class="s3">\n</span><span class="s4">' </span><span class="s2">+</span>
                  <span class="s4">'https://v2.vuejs.org/v2/guide/components.html#data-Must-Be-a-Function'</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// proxy data on instance</span>
      <span class="s3">var </span><span class="s1">keys </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">data</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">props </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">props</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">methods </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">methods</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s1">keys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">i</span><span class="s2">--) {</span>
          <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s1">keys</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s2">{</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">methods </span><span class="s2">&amp;&amp; </span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">methods</span><span class="s2">, </span><span class="s1">key</span><span class="s2">)) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Method </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">has already been defined as a data property.&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">props </span><span class="s2">&amp;&amp; </span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">props</span><span class="s2">, </span><span class="s1">key</span><span class="s2">)) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;The data property </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">is already declared as a prop. &quot;</span><span class="s2">) +</span>
                      <span class="s4">&quot;Use prop default value instead.&quot;</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(!</span><span class="s1">isReserved</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
              <span class="s1">proxy</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">&quot;_data&quot;</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// observe data</span>
      <span class="s3">var </span><span class="s1">ob </span><span class="s2">= </span><span class="s1">observe</span><span class="s2">(</span><span class="s1">data</span><span class="s2">);</span>
      <span class="s1">ob </span><span class="s2">&amp;&amp; </span><span class="s1">ob</span><span class="s2">.</span><span class="s1">vmCount</span><span class="s2">++;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">getData</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s0">// #7573 disable dep collection when invoking data getters</span>
      <span class="s1">pushTarget</span><span class="s2">();</span>
      <span class="s3">try </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">data</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
          <span class="s1">handleError</span><span class="s2">(</span><span class="s1">e</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s4">&quot;data()&quot;</span><span class="s2">);</span>
          <span class="s3">return </span><span class="s2">{};</span>
      <span class="s2">}</span>
      <span class="s3">finally </span><span class="s2">{</span>
          <span class="s1">popTarget</span><span class="s2">();</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">computedWatcherOptions </span><span class="s2">= { </span><span class="s1">lazy</span><span class="s2">: </span><span class="s3">true </span><span class="s2">};</span>
  <span class="s3">function </span><span class="s1">initComputed$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">computed</span><span class="s2">) {</span>
      <span class="s0">// $flow-disable-line</span>
      <span class="s3">var </span><span class="s1">watchers </span><span class="s2">= (</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_computedWatchers </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">));</span>
      <span class="s0">// computed properties are just getters during SSR</span>
      <span class="s3">var </span><span class="s1">isSSR </span><span class="s2">= </span><span class="s1">isServerRendering</span><span class="s2">();</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">computed</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">userDef </span><span class="s2">= </span><span class="s1">computed</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s3">var </span><span class="s1">getter </span><span class="s2">= </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">userDef</span><span class="s2">) ? </span><span class="s1">userDef </span><span class="s2">: </span><span class="s1">userDef</span><span class="s2">.</span><span class="s1">get</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">getter </span><span class="s2">== </span><span class="s3">null</span><span class="s2">) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Getter is missing for computed property </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">.&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">isSSR</span><span class="s2">) {</span>
              <span class="s0">// create internal watcher for the computed property.</span>
              <span class="s1">watchers</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s3">new </span><span class="s1">Watcher</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">getter </span><span class="s2">|| </span><span class="s1">noop</span><span class="s2">, </span><span class="s1">noop</span><span class="s2">, </span><span class="s1">computedWatcherOptions</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s0">// component-defined computed properties are already defined on the</span>
          <span class="s0">// component prototype. We only need to define computed properties defined</span>
          <span class="s0">// at instantiation here.</span>
          <span class="s3">if </span><span class="s2">(!(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">vm</span><span class="s2">)) {</span>
              <span class="s1">defineComputed</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">userDef</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$data</span><span class="s2">) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;The computed property </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">is already defined in data.&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">props </span><span class="s2">&amp;&amp; </span><span class="s1">key </span><span class="s3">in </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">props</span><span class="s2">) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;The computed property </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">is already defined as a prop.&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">methods </span><span class="s2">&amp;&amp; </span><span class="s1">key </span><span class="s3">in </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">methods</span><span class="s2">) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;The computed property </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">is already defined as a method.&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">defineComputed</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">userDef</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">shouldCache </span><span class="s2">= !</span><span class="s1">isServerRendering</span><span class="s2">();</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">userDef</span><span class="s2">)) {</span>
          <span class="s1">sharedPropertyDefinition</span><span class="s2">.</span><span class="s1">get </span><span class="s2">= </span><span class="s1">shouldCache</span>
              <span class="s2">? </span><span class="s1">createComputedGetter</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)</span>
              <span class="s2">: </span><span class="s1">createGetterInvoker</span><span class="s2">(</span><span class="s1">userDef</span><span class="s2">);</span>
          <span class="s1">sharedPropertyDefinition</span><span class="s2">.</span><span class="s1">set </span><span class="s2">= </span><span class="s1">noop</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">sharedPropertyDefinition</span><span class="s2">.</span><span class="s1">get </span><span class="s2">= </span><span class="s1">userDef</span><span class="s2">.</span><span class="s1">get</span>
              <span class="s2">? </span><span class="s1">shouldCache </span><span class="s2">&amp;&amp; </span><span class="s1">userDef</span><span class="s2">.</span><span class="s1">cache </span><span class="s2">!== </span><span class="s3">false</span>
                  <span class="s2">? </span><span class="s1">createComputedGetter</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)</span>
                  <span class="s2">: </span><span class="s1">createGetterInvoker</span><span class="s2">(</span><span class="s1">userDef</span><span class="s2">.</span><span class="s1">get</span><span class="s2">)</span>
              <span class="s2">: </span><span class="s1">noop</span><span class="s2">;</span>
          <span class="s1">sharedPropertyDefinition</span><span class="s2">.</span><span class="s1">set </span><span class="s2">= </span><span class="s1">userDef</span><span class="s2">.</span><span class="s1">set </span><span class="s2">|| </span><span class="s1">noop</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">sharedPropertyDefinition</span><span class="s2">.</span><span class="s1">set </span><span class="s2">=== </span><span class="s1">noop</span><span class="s2">) {</span>
          <span class="s1">sharedPropertyDefinition</span><span class="s2">.</span><span class="s1">set </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Computed property </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">was assigned to but it has no setter.&quot;</span><span class="s2">), </span><span class="s3">this</span><span class="s2">);</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
      <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">target</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">sharedPropertyDefinition</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createComputedGetter</span><span class="s2">(</span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s3">return function </span><span class="s1">computedGetter</span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">watcher </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">_computedWatchers </span><span class="s2">&amp;&amp; </span><span class="s3">this</span><span class="s2">.</span><span class="s1">_computedWatchers</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">dirty</span><span class="s2">) {</span>
                  <span class="s1">watcher</span><span class="s2">.</span><span class="s1">evaluate</span><span class="s2">();</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">.</span><span class="s1">onTrack</span><span class="s2">) {</span>
                      <span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">.</span><span class="s1">onTrack</span><span class="s2">({</span>
                          <span class="s1">effect</span><span class="s2">: </span><span class="s1">Dep</span><span class="s2">.</span><span class="s1">target</span><span class="s2">,</span>
                          <span class="s1">target</span><span class="s2">: </span><span class="s3">this</span><span class="s2">,</span>
                          <span class="s1">type</span><span class="s2">: </span><span class="s4">&quot;get&quot; </span><span class="s0">/* TrackOpTypes.GET */</span><span class="s2">,</span>
                          <span class="s1">key</span><span class="s2">: </span><span class="s1">key</span>
                      <span class="s2">});</span>
                  <span class="s2">}</span>
                  <span class="s1">watcher</span><span class="s2">.</span><span class="s1">depend</span><span class="s2">();</span>
              <span class="s2">}</span>
              <span class="s3">return </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createGetterInvoker</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">) {</span>
      <span class="s3">return function </span><span class="s1">computedGetter</span><span class="s2">() {</span>
          <span class="s3">return </span><span class="s1">fn</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s3">this</span><span class="s2">, </span><span class="s3">this</span><span class="s2">);</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">initMethods</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">methods</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">props </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">props</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">methods</span><span class="s2">) {</span>
          <span class="s2">{</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">methods</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] !== </span><span class="s4">'function'</span><span class="s2">) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Method </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">has type </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">methods</span><span class="s2">[</span><span class="s1">key</span><span class="s2">], </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">in the component definition. &quot;</span><span class="s2">) +</span>
                      <span class="s4">&quot;Did you reference the function correctly?&quot;</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">props </span><span class="s2">&amp;&amp; </span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">props</span><span class="s2">, </span><span class="s1">key</span><span class="s2">)) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Method </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">has already been defined as a prop.&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">vm </span><span class="s2">&amp;&amp; </span><span class="s1">isReserved</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Method </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">conflicts with an existing Vue instance method. &quot;</span><span class="s2">) +</span>
                      <span class="s4">&quot;Avoid defining component methods that start with _ or $.&quot;</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s1">vm</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s3">typeof </span><span class="s1">methods</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] !== </span><span class="s4">'function' </span><span class="s2">? </span><span class="s1">noop </span><span class="s2">: </span><span class="s1">bind$1</span><span class="s2">(</span><span class="s1">methods</span><span class="s2">[</span><span class="s1">key</span><span class="s2">], </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">initWatch</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">watch</span><span class="s2">) {</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">watch</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">handler </span><span class="s2">= </span><span class="s1">watch</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">)) {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">handler</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">createWatcher</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">handler</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">createWatcher</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">handler</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createWatcher</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">expOrFn</span><span class="s2">, </span><span class="s1">handler</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">)) {</span>
          <span class="s1">options </span><span class="s2">= </span><span class="s1">handler</span><span class="s2">;</span>
          <span class="s1">handler </span><span class="s2">= </span><span class="s1">handler</span><span class="s2">.</span><span class="s1">handler</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">handler </span><span class="s2">=== </span><span class="s4">'string'</span><span class="s2">) {</span>
          <span class="s1">handler </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">[</span><span class="s1">handler</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$watch</span><span class="s2">(</span><span class="s1">expOrFn</span><span class="s2">, </span><span class="s1">handler</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">stateMixin</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">) {</span>
      <span class="s0">// flow somehow has problems with directly declared definition object</span>
      <span class="s0">// when using Object.defineProperty, so we have to procedurally build up</span>
      <span class="s0">// the object here.</span>
      <span class="s3">var </span><span class="s1">dataDef </span><span class="s2">= {};</span>
      <span class="s1">dataDef</span><span class="s2">.</span><span class="s1">get </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">return this</span><span class="s2">.</span><span class="s1">_data</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s3">var </span><span class="s1">propsDef </span><span class="s2">= {};</span>
      <span class="s1">propsDef</span><span class="s2">.</span><span class="s1">get </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">return this</span><span class="s2">.</span><span class="s1">_props</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s2">{</span>
          <span class="s1">dataDef</span><span class="s2">.</span><span class="s1">set </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Avoid replacing instance root $data. ' </span><span class="s2">+</span>
                  <span class="s4">'Use nested data properties instead.'</span><span class="s2">, </span><span class="s3">this</span><span class="s2">);</span>
          <span class="s2">};</span>
          <span class="s1">propsDef</span><span class="s2">.</span><span class="s1">set </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;$props is readonly.&quot;</span><span class="s2">, </span><span class="s3">this</span><span class="s2">);</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
      <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">, </span><span class="s4">'$data'</span><span class="s2">, </span><span class="s1">dataDef</span><span class="s2">);</span>
      <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">, </span><span class="s4">'$props'</span><span class="s2">, </span><span class="s1">propsDef</span><span class="s2">);</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$set </span><span class="s2">= </span><span class="s1">set</span><span class="s2">;</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$delete </span><span class="s2">= </span><span class="s1">del</span><span class="s2">;</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$watch </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">expOrFn</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">cb</span><span class="s2">)) {</span>
              <span class="s3">return </span><span class="s1">createWatcher</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">expOrFn</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">options </span><span class="s2">= </span><span class="s1">options </span><span class="s2">|| {};</span>
          <span class="s1">options</span><span class="s2">.</span><span class="s1">user </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">watcher </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Watcher</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">expOrFn</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">immediate</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">info </span><span class="s2">= </span><span class="s4">&quot;callback for immediate watcher </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">expression</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">);</span>
              <span class="s1">pushTarget</span><span class="s2">();</span>
              <span class="s1">invokeWithErrorHandling</span><span class="s2">(</span><span class="s1">cb</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, [</span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">value</span><span class="s2">], </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">info</span><span class="s2">);</span>
              <span class="s1">popTarget</span><span class="s2">();</span>
          <span class="s2">}</span>
          <span class="s3">return function </span><span class="s1">unwatchFn</span><span class="s2">() {</span>
              <span class="s1">watcher</span><span class="s2">.</span><span class="s1">teardown</span><span class="s2">();</span>
          <span class="s2">};</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">initProvide</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">provideOption </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">provide</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">provideOption</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">provided </span><span class="s2">= </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">provideOption</span><span class="s2">)</span>
              <span class="s2">? </span><span class="s1">provideOption</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">)</span>
              <span class="s2">: </span><span class="s1">provideOption</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">provided</span><span class="s2">)) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">source </span><span class="s2">= </span><span class="s1">resolveProvided</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s0">// IE9 doesn't support Object.getOwnPropertyDescriptors so we have to</span>
          <span class="s0">// iterate the keys ourselves.</span>
          <span class="s3">var </span><span class="s1">keys </span><span class="s2">= </span><span class="s1">hasSymbol </span><span class="s2">? </span><span class="s1">Reflect</span><span class="s2">.</span><span class="s1">ownKeys</span><span class="s2">(</span><span class="s1">provided</span><span class="s2">) : </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">provided</span><span class="s2">);</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">keys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s1">keys</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">source</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">getOwnPropertyDescriptor</span><span class="s2">(</span><span class="s1">provided</span><span class="s2">, </span><span class="s1">key</span><span class="s2">));</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">initInjections</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">result </span><span class="s2">= </span><span class="s1">resolveInject</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">inject</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">result</span><span class="s2">) {</span>
          <span class="s1">toggleObserving</span><span class="s2">(</span><span class="s3">false</span><span class="s2">);</span>
          <span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">result</span><span class="s2">).</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">key</span><span class="s2">) {</span>
              <span class="s0">/* istanbul ignore else */</span>
              <span class="s2">{</span>
                  <span class="s1">defineReactive</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">result</span><span class="s2">[</span><span class="s1">key</span><span class="s2">], </span><span class="s3">function </span><span class="s2">() {</span>
                      <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Avoid mutating an injected value directly since the changes will be &quot; </span><span class="s2">+</span>
                          <span class="s4">&quot;overwritten whenever the provided component re-renders. &quot; </span><span class="s2">+</span>
                          <span class="s4">&quot;injection being mutated: </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
                  <span class="s2">});</span>
              <span class="s2">}</span>
          <span class="s2">});</span>
          <span class="s1">toggleObserving</span><span class="s2">(</span><span class="s3">true</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">resolveInject</span><span class="s2">(</span><span class="s1">inject</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">inject</span><span class="s2">) {</span>
          <span class="s0">// inject is :any because flow is not smart enough to figure out cached</span>
          <span class="s3">var </span><span class="s1">result </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">keys </span><span class="s2">= </span><span class="s1">hasSymbol </span><span class="s2">? </span><span class="s1">Reflect</span><span class="s2">.</span><span class="s1">ownKeys</span><span class="s2">(</span><span class="s1">inject</span><span class="s2">) : </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">inject</span><span class="s2">);</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">keys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s1">keys</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s0">// #6574 in case the inject object is observed...</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'__ob__'</span><span class="s2">)</span>
                  <span class="s3">continue</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">provideKey </span><span class="s2">= </span><span class="s1">inject</span><span class="s2">[</span><span class="s1">key</span><span class="s2">].</span><span class="s1">from</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">provideKey </span><span class="s3">in </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_provided</span><span class="s2">) {</span>
                  <span class="s1">result</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_provided</span><span class="s2">[</span><span class="s1">provideKey</span><span class="s2">];</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s4">'default' </span><span class="s3">in </span><span class="s1">inject</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]) {</span>
                  <span class="s3">var </span><span class="s1">provideDefault </span><span class="s2">= </span><span class="s1">inject</span><span class="s2">[</span><span class="s1">key</span><span class="s2">].</span><span class="s1">default</span><span class="s2">;</span>
                  <span class="s1">result</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">provideDefault</span><span class="s2">)</span>
                      <span class="s2">? </span><span class="s1">provideDefault</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">)</span>
                      <span class="s2">: </span><span class="s1">provideDefault</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Injection </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">not found&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">result</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">uid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">initMixin$1</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">) {</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">_init </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">options</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s0">// a uid</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_uid </span><span class="s2">= </span><span class="s1">uid</span><span class="s2">++;</span>
          <span class="s3">var </span><span class="s1">startTag</span><span class="s2">, </span><span class="s1">endTag</span><span class="s2">;</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">performance </span><span class="s2">&amp;&amp; </span><span class="s1">mark</span><span class="s2">) {</span>
              <span class="s1">startTag </span><span class="s2">= </span><span class="s4">&quot;vue-perf-start:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_uid</span><span class="s2">);</span>
              <span class="s1">endTag </span><span class="s2">= </span><span class="s4">&quot;vue-perf-end:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_uid</span><span class="s2">);</span>
              <span class="s1">mark</span><span class="s2">(</span><span class="s1">startTag</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s0">// a flag to mark this as a Vue instance without having to do instanceof</span>
          <span class="s0">// check</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_isVue </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s0">// avoid instances from being observed</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">__v_skip </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s0">// effect scope</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_scope </span><span class="s2">= </span><span class="s3">new </span><span class="s1">EffectScope</span><span class="s2">(</span><span class="s3">true </span><span class="s0">/* detached */</span><span class="s2">);</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_scope</span><span class="s2">.</span><span class="s1">_vm </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s0">// merge options</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">options </span><span class="s2">&amp;&amp; </span><span class="s1">options</span><span class="s2">.</span><span class="s1">_isComponent</span><span class="s2">) {</span>
              <span class="s0">// optimize internal component instantiation</span>
              <span class="s0">// since dynamic options merging is pretty slow, and none of the</span>
              <span class="s0">// internal component options needs special treatment.</span>
              <span class="s1">initInternalComponent</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">$options </span><span class="s2">= </span><span class="s1">mergeOptions</span><span class="s2">(</span><span class="s1">resolveConstructorOptions</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">constructor</span><span class="s2">), </span><span class="s1">options </span><span class="s2">|| {}, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s0">/* istanbul ignore else */</span>
          <span class="s2">{</span>
              <span class="s1">initProxy</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s0">// expose real self</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_self </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">;</span>
          <span class="s1">initLifecycle</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s1">initEvents</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s1">initRender</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'beforeCreate'</span><span class="s2">, </span><span class="s1">undefined</span><span class="s2">, </span><span class="s3">false </span><span class="s0">/* setContext */</span><span class="s2">);</span>
          <span class="s1">initInjections</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">); </span><span class="s0">// resolve injections before data/props</span>
          <span class="s1">initState</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s1">initProvide</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">); </span><span class="s0">// resolve provide after data/props</span>
          <span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'created'</span><span class="s2">);</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">performance </span><span class="s2">&amp;&amp; </span><span class="s1">mark</span><span class="s2">) {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">_name </span><span class="s2">= </span><span class="s1">formatComponentName</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s3">false</span><span class="s2">);</span>
              <span class="s1">mark</span><span class="s2">(</span><span class="s1">endTag</span><span class="s2">);</span>
              <span class="s1">measure</span><span class="s2">(</span><span class="s4">&quot;vue &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_name</span><span class="s2">, </span><span class="s4">&quot; init&quot;</span><span class="s2">), </span><span class="s1">startTag</span><span class="s2">, </span><span class="s1">endTag</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">el</span><span class="s2">) {</span>
              <span class="s1">vm</span><span class="s2">.</span><span class="s1">$mount</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">el</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">initInternalComponent</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">opts </span><span class="s2">= (</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">constructor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">));</span>
      <span class="s0">// doing this because it's faster than dynamic enumeration.</span>
      <span class="s3">var </span><span class="s1">parentVnode </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">_parentVnode</span><span class="s2">;</span>
      <span class="s1">opts</span><span class="s2">.</span><span class="s1">parent </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
      <span class="s1">opts</span><span class="s2">.</span><span class="s1">_parentVnode </span><span class="s2">= </span><span class="s1">parentVnode</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">vnodeComponentOptions </span><span class="s2">= </span><span class="s1">parentVnode</span><span class="s2">.</span><span class="s1">componentOptions</span><span class="s2">;</span>
      <span class="s1">opts</span><span class="s2">.</span><span class="s1">propsData </span><span class="s2">= </span><span class="s1">vnodeComponentOptions</span><span class="s2">.</span><span class="s1">propsData</span><span class="s2">;</span>
      <span class="s1">opts</span><span class="s2">.</span><span class="s1">_parentListeners </span><span class="s2">= </span><span class="s1">vnodeComponentOptions</span><span class="s2">.</span><span class="s1">listeners</span><span class="s2">;</span>
      <span class="s1">opts</span><span class="s2">.</span><span class="s1">_renderChildren </span><span class="s2">= </span><span class="s1">vnodeComponentOptions</span><span class="s2">.</span><span class="s1">children</span><span class="s2">;</span>
      <span class="s1">opts</span><span class="s2">.</span><span class="s1">_componentTag </span><span class="s2">= </span><span class="s1">vnodeComponentOptions</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">render</span><span class="s2">) {</span>
          <span class="s1">opts</span><span class="s2">.</span><span class="s1">render </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">render</span><span class="s2">;</span>
          <span class="s1">opts</span><span class="s2">.</span><span class="s1">staticRenderFns </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">staticRenderFns</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">resolveConstructorOptions</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">options </span><span class="s2">= </span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">super</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">superOptions </span><span class="s2">= </span><span class="s1">resolveConstructorOptions</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">super</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">cachedSuperOptions </span><span class="s2">= </span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">superOptions</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">superOptions </span><span class="s2">!== </span><span class="s1">cachedSuperOptions</span><span class="s2">) {</span>
              <span class="s0">// super option changed,</span>
              <span class="s0">// need to resolve new options.</span>
              <span class="s1">Ctor</span><span class="s2">.</span><span class="s1">superOptions </span><span class="s2">= </span><span class="s1">superOptions</span><span class="s2">;</span>
              <span class="s0">// check if there are any late-modified/attached options (#4976)</span>
              <span class="s3">var </span><span class="s1">modifiedOptions </span><span class="s2">= </span><span class="s1">resolveModifiedOptions</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">);</span>
              <span class="s0">// update base extend options</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiedOptions</span><span class="s2">) {</span>
                  <span class="s1">extend</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">extendOptions</span><span class="s2">, </span><span class="s1">modifiedOptions</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">options </span><span class="s2">= </span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options </span><span class="s2">= </span><span class="s1">mergeOptions</span><span class="s2">(</span><span class="s1">superOptions</span><span class="s2">, </span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">extendOptions</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">name</span><span class="s2">) {</span>
                  <span class="s1">options</span><span class="s2">.</span><span class="s1">components</span><span class="s2">[</span><span class="s1">options</span><span class="s2">.</span><span class="s1">name</span><span class="s2">] = </span><span class="s1">Ctor</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">options</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">resolveModifiedOptions</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">modified</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">latest </span><span class="s2">= </span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">sealed </span><span class="s2">= </span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">sealedOptions</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">latest</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">latest</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] !== </span><span class="s1">sealed</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]) {</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">modified</span><span class="s2">)</span>
                  <span class="s1">modified </span><span class="s2">= {};</span>
              <span class="s1">modified</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">latest</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">modified</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">FunctionalRenderContext</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">props</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">parent</span><span class="s2">, </span><span class="s1">Ctor</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">_this </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">options </span><span class="s2">= </span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">;</span>
      <span class="s0">// ensure the createElement function in functional components</span>
      <span class="s0">// gets a unique context - this is necessary for correct named slot check</span>
      <span class="s3">var </span><span class="s1">contextVm</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s4">'_uid'</span><span class="s2">)) {</span>
          <span class="s1">contextVm </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">);</span>
          <span class="s1">contextVm</span><span class="s2">.</span><span class="s1">_original </span><span class="s2">= </span><span class="s1">parent</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s0">// the context vm passed in is a functional context as well.</span>
          <span class="s0">// in this case we want to make sure we are able to get a hold to the</span>
          <span class="s0">// real context instance.</span>
          <span class="s1">contextVm </span><span class="s2">= </span><span class="s1">parent</span><span class="s2">;</span>
          <span class="s0">// @ts-ignore</span>
          <span class="s1">parent </span><span class="s2">= </span><span class="s1">parent</span><span class="s2">.</span><span class="s1">_original</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">isCompiled </span><span class="s2">= </span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">_compiled</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">needNormalization </span><span class="s2">= !</span><span class="s1">isCompiled</span><span class="s2">;</span>
      <span class="s3">this</span><span class="s2">.</span><span class="s1">data </span><span class="s2">= </span><span class="s1">data</span><span class="s2">;</span>
      <span class="s3">this</span><span class="s2">.</span><span class="s1">props </span><span class="s2">= </span><span class="s1">props</span><span class="s2">;</span>
      <span class="s3">this</span><span class="s2">.</span><span class="s1">children </span><span class="s2">= </span><span class="s1">children</span><span class="s2">;</span>
      <span class="s3">this</span><span class="s2">.</span><span class="s1">parent </span><span class="s2">= </span><span class="s1">parent</span><span class="s2">;</span>
      <span class="s3">this</span><span class="s2">.</span><span class="s1">listeners </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">on </span><span class="s2">|| </span><span class="s1">emptyObject</span><span class="s2">;</span>
      <span class="s3">this</span><span class="s2">.</span><span class="s1">injections </span><span class="s2">= </span><span class="s1">resolveInject</span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">inject</span><span class="s2">, </span><span class="s1">parent</span><span class="s2">);</span>
      <span class="s3">this</span><span class="s2">.</span><span class="s1">slots </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">_this</span><span class="s2">.</span><span class="s1">$slots</span><span class="s2">) {</span>
              <span class="s1">normalizeScopedSlots</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">data</span><span class="s2">.</span><span class="s1">scopedSlots</span><span class="s2">, (</span><span class="s1">_this</span><span class="s2">.</span><span class="s1">$slots </span><span class="s2">= </span><span class="s1">resolveSlots</span><span class="s2">(</span><span class="s1">children</span><span class="s2">, </span><span class="s1">parent</span><span class="s2">)));</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">_this</span><span class="s2">.</span><span class="s1">$slots</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s3">this</span><span class="s2">, </span><span class="s4">'scopedSlots'</span><span class="s2">, {</span>
          <span class="s1">enumerable</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
          <span class="s1">get</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">return </span><span class="s1">normalizeScopedSlots</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">data</span><span class="s2">.</span><span class="s1">scopedSlots</span><span class="s2">, </span><span class="s3">this</span><span class="s2">.</span><span class="s1">slots</span><span class="s2">());</span>
          <span class="s2">}</span>
      <span class="s2">});</span>
      <span class="s0">// support for compiled functional template</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isCompiled</span><span class="s2">) {</span>
          <span class="s0">// exposing $options for renderStatic()</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">$options </span><span class="s2">= </span><span class="s1">options</span><span class="s2">;</span>
          <span class="s0">// pre-resolve slots for renderSlot()</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">$slots </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">slots</span><span class="s2">();</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">$scopedSlots </span><span class="s2">= </span><span class="s1">normalizeScopedSlots</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">data</span><span class="s2">.</span><span class="s1">scopedSlots</span><span class="s2">, </span><span class="s3">this</span><span class="s2">.</span><span class="s1">$slots</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">_scopeId</span><span class="s2">) {</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">_c </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c</span><span class="s2">, </span><span class="s1">d</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">vnode </span><span class="s2">= </span><span class="s1">createElement$1</span><span class="s2">(</span><span class="s1">contextVm</span><span class="s2">, </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c</span><span class="s2">, </span><span class="s1">d</span><span class="s2">, </span><span class="s1">needNormalization</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode </span><span class="s2">&amp;&amp; !</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">)) {</span>
                  <span class="s1">vnode</span><span class="s2">.</span><span class="s1">fnScopeId </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">_scopeId</span><span class="s2">;</span>
                  <span class="s1">vnode</span><span class="s2">.</span><span class="s1">fnContext </span><span class="s2">= </span><span class="s1">parent</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">return </span><span class="s1">vnode</span><span class="s2">;</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">_c </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c</span><span class="s2">, </span><span class="s1">d</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">createElement$1</span><span class="s2">(</span><span class="s1">contextVm</span><span class="s2">, </span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">, </span><span class="s1">c</span><span class="s2">, </span><span class="s1">d</span><span class="s2">, </span><span class="s1">needNormalization</span><span class="s2">);</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s1">installRenderHelpers</span><span class="s2">(</span><span class="s1">FunctionalRenderContext</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">);</span>
  <span class="s3">function </span><span class="s1">createFunctionalComponent</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">, </span><span class="s1">propsData</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">contextVm</span><span class="s2">, </span><span class="s1">children</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">options </span><span class="s2">= </span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">props </span><span class="s2">= {};</span>
      <span class="s3">var </span><span class="s1">propOptions </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">props</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">propOptions</span><span class="s2">)) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">propOptions</span><span class="s2">) {</span>
              <span class="s1">props</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">validateProp</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">propOptions</span><span class="s2">, </span><span class="s1">propsData </span><span class="s2">|| </span><span class="s1">emptyObject</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">))</span>
              <span class="s1">mergeProps</span><span class="s2">(</span><span class="s1">props</span><span class="s2">, </span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">props</span><span class="s2">))</span>
              <span class="s1">mergeProps</span><span class="s2">(</span><span class="s1">props</span><span class="s2">, </span><span class="s1">data</span><span class="s2">.</span><span class="s1">props</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">renderContext </span><span class="s2">= </span><span class="s3">new </span><span class="s1">FunctionalRenderContext</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">props</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">contextVm</span><span class="s2">, </span><span class="s1">Ctor</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">vnode </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">render</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s3">null</span><span class="s2">, </span><span class="s1">renderContext</span><span class="s2">.</span><span class="s1">_c</span><span class="s2">, </span><span class="s1">renderContext</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode </span><span class="s3">instanceof </span><span class="s1">VNode</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">cloneAndMarkFunctionalResult</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">renderContext</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">options</span><span class="s2">, </span><span class="s1">renderContext</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">)) {</span>
          <span class="s3">var </span><span class="s1">vnodes </span><span class="s2">= </span><span class="s1">normalizeChildren</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) || [];</span>
          <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Array</span><span class="s2">(</span><span class="s1">vnodes</span><span class="s2">.</span><span class="s1">length</span><span class="s2">);</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">vnodes</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">res</span><span class="s2">[</span><span class="s1">i</span><span class="s2">] = </span><span class="s1">cloneAndMarkFunctionalResult</span><span class="s2">(</span><span class="s1">vnodes</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">data</span><span class="s2">, </span><span class="s1">renderContext</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">options</span><span class="s2">, </span><span class="s1">renderContext</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">cloneAndMarkFunctionalResult</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">contextVm</span><span class="s2">, </span><span class="s1">options</span><span class="s2">, </span><span class="s1">renderContext</span><span class="s2">) {</span>
      <span class="s0">// #7817 clone node before setting fnContext, otherwise if the node is reused</span>
      <span class="s0">// (e.g. it was from a cached normal slot) the fnContext causes named slots</span>
      <span class="s0">// that should not be matched to match.</span>
      <span class="s3">var </span><span class="s1">clone </span><span class="s2">= </span><span class="s1">cloneVNode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
      <span class="s1">clone</span><span class="s2">.</span><span class="s1">fnContext </span><span class="s2">= </span><span class="s1">contextVm</span><span class="s2">;</span>
      <span class="s1">clone</span><span class="s2">.</span><span class="s1">fnOptions </span><span class="s2">= </span><span class="s1">options</span><span class="s2">;</span>
      <span class="s2">{</span>
          <span class="s2">(</span><span class="s1">clone</span><span class="s2">.</span><span class="s1">devtoolsMeta </span><span class="s2">= </span><span class="s1">clone</span><span class="s2">.</span><span class="s1">devtoolsMeta </span><span class="s2">|| {}).</span><span class="s1">renderContext </span><span class="s2">=</span>
              <span class="s1">renderContext</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">slot</span><span class="s2">) {</span>
          <span class="s2">(</span><span class="s1">clone</span><span class="s2">.</span><span class="s1">data </span><span class="s2">|| (</span><span class="s1">clone</span><span class="s2">.</span><span class="s1">data </span><span class="s2">= {})).</span><span class="s1">slot </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">slot</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">clone</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">mergeProps</span><span class="s2">(</span><span class="s1">to</span><span class="s2">, </span><span class="s1">from</span><span class="s2">) {</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">from</span><span class="s2">) {</span>
          <span class="s1">to</span><span class="s2">[</span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)] = </span><span class="s1">from</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">getComponentName</span><span class="s2">(</span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">options</span><span class="s2">.</span><span class="s1">name </span><span class="s2">|| </span><span class="s1">options</span><span class="s2">.</span><span class="s1">__name </span><span class="s2">|| </span><span class="s1">options</span><span class="s2">.</span><span class="s1">_componentTag</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s0">// inline hooks to be invoked on component VNodes during patch</span>
  <span class="s3">var </span><span class="s1">componentVNodeHooks </span><span class="s2">= {</span>
      <span class="s1">init</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance </span><span class="s2">&amp;&amp;</span>
              <span class="s2">!</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">_isDestroyed </span><span class="s2">&amp;&amp;</span>
              <span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keepAlive</span><span class="s2">) {</span>
              <span class="s0">// kept-alive components, treat as a patch</span>
              <span class="s3">var </span><span class="s1">mountedNode </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">; </span><span class="s0">// work around flow</span>
              <span class="s1">componentVNodeHooks</span><span class="s2">.</span><span class="s1">prepatch</span><span class="s2">(</span><span class="s1">mountedNode</span><span class="s2">, </span><span class="s1">mountedNode</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">var </span><span class="s1">child </span><span class="s2">= (</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance </span><span class="s2">= </span><span class="s1">createComponentInstanceForVnode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">activeInstance</span><span class="s2">));</span>
              <span class="s1">child</span><span class="s2">.</span><span class="s1">$mount</span><span class="s2">(</span><span class="s1">hydrating </span><span class="s2">? </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm </span><span class="s2">: </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">},</span>
      <span class="s1">prepatch</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">options </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentOptions</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">child </span><span class="s2">= (</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance </span><span class="s2">= </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">);</span>
          <span class="s1">updateChildComponent</span><span class="s2">(</span><span class="s1">child</span><span class="s2">, </span><span class="s1">options</span><span class="s2">.</span><span class="s1">propsData</span><span class="s2">, </span><span class="s0">// updated props</span>
          <span class="s1">options</span><span class="s2">.</span><span class="s1">listeners</span><span class="s2">, </span><span class="s0">// updated listeners</span>
          <span class="s1">vnode</span><span class="s2">, </span><span class="s0">// new parent vnode</span>
          <span class="s1">options</span><span class="s2">.</span><span class="s1">children </span><span class="s0">// new children</span>
          <span class="s2">);</span>
      <span class="s2">},</span>
      <span class="s1">insert</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">context </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">, </span><span class="s1">componentInstance </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">_isMounted</span><span class="s2">) {</span>
              <span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">_isMounted </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s1">callHook$1</span><span class="s2">(</span><span class="s1">componentInstance</span><span class="s2">, </span><span class="s4">'mounted'</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keepAlive</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">context</span><span class="s2">.</span><span class="s1">_isMounted</span><span class="s2">) {</span>
                  <span class="s0">// vue-router#1212</span>
                  <span class="s0">// During updates, a kept-alive component's child components may</span>
                  <span class="s0">// change, so directly walking the tree here may call activated hooks</span>
                  <span class="s0">// on incorrect children. Instead we push them into a queue which will</span>
                  <span class="s0">// be processed after the whole patch process ended.</span>
                  <span class="s1">queueActivatedComponent</span><span class="s2">(</span><span class="s1">componentInstance</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">activateChildComponent</span><span class="s2">(</span><span class="s1">componentInstance</span><span class="s2">, </span><span class="s3">true </span><span class="s0">/* direct */</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">},</span>
      <span class="s1">destroy</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">componentInstance </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">_isDestroyed</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keepAlive</span><span class="s2">) {</span>
                  <span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">$destroy</span><span class="s2">();</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">deactivateChildComponent</span><span class="s2">(</span><span class="s1">componentInstance</span><span class="s2">, </span><span class="s3">true </span><span class="s0">/* direct */</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">};</span>
  <span class="s3">var </span><span class="s1">hooksToMerge </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">componentVNodeHooks</span><span class="s2">);</span>
  <span class="s3">function </span><span class="s1">createComponent</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">context</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">)) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">baseCtor </span><span class="s2">= </span><span class="s1">context</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">_base</span><span class="s2">;</span>
      <span class="s0">// plain options object: turn it into a constructor</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">)) {</span>
          <span class="s1">Ctor </span><span class="s2">= </span><span class="s1">baseCtor</span><span class="s2">.</span><span class="s1">extend</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// if at this stage it's not a constructor or an async component factory,</span>
      <span class="s0">// reject.</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">Ctor </span><span class="s2">!== </span><span class="s4">'function'</span><span class="s2">) {</span>
          <span class="s2">{</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Invalid Component definition: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">String</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">)), </span><span class="s1">context</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// async component</span>
      <span class="s3">var </span><span class="s1">asyncFactory</span><span class="s2">;</span>
      <span class="s0">// @ts-expect-error</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">cid</span><span class="s2">)) {</span>
          <span class="s1">asyncFactory </span><span class="s2">= </span><span class="s1">Ctor</span><span class="s2">;</span>
          <span class="s1">Ctor </span><span class="s2">= </span><span class="s1">resolveAsyncComponent</span><span class="s2">(</span><span class="s1">asyncFactory</span><span class="s2">, </span><span class="s1">baseCtor</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">Ctor </span><span class="s2">=== </span><span class="s1">undefined</span><span class="s2">) {</span>
              <span class="s0">// return a placeholder node for async component, which is rendered</span>
              <span class="s0">// as a comment node but preserves all the raw information for the node.</span>
              <span class="s0">// the information will be used for async server-rendering and hydration.</span>
              <span class="s3">return </span><span class="s1">createAsyncPlaceholder</span><span class="s2">(</span><span class="s1">asyncFactory</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">context</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s1">data </span><span class="s2">= </span><span class="s1">data </span><span class="s2">|| {};</span>
      <span class="s0">// resolve constructor options in case global mixins are applied after</span>
      <span class="s0">// component constructor creation</span>
      <span class="s1">resolveConstructorOptions</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">);</span>
      <span class="s0">// transform component v-model data into props &amp; events</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">model</span><span class="s2">)) {</span>
          <span class="s0">// @ts-expect-error</span>
          <span class="s1">transformModel</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">, </span><span class="s1">data</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// extract props</span>
      <span class="s0">// @ts-expect-error</span>
      <span class="s3">var </span><span class="s1">propsData </span><span class="s2">= </span><span class="s1">extractPropsFromVNodeData</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">Ctor</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">);</span>
      <span class="s0">// functional component</span>
      <span class="s0">// @ts-expect-error</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">functional</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">createFunctionalComponent</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">, </span><span class="s1">propsData</span><span class="s2">, </span><span class="s1">data</span><span class="s2">, </span><span class="s1">context</span><span class="s2">, </span><span class="s1">children</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// extract listeners, since these needs to be treated as</span>
      <span class="s0">// child component listeners instead of DOM listeners</span>
      <span class="s3">var </span><span class="s1">listeners </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">on</span><span class="s2">;</span>
      <span class="s0">// replace with listeners with .native modifier</span>
      <span class="s0">// so it gets processed during parent component patch.</span>
      <span class="s1">data</span><span class="s2">.</span><span class="s1">on </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">nativeOn</span><span class="s2">;</span>
      <span class="s0">// @ts-expect-error</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">abstract</span><span class="s2">)) {</span>
          <span class="s0">// abstract components do not keep anything</span>
          <span class="s0">// other than props &amp; listeners &amp; slot</span>
          <span class="s0">// work around flow</span>
          <span class="s3">var </span><span class="s1">slot </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">slot</span><span class="s2">;</span>
          <span class="s1">data </span><span class="s2">= {};</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">slot</span><span class="s2">) {</span>
              <span class="s1">data</span><span class="s2">.</span><span class="s1">slot </span><span class="s2">= </span><span class="s1">slot</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// install component management hooks onto the placeholder node</span>
      <span class="s1">installComponentHooks</span><span class="s2">(</span><span class="s1">data</span><span class="s2">);</span>
      <span class="s0">// return a placeholder vnode</span>
      <span class="s0">// @ts-expect-error</span>
      <span class="s3">var </span><span class="s1">name </span><span class="s2">= </span><span class="s1">getComponentName</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">) || </span><span class="s1">tag</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">vnode </span><span class="s2">= </span><span class="s3">new </span><span class="s1">VNode</span><span class="s2">(</span>
      <span class="s0">// @ts-expect-error</span>
      <span class="s4">&quot;vue-component-&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">cid</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name </span><span class="s2">? </span><span class="s4">&quot;-&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">) : </span><span class="s4">''</span><span class="s2">), </span><span class="s1">data</span><span class="s2">, </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">context</span><span class="s2">, </span>
      <span class="s0">// @ts-expect-error</span>
      <span class="s2">{ </span><span class="s1">Ctor</span><span class="s2">: </span><span class="s1">Ctor</span><span class="s2">, </span><span class="s1">propsData</span><span class="s2">: </span><span class="s1">propsData</span><span class="s2">, </span><span class="s1">listeners</span><span class="s2">: </span><span class="s1">listeners</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">: </span><span class="s1">tag</span><span class="s2">, </span><span class="s1">children</span><span class="s2">: </span><span class="s1">children </span><span class="s2">}, </span><span class="s1">asyncFactory</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">vnode</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createComponentInstanceForVnode</span><span class="s2">(</span>
  <span class="s0">// we know it's MountedComponentVNode but flow doesn't</span>
  <span class="s1">vnode</span><span class="s2">, </span>
  <span class="s0">// activeInstance in lifecycle state</span>
  <span class="s1">parent</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">options </span><span class="s2">= {</span>
          <span class="s1">_isComponent</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
          <span class="s1">_parentVnode</span><span class="s2">: </span><span class="s1">vnode</span><span class="s2">,</span>
          <span class="s1">parent</span><span class="s2">: </span><span class="s1">parent</span>
      <span class="s2">};</span>
      <span class="s0">// check inline-template render functions</span>
      <span class="s3">var </span><span class="s1">inlineTemplate </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">inlineTemplate</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">inlineTemplate</span><span class="s2">)) {</span>
          <span class="s1">options</span><span class="s2">.</span><span class="s1">render </span><span class="s2">= </span><span class="s1">inlineTemplate</span><span class="s2">.</span><span class="s1">render</span><span class="s2">;</span>
          <span class="s1">options</span><span class="s2">.</span><span class="s1">staticRenderFns </span><span class="s2">= </span><span class="s1">inlineTemplate</span><span class="s2">.</span><span class="s1">staticRenderFns</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return new </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentOptions</span><span class="s2">.</span><span class="s1">Ctor</span><span class="s2">(</span><span class="s1">options</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">installComponentHooks</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">hooks </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook </span><span class="s2">|| (</span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook </span><span class="s2">= {});</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">hooksToMerge</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s1">hooksToMerge</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">var </span><span class="s1">existing </span><span class="s2">= </span><span class="s1">hooks</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s3">var </span><span class="s1">toMerge </span><span class="s2">= </span><span class="s1">componentVNodeHooks</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s0">// @ts-expect-error</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">existing </span><span class="s2">!== </span><span class="s1">toMerge </span><span class="s2">&amp;&amp; !(</span><span class="s1">existing </span><span class="s2">&amp;&amp; </span><span class="s1">existing</span><span class="s2">.</span><span class="s1">_merged</span><span class="s2">)) {</span>
              <span class="s1">hooks</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">existing </span><span class="s2">? </span><span class="s1">mergeHook</span><span class="s2">(</span><span class="s1">toMerge</span><span class="s2">, </span><span class="s1">existing</span><span class="s2">) : </span><span class="s1">toMerge</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">mergeHook</span><span class="s2">(</span><span class="s1">f1</span><span class="s2">, </span><span class="s1">f2</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">merged </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">) {</span>
          <span class="s0">// flow complains about extra args which is why we use any</span>
          <span class="s1">f1</span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">);</span>
          <span class="s1">f2</span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">);</span>
      <span class="s2">};</span>
      <span class="s1">merged</span><span class="s2">.</span><span class="s1">_merged </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s1">merged</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s0">// transform component v-model info (value and callback) into</span>
  <span class="s0">// prop and event handler respectively.</span>
  <span class="s3">function </span><span class="s1">transformModel</span><span class="s2">(</span><span class="s1">options</span><span class="s2">, </span><span class="s1">data</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">prop </span><span class="s2">= (</span><span class="s1">options</span><span class="s2">.</span><span class="s1">model </span><span class="s2">&amp;&amp; </span><span class="s1">options</span><span class="s2">.</span><span class="s1">model</span><span class="s2">.</span><span class="s1">prop</span><span class="s2">) || </span><span class="s4">'value'</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">event </span><span class="s2">= (</span><span class="s1">options</span><span class="s2">.</span><span class="s1">model </span><span class="s2">&amp;&amp; </span><span class="s1">options</span><span class="s2">.</span><span class="s1">model</span><span class="s2">.</span><span class="s1">event</span><span class="s2">) || </span><span class="s4">'input'</span><span class="s2">;</span>
      <span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">|| (</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">= {}))[</span><span class="s1">prop</span><span class="s2">] = </span><span class="s1">data</span><span class="s2">.</span><span class="s1">model</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">on </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">on </span><span class="s2">|| (</span><span class="s1">data</span><span class="s2">.</span><span class="s1">on </span><span class="s2">= {});</span>
      <span class="s3">var </span><span class="s1">existing </span><span class="s2">= </span><span class="s1">on</span><span class="s2">[</span><span class="s1">event</span><span class="s2">];</span>
      <span class="s3">var </span><span class="s1">callback </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">model</span><span class="s2">.</span><span class="s1">callback</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">existing</span><span class="s2">)) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">existing</span><span class="s2">)</span>
              <span class="s2">? </span><span class="s1">existing</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">callback</span><span class="s2">) === -</span><span class="s6">1</span>
              <span class="s2">: </span><span class="s1">existing </span><span class="s2">!== </span><span class="s1">callback</span><span class="s2">) {</span>
              <span class="s1">on</span><span class="s2">[</span><span class="s1">event</span><span class="s2">] = [</span><span class="s1">callback</span><span class="s2">].</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">existing</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">on</span><span class="s2">[</span><span class="s1">event</span><span class="s2">] = </span><span class="s1">callback</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">warn$2 </span><span class="s2">= </span><span class="s1">noop</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">tip </span><span class="s2">= </span><span class="s1">noop</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">generateComponentTrace</span><span class="s2">; </span><span class="s0">// work around flow check</span>
  <span class="s3">var </span><span class="s1">formatComponentName</span><span class="s2">;</span>
  <span class="s2">{</span>
      <span class="s3">var </span><span class="s1">hasConsole_1 </span><span class="s2">= </span><span class="s3">typeof </span><span class="s1">console </span><span class="s2">!== </span><span class="s4">'undefined'</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">classifyRE_1 </span><span class="s2">= </span><span class="s7">/(?:^|[-_])(\w)/g</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">classify_1 </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">str</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">str</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">classifyRE_1</span><span class="s2">, </span><span class="s3">function </span><span class="s2">(</span><span class="s1">c</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">c</span><span class="s2">.</span><span class="s1">toUpperCase</span><span class="s2">(); }).</span><span class="s1">replace</span><span class="s2">(</span><span class="s7">/[-_]/g</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
      <span class="s2">};</span>
      <span class="s1">warn$2 </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">msg</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">vm </span><span class="s2">= </span><span class="s1">currentInstance</span><span class="s2">; }</span>
          <span class="s3">var </span><span class="s1">trace </span><span class="s2">= </span><span class="s1">vm </span><span class="s2">? </span><span class="s1">generateComponentTrace</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) : </span><span class="s4">''</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">warnHandler</span><span class="s2">) {</span>
              <span class="s1">config</span><span class="s2">.</span><span class="s1">warnHandler</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s3">null</span><span class="s2">, </span><span class="s1">msg</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">trace</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">hasConsole_1 </span><span class="s2">&amp;&amp; !</span><span class="s1">config</span><span class="s2">.</span><span class="s1">silent</span><span class="s2">) {</span>
              <span class="s1">console</span><span class="s2">.</span><span class="s1">error</span><span class="s2">(</span><span class="s4">&quot;[Vue warn]: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">msg</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">trace</span><span class="s2">));</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s1">tip </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">msg</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">hasConsole_1 </span><span class="s2">&amp;&amp; !</span><span class="s1">config</span><span class="s2">.</span><span class="s1">silent</span><span class="s2">) {</span>
              <span class="s1">console</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;[Vue tip]: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">msg</span><span class="s2">) + (</span><span class="s1">vm </span><span class="s2">? </span><span class="s1">generateComponentTrace</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) : </span><span class="s4">''</span><span class="s2">));</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s1">formatComponentName </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">includeFile</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$root </span><span class="s2">=== </span><span class="s1">vm</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s4">'&lt;Root&gt;'</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">options </span><span class="s2">= </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) &amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">cid </span><span class="s2">!= </span><span class="s3">null</span>
              <span class="s2">? </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">options</span>
              <span class="s2">: </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_isVue</span>
                  <span class="s2">? </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options </span><span class="s2">|| </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">constructor</span><span class="s2">.</span><span class="s1">options</span>
                  <span class="s2">: </span><span class="s1">vm</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">name </span><span class="s2">= </span><span class="s1">getComponentName</span><span class="s2">(</span><span class="s1">options</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">file </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">__file</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">name </span><span class="s2">&amp;&amp; </span><span class="s1">file</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">match </span><span class="s2">= </span><span class="s1">file</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s7">/([^/\\]+)\.vue$/</span><span class="s2">);</span>
              <span class="s1">name </span><span class="s2">= </span><span class="s1">match </span><span class="s2">&amp;&amp; </span><span class="s1">match</span><span class="s2">[</span><span class="s6">1</span><span class="s2">];</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s2">((</span><span class="s1">name </span><span class="s2">? </span><span class="s4">&quot;&lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">classify_1</span><span class="s2">(</span><span class="s1">name</span><span class="s2">), </span><span class="s4">&quot;&gt;&quot;</span><span class="s2">) : </span><span class="s4">&quot;&lt;Anonymous&gt;&quot;</span><span class="s2">) +</span>
              <span class="s2">(</span><span class="s1">file </span><span class="s2">&amp;&amp; </span><span class="s1">includeFile </span><span class="s2">!== </span><span class="s3">false </span><span class="s2">? </span><span class="s4">&quot; at &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">file</span><span class="s2">) : </span><span class="s4">''</span><span class="s2">));</span>
      <span class="s2">};</span>
      <span class="s3">var </span><span class="s1">repeat_1 </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">str</span><span class="s2">, </span><span class="s1">n</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s4">''</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">n</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">n </span><span class="s2">% </span><span class="s6">2 </span><span class="s2">=== </span><span class="s6">1</span><span class="s2">)</span>
                  <span class="s1">res </span><span class="s2">+= </span><span class="s1">str</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">n </span><span class="s2">&gt; </span><span class="s6">1</span><span class="s2">)</span>
                  <span class="s1">str </span><span class="s2">+= </span><span class="s1">str</span><span class="s2">;</span>
              <span class="s1">n </span><span class="s2">&gt;&gt;= </span><span class="s6">1</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s1">generateComponentTrace </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_isVue </span><span class="s2">&amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">tree </span><span class="s2">= [];</span>
              <span class="s3">var </span><span class="s1">currentRecursiveSequence </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
              <span class="s3">while </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">tree</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&gt; </span><span class="s6">0</span><span class="s2">) {</span>
                      <span class="s3">var </span><span class="s1">last </span><span class="s2">= </span><span class="s1">tree</span><span class="s2">[</span><span class="s1">tree</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">];</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">last</span><span class="s2">.</span><span class="s1">constructor </span><span class="s2">=== </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">constructor</span><span class="s2">) {</span>
                          <span class="s1">currentRecursiveSequence</span><span class="s2">++;</span>
                          <span class="s1">vm </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">;</span>
                          <span class="s3">continue</span><span class="s2">;</span>
                      <span class="s2">}</span>
                      <span class="s3">else if </span><span class="s2">(</span><span class="s1">currentRecursiveSequence </span><span class="s2">&gt; </span><span class="s6">0</span><span class="s2">) {</span>
                          <span class="s1">tree</span><span class="s2">[</span><span class="s1">tree</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">] = [</span><span class="s1">last</span><span class="s2">, </span><span class="s1">currentRecursiveSequence</span><span class="s2">];</span>
                          <span class="s1">currentRecursiveSequence </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s1">tree</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">);</span>
                  <span class="s1">vm </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">return </span><span class="s2">(</span><span class="s4">'</span><span class="s3">\n\n</span><span class="s4">found in</span><span class="s3">\n\n</span><span class="s4">' </span><span class="s2">+</span>
                  <span class="s1">tree</span>
                      <span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">i</span><span class="s2">) {</span>
                      <span class="s3">return </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">i </span><span class="s2">=== </span><span class="s6">0 </span><span class="s2">? </span><span class="s4">'---&gt; ' </span><span class="s2">: </span><span class="s1">repeat_1</span><span class="s2">(</span><span class="s4">' '</span><span class="s2">, </span><span class="s6">5 </span><span class="s2">+ </span><span class="s1">i </span><span class="s2">* </span><span class="s6">2</span><span class="s2">)).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">)</span>
                          <span class="s2">? </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">formatComponentName</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">[</span><span class="s6">0</span><span class="s2">]), </span><span class="s4">&quot;... (&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">[</span><span class="s6">1</span><span class="s2">], </span><span class="s4">&quot; recursive calls)&quot;</span><span class="s2">)</span>
                          <span class="s2">: </span><span class="s1">formatComponentName</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">));</span>
                  <span class="s2">})</span>
                      <span class="s2">.</span><span class="s1">join</span><span class="s2">(</span><span class="s4">'</span><span class="s3">\n</span><span class="s4">'</span><span class="s2">));</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">return </span><span class="s4">&quot;</span><span class="s3">\n\n</span><span class="s4">(found in &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">formatComponentName</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">), </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Option overwriting strategies are functions that handle</span>
   <span class="s5">* how to merge a parent option value and a child option</span>
   <span class="s5">* value into the final value.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">strats </span><span class="s2">= </span><span class="s1">config</span><span class="s2">.</span><span class="s1">optionMergeStrategies</span><span class="s2">;</span>
  <span class="s5">/**</span>
   <span class="s5">* Options with restrictions</span>
   <span class="s5">*/</span>
  <span class="s2">{</span>
      <span class="s1">strats</span><span class="s2">.</span><span class="s1">el </span><span class="s2">= </span><span class="s1">strats</span><span class="s2">.</span><span class="s1">propsData </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">child</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">vm</span><span class="s2">) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;option </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">can only be used during instance &quot;</span><span class="s2">) +</span>
                  <span class="s4">'creation with the `new` keyword.'</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">defaultStrat</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">child</span><span class="s2">);</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Helper that recursively merges two data objects together.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">mergeData</span><span class="s2">(</span><span class="s1">to</span><span class="s2">, </span><span class="s1">from</span><span class="s2">, </span><span class="s1">recursive</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">recursive </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">recursive </span><span class="s2">= </span><span class="s3">true</span><span class="s2">; }</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">from</span><span class="s2">)</span>
          <span class="s3">return </span><span class="s1">to</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">key</span><span class="s2">, </span><span class="s1">toVal</span><span class="s2">, </span><span class="s1">fromVal</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">keys </span><span class="s2">= </span><span class="s1">hasSymbol</span>
          <span class="s2">? </span><span class="s1">Reflect</span><span class="s2">.</span><span class="s1">ownKeys</span><span class="s2">(</span><span class="s1">from</span><span class="s2">)</span>
          <span class="s2">: </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">from</span><span class="s2">);</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">keys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">key </span><span class="s2">= </span><span class="s1">keys</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s0">// in case the object is already observed...</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'__ob__'</span><span class="s2">)</span>
              <span class="s3">continue</span><span class="s2">;</span>
          <span class="s1">toVal </span><span class="s2">= </span><span class="s1">to</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s1">fromVal </span><span class="s2">= </span><span class="s1">from</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">recursive </span><span class="s2">|| !</span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">to</span><span class="s2">, </span><span class="s1">key</span><span class="s2">)) {</span>
              <span class="s1">set</span><span class="s2">(</span><span class="s1">to</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">fromVal</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">toVal </span><span class="s2">!== </span><span class="s1">fromVal </span><span class="s2">&amp;&amp;</span>
              <span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">toVal</span><span class="s2">) &amp;&amp;</span>
              <span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">fromVal</span><span class="s2">)) {</span>
              <span class="s1">mergeData</span><span class="s2">(</span><span class="s1">toVal</span><span class="s2">, </span><span class="s1">fromVal</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">to</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Data</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">mergeDataOrFn</span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">vm</span><span class="s2">) {</span>
          <span class="s0">// in a Vue.extend merge, both should be functions</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">childVal</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">parentVal</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">parentVal</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">childVal</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// when parentVal &amp; childVal are both present,</span>
          <span class="s0">// we need to return a function that returns the</span>
          <span class="s0">// merged result of both functions... no need to</span>
          <span class="s0">// check if parentVal is a function here because</span>
          <span class="s0">// it has to be a function to pass previous merges.</span>
          <span class="s3">return function </span><span class="s1">mergedDataFn</span><span class="s2">() {</span>
              <span class="s3">return </span><span class="s1">mergeData</span><span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">childVal</span><span class="s2">) ? </span><span class="s1">childVal</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s3">this</span><span class="s2">, </span><span class="s3">this</span><span class="s2">) : </span><span class="s1">childVal</span><span class="s2">, </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">) ? </span><span class="s1">parentVal</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s3">this</span><span class="s2">, </span><span class="s3">this</span><span class="s2">) : </span><span class="s1">parentVal</span><span class="s2">);</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return function </span><span class="s1">mergedInstanceDataFn</span><span class="s2">() {</span>
              <span class="s0">// instance merge</span>
              <span class="s3">var </span><span class="s1">instanceData </span><span class="s2">= </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">childVal</span><span class="s2">)</span>
                  <span class="s2">? </span><span class="s1">childVal</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">)</span>
                  <span class="s2">: </span><span class="s1">childVal</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">defaultData </span><span class="s2">= </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">)</span>
                  <span class="s2">? </span><span class="s1">parentVal</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">)</span>
                  <span class="s2">: </span><span class="s1">parentVal</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">instanceData</span><span class="s2">) {</span>
                  <span class="s3">return </span><span class="s1">mergeData</span><span class="s2">(</span><span class="s1">instanceData</span><span class="s2">, </span><span class="s1">defaultData</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s3">return </span><span class="s1">defaultData</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s1">strats</span><span class="s2">.</span><span class="s1">data </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">vm</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">childVal </span><span class="s2">&amp;&amp; </span><span class="s3">typeof </span><span class="s1">childVal </span><span class="s2">!== </span><span class="s4">'function'</span><span class="s2">) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'The &quot;data&quot; option should be a function ' </span><span class="s2">+</span>
                      <span class="s4">'that returns a per-instance value in component ' </span><span class="s2">+</span>
                      <span class="s4">'definitions.'</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s3">return </span><span class="s1">parentVal</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">mergeDataOrFn</span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">mergeDataOrFn</span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
  <span class="s2">};</span>
  <span class="s5">/**</span>
   <span class="s5">* Hooks and props are merged as arrays.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">mergeLifecycleHook</span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s1">childVal</span>
          <span class="s2">? </span><span class="s1">parentVal</span>
              <span class="s2">? </span><span class="s1">parentVal</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">childVal</span><span class="s2">)</span>
              <span class="s2">: </span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">childVal</span><span class="s2">)</span>
                  <span class="s2">? </span><span class="s1">childVal</span>
                  <span class="s2">: [</span><span class="s1">childVal</span><span class="s2">]</span>
          <span class="s2">: </span><span class="s1">parentVal</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s1">res </span><span class="s2">? </span><span class="s1">dedupeHooks</span><span class="s2">(</span><span class="s1">res</span><span class="s2">) : </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">dedupeHooks</span><span class="s2">(</span><span class="s1">hooks</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= [];</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">hooks</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">res</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">hooks</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]) === -</span><span class="s6">1</span><span class="s2">) {</span>
              <span class="s1">res</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">hooks</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s1">LIFECYCLE_HOOKS</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">hook</span><span class="s2">) {</span>
      <span class="s1">strats</span><span class="s2">[</span><span class="s1">hook</span><span class="s2">] = </span><span class="s1">mergeLifecycleHook</span><span class="s2">;</span>
  <span class="s2">});</span>
  <span class="s5">/**</span>
   <span class="s5">* Assets</span>
   <span class="s5">*</span>
   <span class="s5">* When a vm is present (instance creation), we need to do</span>
   <span class="s5">* a three-way merge between constructor options, instance</span>
   <span class="s5">* options and parent options.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">mergeAssets</span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">parentVal </span><span class="s2">|| </span><span class="s3">null</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">childVal</span><span class="s2">) {</span>
          <span class="s1">assertObjectType</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s3">return </span><span class="s1">extend</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s1">ASSET_TYPES</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">type</span><span class="s2">) {</span>
      <span class="s1">strats</span><span class="s2">[</span><span class="s1">type </span><span class="s2">+ </span><span class="s4">'s'</span><span class="s2">] = </span><span class="s1">mergeAssets</span><span class="s2">;</span>
  <span class="s2">});</span>
  <span class="s5">/**</span>
   <span class="s5">* Watchers.</span>
   <span class="s5">*</span>
   <span class="s5">* Watchers hashes should not overwrite one</span>
   <span class="s5">* another, so we merge them as arrays.</span>
   <span class="s5">*/</span>
  <span class="s1">strats</span><span class="s2">.</span><span class="s1">watch </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s0">// work around Firefox's Object.prototype.watch...</span>
      <span class="s0">//@ts-expect-error work around</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">parentVal </span><span class="s2">=== </span><span class="s1">nativeWatch</span><span class="s2">)</span>
          <span class="s1">parentVal </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
      <span class="s0">//@ts-expect-error work around</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">childVal </span><span class="s2">=== </span><span class="s1">nativeWatch</span><span class="s2">)</span>
          <span class="s1">childVal </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">childVal</span><span class="s2">)</span>
          <span class="s3">return </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">parentVal </span><span class="s2">|| </span><span class="s3">null</span><span class="s2">);</span>
      <span class="s2">{</span>
          <span class="s1">assertObjectType</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">parentVal</span><span class="s2">)</span>
          <span class="s3">return </span><span class="s1">childVal</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">ret </span><span class="s2">= {};</span>
      <span class="s1">extend</span><span class="s2">(</span><span class="s1">ret</span><span class="s2">, </span><span class="s1">parentVal</span><span class="s2">);</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key_1 </span><span class="s3">in </span><span class="s1">childVal</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">parent_1 </span><span class="s2">= </span><span class="s1">ret</span><span class="s2">[</span><span class="s1">key_1</span><span class="s2">];</span>
          <span class="s3">var </span><span class="s1">child </span><span class="s2">= </span><span class="s1">childVal</span><span class="s2">[</span><span class="s1">key_1</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">parent_1 </span><span class="s2">&amp;&amp; !</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">parent_1</span><span class="s2">)) {</span>
              <span class="s1">parent_1 </span><span class="s2">= [</span><span class="s1">parent_1</span><span class="s2">];</span>
          <span class="s2">}</span>
          <span class="s1">ret</span><span class="s2">[</span><span class="s1">key_1</span><span class="s2">] = </span><span class="s1">parent_1 </span><span class="s2">? </span><span class="s1">parent_1</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">child</span><span class="s2">) : </span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">child</span><span class="s2">) ? </span><span class="s1">child </span><span class="s2">: [</span><span class="s1">child</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">ret</span><span class="s2">;</span>
  <span class="s2">};</span>
  <span class="s5">/**</span>
   <span class="s5">* Other object hashes.</span>
   <span class="s5">*/</span>
  <span class="s1">strats</span><span class="s2">.</span><span class="s1">props </span><span class="s2">=</span>
      <span class="s1">strats</span><span class="s2">.</span><span class="s1">methods </span><span class="s2">=</span>
          <span class="s1">strats</span><span class="s2">.</span><span class="s1">inject </span><span class="s2">=</span>
              <span class="s1">strats</span><span class="s2">.</span><span class="s1">computed </span><span class="s2">=</span>
                  <span class="s3">function </span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">childVal </span><span class="s2">&amp;&amp; </span><span class="s3">true</span><span class="s2">) {</span>
                          <span class="s1">assertObjectType</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s3">if </span><span class="s2">(!</span><span class="s1">parentVal</span><span class="s2">)</span>
                          <span class="s3">return </span><span class="s1">childVal</span><span class="s2">;</span>
                      <span class="s3">var </span><span class="s1">ret </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
                      <span class="s1">extend</span><span class="s2">(</span><span class="s1">ret</span><span class="s2">, </span><span class="s1">parentVal</span><span class="s2">);</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">childVal</span><span class="s2">)</span>
                          <span class="s1">extend</span><span class="s2">(</span><span class="s1">ret</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">);</span>
                      <span class="s3">return </span><span class="s1">ret</span><span class="s2">;</span>
                  <span class="s2">};</span>
  <span class="s1">strats</span><span class="s2">.</span><span class="s1">provide </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">parentVal</span><span class="s2">)</span>
          <span class="s3">return </span><span class="s1">childVal</span><span class="s2">;</span>
      <span class="s3">return function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">ret </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
          <span class="s1">mergeData</span><span class="s2">(</span><span class="s1">ret</span><span class="s2">, </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">) ? </span><span class="s1">parentVal</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s3">this</span><span class="s2">) : </span><span class="s1">parentVal</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">childVal</span><span class="s2">) {</span>
              <span class="s1">mergeData</span><span class="s2">(</span><span class="s1">ret</span><span class="s2">, </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">childVal</span><span class="s2">) ? </span><span class="s1">childVal</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s3">this</span><span class="s2">) : </span><span class="s1">childVal</span><span class="s2">, </span><span class="s3">false </span><span class="s0">// non-recursive</span>
              <span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">ret</span><span class="s2">;</span>
      <span class="s2">};</span>
  <span class="s2">};</span>
  <span class="s5">/**</span>
   <span class="s5">* Default strategy.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">defaultStrat </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">parentVal</span><span class="s2">, </span><span class="s1">childVal</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">childVal </span><span class="s2">=== </span><span class="s1">undefined </span><span class="s2">? </span><span class="s1">parentVal </span><span class="s2">: </span><span class="s1">childVal</span><span class="s2">;</span>
  <span class="s2">};</span>
  <span class="s5">/**</span>
   <span class="s5">* Validate component names</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">checkComponents</span><span class="s2">(</span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">options</span><span class="s2">.</span><span class="s1">components</span><span class="s2">) {</span>
          <span class="s1">validateComponentName</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">validateComponentName</span><span class="s2">(</span><span class="s1">name</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s3">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s4">&quot;^[a-zA-Z][</span><span class="s3">\\</span><span class="s4">-</span><span class="s3">\\</span><span class="s4">.0-9_&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">unicodeRegExp</span><span class="s2">.</span><span class="s1">source</span><span class="s2">, </span><span class="s4">&quot;]*$&quot;</span><span class="s2">)).</span><span class="s1">test</span><span class="s2">(</span><span class="s1">name</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Invalid component name: &quot;' </span><span class="s2">+</span>
              <span class="s1">name </span><span class="s2">+</span>
              <span class="s4">'&quot;. Component names ' </span><span class="s2">+</span>
              <span class="s4">'should conform to valid custom element name in html5 specification.'</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isBuiltInTag</span><span class="s2">(</span><span class="s1">name</span><span class="s2">) || </span><span class="s1">config</span><span class="s2">.</span><span class="s1">isReservedTag</span><span class="s2">(</span><span class="s1">name</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Do not use built-in or reserved HTML elements as component ' </span><span class="s2">+</span>
              <span class="s4">'id: ' </span><span class="s2">+</span>
              <span class="s1">name</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Ensure all props option syntax are normalized into the</span>
   <span class="s5">* Object-based format.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">normalizeProps</span><span class="s2">(</span><span class="s1">options</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">props </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">props</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">props</span><span class="s2">)</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= {};</span>
      <span class="s3">var </span><span class="s1">i</span><span class="s2">, </span><span class="s1">val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">props</span><span class="s2">)) {</span>
          <span class="s1">i </span><span class="s2">= </span><span class="s1">props</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">i</span><span class="s2">--) {</span>
              <span class="s1">val </span><span class="s2">= </span><span class="s1">props</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">val </span><span class="s2">=== </span><span class="s4">'string'</span><span class="s2">) {</span>
                  <span class="s1">name </span><span class="s2">= </span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">val</span><span class="s2">);</span>
                  <span class="s1">res</span><span class="s2">[</span><span class="s1">name</span><span class="s2">] = { </span><span class="s1">type</span><span class="s2">: </span><span class="s3">null </span><span class="s2">};</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'props must be strings when using array syntax.'</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">props</span><span class="s2">)) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">props</span><span class="s2">) {</span>
              <span class="s1">val </span><span class="s2">= </span><span class="s1">props</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
              <span class="s1">name </span><span class="s2">= </span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
              <span class="s1">res</span><span class="s2">[</span><span class="s1">name</span><span class="s2">] = </span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) ? </span><span class="s1">val </span><span class="s2">: { </span><span class="s1">type</span><span class="s2">: </span><span class="s1">val </span><span class="s2">};</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Invalid value for option </span><span class="s3">\&quot;</span><span class="s4">props</span><span class="s3">\&quot;</span><span class="s4">: expected an Array or an Object, &quot; </span><span class="s2">+</span>
              <span class="s4">&quot;but got &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">toRawType</span><span class="s2">(</span><span class="s1">props</span><span class="s2">), </span><span class="s4">&quot;.&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s1">options</span><span class="s2">.</span><span class="s1">props </span><span class="s2">= </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Normalize all injections into Object-based format</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">normalizeInject</span><span class="s2">(</span><span class="s1">options</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">inject </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">inject</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">inject</span><span class="s2">)</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">normalized </span><span class="s2">= (</span><span class="s1">options</span><span class="s2">.</span><span class="s1">inject </span><span class="s2">= {});</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">inject</span><span class="s2">)) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">inject</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">normalized</span><span class="s2">[</span><span class="s1">inject</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]] = { </span><span class="s1">from</span><span class="s2">: </span><span class="s1">inject</span><span class="s2">[</span><span class="s1">i</span><span class="s2">] };</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">inject</span><span class="s2">)) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">inject</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">val </span><span class="s2">= </span><span class="s1">inject</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
              <span class="s1">normalized</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">val</span><span class="s2">)</span>
                  <span class="s2">? </span><span class="s1">extend</span><span class="s2">({ </span><span class="s1">from</span><span class="s2">: </span><span class="s1">key </span><span class="s2">}, </span><span class="s1">val</span><span class="s2">)</span>
                  <span class="s2">: { </span><span class="s1">from</span><span class="s2">: </span><span class="s1">val </span><span class="s2">};</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Invalid value for option </span><span class="s3">\&quot;</span><span class="s4">inject</span><span class="s3">\&quot;</span><span class="s4">: expected an Array or an Object, &quot; </span><span class="s2">+</span>
              <span class="s4">&quot;but got &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">toRawType</span><span class="s2">(</span><span class="s1">inject</span><span class="s2">), </span><span class="s4">&quot;.&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Normalize raw function directives into object format.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">normalizeDirectives$1</span><span class="s2">(</span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">dirs </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">directives</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">dirs</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">dirs</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">def </span><span class="s2">= </span><span class="s1">dirs</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">def</span><span class="s2">)) {</span>
                  <span class="s1">dirs</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = { </span><span class="s1">bind</span><span class="s2">: </span><span class="s1">def</span><span class="s2">, </span><span class="s1">update</span><span class="s2">: </span><span class="s1">def </span><span class="s2">};</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">assertObjectType</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Invalid value for option </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">: expected an Object, &quot;</span><span class="s2">) +</span>
              <span class="s4">&quot;but got &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">toRawType</span><span class="s2">(</span><span class="s1">value</span><span class="s2">), </span><span class="s4">&quot;.&quot;</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Merge two option objects into a new one.</span>
   <span class="s5">* Core utility used in both instantiation and inheritance.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">mergeOptions</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">child</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s2">{</span>
          <span class="s1">checkComponents</span><span class="s2">(</span><span class="s1">child</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">child</span><span class="s2">)) {</span>
          <span class="s0">// @ts-expect-error</span>
          <span class="s1">child </span><span class="s2">= </span><span class="s1">child</span><span class="s2">.</span><span class="s1">options</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s1">normalizeProps</span><span class="s2">(</span><span class="s1">child</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s1">normalizeInject</span><span class="s2">(</span><span class="s1">child</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s1">normalizeDirectives$1</span><span class="s2">(</span><span class="s1">child</span><span class="s2">);</span>
      <span class="s0">// Apply extends and mixins on the child options,</span>
      <span class="s0">// but only if it is a raw options object that isn't</span>
      <span class="s0">// the result of another mergeOptions call.</span>
      <span class="s0">// Only merged options has the _base property.</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">child</span><span class="s2">.</span><span class="s1">_base</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">child</span><span class="s2">.</span><span class="s1">extends</span><span class="s2">) {</span>
              <span class="s1">parent </span><span class="s2">= </span><span class="s1">mergeOptions</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">child</span><span class="s2">.</span><span class="s1">extends</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">child</span><span class="s2">.</span><span class="s1">mixins</span><span class="s2">) {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">child</span><span class="s2">.</span><span class="s1">mixins</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">parent </span><span class="s2">= </span><span class="s1">mergeOptions</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">child</span><span class="s2">.</span><span class="s1">mixins</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">options </span><span class="s2">= {};</span>
      <span class="s3">var </span><span class="s1">key</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">parent</span><span class="s2">) {</span>
          <span class="s1">mergeField</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">child</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">key</span><span class="s2">)) {</span>
              <span class="s1">mergeField</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">mergeField</span><span class="s2">(</span><span class="s1">key</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">strat </span><span class="s2">= </span><span class="s1">strats</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] || </span><span class="s1">defaultStrat</span><span class="s2">;</span>
          <span class="s1">options</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">strat</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">[</span><span class="s1">key</span><span class="s2">], </span><span class="s1">child</span><span class="s2">[</span><span class="s1">key</span><span class="s2">], </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">options</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Resolve an asset.</span>
   <span class="s5">* This function is used because child instances need access</span>
   <span class="s5">* to assets defined in its ancestor chain.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">resolveAsset</span><span class="s2">(</span><span class="s1">options</span><span class="s2">, </span><span class="s1">type</span><span class="s2">, </span><span class="s1">id</span><span class="s2">, </span><span class="s1">warnMissing</span><span class="s2">) {</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">id </span><span class="s2">!== </span><span class="s4">'string'</span><span class="s2">) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">assets </span><span class="s2">= </span><span class="s1">options</span><span class="s2">[</span><span class="s1">type</span><span class="s2">];</span>
      <span class="s0">// check local registration variations first</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">assets</span><span class="s2">, </span><span class="s1">id</span><span class="s2">))</span>
          <span class="s3">return </span><span class="s1">assets</span><span class="s2">[</span><span class="s1">id</span><span class="s2">];</span>
      <span class="s3">var </span><span class="s1">camelizedId </span><span class="s2">= </span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">id</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">assets</span><span class="s2">, </span><span class="s1">camelizedId</span><span class="s2">))</span>
          <span class="s3">return </span><span class="s1">assets</span><span class="s2">[</span><span class="s1">camelizedId</span><span class="s2">];</span>
      <span class="s3">var </span><span class="s1">PascalCaseId </span><span class="s2">= </span><span class="s1">capitalize</span><span class="s2">(</span><span class="s1">camelizedId</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">assets</span><span class="s2">, </span><span class="s1">PascalCaseId</span><span class="s2">))</span>
          <span class="s3">return </span><span class="s1">assets</span><span class="s2">[</span><span class="s1">PascalCaseId</span><span class="s2">];</span>
      <span class="s0">// fallback to prototype chain</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s1">assets</span><span class="s2">[</span><span class="s1">id</span><span class="s2">] || </span><span class="s1">assets</span><span class="s2">[</span><span class="s1">camelizedId</span><span class="s2">] || </span><span class="s1">assets</span><span class="s2">[</span><span class="s1">PascalCaseId</span><span class="s2">];</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">warnMissing </span><span class="s2">&amp;&amp; !</span><span class="s1">res</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Failed to resolve ' </span><span class="s2">+ </span><span class="s1">type</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">) + </span><span class="s4">': ' </span><span class="s2">+ </span><span class="s1">id</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">validateProp</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">propOptions</span><span class="s2">, </span><span class="s1">propsData</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">prop </span><span class="s2">= </span><span class="s1">propOptions</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s3">var </span><span class="s1">absent </span><span class="s2">= !</span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">propsData</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">propsData</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s0">// boolean casting</span>
      <span class="s3">var </span><span class="s1">booleanIndex </span><span class="s2">= </span><span class="s1">getTypeIndex</span><span class="s2">(</span><span class="s1">Boolean</span><span class="s2">, </span><span class="s1">prop</span><span class="s2">.</span><span class="s1">type</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">booleanIndex </span><span class="s2">&gt; -</span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">absent </span><span class="s2">&amp;&amp; !</span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">prop</span><span class="s2">, </span><span class="s4">'default'</span><span class="s2">)) {</span>
              <span class="s1">value </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">value </span><span class="s2">=== </span><span class="s4">'' </span><span class="s2">|| </span><span class="s1">value </span><span class="s2">=== </span><span class="s1">hyphenate</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
              <span class="s0">// only cast empty string / same name to boolean if</span>
              <span class="s0">// boolean has higher priority</span>
              <span class="s3">var </span><span class="s1">stringIndex </span><span class="s2">= </span><span class="s1">getTypeIndex</span><span class="s2">(</span><span class="s1">String</span><span class="s2">, </span><span class="s1">prop</span><span class="s2">.</span><span class="s1">type</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">stringIndex </span><span class="s2">&lt; </span><span class="s6">0 </span><span class="s2">|| </span><span class="s1">booleanIndex </span><span class="s2">&lt; </span><span class="s1">stringIndex</span><span class="s2">) {</span>
                  <span class="s1">value </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// check default value</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">value </span><span class="s2">=== </span><span class="s1">undefined</span><span class="s2">) {</span>
          <span class="s1">value </span><span class="s2">= </span><span class="s1">getPropDefaultValue</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">prop</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
          <span class="s0">// since the default value is a fresh copy,</span>
          <span class="s0">// make sure to observe it.</span>
          <span class="s3">var </span><span class="s1">prevShouldObserve </span><span class="s2">= </span><span class="s1">shouldObserve</span><span class="s2">;</span>
          <span class="s1">toggleObserving</span><span class="s2">(</span><span class="s3">true</span><span class="s2">);</span>
          <span class="s1">observe</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
          <span class="s1">toggleObserving</span><span class="s2">(</span><span class="s1">prevShouldObserve</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s2">{</span>
          <span class="s1">assertProp</span><span class="s2">(</span><span class="s1">prop</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">absent</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">value</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Get the default value of a prop.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">getPropDefaultValue</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">prop</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s0">// no default, return undefined</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">prop</span><span class="s2">, </span><span class="s4">'default'</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">undefined</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">def </span><span class="s2">= </span><span class="s1">prop</span><span class="s2">.</span><span class="s1">default</span><span class="s2">;</span>
      <span class="s0">// warn against non-factory defaults for Object &amp; Array</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">def</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Invalid default value for prop &quot;' </span><span class="s2">+</span>
              <span class="s1">key </span><span class="s2">+</span>
              <span class="s4">'&quot;: ' </span><span class="s2">+</span>
              <span class="s4">'Props with type Object/Array must use a factory function ' </span><span class="s2">+</span>
              <span class="s4">'to return the default value.'</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// the raw prop value was also undefined from previous render,</span>
      <span class="s0">// return previous default value to avoid unnecessary watcher trigger</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vm </span><span class="s2">&amp;&amp;</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">propsData </span><span class="s2">&amp;&amp;</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">propsData</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] === </span><span class="s1">undefined </span><span class="s2">&amp;&amp;</span>
          <span class="s1">vm</span><span class="s2">.</span><span class="s1">_props</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] !== </span><span class="s1">undefined</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_props</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s0">// call factory function for non-Function types</span>
      <span class="s0">// a value is Function if its prototype is function even across different execution context</span>
      <span class="s3">return </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">def</span><span class="s2">) &amp;&amp; </span><span class="s1">getType</span><span class="s2">(</span><span class="s1">prop</span><span class="s2">.</span><span class="s1">type</span><span class="s2">) !== </span><span class="s4">'Function'</span>
          <span class="s2">? </span><span class="s1">def</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">)</span>
          <span class="s2">: </span><span class="s1">def</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Assert whether a prop is valid.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">assertProp</span><span class="s2">(</span><span class="s1">prop</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, </span><span class="s1">absent</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">prop</span><span class="s2">.</span><span class="s1">required </span><span class="s2">&amp;&amp; </span><span class="s1">absent</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Missing required prop: &quot;' </span><span class="s2">+ </span><span class="s1">name </span><span class="s2">+ </span><span class="s4">'&quot;'</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">value </span><span class="s2">== </span><span class="s3">null </span><span class="s2">&amp;&amp; !</span><span class="s1">prop</span><span class="s2">.</span><span class="s1">required</span><span class="s2">) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">type </span><span class="s2">= </span><span class="s1">prop</span><span class="s2">.</span><span class="s1">type</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">valid </span><span class="s2">= !</span><span class="s1">type </span><span class="s2">|| </span><span class="s1">type </span><span class="s2">=== </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">expectedTypes </span><span class="s2">= [];</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">type</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">type</span><span class="s2">)) {</span>
              <span class="s1">type </span><span class="s2">= [</span><span class="s1">type</span><span class="s2">];</span>
          <span class="s2">}</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">type</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&amp;&amp; !</span><span class="s1">valid</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">var </span><span class="s1">assertedType </span><span class="s2">= </span><span class="s1">assertType</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">type</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s1">expectedTypes</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">assertedType</span><span class="s2">.</span><span class="s1">expectedType </span><span class="s2">|| </span><span class="s4">''</span><span class="s2">);</span>
              <span class="s1">valid </span><span class="s2">= </span><span class="s1">assertedType</span><span class="s2">.</span><span class="s1">valid</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">haveExpectedTypes </span><span class="s2">= </span><span class="s1">expectedTypes</span><span class="s2">.</span><span class="s1">some</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">t</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">t</span><span class="s2">; });</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">valid </span><span class="s2">&amp;&amp; </span><span class="s1">haveExpectedTypes</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s1">getInvalidTypeMessage</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">expectedTypes</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">validator </span><span class="s2">= </span><span class="s1">prop</span><span class="s2">.</span><span class="s1">validator</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">validator</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">validator</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Invalid prop: custom validator check failed for prop &quot;' </span><span class="s2">+ </span><span class="s1">name </span><span class="s2">+ </span><span class="s4">'&quot;.'</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">simpleCheckRE </span><span class="s2">= </span><span class="s7">/^(String|Number|Boolean|Function|Symbol|BigInt)$/</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">assertType</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">type</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">valid</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">expectedType </span><span class="s2">= </span><span class="s1">getType</span><span class="s2">(</span><span class="s1">type</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">simpleCheckRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">expectedType</span><span class="s2">)) {</span>
          <span class="s3">var </span><span class="s1">t </span><span class="s2">= </span><span class="s3">typeof </span><span class="s1">value</span><span class="s2">;</span>
          <span class="s1">valid </span><span class="s2">= </span><span class="s1">t </span><span class="s2">=== </span><span class="s1">expectedType</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">();</span>
          <span class="s0">// for primitive wrapper objects</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">valid </span><span class="s2">&amp;&amp; </span><span class="s1">t </span><span class="s2">=== </span><span class="s4">'object'</span><span class="s2">) {</span>
              <span class="s1">valid </span><span class="s2">= </span><span class="s1">value </span><span class="s3">instanceof </span><span class="s1">type</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">expectedType </span><span class="s2">=== </span><span class="s4">'Object'</span><span class="s2">) {</span>
          <span class="s1">valid </span><span class="s2">= </span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">expectedType </span><span class="s2">=== </span><span class="s4">'Array'</span><span class="s2">) {</span>
          <span class="s1">valid </span><span class="s2">= </span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">try </span><span class="s2">{</span>
              <span class="s1">valid </span><span class="s2">= </span><span class="s1">value </span><span class="s3">instanceof </span><span class="s1">type</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Invalid prop type: &quot;' </span><span class="s2">+ </span><span class="s1">String</span><span class="s2">(</span><span class="s1">type</span><span class="s2">) + </span><span class="s4">'&quot; is not a constructor'</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s1">valid </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s2">{</span>
          <span class="s1">valid</span><span class="s2">: </span><span class="s1">valid</span><span class="s2">,</span>
          <span class="s1">expectedType</span><span class="s2">: </span><span class="s1">expectedType</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">functionTypeCheckRE </span><span class="s2">= </span><span class="s7">/^\s*function (\w+)/</span><span class="s2">;</span>
  <span class="s5">/**</span>
   <span class="s5">* Use function string name to check built-in types,</span>
   <span class="s5">* because a simple equality check will fail when running</span>
   <span class="s5">* across different vms / iframes.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">getType</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">match </span><span class="s2">= </span><span class="s1">fn </span><span class="s2">&amp;&amp; </span><span class="s1">fn</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">().</span><span class="s1">match</span><span class="s2">(</span><span class="s1">functionTypeCheckRE</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">match </span><span class="s2">? </span><span class="s1">match</span><span class="s2">[</span><span class="s6">1</span><span class="s2">] : </span><span class="s4">''</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isSameType</span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">getType</span><span class="s2">(</span><span class="s1">a</span><span class="s2">) === </span><span class="s1">getType</span><span class="s2">(</span><span class="s1">b</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">getTypeIndex</span><span class="s2">(</span><span class="s1">type</span><span class="s2">, </span><span class="s1">expectedTypes</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">expectedTypes</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">isSameType</span><span class="s2">(</span><span class="s1">expectedTypes</span><span class="s2">, </span><span class="s1">type</span><span class="s2">) ? </span><span class="s6">0 </span><span class="s2">: -</span><span class="s6">1</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">len </span><span class="s2">= </span><span class="s1">expectedTypes</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">len</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isSameType</span><span class="s2">(</span><span class="s1">expectedTypes</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">type</span><span class="s2">)) {</span>
              <span class="s3">return </span><span class="s1">i</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s2">-</span><span class="s6">1</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">getInvalidTypeMessage</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">expectedTypes</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">message </span><span class="s2">= </span><span class="s4">&quot;Invalid prop: type check failed for prop </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">.&quot;</span><span class="s2">) +</span>
          <span class="s4">&quot; Expected &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">expectedTypes</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s1">capitalize</span><span class="s2">).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">', '</span><span class="s2">));</span>
      <span class="s3">var </span><span class="s1">expectedType </span><span class="s2">= </span><span class="s1">expectedTypes</span><span class="s2">[</span><span class="s6">0</span><span class="s2">];</span>
      <span class="s3">var </span><span class="s1">receivedType </span><span class="s2">= </span><span class="s1">toRawType</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
      <span class="s0">// check if we need to specify expected value</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">expectedTypes</span><span class="s2">.</span><span class="s1">length </span><span class="s2">=== </span><span class="s6">1 </span><span class="s2">&amp;&amp;</span>
          <span class="s1">isExplicable</span><span class="s2">(</span><span class="s1">expectedType</span><span class="s2">) &amp;&amp;</span>
          <span class="s1">isExplicable</span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">value</span><span class="s2">) &amp;&amp;</span>
          <span class="s2">!</span><span class="s1">isBoolean</span><span class="s2">(</span><span class="s1">expectedType</span><span class="s2">, </span><span class="s1">receivedType</span><span class="s2">)) {</span>
          <span class="s1">message </span><span class="s2">+= </span><span class="s4">&quot; with value &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">styleValue</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">expectedType</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s1">message </span><span class="s2">+= </span><span class="s4">&quot;, got &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">receivedType</span><span class="s2">, </span><span class="s4">&quot; &quot;</span><span class="s2">);</span>
      <span class="s0">// check if we need to specify received value</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isExplicable</span><span class="s2">(</span><span class="s1">receivedType</span><span class="s2">)) {</span>
          <span class="s1">message </span><span class="s2">+= </span><span class="s4">&quot;with value &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">styleValue</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">receivedType</span><span class="s2">), </span><span class="s4">&quot;.&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">message</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">styleValue</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">type</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'String'</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'Number'</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">Number</span><span class="s2">(</span><span class="s1">value</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">EXPLICABLE_TYPES </span><span class="s2">= [</span><span class="s4">'string'</span><span class="s2">, </span><span class="s4">'number'</span><span class="s2">, </span><span class="s4">'boolean'</span><span class="s2">];</span>
  <span class="s3">function </span><span class="s1">isExplicable</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">EXPLICABLE_TYPES</span><span class="s2">.</span><span class="s1">some</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">elem</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">value</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">() === </span><span class="s1">elem</span><span class="s2">; });</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isBoolean</span><span class="s2">() {</span>
      <span class="s3">var </span><span class="s1">args </span><span class="s2">= [];</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">_i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">_i </span><span class="s2">&lt; </span><span class="s1">arguments</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">_i</span><span class="s2">++) {</span>
          <span class="s1">args</span><span class="s2">[</span><span class="s1">_i</span><span class="s2">] = </span><span class="s1">arguments</span><span class="s2">[</span><span class="s1">_i</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">args</span><span class="s2">.</span><span class="s1">some</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">elem</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">elem</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">() === </span><span class="s4">'boolean'</span><span class="s2">; });</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">Vue</span><span class="s2">(</span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!(</span><span class="s3">this instanceof </span><span class="s1">Vue</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Vue is a constructor and should be called with the `new` keyword'</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">this</span><span class="s2">.</span><span class="s1">_init</span><span class="s2">(</span><span class="s1">options</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s0">//@ts-expect-error Vue has function type</span>
  <span class="s1">initMixin$1</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">);</span>
  <span class="s0">//@ts-expect-error Vue has function type</span>
  <span class="s1">stateMixin</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">);</span>
  <span class="s0">//@ts-expect-error Vue has function type</span>
  <span class="s1">eventsMixin</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">);</span>
  <span class="s0">//@ts-expect-error Vue has function type</span>
  <span class="s1">lifecycleMixin</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">);</span>
  <span class="s0">//@ts-expect-error Vue has function type</span>
  <span class="s1">renderMixin</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">);</span>

  <span class="s3">function </span><span class="s1">initUse</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">) {</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">use </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">plugin</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">installedPlugins </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">_installedPlugins </span><span class="s2">|| (</span><span class="s3">this</span><span class="s2">.</span><span class="s1">_installedPlugins </span><span class="s2">= []);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">installedPlugins</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">plugin</span><span class="s2">) &gt; -</span><span class="s6">1</span><span class="s2">) {</span>
              <span class="s3">return this</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// additional parameters</span>
          <span class="s3">var </span><span class="s1">args </span><span class="s2">= </span><span class="s1">toArray</span><span class="s2">(</span><span class="s1">arguments</span><span class="s2">, </span><span class="s6">1</span><span class="s2">);</span>
          <span class="s1">args</span><span class="s2">.</span><span class="s1">unshift</span><span class="s2">(</span><span class="s3">this</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">plugin</span><span class="s2">.</span><span class="s1">install</span><span class="s2">)) {</span>
              <span class="s1">plugin</span><span class="s2">.</span><span class="s1">install</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s1">plugin</span><span class="s2">, </span><span class="s1">args</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">plugin</span><span class="s2">)) {</span>
              <span class="s1">plugin</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s3">null</span><span class="s2">, </span><span class="s1">args</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">installedPlugins</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">plugin</span><span class="s2">);</span>
          <span class="s3">return this</span><span class="s2">;</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">initMixin</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">) {</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">mixin </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">mixin</span><span class="s2">) {</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">options </span><span class="s2">= </span><span class="s1">mergeOptions</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">options</span><span class="s2">, </span><span class="s1">mixin</span><span class="s2">);</span>
          <span class="s3">return this</span><span class="s2">;</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">initExtend</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">) {</span>
      <span class="s5">/**</span>
       <span class="s5">* Each instance constructor, including Vue, has a unique</span>
       <span class="s5">* cid. This enables us to create wrapped &quot;child</span>
       <span class="s5">* constructors&quot; for prototypal inheritance and cache them.</span>
       <span class="s5">*/</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">cid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">cid </span><span class="s2">= </span><span class="s6">1</span><span class="s2">;</span>
      <span class="s5">/**</span>
       <span class="s5">* Class inheritance</span>
       <span class="s5">*/</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">extend </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">extendOptions</span><span class="s2">) {</span>
          <span class="s1">extendOptions </span><span class="s2">= </span><span class="s1">extendOptions </span><span class="s2">|| {};</span>
          <span class="s3">var </span><span class="s1">Super </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">SuperId </span><span class="s2">= </span><span class="s1">Super</span><span class="s2">.</span><span class="s1">cid</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">cachedCtors </span><span class="s2">= </span><span class="s1">extendOptions</span><span class="s2">.</span><span class="s1">_Ctor </span><span class="s2">|| (</span><span class="s1">extendOptions</span><span class="s2">.</span><span class="s1">_Ctor </span><span class="s2">= {});</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cachedCtors</span><span class="s2">[</span><span class="s1">SuperId</span><span class="s2">]) {</span>
              <span class="s3">return </span><span class="s1">cachedCtors</span><span class="s2">[</span><span class="s1">SuperId</span><span class="s2">];</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">name </span><span class="s2">= </span><span class="s1">getComponentName</span><span class="s2">(</span><span class="s1">extendOptions</span><span class="s2">) || </span><span class="s1">getComponentName</span><span class="s2">(</span><span class="s1">Super</span><span class="s2">.</span><span class="s1">options</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">name</span><span class="s2">) {</span>
              <span class="s1">validateComponentName</span><span class="s2">(</span><span class="s1">name</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">Sub </span><span class="s2">= </span><span class="s3">function </span><span class="s1">VueComponent</span><span class="s2">(</span><span class="s1">options</span><span class="s2">) {</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">_init</span><span class="s2">(</span><span class="s1">options</span><span class="s2">);</span>
          <span class="s2">};</span>
          <span class="s1">Sub</span><span class="s2">.</span><span class="s1">prototype </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">Super</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">);</span>
          <span class="s1">Sub</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">constructor </span><span class="s2">= </span><span class="s1">Sub</span><span class="s2">;</span>
          <span class="s1">Sub</span><span class="s2">.</span><span class="s1">cid </span><span class="s2">= </span><span class="s1">cid</span><span class="s2">++;</span>
          <span class="s1">Sub</span><span class="s2">.</span><span class="s1">options </span><span class="s2">= </span><span class="s1">mergeOptions</span><span class="s2">(</span><span class="s1">Super</span><span class="s2">.</span><span class="s1">options</span><span class="s2">, </span><span class="s1">extendOptions</span><span class="s2">);</span>
          <span class="s1">Sub</span><span class="s2">[</span><span class="s4">'super'</span><span class="s2">] = </span><span class="s1">Super</span><span class="s2">;</span>
          <span class="s0">// For props and computed properties, we define the proxy getters on</span>
          <span class="s0">// the Vue instances at extension time, on the extended prototype. This</span>
          <span class="s0">// avoids Object.defineProperty calls for each instance created.</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">Sub</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">props</span><span class="s2">) {</span>
              <span class="s1">initProps</span><span class="s2">(</span><span class="s1">Sub</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">Sub</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">computed</span><span class="s2">) {</span>
              <span class="s1">initComputed</span><span class="s2">(</span><span class="s1">Sub</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s0">// allow further extension/mixin/plugin usage</span>
          <span class="s1">Sub</span><span class="s2">.</span><span class="s1">extend </span><span class="s2">= </span><span class="s1">Super</span><span class="s2">.</span><span class="s1">extend</span><span class="s2">;</span>
          <span class="s1">Sub</span><span class="s2">.</span><span class="s1">mixin </span><span class="s2">= </span><span class="s1">Super</span><span class="s2">.</span><span class="s1">mixin</span><span class="s2">;</span>
          <span class="s1">Sub</span><span class="s2">.</span><span class="s1">use </span><span class="s2">= </span><span class="s1">Super</span><span class="s2">.</span><span class="s1">use</span><span class="s2">;</span>
          <span class="s0">// create asset registers, so extended classes</span>
          <span class="s0">// can have their private assets too.</span>
          <span class="s1">ASSET_TYPES</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">type</span><span class="s2">) {</span>
              <span class="s1">Sub</span><span class="s2">[</span><span class="s1">type</span><span class="s2">] = </span><span class="s1">Super</span><span class="s2">[</span><span class="s1">type</span><span class="s2">];</span>
          <span class="s2">});</span>
          <span class="s0">// enable recursive self-lookup</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">name</span><span class="s2">) {</span>
              <span class="s1">Sub</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">components</span><span class="s2">[</span><span class="s1">name</span><span class="s2">] = </span><span class="s1">Sub</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// keep a reference to the super options at extension time.</span>
          <span class="s0">// later at instantiation we can check if Super's options have</span>
          <span class="s0">// been updated.</span>
          <span class="s1">Sub</span><span class="s2">.</span><span class="s1">superOptions </span><span class="s2">= </span><span class="s1">Super</span><span class="s2">.</span><span class="s1">options</span><span class="s2">;</span>
          <span class="s1">Sub</span><span class="s2">.</span><span class="s1">extendOptions </span><span class="s2">= </span><span class="s1">extendOptions</span><span class="s2">;</span>
          <span class="s1">Sub</span><span class="s2">.</span><span class="s1">sealedOptions </span><span class="s2">= </span><span class="s1">extend</span><span class="s2">({}, </span><span class="s1">Sub</span><span class="s2">.</span><span class="s1">options</span><span class="s2">);</span>
          <span class="s0">// cache constructor</span>
          <span class="s1">cachedCtors</span><span class="s2">[</span><span class="s1">SuperId</span><span class="s2">] = </span><span class="s1">Sub</span><span class="s2">;</span>
          <span class="s3">return </span><span class="s1">Sub</span><span class="s2">;</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">initProps</span><span class="s2">(</span><span class="s1">Comp</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">props </span><span class="s2">= </span><span class="s1">Comp</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">props</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">props</span><span class="s2">) {</span>
          <span class="s1">proxy</span><span class="s2">(</span><span class="s1">Comp</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">, </span><span class="s4">&quot;_props&quot;</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">initComputed</span><span class="s2">(</span><span class="s1">Comp</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">computed </span><span class="s2">= </span><span class="s1">Comp</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">computed</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">computed</span><span class="s2">) {</span>
          <span class="s1">defineComputed</span><span class="s2">(</span><span class="s1">Comp</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">computed</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">initAssetRegisters</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">) {</span>
      <span class="s5">/**</span>
       <span class="s5">* Create asset registration methods.</span>
       <span class="s5">*/</span>
      <span class="s1">ASSET_TYPES</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">type</span><span class="s2">) {</span>
          <span class="s0">// @ts-expect-error function is not exact same type</span>
          <span class="s1">Vue</span><span class="s2">[</span><span class="s1">type</span><span class="s2">] = </span><span class="s3">function </span><span class="s2">(</span><span class="s1">id</span><span class="s2">, </span><span class="s1">definition</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">definition</span><span class="s2">) {</span>
                  <span class="s3">return this</span><span class="s2">.</span><span class="s1">options</span><span class="s2">[</span><span class="s1">type </span><span class="s2">+ </span><span class="s4">'s'</span><span class="s2">][</span><span class="s1">id</span><span class="s2">];</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s0">/* istanbul ignore if */</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'component'</span><span class="s2">) {</span>
                      <span class="s1">validateComponentName</span><span class="s2">(</span><span class="s1">id</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'component' </span><span class="s2">&amp;&amp; </span><span class="s1">isPlainObject</span><span class="s2">(</span><span class="s1">definition</span><span class="s2">)) {</span>
                      <span class="s0">// @ts-expect-error</span>
                      <span class="s1">definition</span><span class="s2">.</span><span class="s1">name </span><span class="s2">= </span><span class="s1">definition</span><span class="s2">.</span><span class="s1">name </span><span class="s2">|| </span><span class="s1">id</span><span class="s2">;</span>
                      <span class="s1">definition </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">_base</span><span class="s2">.</span><span class="s1">extend</span><span class="s2">(</span><span class="s1">definition</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'directive' </span><span class="s2">&amp;&amp; </span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">definition</span><span class="s2">)) {</span>
                      <span class="s1">definition </span><span class="s2">= { </span><span class="s1">bind</span><span class="s2">: </span><span class="s1">definition</span><span class="s2">, </span><span class="s1">update</span><span class="s2">: </span><span class="s1">definition </span><span class="s2">};</span>
                  <span class="s2">}</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">options</span><span class="s2">[</span><span class="s1">type </span><span class="s2">+ </span><span class="s4">'s'</span><span class="s2">][</span><span class="s1">id</span><span class="s2">] = </span><span class="s1">definition</span><span class="s2">;</span>
                  <span class="s3">return </span><span class="s1">definition</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">};</span>
      <span class="s2">});</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">_getComponentName</span><span class="s2">(</span><span class="s1">opts</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">opts </span><span class="s2">&amp;&amp; (</span><span class="s1">getComponentName</span><span class="s2">(</span><span class="s1">opts</span><span class="s2">.</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">) || </span><span class="s1">opts</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">matches</span><span class="s2">(</span><span class="s1">pattern</span><span class="s2">, </span><span class="s1">name</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">pattern</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">pattern</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">name</span><span class="s2">) &gt; -</span><span class="s6">1</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">pattern </span><span class="s2">=== </span><span class="s4">'string'</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">pattern</span><span class="s2">.</span><span class="s1">split</span><span class="s2">(</span><span class="s4">','</span><span class="s2">).</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">name</span><span class="s2">) &gt; -</span><span class="s6">1</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isRegExp</span><span class="s2">(</span><span class="s1">pattern</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">pattern</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">name</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">/* istanbul ignore next */</span>
      <span class="s3">return false</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">pruneCache</span><span class="s2">(</span><span class="s1">keepAliveInstance</span><span class="s2">, </span><span class="s1">filter</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">cache </span><span class="s2">= </span><span class="s1">keepAliveInstance</span><span class="s2">.</span><span class="s1">cache</span><span class="s2">, </span><span class="s1">keys </span><span class="s2">= </span><span class="s1">keepAliveInstance</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">, </span><span class="s1">_vnode </span><span class="s2">= </span><span class="s1">keepAliveInstance</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">cache</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">entry </span><span class="s2">= </span><span class="s1">cache</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">entry</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">name_1 </span><span class="s2">= </span><span class="s1">entry</span><span class="s2">.</span><span class="s1">name</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">name_1 </span><span class="s2">&amp;&amp; !</span><span class="s1">filter</span><span class="s2">(</span><span class="s1">name_1</span><span class="s2">)) {</span>
                  <span class="s1">pruneCacheEntry</span><span class="s2">(</span><span class="s1">cache</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">keys</span><span class="s2">, </span><span class="s1">_vnode</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">pruneCacheEntry</span><span class="s2">(</span><span class="s1">cache</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">keys</span><span class="s2">, </span><span class="s1">current</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">entry </span><span class="s2">= </span><span class="s1">cache</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">entry </span><span class="s2">&amp;&amp; (!</span><span class="s1">current </span><span class="s2">|| </span><span class="s1">entry</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">!== </span><span class="s1">current</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">)) {</span>
          <span class="s0">// @ts-expect-error can be undefined</span>
          <span class="s1">entry</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">$destroy</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s1">cache</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s3">null</span><span class="s2">;</span>
      <span class="s1">remove$2</span><span class="s2">(</span><span class="s1">keys</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">patternTypes </span><span class="s2">= [</span><span class="s1">String</span><span class="s2">, </span><span class="s1">RegExp</span><span class="s2">, </span><span class="s1">Array</span><span class="s2">];</span>
  <span class="s0">// TODO defineComponent</span>
  <span class="s3">var </span><span class="s1">KeepAlive </span><span class="s2">= {</span>
      <span class="s1">name</span><span class="s2">: </span><span class="s4">'keep-alive'</span><span class="s2">,</span>
      <span class="s1">abstract</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
      <span class="s1">props</span><span class="s2">: {</span>
          <span class="s1">include</span><span class="s2">: </span><span class="s1">patternTypes</span><span class="s2">,</span>
          <span class="s1">exclude</span><span class="s2">: </span><span class="s1">patternTypes</span><span class="s2">,</span>
          <span class="s1">max</span><span class="s2">: [</span><span class="s1">String</span><span class="s2">, </span><span class="s1">Number</span><span class="s2">]</span>
      <span class="s2">},</span>
      <span class="s1">methods</span><span class="s2">: {</span>
          <span class="s1">cacheVNode</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">var </span><span class="s1">_a </span><span class="s2">= </span><span class="s3">this</span><span class="s2">, </span><span class="s1">cache </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">cache</span><span class="s2">, </span><span class="s1">keys </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">, </span><span class="s1">vnodeToCache </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">vnodeToCache</span><span class="s2">, </span><span class="s1">keyToCache </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">keyToCache</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">vnodeToCache</span><span class="s2">) {</span>
                  <span class="s3">var </span><span class="s1">tag </span><span class="s2">= </span><span class="s1">vnodeToCache</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">componentInstance </span><span class="s2">= </span><span class="s1">vnodeToCache</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">, </span><span class="s1">componentOptions </span><span class="s2">= </span><span class="s1">vnodeToCache</span><span class="s2">.</span><span class="s1">componentOptions</span><span class="s2">;</span>
                  <span class="s1">cache</span><span class="s2">[</span><span class="s1">keyToCache</span><span class="s2">] = {</span>
                      <span class="s1">name</span><span class="s2">: </span><span class="s1">_getComponentName</span><span class="s2">(</span><span class="s1">componentOptions</span><span class="s2">),</span>
                      <span class="s1">tag</span><span class="s2">: </span><span class="s1">tag</span><span class="s2">,</span>
                      <span class="s1">componentInstance</span><span class="s2">: </span><span class="s1">componentInstance</span>
                  <span class="s2">};</span>
                  <span class="s1">keys</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">keyToCache</span><span class="s2">);</span>
                  <span class="s0">// prune oldest entry</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">max </span><span class="s2">&amp;&amp; </span><span class="s1">keys</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&gt; </span><span class="s1">parseInt</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">max</span><span class="s2">)) {</span>
                      <span class="s1">pruneCacheEntry</span><span class="s2">(</span><span class="s1">cache</span><span class="s2">, </span><span class="s1">keys</span><span class="s2">[</span><span class="s6">0</span><span class="s2">], </span><span class="s1">keys</span><span class="s2">, </span><span class="s3">this</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">vnodeToCache </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">},</span>
      <span class="s1">created</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">cache </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">keys </span><span class="s2">= [];</span>
      <span class="s2">},</span>
      <span class="s1">destroyed</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in this</span><span class="s2">.</span><span class="s1">cache</span><span class="s2">) {</span>
              <span class="s1">pruneCacheEntry</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">cache</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s3">this</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">},</span>
      <span class="s1">mounted</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">_this </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">cacheVNode</span><span class="s2">();</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">$watch</span><span class="s2">(</span><span class="s4">'include'</span><span class="s2">, </span><span class="s3">function </span><span class="s2">(</span><span class="s1">val</span><span class="s2">) {</span>
              <span class="s1">pruneCache</span><span class="s2">(</span><span class="s1">_this</span><span class="s2">, </span><span class="s3">function </span><span class="s2">(</span><span class="s1">name</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">matches</span><span class="s2">(</span><span class="s1">val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">); });</span>
          <span class="s2">});</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">$watch</span><span class="s2">(</span><span class="s4">'exclude'</span><span class="s2">, </span><span class="s3">function </span><span class="s2">(</span><span class="s1">val</span><span class="s2">) {</span>
              <span class="s1">pruneCache</span><span class="s2">(</span><span class="s1">_this</span><span class="s2">, </span><span class="s3">function </span><span class="s2">(</span><span class="s1">name</span><span class="s2">) { </span><span class="s3">return </span><span class="s2">!</span><span class="s1">matches</span><span class="s2">(</span><span class="s1">val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">); });</span>
          <span class="s2">});</span>
      <span class="s2">},</span>
      <span class="s1">updated</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">cacheVNode</span><span class="s2">();</span>
      <span class="s2">},</span>
      <span class="s1">render</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">slot </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">$slots</span><span class="s2">.</span><span class="s1">default</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">vnode </span><span class="s2">= </span><span class="s1">getFirstComponentChild</span><span class="s2">(</span><span class="s1">slot</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">componentOptions </span><span class="s2">= </span><span class="s1">vnode </span><span class="s2">&amp;&amp; </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentOptions</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">componentOptions</span><span class="s2">) {</span>
              <span class="s0">// check pattern</span>
              <span class="s3">var </span><span class="s1">name_2 </span><span class="s2">= </span><span class="s1">_getComponentName</span><span class="s2">(</span><span class="s1">componentOptions</span><span class="s2">);</span>
              <span class="s3">var </span><span class="s1">_a </span><span class="s2">= </span><span class="s3">this</span><span class="s2">, </span><span class="s1">include </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">include</span><span class="s2">, </span><span class="s1">exclude </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">exclude</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span>
              <span class="s0">// not included</span>
              <span class="s2">(</span><span class="s1">include </span><span class="s2">&amp;&amp; (!</span><span class="s1">name_2 </span><span class="s2">|| !</span><span class="s1">matches</span><span class="s2">(</span><span class="s1">include</span><span class="s2">, </span><span class="s1">name_2</span><span class="s2">))) ||</span>
                  <span class="s0">// excluded</span>
                  <span class="s2">(</span><span class="s1">exclude </span><span class="s2">&amp;&amp; </span><span class="s1">name_2 </span><span class="s2">&amp;&amp; </span><span class="s1">matches</span><span class="s2">(</span><span class="s1">exclude</span><span class="s2">, </span><span class="s1">name_2</span><span class="s2">))) {</span>
                  <span class="s3">return </span><span class="s1">vnode</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">var </span><span class="s1">_b </span><span class="s2">= </span><span class="s3">this</span><span class="s2">, </span><span class="s1">cache </span><span class="s2">= </span><span class="s1">_b</span><span class="s2">.</span><span class="s1">cache</span><span class="s2">, </span><span class="s1">keys </span><span class="s2">= </span><span class="s1">_b</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">key </span><span class="s2">== </span><span class="s3">null</span>
                  <span class="s2">? </span><span class="s0">// same constructor may get registered as different local components</span>
                      <span class="s0">// so cid alone is not enough (#3269)</span>
                      <span class="s1">componentOptions</span><span class="s2">.</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">cid </span><span class="s2">+</span>
                          <span class="s2">(</span><span class="s1">componentOptions</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">? </span><span class="s4">&quot;::&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">componentOptions</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">) : </span><span class="s4">''</span><span class="s2">)</span>
                  <span class="s2">: </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">key</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">cache</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]) {</span>
                  <span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance </span><span class="s2">= </span><span class="s1">cache</span><span class="s2">[</span><span class="s1">key</span><span class="s2">].</span><span class="s1">componentInstance</span><span class="s2">;</span>
                  <span class="s0">// make current key freshest</span>
                  <span class="s1">remove$2</span><span class="s2">(</span><span class="s1">keys</span><span class="s2">, </span><span class="s1">key</span><span class="s2">);</span>
                  <span class="s1">keys</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s0">// delay setting the cache until update</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">vnodeToCache </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">;</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">keyToCache </span><span class="s2">= </span><span class="s1">key</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s0">// @ts-expect-error can vnode.data can be undefined</span>
              <span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">keepAlive </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">vnode </span><span class="s2">|| (</span><span class="s1">slot </span><span class="s2">&amp;&amp; </span><span class="s1">slot</span><span class="s2">[</span><span class="s6">0</span><span class="s2">]);</span>
      <span class="s2">}</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">builtInComponents </span><span class="s2">= {</span>
      <span class="s1">KeepAlive</span><span class="s2">: </span><span class="s1">KeepAlive</span>
  <span class="s2">};</span>

  <span class="s3">function </span><span class="s1">initGlobalAPI</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">) {</span>
      <span class="s0">// config</span>
      <span class="s3">var </span><span class="s1">configDef </span><span class="s2">= {};</span>
      <span class="s1">configDef</span><span class="s2">.</span><span class="s1">get </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() { </span><span class="s3">return </span><span class="s1">config</span><span class="s2">; };</span>
      <span class="s2">{</span>
          <span class="s1">configDef</span><span class="s2">.</span><span class="s1">set </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Do not replace the Vue.config object, set individual fields instead.'</span><span class="s2">);</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
      <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">, </span><span class="s4">'config'</span><span class="s2">, </span><span class="s1">configDef</span><span class="s2">);</span>
      <span class="s0">// exposed util methods.</span>
      <span class="s0">// NOTE: these are not considered part of the public API - avoid relying on</span>
      <span class="s0">// them unless you are aware of the risk.</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">util </span><span class="s2">= {</span>
          <span class="s1">warn</span><span class="s2">: </span><span class="s1">warn$2</span><span class="s2">,</span>
          <span class="s1">extend</span><span class="s2">: </span><span class="s1">extend</span><span class="s2">,</span>
          <span class="s1">mergeOptions</span><span class="s2">: </span><span class="s1">mergeOptions</span><span class="s2">,</span>
          <span class="s1">defineReactive</span><span class="s2">: </span><span class="s1">defineReactive</span>
      <span class="s2">};</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">set </span><span class="s2">= </span><span class="s1">set</span><span class="s2">;</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">delete </span><span class="s2">= </span><span class="s1">del</span><span class="s2">;</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">nextTick </span><span class="s2">= </span><span class="s1">nextTick</span><span class="s2">;</span>
      <span class="s0">// 2.6 explicit observable API</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">observable </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">obj</span><span class="s2">) {</span>
          <span class="s1">observe</span><span class="s2">(</span><span class="s1">obj</span><span class="s2">);</span>
          <span class="s3">return </span><span class="s1">obj</span><span class="s2">;</span>
      <span class="s2">};</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">options </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
      <span class="s1">ASSET_TYPES</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">type</span><span class="s2">) {</span>
          <span class="s1">Vue</span><span class="s2">.</span><span class="s1">options</span><span class="s2">[</span><span class="s1">type </span><span class="s2">+ </span><span class="s4">'s'</span><span class="s2">] = </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
      <span class="s2">});</span>
      <span class="s0">// this is used to identify the &quot;base&quot; constructor to extend all plain-object</span>
      <span class="s0">// components with in Weex's multi-instance scenarios.</span>
      <span class="s1">Vue</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">_base </span><span class="s2">= </span><span class="s1">Vue</span><span class="s2">;</span>
      <span class="s1">extend</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">components</span><span class="s2">, </span><span class="s1">builtInComponents</span><span class="s2">);</span>
      <span class="s1">initUse</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">);</span>
      <span class="s1">initMixin</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">);</span>
      <span class="s1">initExtend</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">);</span>
      <span class="s1">initAssetRegisters</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s1">initGlobalAPI</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">);</span>
  <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">, </span><span class="s4">'$isServer'</span><span class="s2">, {</span>
      <span class="s1">get</span><span class="s2">: </span><span class="s1">isServerRendering</span>
  <span class="s2">});</span>
  <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">, </span><span class="s4">'$ssrContext'</span><span class="s2">, {</span>
      <span class="s1">get</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s0">/* istanbul ignore next */</span>
          <span class="s3">return this</span><span class="s2">.</span><span class="s1">$vnode </span><span class="s2">&amp;&amp; </span><span class="s3">this</span><span class="s2">.</span><span class="s1">$vnode</span><span class="s2">.</span><span class="s1">ssrContext</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">});</span>
  <span class="s0">// expose FunctionalRenderContext for ssr runtime helper installation</span>
  <span class="s1">Object</span><span class="s2">.</span><span class="s1">defineProperty</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">, </span><span class="s4">'FunctionalRenderContext'</span><span class="s2">, {</span>
      <span class="s1">value</span><span class="s2">: </span><span class="s1">FunctionalRenderContext</span>
  <span class="s2">});</span>
  <span class="s1">Vue</span><span class="s2">.</span><span class="s1">version </span><span class="s2">= </span><span class="s1">version</span><span class="s2">;</span>

  <span class="s0">// these are reserved for web because they are directly compiled away</span>
  <span class="s0">// during template compilation</span>
  <span class="s3">var </span><span class="s1">isReservedAttr </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'style,class'</span><span class="s2">);</span>
  <span class="s0">// attributes that should be using props for binding</span>
  <span class="s3">var </span><span class="s1">acceptValue </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'input,textarea,option,select,progress'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">mustUseProp </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">type</span><span class="s2">, </span><span class="s1">attr</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">((</span><span class="s1">attr </span><span class="s2">=== </span><span class="s4">'value' </span><span class="s2">&amp;&amp; </span><span class="s1">acceptValue</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">) &amp;&amp; </span><span class="s1">type </span><span class="s2">!== </span><span class="s4">'button'</span><span class="s2">) ||</span>
          <span class="s2">(</span><span class="s1">attr </span><span class="s2">=== </span><span class="s4">'selected' </span><span class="s2">&amp;&amp; </span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'option'</span><span class="s2">) ||</span>
          <span class="s2">(</span><span class="s1">attr </span><span class="s2">=== </span><span class="s4">'checked' </span><span class="s2">&amp;&amp; </span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'input'</span><span class="s2">) ||</span>
          <span class="s2">(</span><span class="s1">attr </span><span class="s2">=== </span><span class="s4">'muted' </span><span class="s2">&amp;&amp; </span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'video'</span><span class="s2">));</span>
  <span class="s2">};</span>
  <span class="s3">var </span><span class="s1">isEnumeratedAttr </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'contenteditable,draggable,spellcheck'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">isValidContentEditableValue </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'events,caret,typing,plaintext-only'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">convertEnumeratedValue </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">isFalsyAttrValue</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) || </span><span class="s1">value </span><span class="s2">=== </span><span class="s4">'false'</span>
          <span class="s2">? </span><span class="s4">'false'</span>
          <span class="s2">: </span><span class="s0">// allow arbitrary string value for contenteditable</span>
              <span class="s1">key </span><span class="s2">=== </span><span class="s4">'contenteditable' </span><span class="s2">&amp;&amp; </span><span class="s1">isValidContentEditableValue</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)</span>
                  <span class="s2">? </span><span class="s1">value</span>
                  <span class="s2">: </span><span class="s4">'true'</span><span class="s2">;</span>
  <span class="s2">};</span>
  <span class="s3">var </span><span class="s1">isBooleanAttr </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,' </span><span class="s2">+</span>
      <span class="s4">'default,defaultchecked,defaultmuted,defaultselected,defer,disabled,' </span><span class="s2">+</span>
      <span class="s4">'enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,' </span><span class="s2">+</span>
      <span class="s4">'muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,' </span><span class="s2">+</span>
      <span class="s4">'required,reversed,scoped,seamless,selected,sortable,' </span><span class="s2">+</span>
      <span class="s4">'truespeed,typemustmatch,visible'</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">xlinkNS </span><span class="s2">= </span><span class="s4">'http://www.w3.org/1999/xlink'</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">isXlink </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">name</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">name</span><span class="s2">.</span><span class="s1">charAt</span><span class="s2">(</span><span class="s6">5</span><span class="s2">) === </span><span class="s4">':' </span><span class="s2">&amp;&amp; </span><span class="s1">name</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, </span><span class="s6">5</span><span class="s2">) === </span><span class="s4">'xlink'</span><span class="s2">;</span>
  <span class="s2">};</span>
  <span class="s3">var </span><span class="s1">getXlinkProp </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">name</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">isXlink</span><span class="s2">(</span><span class="s1">name</span><span class="s2">) ? </span><span class="s1">name</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">6</span><span class="s2">, </span><span class="s1">name</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) : </span><span class="s4">''</span><span class="s2">;</span>
  <span class="s2">};</span>
  <span class="s3">var </span><span class="s1">isFalsyAttrValue </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">val </span><span class="s2">== </span><span class="s3">null </span><span class="s2">|| </span><span class="s1">val </span><span class="s2">=== </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s2">};</span>

  <span class="s3">function </span><span class="s1">genClassForVnode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">parentNode </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">childNode </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">;</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">childNode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">)) {</span>
          <span class="s1">childNode </span><span class="s2">= </span><span class="s1">childNode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">childNode </span><span class="s2">&amp;&amp; </span><span class="s1">childNode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">) {</span>
              <span class="s1">data </span><span class="s2">= </span><span class="s1">mergeClassData</span><span class="s2">(</span><span class="s1">childNode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">, </span><span class="s1">data</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// @ts-expect-error parentNode.parent not VNodeWithData</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">parentNode </span><span class="s2">= </span><span class="s1">parentNode</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">))) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">parentNode </span><span class="s2">&amp;&amp; </span><span class="s1">parentNode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">) {</span>
              <span class="s1">data </span><span class="s2">= </span><span class="s1">mergeClassData</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">parentNode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">renderClass</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">staticClass</span><span class="s2">, </span><span class="s1">data</span><span class="s2">.</span><span class="s1">class</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">mergeClassData</span><span class="s2">(</span><span class="s1">child</span><span class="s2">, </span><span class="s1">parent</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">{</span>
          <span class="s1">staticClass</span><span class="s2">: </span><span class="s1">concat</span><span class="s2">(</span><span class="s1">child</span><span class="s2">.</span><span class="s1">staticClass</span><span class="s2">, </span><span class="s1">parent</span><span class="s2">.</span><span class="s1">staticClass</span><span class="s2">),</span>
          <span class="s3">class</span><span class="s2">: </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">child</span><span class="s2">.</span><span class="s1">class</span><span class="s2">) ? [</span><span class="s1">child</span><span class="s2">.</span><span class="s1">class</span><span class="s2">, </span><span class="s1">parent</span><span class="s2">.</span><span class="s1">class</span><span class="s2">] : </span><span class="s1">parent</span><span class="s2">.</span><span class="s1">class</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">renderClass</span><span class="s2">(</span><span class="s1">staticClass</span><span class="s2">, </span><span class="s1">dynamicClass</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">staticClass</span><span class="s2">) || </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">dynamicClass</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">concat</span><span class="s2">(</span><span class="s1">staticClass</span><span class="s2">, </span><span class="s1">stringifyClass</span><span class="s2">(</span><span class="s1">dynamicClass</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s0">/* istanbul ignore next */</span>
      <span class="s3">return </span><span class="s4">''</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">concat</span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">a </span><span class="s2">? (</span><span class="s1">b </span><span class="s2">? </span><span class="s1">a </span><span class="s2">+ </span><span class="s4">' ' </span><span class="s2">+ </span><span class="s1">b </span><span class="s2">: </span><span class="s1">a</span><span class="s2">) : </span><span class="s1">b </span><span class="s2">|| </span><span class="s4">''</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">stringifyClass</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">Array</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">stringifyArray</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">stringifyObject</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">value </span><span class="s2">=== </span><span class="s4">'string'</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">value</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">/* istanbul ignore next */</span>
      <span class="s3">return </span><span class="s4">''</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">stringifyArray</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s4">''</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">stringified</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">value</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">stringified </span><span class="s2">= </span><span class="s1">stringifyClass</span><span class="s2">(</span><span class="s1">value</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]))) &amp;&amp; </span><span class="s1">stringified </span><span class="s2">!== </span><span class="s4">''</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">res</span><span class="s2">)</span>
                  <span class="s1">res </span><span class="s2">+= </span><span class="s4">' '</span><span class="s2">;</span>
              <span class="s1">res </span><span class="s2">+= </span><span class="s1">stringified</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">stringifyObject</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s4">''</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">value</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">value</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">res</span><span class="s2">)</span>
                  <span class="s1">res </span><span class="s2">+= </span><span class="s4">' '</span><span class="s2">;</span>
              <span class="s1">res </span><span class="s2">+= </span><span class="s1">key</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">namespaceMap </span><span class="s2">= {</span>
      <span class="s1">svg</span><span class="s2">: </span><span class="s4">'http://www.w3.org/2000/svg'</span><span class="s2">,</span>
      <span class="s1">math</span><span class="s2">: </span><span class="s4">'http://www.w3.org/1998/Math/MathML'</span>
  <span class="s2">};</span>
  <span class="s3">var </span><span class="s1">isHTMLTag </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'html,body,base,head,link,meta,style,title,' </span><span class="s2">+</span>
      <span class="s4">'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' </span><span class="s2">+</span>
      <span class="s4">'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' </span><span class="s2">+</span>
      <span class="s4">'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' </span><span class="s2">+</span>
      <span class="s4">'s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' </span><span class="s2">+</span>
      <span class="s4">'embed,object,param,source,canvas,script,noscript,del,ins,' </span><span class="s2">+</span>
      <span class="s4">'caption,col,colgroup,table,thead,tbody,td,th,tr,' </span><span class="s2">+</span>
      <span class="s4">'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' </span><span class="s2">+</span>
      <span class="s4">'output,progress,select,textarea,' </span><span class="s2">+</span>
      <span class="s4">'details,dialog,menu,menuitem,summary,' </span><span class="s2">+</span>
      <span class="s4">'content,element,shadow,template,blockquote,iframe,tfoot'</span><span class="s2">);</span>
  <span class="s0">// this map is intentionally selective, only covering SVG elements that may</span>
  <span class="s0">// contain child elements.</span>
  <span class="s3">var </span><span class="s1">isSVG </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' </span><span class="s2">+</span>
      <span class="s4">'foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' </span><span class="s2">+</span>
      <span class="s4">'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view'</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">isPreTag </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">tag</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'pre'</span><span class="s2">; };</span>
  <span class="s3">var </span><span class="s1">isReservedTag </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">tag</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">isHTMLTag</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">) || </span><span class="s1">isSVG</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">);</span>
  <span class="s2">};</span>
  <span class="s3">function </span><span class="s1">getTagNamespace</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isSVG</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s4">'svg'</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// basic support for MathML</span>
      <span class="s0">// note it doesn't support other MathML elements being component roots</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'math'</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s4">'math'</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">unknownElementCache </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
  <span class="s3">function </span><span class="s1">isUnknownElement</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">) {</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">inBrowser</span><span class="s2">) {</span>
          <span class="s3">return true</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isReservedTag</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">)) {</span>
          <span class="s3">return false</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s1">tag </span><span class="s2">= </span><span class="s1">tag</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">();</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">unknownElementCache</span><span class="s2">[</span><span class="s1">tag</span><span class="s2">] != </span><span class="s3">null</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">unknownElementCache</span><span class="s2">[</span><span class="s1">tag</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">el </span><span class="s2">= </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createElement</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">tag</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'-'</span><span class="s2">) &gt; -</span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s0">// http://stackoverflow.com/a/28210364/1070244</span>
          <span class="s3">return </span><span class="s2">(</span><span class="s1">unknownElementCache</span><span class="s2">[</span><span class="s1">tag</span><span class="s2">] =</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">constructor </span><span class="s2">=== </span><span class="s1">window</span><span class="s2">.</span><span class="s1">HTMLUnknownElement </span><span class="s2">||</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">constructor </span><span class="s2">=== </span><span class="s1">window</span><span class="s2">.</span><span class="s1">HTMLElement</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s2">(</span><span class="s1">unknownElementCache</span><span class="s2">[</span><span class="s1">tag</span><span class="s2">] = </span><span class="s7">/HTMLUnknownElement/</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">()));</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">isTextInputType </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'text,number,password,search,email,tel,url'</span><span class="s2">);</span>

  <span class="s5">/**</span>
   <span class="s5">* Query an element selector if it's not an element already.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">query</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">el </span><span class="s2">=== </span><span class="s4">'string'</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">selected </span><span class="s2">= </span><span class="s1">document</span><span class="s2">.</span><span class="s1">querySelector</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">selected</span><span class="s2">) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Cannot find element: ' </span><span class="s2">+ </span><span class="s1">el</span><span class="s2">);</span>
              <span class="s3">return </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createElement</span><span class="s2">(</span><span class="s4">'div'</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">selected</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">el</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">createElement</span><span class="s2">(</span><span class="s1">tagName</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">elm </span><span class="s2">= </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createElement</span><span class="s2">(</span><span class="s1">tagName</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">tagName </span><span class="s2">!== </span><span class="s4">'select'</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">elm</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// false or null will remove the attribute but undefined will not</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data </span><span class="s2">&amp;&amp;</span>
          <span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">&amp;&amp;</span>
          <span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">.</span><span class="s1">multiple </span><span class="s2">!== </span><span class="s1">undefined</span><span class="s2">) {</span>
          <span class="s1">elm</span><span class="s2">.</span><span class="s1">setAttribute</span><span class="s2">(</span><span class="s4">'multiple'</span><span class="s2">, </span><span class="s4">'multiple'</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">elm</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createElementNS</span><span class="s2">(</span><span class="s1">namespace</span><span class="s2">, </span><span class="s1">tagName</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createElementNS</span><span class="s2">(</span><span class="s1">namespaceMap</span><span class="s2">[</span><span class="s1">namespace</span><span class="s2">], </span><span class="s1">tagName</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createTextNode</span><span class="s2">(</span><span class="s1">text</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createTextNode</span><span class="s2">(</span><span class="s1">text</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createComment</span><span class="s2">(</span><span class="s1">text</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createComment</span><span class="s2">(</span><span class="s1">text</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">insertBefore</span><span class="s2">(</span><span class="s1">parentNode</span><span class="s2">, </span><span class="s1">newNode</span><span class="s2">, </span><span class="s1">referenceNode</span><span class="s2">) {</span>
      <span class="s1">parentNode</span><span class="s2">.</span><span class="s1">insertBefore</span><span class="s2">(</span><span class="s1">newNode</span><span class="s2">, </span><span class="s1">referenceNode</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">removeChild</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">child</span><span class="s2">) {</span>
      <span class="s1">node</span><span class="s2">.</span><span class="s1">removeChild</span><span class="s2">(</span><span class="s1">child</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">appendChild</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">child</span><span class="s2">) {</span>
      <span class="s1">node</span><span class="s2">.</span><span class="s1">appendChild</span><span class="s2">(</span><span class="s1">child</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">parentNode</span><span class="s2">(</span><span class="s1">node</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">node</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">nextSibling</span><span class="s2">(</span><span class="s1">node</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">node</span><span class="s2">.</span><span class="s1">nextSibling</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">tagName</span><span class="s2">(</span><span class="s1">node</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">node</span><span class="s2">.</span><span class="s1">tagName</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">setTextContent</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">text</span><span class="s2">) {</span>
      <span class="s1">node</span><span class="s2">.</span><span class="s1">textContent </span><span class="s2">= </span><span class="s1">text</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">setStyleScope</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">scopeId</span><span class="s2">) {</span>
      <span class="s1">node</span><span class="s2">.</span><span class="s1">setAttribute</span><span class="s2">(</span><span class="s1">scopeId</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">nodeOps </span><span class="s2">= </span><span class="s0">/*#__PURE__*/</span><span class="s1">Object</span><span class="s2">.</span><span class="s1">freeze</span><span class="s2">({</span>
    <span class="s1">__proto__</span><span class="s2">: </span><span class="s3">null</span><span class="s2">,</span>
    <span class="s1">createElement</span><span class="s2">: </span><span class="s1">createElement</span><span class="s2">,</span>
    <span class="s1">createElementNS</span><span class="s2">: </span><span class="s1">createElementNS</span><span class="s2">,</span>
    <span class="s1">createTextNode</span><span class="s2">: </span><span class="s1">createTextNode</span><span class="s2">,</span>
    <span class="s1">createComment</span><span class="s2">: </span><span class="s1">createComment</span><span class="s2">,</span>
    <span class="s1">insertBefore</span><span class="s2">: </span><span class="s1">insertBefore</span><span class="s2">,</span>
    <span class="s1">removeChild</span><span class="s2">: </span><span class="s1">removeChild</span><span class="s2">,</span>
    <span class="s1">appendChild</span><span class="s2">: </span><span class="s1">appendChild</span><span class="s2">,</span>
    <span class="s1">parentNode</span><span class="s2">: </span><span class="s1">parentNode</span><span class="s2">,</span>
    <span class="s1">nextSibling</span><span class="s2">: </span><span class="s1">nextSibling</span><span class="s2">,</span>
    <span class="s1">tagName</span><span class="s2">: </span><span class="s1">tagName</span><span class="s2">,</span>
    <span class="s1">setTextContent</span><span class="s2">: </span><span class="s1">setTextContent</span><span class="s2">,</span>
    <span class="s1">setStyleScope</span><span class="s2">: </span><span class="s1">setStyleScope</span>
  <span class="s2">});</span>

  <span class="s3">var </span><span class="s1">ref </span><span class="s2">= {</span>
      <span class="s1">create</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">_</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s1">registerRef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
      <span class="s2">},</span>
      <span class="s1">update</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">ref </span><span class="s2">!== </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">ref</span><span class="s2">) {</span>
              <span class="s1">registerRef</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
              <span class="s1">registerRef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">},</span>
      <span class="s1">destroy</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s1">registerRef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">};</span>
  <span class="s3">function </span><span class="s1">registerRef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">isRemoval</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">ref </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">ref</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">))</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">vm </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">refValue </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance </span><span class="s2">|| </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">isRemoval </span><span class="s2">? </span><span class="s3">null </span><span class="s2">: </span><span class="s1">refValue</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">$refsValue </span><span class="s2">= </span><span class="s1">isRemoval </span><span class="s2">? </span><span class="s1">undefined </span><span class="s2">: </span><span class="s1">refValue</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">)) {</span>
          <span class="s1">invokeWithErrorHandling</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">, [</span><span class="s1">value</span><span class="s2">], </span><span class="s1">vm</span><span class="s2">, </span><span class="s4">&quot;template ref function&quot;</span><span class="s2">);</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">isFor </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">refInFor</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">_isString </span><span class="s2">= </span><span class="s3">typeof </span><span class="s1">ref </span><span class="s2">=== </span><span class="s4">'string' </span><span class="s2">|| </span><span class="s3">typeof </span><span class="s1">ref </span><span class="s2">=== </span><span class="s4">'number'</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">_isRef </span><span class="s2">= </span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">refs </span><span class="s2">= </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$refs</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">_isString </span><span class="s2">|| </span><span class="s1">_isRef</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isFor</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">existing </span><span class="s2">= </span><span class="s1">_isString </span><span class="s2">? </span><span class="s1">refs</span><span class="s2">[</span><span class="s1">ref</span><span class="s2">] : </span><span class="s1">ref</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isRemoval</span><span class="s2">) {</span>
                  <span class="s1">isArray</span><span class="s2">(</span><span class="s1">existing</span><span class="s2">) &amp;&amp; </span><span class="s1">remove$2</span><span class="s2">(</span><span class="s1">existing</span><span class="s2">, </span><span class="s1">refValue</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s3">if </span><span class="s2">(!</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">existing</span><span class="s2">)) {</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">_isString</span><span class="s2">) {</span>
                          <span class="s1">refs</span><span class="s2">[</span><span class="s1">ref</span><span class="s2">] = [</span><span class="s1">refValue</span><span class="s2">];</span>
                          <span class="s1">setSetupRef</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">ref</span><span class="s2">, </span><span class="s1">refs</span><span class="s2">[</span><span class="s1">ref</span><span class="s2">]);</span>
                      <span class="s2">}</span>
                      <span class="s3">else </span><span class="s2">{</span>
                          <span class="s1">ref</span><span class="s2">.</span><span class="s1">value </span><span class="s2">= [</span><span class="s1">refValue</span><span class="s2">];</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s3">else if </span><span class="s2">(!</span><span class="s1">existing</span><span class="s2">.</span><span class="s1">includes</span><span class="s2">(</span><span class="s1">refValue</span><span class="s2">)) {</span>
                      <span class="s1">existing</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">refValue</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">_isString</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isRemoval </span><span class="s2">&amp;&amp; </span><span class="s1">refs</span><span class="s2">[</span><span class="s1">ref</span><span class="s2">] !== </span><span class="s1">refValue</span><span class="s2">) {</span>
                  <span class="s3">return</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s1">refs</span><span class="s2">[</span><span class="s1">ref</span><span class="s2">] = </span><span class="s1">$refsValue</span><span class="s2">;</span>
              <span class="s1">setSetupRef</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s1">ref</span><span class="s2">, </span><span class="s1">value</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">_isRef</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isRemoval </span><span class="s2">&amp;&amp; </span><span class="s1">ref</span><span class="s2">.</span><span class="s1">value </span><span class="s2">!== </span><span class="s1">refValue</span><span class="s2">) {</span>
                  <span class="s3">return</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s1">ref</span><span class="s2">.</span><span class="s1">value </span><span class="s2">= </span><span class="s1">value</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Invalid template ref type: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">ref</span><span class="s2">));</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">setSetupRef</span><span class="s2">(</span><span class="s1">_a</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">_setupState </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">_setupState</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">_setupState </span><span class="s2">&amp;&amp; </span><span class="s1">hasOwn</span><span class="s2">(</span><span class="s1">_setupState</span><span class="s2">, </span><span class="s1">key</span><span class="s2">)) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isRef</span><span class="s2">(</span><span class="s1">_setupState</span><span class="s2">[</span><span class="s1">key</span><span class="s2">])) {</span>
              <span class="s1">_setupState</span><span class="s2">[</span><span class="s1">key</span><span class="s2">].</span><span class="s1">value </span><span class="s2">= </span><span class="s1">val</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">_setupState</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">val</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Virtual DOM patching algorithm based on Snabbdom by</span>
   <span class="s5">* Simon Friis Vindum (@paldepind)</span>
   <span class="s5">* Licensed under the MIT License</span>
   <span class="s5">* https://github.com/paldepind/snabbdom/blob/master/LICENSE</span>
   <span class="s5">*</span>
   <span class="s5">* modified by Evan You (@yyx990803)</span>
   <span class="s5">*</span>
   <span class="s5">* Not type-checking this because this file is perf-critical and the cost</span>
   <span class="s5">* of making flow understand it is not worth it.</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">emptyNode </span><span class="s2">= </span><span class="s3">new </span><span class="s1">VNode</span><span class="s2">(</span><span class="s4">''</span><span class="s2">, {}, []);</span>
  <span class="s3">var </span><span class="s1">hooks </span><span class="s2">= [</span><span class="s4">'create'</span><span class="s2">, </span><span class="s4">'activate'</span><span class="s2">, </span><span class="s4">'update'</span><span class="s2">, </span><span class="s4">'remove'</span><span class="s2">, </span><span class="s4">'destroy'</span><span class="s2">];</span>
  <span class="s3">function </span><span class="s1">sameVnode</span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">(</span><span class="s1">a</span><span class="s2">.</span><span class="s1">key </span><span class="s2">=== </span><span class="s1">b</span><span class="s2">.</span><span class="s1">key </span><span class="s2">&amp;&amp;</span>
          <span class="s1">a</span><span class="s2">.</span><span class="s1">asyncFactory </span><span class="s2">=== </span><span class="s1">b</span><span class="s2">.</span><span class="s1">asyncFactory </span><span class="s2">&amp;&amp;</span>
          <span class="s2">((</span><span class="s1">a</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s1">b</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">&amp;&amp;</span>
              <span class="s1">a</span><span class="s2">.</span><span class="s1">isComment </span><span class="s2">=== </span><span class="s1">b</span><span class="s2">.</span><span class="s1">isComment </span><span class="s2">&amp;&amp;</span>
              <span class="s1">isDef</span><span class="s2">(</span><span class="s1">a</span><span class="s2">.</span><span class="s1">data</span><span class="s2">) === </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">b</span><span class="s2">.</span><span class="s1">data</span><span class="s2">) &amp;&amp;</span>
              <span class="s1">sameInputType</span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">)) ||</span>
              <span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">a</span><span class="s2">.</span><span class="s1">isAsyncPlaceholder</span><span class="s2">) &amp;&amp; </span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">b</span><span class="s2">.</span><span class="s1">asyncFactory</span><span class="s2">.</span><span class="s1">error</span><span class="s2">))));</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">sameInputType</span><span class="s2">(</span><span class="s1">a</span><span class="s2">, </span><span class="s1">b</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">a</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">!== </span><span class="s4">'input'</span><span class="s2">)</span>
          <span class="s3">return true</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">i</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">typeA </span><span class="s2">= </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">a</span><span class="s2">.</span><span class="s1">data</span><span class="s2">)) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">)) &amp;&amp; </span><span class="s1">i</span><span class="s2">.</span><span class="s1">type</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">typeB </span><span class="s2">= </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">b</span><span class="s2">.</span><span class="s1">data</span><span class="s2">)) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">)) &amp;&amp; </span><span class="s1">i</span><span class="s2">.</span><span class="s1">type</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s1">typeA </span><span class="s2">=== </span><span class="s1">typeB </span><span class="s2">|| (</span><span class="s1">isTextInputType</span><span class="s2">(</span><span class="s1">typeA</span><span class="s2">) &amp;&amp; </span><span class="s1">isTextInputType</span><span class="s2">(</span><span class="s1">typeB</span><span class="s2">));</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createKeyToOldIdx</span><span class="s2">(</span><span class="s1">children</span><span class="s2">, </span><span class="s1">beginIdx</span><span class="s2">, </span><span class="s1">endIdx</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">i</span><span class="s2">, </span><span class="s1">key</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">map </span><span class="s2">= {};</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s1">beginIdx</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt;= </span><span class="s1">endIdx</span><span class="s2">; ++</span><span class="s1">i</span><span class="s2">) {</span>
          <span class="s1">key </span><span class="s2">= </span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">key</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">key</span><span class="s2">))</span>
              <span class="s1">map</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">i</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">map</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createPatchFunction</span><span class="s2">(</span><span class="s1">backend</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">i</span><span class="s2">, </span><span class="s1">j</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">cbs </span><span class="s2">= {};</span>
      <span class="s3">var </span><span class="s1">modules </span><span class="s2">= </span><span class="s1">backend</span><span class="s2">.</span><span class="s1">modules</span><span class="s2">, </span><span class="s1">nodeOps </span><span class="s2">= </span><span class="s1">backend</span><span class="s2">.</span><span class="s1">nodeOps</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">hooks</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; ++</span><span class="s1">i</span><span class="s2">) {</span>
          <span class="s1">cbs</span><span class="s2">[</span><span class="s1">hooks</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]] = [];</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s1">j </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">j </span><span class="s2">&lt; </span><span class="s1">modules</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; ++</span><span class="s1">j</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">modules</span><span class="s2">[</span><span class="s1">j</span><span class="s2">][</span><span class="s1">hooks</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]])) {</span>
                  <span class="s1">cbs</span><span class="s2">[</span><span class="s1">hooks</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]].</span><span class="s1">push</span><span class="s2">(</span><span class="s1">modules</span><span class="s2">[</span><span class="s1">j</span><span class="s2">][</span><span class="s1">hooks</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]]);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">emptyNodeAt</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">) {</span>
          <span class="s3">return new </span><span class="s1">VNode</span><span class="s2">(</span><span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">tagName</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">).</span><span class="s1">toLowerCase</span><span class="s2">(), {}, [], </span><span class="s1">undefined</span><span class="s2">, </span><span class="s1">elm</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">createRmCb</span><span class="s2">(</span><span class="s1">childElm</span><span class="s2">, </span><span class="s1">listeners</span><span class="s2">) {</span>
          <span class="s3">function </span><span class="s1">remove</span><span class="s2">() {</span>
              <span class="s3">if </span><span class="s2">(--</span><span class="s1">remove</span><span class="s2">.</span><span class="s1">listeners </span><span class="s2">=== </span><span class="s6">0</span><span class="s2">) {</span>
                  <span class="s1">removeNode</span><span class="s2">(</span><span class="s1">childElm</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s1">remove</span><span class="s2">.</span><span class="s1">listeners </span><span class="s2">= </span><span class="s1">listeners</span><span class="s2">;</span>
          <span class="s3">return </span><span class="s1">remove</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">removeNode</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">parent </span><span class="s2">= </span><span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
          <span class="s0">// element may have already been removed due to v-html / v-text</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">)) {</span>
              <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">removeChild</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">el</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">isUnknownElement</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">inVPre</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s2">(!</span><span class="s1">inVPre </span><span class="s2">&amp;&amp;</span>
              <span class="s2">!</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">ns </span><span class="s2">&amp;&amp;</span>
              <span class="s2">!(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">ignoredElements</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&amp;&amp;</span>
                  <span class="s1">config</span><span class="s2">.</span><span class="s1">ignoredElements</span><span class="s2">.</span><span class="s1">some</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">ignore</span><span class="s2">) {</span>
                      <span class="s3">return </span><span class="s1">isRegExp</span><span class="s2">(</span><span class="s1">ignore</span><span class="s2">)</span>
                          <span class="s2">? </span><span class="s1">ignore</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">)</span>
                          <span class="s2">: </span><span class="s1">ignore </span><span class="s2">=== </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">;</span>
                  <span class="s2">})) &amp;&amp;</span>
              <span class="s1">config</span><span class="s2">.</span><span class="s1">isUnknownElement</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">creatingElmInVPre </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">function </span><span class="s1">createElm</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">, </span><span class="s1">nested</span><span class="s2">, </span><span class="s1">ownerArray</span><span class="s2">, </span><span class="s1">index</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">ownerArray</span><span class="s2">)) {</span>
              <span class="s0">// This vnode was used in a previous render!</span>
              <span class="s0">// now it's used as a new node, overwriting its elm would cause</span>
              <span class="s0">// potential patch errors down the road when it's used as an insertion</span>
              <span class="s0">// reference node. Instead, we clone the node on-demand before creating</span>
              <span class="s0">// associated DOM element for it.</span>
              <span class="s1">vnode </span><span class="s2">= </span><span class="s1">ownerArray</span><span class="s2">[</span><span class="s1">index</span><span class="s2">] = </span><span class="s1">cloneVNode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">vnode</span><span class="s2">.</span><span class="s1">isRootInsert </span><span class="s2">= !</span><span class="s1">nested</span><span class="s2">; </span><span class="s0">// for transition enter check</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">createComponent</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">)) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">children </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">tag </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">)) {</span>
              <span class="s2">{</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">data </span><span class="s2">&amp;&amp; </span><span class="s1">data</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">) {</span>
                      <span class="s1">creatingElmInVPre</span><span class="s2">++;</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isUnknownElement</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">creatingElmInVPre</span><span class="s2">)) {</span>
                      <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'Unknown custom element: &lt;' </span><span class="s2">+</span>
                          <span class="s1">tag </span><span class="s2">+</span>
                          <span class="s4">'&gt; - did you ' </span><span class="s2">+</span>
                          <span class="s4">'register the component correctly? For recursive components, ' </span><span class="s2">+</span>
                          <span class="s4">'make sure to provide the &quot;name&quot; option.'</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">ns</span>
                  <span class="s2">? </span><span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">createElementNS</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">ns</span><span class="s2">, </span><span class="s1">tag</span><span class="s2">)</span>
                  <span class="s2">: </span><span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">createElement</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">);</span>
              <span class="s1">setScope</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
              <span class="s1">createChildren</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)) {</span>
                  <span class="s1">invokeCreateHooks</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">insert</span><span class="s2">(</span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">data </span><span class="s2">&amp;&amp; </span><span class="s1">data</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">) {</span>
                  <span class="s1">creatingElmInVPre</span><span class="s2">--;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">isComment</span><span class="s2">)) {</span>
              <span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm </span><span class="s2">= </span><span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">createComment</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">text</span><span class="s2">);</span>
              <span class="s1">insert</span><span class="s2">(</span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm </span><span class="s2">= </span><span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">createTextNode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">text</span><span class="s2">);</span>
              <span class="s1">insert</span><span class="s2">(</span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">createComponent</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">i</span><span class="s2">)) {</span>
              <span class="s3">var </span><span class="s1">isReactivated </span><span class="s2">= </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">) &amp;&amp; </span><span class="s1">i</span><span class="s2">.</span><span class="s1">keepAlive</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">)) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">init</span><span class="s2">))) {</span>
                  <span class="s1">i</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s3">false </span><span class="s0">/* hydrating */</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s0">// after calling the init hook, if the vnode is a child component</span>
              <span class="s0">// it should've created a child instance and mounted it. the child</span>
              <span class="s0">// component also has set the placeholder vnode's elm.</span>
              <span class="s0">// in that case we can just return the element and be done.</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">)) {</span>
                  <span class="s1">initComponent</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">);</span>
                  <span class="s1">insert</span><span class="s2">(</span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">isReactivated</span><span class="s2">)) {</span>
                      <span class="s1">reactivateComponent</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">return true</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">initComponent</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">pendingInsert</span><span class="s2">)) {</span>
              <span class="s1">insertedVnodeQueue</span><span class="s2">.</span><span class="s1">push</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">pendingInsert</span><span class="s2">);</span>
              <span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">pendingInsert </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">$el</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isPatchable</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">)) {</span>
              <span class="s1">invokeCreateHooks</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">);</span>
              <span class="s1">setScope</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s0">// empty component root.</span>
              <span class="s0">// skip all element-related modules except for ref (#3455)</span>
              <span class="s1">registerRef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
              <span class="s0">// make sure to invoke the insert hook</span>
              <span class="s1">insertedVnodeQueue</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">reactivateComponent</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">i</span><span class="s2">;</span>
          <span class="s0">// hack for #4339: a reactivated component with inner transition</span>
          <span class="s0">// does not trigger because the inner node's created hooks are not called</span>
          <span class="s0">// again. It's not ideal to involve module-specific logic in here but</span>
          <span class="s0">// there doesn't seem to be a better way to do it.</span>
          <span class="s3">var </span><span class="s1">innerNode </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">innerNode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">) {</span>
              <span class="s1">innerNode </span><span class="s2">= </span><span class="s1">innerNode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">innerNode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">)) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">transition</span><span class="s2">))) {</span>
                  <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">cbs</span><span class="s2">.</span><span class="s1">activate</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; ++</span><span class="s1">i</span><span class="s2">) {</span>
                      <span class="s1">cbs</span><span class="s2">.</span><span class="s1">activate</span><span class="s2">[</span><span class="s1">i</span><span class="s2">](</span><span class="s1">emptyNode</span><span class="s2">, </span><span class="s1">innerNode</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s1">insertedVnodeQueue</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">innerNode</span><span class="s2">);</span>
                  <span class="s3">break</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s0">// unlike a newly created component,</span>
          <span class="s0">// a reactivated keep-alive component doesn't insert itself</span>
          <span class="s1">insert</span><span class="s2">(</span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">insert</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">elm</span><span class="s2">, </span><span class="s1">ref</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">)) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">(</span><span class="s1">ref</span><span class="s2">) === </span><span class="s1">parent</span><span class="s2">) {</span>
                      <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">insertBefore</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">elm</span><span class="s2">, </span><span class="s1">ref</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">appendChild</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">, </span><span class="s1">elm</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">createChildren</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">children</span><span class="s2">)) {</span>
              <span class="s2">{</span>
                  <span class="s1">checkDuplicateKeys</span><span class="s2">(</span><span class="s1">children</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i_1 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i_1 </span><span class="s2">&lt; </span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; ++</span><span class="s1">i_1</span><span class="s2">) {</span>
                  <span class="s1">createElm</span><span class="s2">(</span><span class="s1">children</span><span class="s2">[</span><span class="s1">i_1</span><span class="s2">], </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s3">true</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">i_1</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">isPrimitive</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">text</span><span class="s2">)) {</span>
              <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">appendChild</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">createTextNode</span><span class="s2">(</span><span class="s1">String</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">text</span><span class="s2">)));</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">isPatchable</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">) {</span>
              <span class="s1">vnode </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">invokeCreateHooks</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i_2 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i_2 </span><span class="s2">&lt; </span><span class="s1">cbs</span><span class="s2">.</span><span class="s1">create</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; ++</span><span class="s1">i_2</span><span class="s2">) {</span>
              <span class="s1">cbs</span><span class="s2">.</span><span class="s1">create</span><span class="s2">[</span><span class="s1">i_2</span><span class="s2">](</span><span class="s1">emptyNode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">i </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">; </span><span class="s0">// Reuse variable</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">i</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">i</span><span class="s2">.</span><span class="s1">create</span><span class="s2">))</span>
                  <span class="s1">i</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">emptyNode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">i</span><span class="s2">.</span><span class="s1">insert</span><span class="s2">))</span>
                  <span class="s1">insertedVnodeQueue</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// set scope id attribute for scoped CSS.</span>
      <span class="s0">// this is implemented as a special case to avoid the overhead</span>
      <span class="s0">// of going through the normal attribute patching process.</span>
      <span class="s3">function </span><span class="s1">setScope</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">i</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">fnScopeId</span><span class="s2">))) {</span>
              <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">setStyleScope</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">i</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">var </span><span class="s1">ancestor </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">;</span>
              <span class="s3">while </span><span class="s2">(</span><span class="s1">ancestor</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">ancestor</span><span class="s2">.</span><span class="s1">context</span><span class="s2">)) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">_scopeId</span><span class="s2">))) {</span>
                      <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">setStyleScope</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">i</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s1">ancestor </span><span class="s2">= </span><span class="s1">ancestor</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s0">// for slot content they should also get the scopeId from the host instance.</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">activeInstance</span><span class="s2">)) &amp;&amp;</span>
              <span class="s1">i </span><span class="s2">!== </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context </span><span class="s2">&amp;&amp;</span>
              <span class="s1">i </span><span class="s2">!== </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">fnContext </span><span class="s2">&amp;&amp;</span>
              <span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">.</span><span class="s1">_scopeId</span><span class="s2">))) {</span>
              <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">setStyleScope</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">i</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">addVnodes</span><span class="s2">(</span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">, </span><span class="s1">vnodes</span><span class="s2">, </span><span class="s1">startIdx</span><span class="s2">, </span><span class="s1">endIdx</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(; </span><span class="s1">startIdx </span><span class="s2">&lt;= </span><span class="s1">endIdx</span><span class="s2">; ++</span><span class="s1">startIdx</span><span class="s2">) {</span>
              <span class="s1">createElm</span><span class="s2">(</span><span class="s1">vnodes</span><span class="s2">[</span><span class="s1">startIdx</span><span class="s2">], </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">, </span><span class="s3">false</span><span class="s2">, </span><span class="s1">vnodes</span><span class="s2">, </span><span class="s1">startIdx</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">invokeDestroyHook</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">i</span><span class="s2">, </span><span class="s1">j</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">)) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">destroy</span><span class="s2">)))</span>
                  <span class="s1">i</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">cbs</span><span class="s2">.</span><span class="s1">destroy</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; ++</span><span class="s1">i</span><span class="s2">)</span>
                  <span class="s1">cbs</span><span class="s2">.</span><span class="s1">destroy</span><span class="s2">[</span><span class="s1">i</span><span class="s2">](</span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">))) {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s1">j </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">j </span><span class="s2">&lt; </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; ++</span><span class="s1">j</span><span class="s2">) {</span>
                  <span class="s1">invokeDestroyHook</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">[</span><span class="s1">j</span><span class="s2">]);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">removeVnodes</span><span class="s2">(</span><span class="s1">vnodes</span><span class="s2">, </span><span class="s1">startIdx</span><span class="s2">, </span><span class="s1">endIdx</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(; </span><span class="s1">startIdx </span><span class="s2">&lt;= </span><span class="s1">endIdx</span><span class="s2">; ++</span><span class="s1">startIdx</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">ch </span><span class="s2">= </span><span class="s1">vnodes</span><span class="s2">[</span><span class="s1">startIdx</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">ch</span><span class="s2">)) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">ch</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">)) {</span>
                      <span class="s1">removeAndInvokeRemoveHook</span><span class="s2">(</span><span class="s1">ch</span><span class="s2">);</span>
                      <span class="s1">invokeDestroyHook</span><span class="s2">(</span><span class="s1">ch</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s0">// Text node</span>
                      <span class="s1">removeNode</span><span class="s2">(</span><span class="s1">ch</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">removeAndInvokeRemoveHook</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">rm</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">rm</span><span class="s2">) || </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">)) {</span>
              <span class="s3">var </span><span class="s1">i_3</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">listeners </span><span class="s2">= </span><span class="s1">cbs</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">.</span><span class="s1">length </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">rm</span><span class="s2">)) {</span>
                  <span class="s0">// we have a recursively passed down rm callback</span>
                  <span class="s0">// increase the listeners count</span>
                  <span class="s1">rm</span><span class="s2">.</span><span class="s1">listeners </span><span class="s2">+= </span><span class="s1">listeners</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s0">// directly removing</span>
                  <span class="s1">rm </span><span class="s2">= </span><span class="s1">createRmCb</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">listeners</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s0">// recursively invoke hooks on child component root node</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i_3 </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">)) &amp;&amp;</span>
                  <span class="s1">isDef</span><span class="s2">((</span><span class="s1">i_3 </span><span class="s2">= </span><span class="s1">i_3</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">)) &amp;&amp;</span>
                  <span class="s1">isDef</span><span class="s2">(</span><span class="s1">i_3</span><span class="s2">.</span><span class="s1">data</span><span class="s2">)) {</span>
                  <span class="s1">removeAndInvokeRemoveHook</span><span class="s2">(</span><span class="s1">i_3</span><span class="s2">, </span><span class="s1">rm</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s1">i_3 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i_3 </span><span class="s2">&lt; </span><span class="s1">cbs</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; ++</span><span class="s1">i_3</span><span class="s2">) {</span>
                  <span class="s1">cbs</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">[</span><span class="s1">i_3</span><span class="s2">](</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">rm</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i_3 </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">)) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i_3 </span><span class="s2">= </span><span class="s1">i_3</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">))) {</span>
                  <span class="s1">i_3</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">rm</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">rm</span><span class="s2">();</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">removeNode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">updateChildren</span><span class="s2">(</span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">oldCh</span><span class="s2">, </span><span class="s1">newCh</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">removeOnly</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">oldStartIdx </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">newStartIdx </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">oldEndIdx </span><span class="s2">= </span><span class="s1">oldCh</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">oldStartVnode </span><span class="s2">= </span><span class="s1">oldCh</span><span class="s2">[</span><span class="s6">0</span><span class="s2">];</span>
          <span class="s3">var </span><span class="s1">oldEndVnode </span><span class="s2">= </span><span class="s1">oldCh</span><span class="s2">[</span><span class="s1">oldEndIdx</span><span class="s2">];</span>
          <span class="s3">var </span><span class="s1">newEndIdx </span><span class="s2">= </span><span class="s1">newCh</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">newStartVnode </span><span class="s2">= </span><span class="s1">newCh</span><span class="s2">[</span><span class="s6">0</span><span class="s2">];</span>
          <span class="s3">var </span><span class="s1">newEndVnode </span><span class="s2">= </span><span class="s1">newCh</span><span class="s2">[</span><span class="s1">newEndIdx</span><span class="s2">];</span>
          <span class="s3">var </span><span class="s1">oldKeyToIdx</span><span class="s2">, </span><span class="s1">idxInOld</span><span class="s2">, </span><span class="s1">vnodeToMove</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">;</span>
          <span class="s0">// removeOnly is a special flag used only by &lt;transition-group&gt;</span>
          <span class="s0">// to ensure removed elements stay in correct relative positions</span>
          <span class="s0">// during leaving transitions</span>
          <span class="s3">var </span><span class="s1">canMove </span><span class="s2">= !</span><span class="s1">removeOnly</span><span class="s2">;</span>
          <span class="s2">{</span>
              <span class="s1">checkDuplicateKeys</span><span class="s2">(</span><span class="s1">newCh</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">oldStartIdx </span><span class="s2">&lt;= </span><span class="s1">oldEndIdx </span><span class="s2">&amp;&amp; </span><span class="s1">newStartIdx </span><span class="s2">&lt;= </span><span class="s1">newEndIdx</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldStartVnode</span><span class="s2">)) {</span>
                  <span class="s1">oldStartVnode </span><span class="s2">= </span><span class="s1">oldCh</span><span class="s2">[++</span><span class="s1">oldStartIdx</span><span class="s2">]; </span><span class="s0">// Vnode has been moved left</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldEndVnode</span><span class="s2">)) {</span>
                  <span class="s1">oldEndVnode </span><span class="s2">= </span><span class="s1">oldCh</span><span class="s2">[--</span><span class="s1">oldEndIdx</span><span class="s2">];</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">sameVnode</span><span class="s2">(</span><span class="s1">oldStartVnode</span><span class="s2">, </span><span class="s1">newStartVnode</span><span class="s2">)) {</span>
                  <span class="s1">patchVnode</span><span class="s2">(</span><span class="s1">oldStartVnode</span><span class="s2">, </span><span class="s1">newStartVnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">newCh</span><span class="s2">, </span><span class="s1">newStartIdx</span><span class="s2">);</span>
                  <span class="s1">oldStartVnode </span><span class="s2">= </span><span class="s1">oldCh</span><span class="s2">[++</span><span class="s1">oldStartIdx</span><span class="s2">];</span>
                  <span class="s1">newStartVnode </span><span class="s2">= </span><span class="s1">newCh</span><span class="s2">[++</span><span class="s1">newStartIdx</span><span class="s2">];</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">sameVnode</span><span class="s2">(</span><span class="s1">oldEndVnode</span><span class="s2">, </span><span class="s1">newEndVnode</span><span class="s2">)) {</span>
                  <span class="s1">patchVnode</span><span class="s2">(</span><span class="s1">oldEndVnode</span><span class="s2">, </span><span class="s1">newEndVnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">newCh</span><span class="s2">, </span><span class="s1">newEndIdx</span><span class="s2">);</span>
                  <span class="s1">oldEndVnode </span><span class="s2">= </span><span class="s1">oldCh</span><span class="s2">[--</span><span class="s1">oldEndIdx</span><span class="s2">];</span>
                  <span class="s1">newEndVnode </span><span class="s2">= </span><span class="s1">newCh</span><span class="s2">[--</span><span class="s1">newEndIdx</span><span class="s2">];</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">sameVnode</span><span class="s2">(</span><span class="s1">oldStartVnode</span><span class="s2">, </span><span class="s1">newEndVnode</span><span class="s2">)) {</span>
                  <span class="s0">// Vnode moved right</span>
                  <span class="s1">patchVnode</span><span class="s2">(</span><span class="s1">oldStartVnode</span><span class="s2">, </span><span class="s1">newEndVnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">newCh</span><span class="s2">, </span><span class="s1">newEndIdx</span><span class="s2">);</span>
                  <span class="s1">canMove </span><span class="s2">&amp;&amp;</span>
                      <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">insertBefore</span><span class="s2">(</span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">oldStartVnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">nextSibling</span><span class="s2">(</span><span class="s1">oldEndVnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">));</span>
                  <span class="s1">oldStartVnode </span><span class="s2">= </span><span class="s1">oldCh</span><span class="s2">[++</span><span class="s1">oldStartIdx</span><span class="s2">];</span>
                  <span class="s1">newEndVnode </span><span class="s2">= </span><span class="s1">newCh</span><span class="s2">[--</span><span class="s1">newEndIdx</span><span class="s2">];</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">sameVnode</span><span class="s2">(</span><span class="s1">oldEndVnode</span><span class="s2">, </span><span class="s1">newStartVnode</span><span class="s2">)) {</span>
                  <span class="s0">// Vnode moved left</span>
                  <span class="s1">patchVnode</span><span class="s2">(</span><span class="s1">oldEndVnode</span><span class="s2">, </span><span class="s1">newStartVnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">newCh</span><span class="s2">, </span><span class="s1">newStartIdx</span><span class="s2">);</span>
                  <span class="s1">canMove </span><span class="s2">&amp;&amp;</span>
                      <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">insertBefore</span><span class="s2">(</span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">oldEndVnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">oldStartVnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">);</span>
                  <span class="s1">oldEndVnode </span><span class="s2">= </span><span class="s1">oldCh</span><span class="s2">[--</span><span class="s1">oldEndIdx</span><span class="s2">];</span>
                  <span class="s1">newStartVnode </span><span class="s2">= </span><span class="s1">newCh</span><span class="s2">[++</span><span class="s1">newStartIdx</span><span class="s2">];</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldKeyToIdx</span><span class="s2">))</span>
                      <span class="s1">oldKeyToIdx </span><span class="s2">= </span><span class="s1">createKeyToOldIdx</span><span class="s2">(</span><span class="s1">oldCh</span><span class="s2">, </span><span class="s1">oldStartIdx</span><span class="s2">, </span><span class="s1">oldEndIdx</span><span class="s2">);</span>
                  <span class="s1">idxInOld </span><span class="s2">= </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">newStartVnode</span><span class="s2">.</span><span class="s1">key</span><span class="s2">)</span>
                      <span class="s2">? </span><span class="s1">oldKeyToIdx</span><span class="s2">[</span><span class="s1">newStartVnode</span><span class="s2">.</span><span class="s1">key</span><span class="s2">]</span>
                      <span class="s2">: </span><span class="s1">findIdxInOld</span><span class="s2">(</span><span class="s1">newStartVnode</span><span class="s2">, </span><span class="s1">oldCh</span><span class="s2">, </span><span class="s1">oldStartIdx</span><span class="s2">, </span><span class="s1">oldEndIdx</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">idxInOld</span><span class="s2">)) {</span>
                      <span class="s0">// New element</span>
                      <span class="s1">createElm</span><span class="s2">(</span><span class="s1">newStartVnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">oldStartVnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s3">false</span><span class="s2">, </span><span class="s1">newCh</span><span class="s2">, </span><span class="s1">newStartIdx</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s1">vnodeToMove </span><span class="s2">= </span><span class="s1">oldCh</span><span class="s2">[</span><span class="s1">idxInOld</span><span class="s2">];</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">sameVnode</span><span class="s2">(</span><span class="s1">vnodeToMove</span><span class="s2">, </span><span class="s1">newStartVnode</span><span class="s2">)) {</span>
                          <span class="s1">patchVnode</span><span class="s2">(</span><span class="s1">vnodeToMove</span><span class="s2">, </span><span class="s1">newStartVnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">newCh</span><span class="s2">, </span><span class="s1">newStartIdx</span><span class="s2">);</span>
                          <span class="s1">oldCh</span><span class="s2">[</span><span class="s1">idxInOld</span><span class="s2">] = </span><span class="s1">undefined</span><span class="s2">;</span>
                          <span class="s1">canMove </span><span class="s2">&amp;&amp;</span>
                              <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">insertBefore</span><span class="s2">(</span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">vnodeToMove</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">oldStartVnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s3">else </span><span class="s2">{</span>
                          <span class="s0">// same key but different element. treat as new element</span>
                          <span class="s1">createElm</span><span class="s2">(</span><span class="s1">newStartVnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">oldStartVnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s3">false</span><span class="s2">, </span><span class="s1">newCh</span><span class="s2">, </span><span class="s1">newStartIdx</span><span class="s2">);</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s1">newStartVnode </span><span class="s2">= </span><span class="s1">newCh</span><span class="s2">[++</span><span class="s1">newStartIdx</span><span class="s2">];</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">oldStartIdx </span><span class="s2">&gt; </span><span class="s1">oldEndIdx</span><span class="s2">) {</span>
              <span class="s1">refElm </span><span class="s2">= </span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">newCh</span><span class="s2">[</span><span class="s1">newEndIdx </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">]) ? </span><span class="s3">null </span><span class="s2">: </span><span class="s1">newCh</span><span class="s2">[</span><span class="s1">newEndIdx </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">].</span><span class="s1">elm</span><span class="s2">;</span>
              <span class="s1">addVnodes</span><span class="s2">(</span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">refElm</span><span class="s2">, </span><span class="s1">newCh</span><span class="s2">, </span><span class="s1">newStartIdx</span><span class="s2">, </span><span class="s1">newEndIdx</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">newStartIdx </span><span class="s2">&gt; </span><span class="s1">newEndIdx</span><span class="s2">) {</span>
              <span class="s1">removeVnodes</span><span class="s2">(</span><span class="s1">oldCh</span><span class="s2">, </span><span class="s1">oldStartIdx</span><span class="s2">, </span><span class="s1">oldEndIdx</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">checkDuplicateKeys</span><span class="s2">(</span><span class="s1">children</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">seenKeys </span><span class="s2">= {};</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i_4 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i_4 </span><span class="s2">&lt; </span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i_4</span><span class="s2">++) {</span>
              <span class="s3">var </span><span class="s1">vnode </span><span class="s2">= </span><span class="s1">children</span><span class="s2">[</span><span class="s1">i_4</span><span class="s2">];</span>
              <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">key</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">seenKeys</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]) {</span>
                      <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Duplicate keys detected: '&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;'. This may cause an update error.&quot;</span><span class="s2">), </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s1">seenKeys</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s3">true</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">findIdxInOld</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">oldCh</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">end</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i_5 </span><span class="s2">= </span><span class="s1">start</span><span class="s2">; </span><span class="s1">i_5 </span><span class="s2">&lt; </span><span class="s1">end</span><span class="s2">; </span><span class="s1">i_5</span><span class="s2">++) {</span>
              <span class="s3">var </span><span class="s1">c </span><span class="s2">= </span><span class="s1">oldCh</span><span class="s2">[</span><span class="s1">i_5</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">c</span><span class="s2">) &amp;&amp; </span><span class="s1">sameVnode</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">c</span><span class="s2">))</span>
                  <span class="s3">return </span><span class="s1">i_5</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">patchVnode</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">ownerArray</span><span class="s2">, </span><span class="s1">index</span><span class="s2">, </span><span class="s1">removeOnly</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">oldVnode </span><span class="s2">=== </span><span class="s1">vnode</span><span class="s2">) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">ownerArray</span><span class="s2">)) {</span>
              <span class="s0">// clone reused vnode</span>
              <span class="s1">vnode </span><span class="s2">= </span><span class="s1">ownerArray</span><span class="s2">[</span><span class="s1">index</span><span class="s2">] = </span><span class="s1">cloneVNode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">elm </span><span class="s2">= (</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm </span><span class="s2">= </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">isAsyncPlaceholder</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">asyncFactory</span><span class="s2">.</span><span class="s1">resolved</span><span class="s2">)) {</span>
                  <span class="s1">hydrate</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">vnode</span><span class="s2">.</span><span class="s1">isAsyncPlaceholder </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// reuse element for static trees.</span>
          <span class="s0">// note we only do this if the vnode is cloned -</span>
          <span class="s0">// if the new node is not cloned it means the render functions have been</span>
          <span class="s0">// reset by the hot-reload-api and we need to do a proper re-render.</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">isStatic</span><span class="s2">) &amp;&amp;</span>
              <span class="s1">isTrue</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">isStatic</span><span class="s2">) &amp;&amp;</span>
              <span class="s1">vnode</span><span class="s2">.</span><span class="s1">key </span><span class="s2">=== </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">key </span><span class="s2">&amp;&amp;</span>
              <span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">isCloned</span><span class="s2">) || </span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">isOnce</span><span class="s2">))) {</span>
              <span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance </span><span class="s2">= </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">;</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">i</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">)) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">prepatch</span><span class="s2">))) {</span>
              <span class="s1">i</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">oldCh </span><span class="s2">= </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">ch </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) &amp;&amp; </span><span class="s1">isPatchable</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">)) {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">cbs</span><span class="s2">.</span><span class="s1">update</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; ++</span><span class="s1">i</span><span class="s2">)</span>
                  <span class="s1">cbs</span><span class="s2">.</span><span class="s1">update</span><span class="s2">[</span><span class="s1">i</span><span class="s2">](</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">)) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">update</span><span class="s2">)))</span>
                  <span class="s1">i</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">text</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">oldCh</span><span class="s2">) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">ch</span><span class="s2">)) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">oldCh </span><span class="s2">!== </span><span class="s1">ch</span><span class="s2">)</span>
                      <span class="s1">updateChildren</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">oldCh</span><span class="s2">, </span><span class="s1">ch</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">removeOnly</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">ch</span><span class="s2">)) {</span>
                  <span class="s2">{</span>
                      <span class="s1">checkDuplicateKeys</span><span class="s2">(</span><span class="s1">ch</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">text</span><span class="s2">))</span>
                      <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">setTextContent</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
                  <span class="s1">addVnodes</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s1">ch</span><span class="s2">, </span><span class="s6">0</span><span class="s2">, </span><span class="s1">ch</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">oldCh</span><span class="s2">)) {</span>
                  <span class="s1">removeVnodes</span><span class="s2">(</span><span class="s1">oldCh</span><span class="s2">, </span><span class="s6">0</span><span class="s2">, </span><span class="s1">oldCh</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">text</span><span class="s2">)) {</span>
                  <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">setTextContent</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">text </span><span class="s2">!== </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">text</span><span class="s2">) {</span>
              <span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">setTextContent</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">text</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">)) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">postpatch</span><span class="s2">)))</span>
                  <span class="s1">i</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">invokeInsertHook</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">queue</span><span class="s2">, </span><span class="s1">initial</span><span class="s2">) {</span>
          <span class="s0">// delay insert hooks for component root nodes, invoke them after the</span>
          <span class="s0">// element is really inserted</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">initial</span><span class="s2">) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">)) {</span>
              <span class="s1">vnode</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">pendingInsert </span><span class="s2">= </span><span class="s1">queue</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i_6 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i_6 </span><span class="s2">&lt; </span><span class="s1">queue</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; ++</span><span class="s1">i_6</span><span class="s2">) {</span>
                  <span class="s1">queue</span><span class="s2">[</span><span class="s1">i_6</span><span class="s2">].</span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">.</span><span class="s1">insert</span><span class="s2">(</span><span class="s1">queue</span><span class="s2">[</span><span class="s1">i_6</span><span class="s2">]);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">hydrationBailed </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s0">// list of modules that can skip create hook during hydration because they</span>
      <span class="s0">// are already rendered on the client or has no need for initialization</span>
      <span class="s0">// Note: style is excluded because it relies on initial clone for future</span>
      <span class="s0">// deep updates (#7063).</span>
      <span class="s3">var </span><span class="s1">isRenderedModule </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'attrs,class,staticClass,staticStyle,key'</span><span class="s2">);</span>
      <span class="s0">// Note: this is a browser-only function so we can assume elms are DOM nodes.</span>
      <span class="s3">function </span><span class="s1">hydrate</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">inVPre</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">i</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">tag </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">data </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">, </span><span class="s1">children </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">;</span>
          <span class="s1">inVPre </span><span class="s2">= </span><span class="s1">inVPre </span><span class="s2">|| (</span><span class="s1">data </span><span class="s2">&amp;&amp; </span><span class="s1">data</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">);</span>
          <span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm </span><span class="s2">= </span><span class="s1">elm</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">isComment</span><span class="s2">) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">asyncFactory</span><span class="s2">)) {</span>
              <span class="s1">vnode</span><span class="s2">.</span><span class="s1">isAsyncPlaceholder </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s3">return true</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// assert node match</span>
          <span class="s2">{</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">assertNodeMatch</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">inVPre</span><span class="s2">)) {</span>
                  <span class="s3">return false</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">)) &amp;&amp; </span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">init</span><span class="s2">)))</span>
                  <span class="s1">i</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s3">true </span><span class="s0">/* hydrating */</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">))) {</span>
                  <span class="s0">// child component. it should have hydrated its own tree.</span>
                  <span class="s1">initComponent</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">);</span>
                  <span class="s3">return true</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">children</span><span class="s2">)) {</span>
                  <span class="s0">// empty element, allow client to pick up and populate children</span>
                  <span class="s3">if </span><span class="s2">(!</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">hasChildNodes</span><span class="s2">()) {</span>
                      <span class="s1">createChildren</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">children</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s0">// v-html and domProps: innerHTML</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">data</span><span class="s2">)) &amp;&amp;</span>
                          <span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">domProps</span><span class="s2">)) &amp;&amp;</span>
                          <span class="s1">isDef</span><span class="s2">((</span><span class="s1">i </span><span class="s2">= </span><span class="s1">i</span><span class="s2">.</span><span class="s1">innerHTML</span><span class="s2">))) {</span>
                          <span class="s3">if </span><span class="s2">(</span><span class="s1">i </span><span class="s2">!== </span><span class="s1">elm</span><span class="s2">.</span><span class="s1">innerHTML</span><span class="s2">) {</span>
                              <span class="s0">/* istanbul ignore if */</span>
                              <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">console </span><span class="s2">!== </span><span class="s4">'undefined' </span><span class="s2">&amp;&amp;</span>
                                  <span class="s2">!</span><span class="s1">hydrationBailed</span><span class="s2">) {</span>
                                  <span class="s1">hydrationBailed </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                                  <span class="s1">console</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">(</span><span class="s4">'Parent: '</span><span class="s2">, </span><span class="s1">elm</span><span class="s2">);</span>
                                  <span class="s1">console</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">(</span><span class="s4">'server innerHTML: '</span><span class="s2">, </span><span class="s1">i</span><span class="s2">);</span>
                                  <span class="s1">console</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">(</span><span class="s4">'client innerHTML: '</span><span class="s2">, </span><span class="s1">elm</span><span class="s2">.</span><span class="s1">innerHTML</span><span class="s2">);</span>
                              <span class="s2">}</span>
                              <span class="s3">return false</span><span class="s2">;</span>
                          <span class="s2">}</span>
                      <span class="s2">}</span>
                      <span class="s3">else </span><span class="s2">{</span>
                          <span class="s0">// iterate and compare children lists</span>
                          <span class="s3">var </span><span class="s1">childrenMatch </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                          <span class="s3">var </span><span class="s1">childNode </span><span class="s2">= </span><span class="s1">elm</span><span class="s2">.</span><span class="s1">firstChild</span><span class="s2">;</span>
                          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i_7 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i_7 </span><span class="s2">&lt; </span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i_7</span><span class="s2">++) {</span>
                              <span class="s3">if </span><span class="s2">(!</span><span class="s1">childNode </span><span class="s2">||</span>
                                  <span class="s2">!</span><span class="s1">hydrate</span><span class="s2">(</span><span class="s1">childNode</span><span class="s2">, </span><span class="s1">children</span><span class="s2">[</span><span class="s1">i_7</span><span class="s2">], </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">inVPre</span><span class="s2">)) {</span>
                                  <span class="s1">childrenMatch </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
                                  <span class="s3">break</span><span class="s2">;</span>
                              <span class="s2">}</span>
                              <span class="s1">childNode </span><span class="s2">= </span><span class="s1">childNode</span><span class="s2">.</span><span class="s1">nextSibling</span><span class="s2">;</span>
                          <span class="s2">}</span>
                          <span class="s0">// if childNode is not null, it means the actual childNodes list is</span>
                          <span class="s0">// longer than the virtual children list.</span>
                          <span class="s3">if </span><span class="s2">(!</span><span class="s1">childrenMatch </span><span class="s2">|| </span><span class="s1">childNode</span><span class="s2">) {</span>
                              <span class="s0">/* istanbul ignore if */</span>
                              <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">console </span><span class="s2">!== </span><span class="s4">'undefined' </span><span class="s2">&amp;&amp;</span>
                                  <span class="s2">!</span><span class="s1">hydrationBailed</span><span class="s2">) {</span>
                                  <span class="s1">hydrationBailed </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                                  <span class="s1">console</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">(</span><span class="s4">'Parent: '</span><span class="s2">, </span><span class="s1">elm</span><span class="s2">);</span>
                                  <span class="s1">console</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">(</span><span class="s4">'Mismatching childNodes vs. VNodes: '</span><span class="s2">, </span><span class="s1">elm</span><span class="s2">.</span><span class="s1">childNodes</span><span class="s2">, </span><span class="s1">children</span><span class="s2">);</span>
                              <span class="s2">}</span>
                              <span class="s3">return false</span><span class="s2">;</span>
                          <span class="s2">}</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)) {</span>
                  <span class="s3">var </span><span class="s1">fullInvoke </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
                  <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">data</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isRenderedModule</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
                          <span class="s1">fullInvoke </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                          <span class="s1">invokeCreateHooks</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">);</span>
                          <span class="s3">break</span><span class="s2">;</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(!</span><span class="s1">fullInvoke </span><span class="s2">&amp;&amp; </span><span class="s1">data</span><span class="s2">[</span><span class="s4">'class'</span><span class="s2">]) {</span>
                      <span class="s0">// ensure collecting deps for deep class bindings for future updates</span>
                      <span class="s1">traverse</span><span class="s2">(</span><span class="s1">data</span><span class="s2">[</span><span class="s4">'class'</span><span class="s2">]);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">data </span><span class="s2">!== </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">text</span><span class="s2">) {</span>
              <span class="s1">elm</span><span class="s2">.</span><span class="s1">data </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">text</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">return true</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">assertNodeMatch</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">inVPre</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">)) {</span>
              <span class="s3">return </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'vue-component'</span><span class="s2">) === </span><span class="s6">0 </span><span class="s2">||</span>
                  <span class="s2">(!</span><span class="s1">isUnknownElement</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">inVPre</span><span class="s2">) &amp;&amp;</span>
                      <span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">() ===</span>
                          <span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">tagName </span><span class="s2">&amp;&amp; </span><span class="s1">node</span><span class="s2">.</span><span class="s1">tagName</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">())));</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">return </span><span class="s1">node</span><span class="s2">.</span><span class="s1">nodeType </span><span class="s2">=== (</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">isComment </span><span class="s2">? </span><span class="s6">8 </span><span class="s2">: </span><span class="s6">3</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return function </span><span class="s1">patch</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">, </span><span class="s1">removeOnly</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">)) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">))</span>
                  <span class="s1">invokeDestroyHook</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">);</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">isInitialPatch </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">insertedVnodeQueue </span><span class="s2">= [];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">)) {</span>
              <span class="s0">// empty mount (likely as component), create new root element</span>
              <span class="s1">isInitialPatch </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s1">createElm</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">var </span><span class="s1">isRealElement </span><span class="s2">= </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">nodeType</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">isRealElement </span><span class="s2">&amp;&amp; </span><span class="s1">sameVnode</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">)) {</span>
                  <span class="s0">// patch existing root node</span>
                  <span class="s1">patchVnode</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s1">removeOnly</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isRealElement</span><span class="s2">) {</span>
                      <span class="s0">// mounting to a real element</span>
                      <span class="s0">// check if this is server-rendered content and if we can perform</span>
                      <span class="s0">// a successful hydration.</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">nodeType </span><span class="s2">=== </span><span class="s6">1 </span><span class="s2">&amp;&amp; </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">hasAttribute</span><span class="s2">(</span><span class="s1">SSR_ATTR</span><span class="s2">)) {</span>
                          <span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">removeAttribute</span><span class="s2">(</span><span class="s1">SSR_ATTR</span><span class="s2">);</span>
                          <span class="s1">hydrating </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                      <span class="s2">}</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">hydrating</span><span class="s2">)) {</span>
                          <span class="s3">if </span><span class="s2">(</span><span class="s1">hydrate</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">)) {</span>
                              <span class="s1">invokeInsertHook</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
                              <span class="s3">return </span><span class="s1">oldVnode</span><span class="s2">;</span>
                          <span class="s2">}</span>
                          <span class="s3">else </span><span class="s2">{</span>
                              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'The client-side rendered virtual DOM tree is not matching ' </span><span class="s2">+</span>
                                  <span class="s4">'server-rendered content. This is likely caused by incorrect ' </span><span class="s2">+</span>
                                  <span class="s4">'HTML markup, for example nesting block-level elements inside ' </span><span class="s2">+</span>
                                  <span class="s4">'&lt;p&gt;, or missing &lt;tbody&gt;. Bailing hydration and performing ' </span><span class="s2">+</span>
                                  <span class="s4">'full client-side render.'</span><span class="s2">);</span>
                          <span class="s2">}</span>
                      <span class="s2">}</span>
                      <span class="s0">// either not server-rendered, or hydration failed.</span>
                      <span class="s0">// create an empty node and replace it</span>
                      <span class="s1">oldVnode </span><span class="s2">= </span><span class="s1">emptyNodeAt</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s0">// replacing existing element</span>
                  <span class="s3">var </span><span class="s1">oldElm </span><span class="s2">= </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">;</span>
                  <span class="s3">var </span><span class="s1">parentElm </span><span class="s2">= </span><span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">(</span><span class="s1">oldElm</span><span class="s2">);</span>
                  <span class="s0">// create new node</span>
                  <span class="s1">createElm</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span>
                  <span class="s0">// extremely rare edge case: do not insert if old element is in a</span>
                  <span class="s0">// leaving transition. Only happens when combining transition +</span>
                  <span class="s0">// keep-alive + HOCs. (#4590)</span>
                  <span class="s1">oldElm</span><span class="s2">.</span><span class="s1">_leaveCb </span><span class="s2">? </span><span class="s3">null </span><span class="s2">: </span><span class="s1">parentElm</span><span class="s2">, </span><span class="s1">nodeOps</span><span class="s2">.</span><span class="s1">nextSibling</span><span class="s2">(</span><span class="s1">oldElm</span><span class="s2">));</span>
                  <span class="s0">// update parent placeholder node element, recursively</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">)) {</span>
                      <span class="s3">var </span><span class="s1">ancestor </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
                      <span class="s3">var </span><span class="s1">patchable </span><span class="s2">= </span><span class="s1">isPatchable</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
                      <span class="s3">while </span><span class="s2">(</span><span class="s1">ancestor</span><span class="s2">) {</span>
                          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i_8 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i_8 </span><span class="s2">&lt; </span><span class="s1">cbs</span><span class="s2">.</span><span class="s1">destroy</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; ++</span><span class="s1">i_8</span><span class="s2">) {</span>
                              <span class="s1">cbs</span><span class="s2">.</span><span class="s1">destroy</span><span class="s2">[</span><span class="s1">i_8</span><span class="s2">](</span><span class="s1">ancestor</span><span class="s2">);</span>
                          <span class="s2">}</span>
                          <span class="s1">ancestor</span><span class="s2">.</span><span class="s1">elm </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">;</span>
                          <span class="s3">if </span><span class="s2">(</span><span class="s1">patchable</span><span class="s2">) {</span>
                              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i_9 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i_9 </span><span class="s2">&lt; </span><span class="s1">cbs</span><span class="s2">.</span><span class="s1">create</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; ++</span><span class="s1">i_9</span><span class="s2">) {</span>
                                  <span class="s1">cbs</span><span class="s2">.</span><span class="s1">create</span><span class="s2">[</span><span class="s1">i_9</span><span class="s2">](</span><span class="s1">emptyNode</span><span class="s2">, </span><span class="s1">ancestor</span><span class="s2">);</span>
                              <span class="s2">}</span>
                              <span class="s0">// #6513</span>
                              <span class="s0">// invoke insert hooks that may have been merged by create hooks.</span>
                              <span class="s0">// e.g. for directives that uses the &quot;inserted&quot; hook.</span>
                              <span class="s3">var </span><span class="s1">insert_1 </span><span class="s2">= </span><span class="s1">ancestor</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">.</span><span class="s1">insert</span><span class="s2">;</span>
                              <span class="s3">if </span><span class="s2">(</span><span class="s1">insert_1</span><span class="s2">.</span><span class="s1">merged</span><span class="s2">) {</span>
                                  <span class="s0">// start at index 1 to avoid re-invoking component mounted hook</span>
                                  <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i_10 </span><span class="s2">= </span><span class="s6">1</span><span class="s2">; </span><span class="s1">i_10 </span><span class="s2">&lt; </span><span class="s1">insert_1</span><span class="s2">.</span><span class="s1">fns</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i_10</span><span class="s2">++) {</span>
                                      <span class="s1">insert_1</span><span class="s2">.</span><span class="s1">fns</span><span class="s2">[</span><span class="s1">i_10</span><span class="s2">]();</span>
                                  <span class="s2">}</span>
                              <span class="s2">}</span>
                          <span class="s2">}</span>
                          <span class="s3">else </span><span class="s2">{</span>
                              <span class="s1">registerRef</span><span class="s2">(</span><span class="s1">ancestor</span><span class="s2">);</span>
                          <span class="s2">}</span>
                          <span class="s1">ancestor </span><span class="s2">= </span><span class="s1">ancestor</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s0">// destroy old node</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">parentElm</span><span class="s2">)) {</span>
                      <span class="s1">removeVnodes</span><span class="s2">([</span><span class="s1">oldVnode</span><span class="s2">], </span><span class="s6">0</span><span class="s2">, </span><span class="s6">0</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">else if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">)) {</span>
                      <span class="s1">invokeDestroyHook</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s1">invokeInsertHook</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">insertedVnodeQueue</span><span class="s2">, </span><span class="s1">isInitialPatch</span><span class="s2">);</span>
          <span class="s3">return </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">;</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">directives$1 </span><span class="s2">= {</span>
      <span class="s1">create</span><span class="s2">: </span><span class="s1">updateDirectives</span><span class="s2">,</span>
      <span class="s1">update</span><span class="s2">: </span><span class="s1">updateDirectives</span><span class="s2">,</span>
      <span class="s1">destroy</span><span class="s2">: </span><span class="s3">function </span><span class="s1">unbindDirectives</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s0">// @ts-expect-error emptyNode is not VNodeWithData</span>
          <span class="s1">updateDirectives</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">emptyNode</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">};</span>
  <span class="s3">function </span><span class="s1">updateDirectives</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">directives </span><span class="s2">|| </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">directives</span><span class="s2">) {</span>
          <span class="s1">_update</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">_update</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">isCreate </span><span class="s2">= </span><span class="s1">oldVnode </span><span class="s2">=== </span><span class="s1">emptyNode</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">isDestroy </span><span class="s2">= </span><span class="s1">vnode </span><span class="s2">=== </span><span class="s1">emptyNode</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">oldDirs </span><span class="s2">= </span><span class="s1">normalizeDirectives</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">directives</span><span class="s2">, </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">newDirs </span><span class="s2">= </span><span class="s1">normalizeDirectives</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">directives</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">dirsWithInsert </span><span class="s2">= [];</span>
      <span class="s3">var </span><span class="s1">dirsWithPostpatch </span><span class="s2">= [];</span>
      <span class="s3">var </span><span class="s1">key</span><span class="s2">, </span><span class="s1">oldDir</span><span class="s2">, </span><span class="s1">dir</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">newDirs</span><span class="s2">) {</span>
          <span class="s1">oldDir </span><span class="s2">= </span><span class="s1">oldDirs</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s1">dir </span><span class="s2">= </span><span class="s1">newDirs</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">oldDir</span><span class="s2">) {</span>
              <span class="s0">// new directive, bind</span>
              <span class="s1">callHook</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">, </span><span class="s4">'bind'</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">oldVnode</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">def </span><span class="s2">&amp;&amp; </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">def</span><span class="s2">.</span><span class="s1">inserted</span><span class="s2">) {</span>
                  <span class="s1">dirsWithInsert</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s0">// existing directive, update</span>
              <span class="s1">dir</span><span class="s2">.</span><span class="s1">oldValue </span><span class="s2">= </span><span class="s1">oldDir</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
              <span class="s1">dir</span><span class="s2">.</span><span class="s1">oldArg </span><span class="s2">= </span><span class="s1">oldDir</span><span class="s2">.</span><span class="s1">arg</span><span class="s2">;</span>
              <span class="s1">callHook</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">, </span><span class="s4">'update'</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">oldVnode</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">def </span><span class="s2">&amp;&amp; </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">def</span><span class="s2">.</span><span class="s1">componentUpdated</span><span class="s2">) {</span>
                  <span class="s1">dirsWithPostpatch</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">dirsWithInsert</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">callInsert </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">dirsWithInsert</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">callHook</span><span class="s2">(</span><span class="s1">dirsWithInsert</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s4">'inserted'</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">oldVnode</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">};</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isCreate</span><span class="s2">) {</span>
              <span class="s1">mergeVNodeHook</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s4">'insert'</span><span class="s2">, </span><span class="s1">callInsert</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">callInsert</span><span class="s2">();</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">dirsWithPostpatch</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
          <span class="s1">mergeVNodeHook</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s4">'postpatch'</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">dirsWithPostpatch</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">callHook</span><span class="s2">(</span><span class="s1">dirsWithPostpatch</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s4">'componentUpdated'</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">oldVnode</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">});</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isCreate</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">oldDirs</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">newDirs</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]) {</span>
                  <span class="s0">// no longer present, unbind</span>
                  <span class="s1">callHook</span><span class="s2">(</span><span class="s1">oldDirs</span><span class="s2">[</span><span class="s1">key</span><span class="s2">], </span><span class="s4">'unbind'</span><span class="s2">, </span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">isDestroy</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">emptyModifiers </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
  <span class="s3">function </span><span class="s1">normalizeDirectives</span><span class="s2">(</span><span class="s1">dirs</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">dirs</span><span class="s2">) {</span>
          <span class="s0">// $flow-disable-line</span>
          <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">i</span><span class="s2">, </span><span class="s1">dir</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">dirs</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">dir </span><span class="s2">= </span><span class="s1">dirs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">modifiers</span><span class="s2">) {</span>
              <span class="s0">// $flow-disable-line</span>
              <span class="s1">dir</span><span class="s2">.</span><span class="s1">modifiers </span><span class="s2">= </span><span class="s1">emptyModifiers</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s1">res</span><span class="s2">[</span><span class="s1">getRawDirName</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">)] = </span><span class="s1">dir</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_setupState </span><span class="s2">&amp;&amp; </span><span class="s1">vm</span><span class="s2">.</span><span class="s1">_setupState</span><span class="s2">.</span><span class="s1">__sfc</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">setupDef </span><span class="s2">= </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">def </span><span class="s2">|| </span><span class="s1">resolveAsset</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">, </span><span class="s4">'_setupState'</span><span class="s2">, </span><span class="s4">'v-' </span><span class="s2">+ </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">name</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">setupDef </span><span class="s2">=== </span><span class="s4">'function'</span><span class="s2">) {</span>
                  <span class="s1">dir</span><span class="s2">.</span><span class="s1">def </span><span class="s2">= {</span>
                      <span class="s1">bind</span><span class="s2">: </span><span class="s1">setupDef</span><span class="s2">,</span>
                      <span class="s1">update</span><span class="s2">: </span><span class="s1">setupDef</span><span class="s2">,</span>
                  <span class="s2">};</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">dir</span><span class="s2">.</span><span class="s1">def </span><span class="s2">= </span><span class="s1">setupDef</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s1">dir</span><span class="s2">.</span><span class="s1">def </span><span class="s2">= </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">def </span><span class="s2">|| </span><span class="s1">resolveAsset</span><span class="s2">(</span><span class="s1">vm</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">, </span><span class="s4">'directives'</span><span class="s2">, </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">name</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// $flow-disable-line</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">getRawDirName</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">rawName </span><span class="s2">|| </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;.&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">modifiers </span><span class="s2">|| {}).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">'.'</span><span class="s2">)));</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">callHook</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">, </span><span class="s1">hook</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">isDestroy</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">fn </span><span class="s2">= </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">def </span><span class="s2">&amp;&amp; </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">def</span><span class="s2">[</span><span class="s1">hook</span><span class="s2">];</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">fn</span><span class="s2">) {</span>
          <span class="s3">try </span><span class="s2">{</span>
              <span class="s1">fn</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">dir</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">isDestroy</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
              <span class="s1">handleError</span><span class="s2">(</span><span class="s1">e</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">, </span><span class="s4">&quot;directive &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot; &quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">hook</span><span class="s2">, </span><span class="s4">&quot; hook&quot;</span><span class="s2">));</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">baseModules </span><span class="s2">= [</span><span class="s1">ref</span><span class="s2">, </span><span class="s1">directives$1</span><span class="s2">];</span>

  <span class="s3">function </span><span class="s1">updateAttrs</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">opts </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentOptions</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">opts</span><span class="s2">) &amp;&amp; </span><span class="s1">opts</span><span class="s2">.</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">inheritAttrs </span><span class="s2">=== </span><span class="s3">false</span><span class="s2">) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">) &amp;&amp; </span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">)) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">key</span><span class="s2">, </span><span class="s1">cur</span><span class="s2">, </span><span class="s1">old</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">elm </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">oldAttrs </span><span class="s2">= </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">|| {};</span>
      <span class="s3">var </span><span class="s1">attrs </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">|| {};</span>
      <span class="s0">// clone observed objects, as the user probably wants to mutate it</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">attrs</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">) || </span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">attrs</span><span class="s2">.</span><span class="s1">_v_attr_proxy</span><span class="s2">)) {</span>
          <span class="s1">attrs </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">= </span><span class="s1">extend</span><span class="s2">({}, </span><span class="s1">attrs</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">attrs</span><span class="s2">) {</span>
          <span class="s1">cur </span><span class="s2">= </span><span class="s1">attrs</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s1">old </span><span class="s2">= </span><span class="s1">oldAttrs</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">old </span><span class="s2">!== </span><span class="s1">cur</span><span class="s2">) {</span>
              <span class="s1">setAttr</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">cur</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// #4391: in IE9, setting type can reset value for input[type=radio]</span>
      <span class="s0">// #6666: IE/Edge forces progress value down to 1 before setting a max</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">((</span><span class="s1">isIE </span><span class="s2">|| </span><span class="s1">isEdge</span><span class="s2">) &amp;&amp; </span><span class="s1">attrs</span><span class="s2">.</span><span class="s1">value </span><span class="s2">!== </span><span class="s1">oldAttrs</span><span class="s2">.</span><span class="s1">value</span><span class="s2">) {</span>
          <span class="s1">setAttr</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s4">'value'</span><span class="s2">, </span><span class="s1">attrs</span><span class="s2">.</span><span class="s1">value</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">oldAttrs</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">attrs</span><span class="s2">[</span><span class="s1">key</span><span class="s2">])) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isXlink</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
                  <span class="s1">elm</span><span class="s2">.</span><span class="s1">removeAttributeNS</span><span class="s2">(</span><span class="s1">xlinkNS</span><span class="s2">, </span><span class="s1">getXlinkProp</span><span class="s2">(</span><span class="s1">key</span><span class="s2">));</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(!</span><span class="s1">isEnumeratedAttr</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
                  <span class="s1">elm</span><span class="s2">.</span><span class="s1">removeAttribute</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">setAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">isInPre</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isInPre </span><span class="s2">|| </span><span class="s1">el</span><span class="s2">.</span><span class="s1">tagName</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'-'</span><span class="s2">) &gt; -</span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s1">baseSetAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isBooleanAttr</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
          <span class="s0">// set attribute for blank value</span>
          <span class="s0">// e.g. &lt;option disabled&gt;Select one&lt;/option&gt;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isFalsyAttrValue</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">removeAttribute</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s0">// technically allowfullscreen is a boolean attribute for &lt;iframe&gt;,</span>
              <span class="s0">// but Flash expects a value of &quot;true&quot; when used on &lt;embed&gt; tag</span>
              <span class="s1">value </span><span class="s2">= </span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'allowfullscreen' </span><span class="s2">&amp;&amp; </span><span class="s1">el</span><span class="s2">.</span><span class="s1">tagName </span><span class="s2">=== </span><span class="s4">'EMBED' </span><span class="s2">? </span><span class="s4">'true' </span><span class="s2">: </span><span class="s1">key</span><span class="s2">;</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">setAttribute</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isEnumeratedAttr</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">setAttribute</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">convertEnumeratedValue</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isXlink</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isFalsyAttrValue</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">removeAttributeNS</span><span class="s2">(</span><span class="s1">xlinkNS</span><span class="s2">, </span><span class="s1">getXlinkProp</span><span class="s2">(</span><span class="s1">key</span><span class="s2">));</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">setAttributeNS</span><span class="s2">(</span><span class="s1">xlinkNS</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">baseSetAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">baseSetAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isFalsyAttrValue</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">removeAttribute</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s0">// #7138: IE10 &amp; 11 fires input event when setting placeholder on</span>
          <span class="s0">// &lt;textarea&gt;... block the first input event and remove the blocker</span>
          <span class="s0">// immediately.</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isIE </span><span class="s2">&amp;&amp;</span>
              <span class="s2">!</span><span class="s1">isIE9 </span><span class="s2">&amp;&amp;</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">tagName </span><span class="s2">=== </span><span class="s4">'TEXTAREA' </span><span class="s2">&amp;&amp;</span>
              <span class="s1">key </span><span class="s2">=== </span><span class="s4">'placeholder' </span><span class="s2">&amp;&amp;</span>
              <span class="s1">value </span><span class="s2">!== </span><span class="s4">'' </span><span class="s2">&amp;&amp;</span>
              <span class="s2">!</span><span class="s1">el</span><span class="s2">.</span><span class="s1">__ieph</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">blocker_1 </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
                  <span class="s1">e</span><span class="s2">.</span><span class="s1">stopImmediatePropagation</span><span class="s2">();</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">removeEventListener</span><span class="s2">(</span><span class="s4">'input'</span><span class="s2">, </span><span class="s1">blocker_1</span><span class="s2">);</span>
              <span class="s2">};</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">addEventListener</span><span class="s2">(</span><span class="s4">'input'</span><span class="s2">, </span><span class="s1">blocker_1</span><span class="s2">);</span>
              <span class="s0">// $flow-disable-line</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">__ieph </span><span class="s2">= </span><span class="s3">true</span><span class="s2">; </span><span class="s0">/* IE placeholder patched */</span>
          <span class="s2">}</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">setAttribute</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s1">value</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">attrs </span><span class="s2">= {</span>
      <span class="s1">create</span><span class="s2">: </span><span class="s1">updateAttrs</span><span class="s2">,</span>
      <span class="s1">update</span><span class="s2">: </span><span class="s1">updateAttrs</span>
  <span class="s2">};</span>

  <span class="s3">function </span><span class="s1">updateClass</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">el </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">oldData </span><span class="s2">= </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">staticClass</span><span class="s2">) &amp;&amp;</span>
          <span class="s1">isUndef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">class</span><span class="s2">) &amp;&amp;</span>
          <span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldData</span><span class="s2">) ||</span>
              <span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldData</span><span class="s2">.</span><span class="s1">staticClass</span><span class="s2">) &amp;&amp; </span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldData</span><span class="s2">.</span><span class="s1">class</span><span class="s2">)))) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">cls </span><span class="s2">= </span><span class="s1">genClassForVnode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
      <span class="s0">// handle transition classes</span>
      <span class="s3">var </span><span class="s1">transitionClass </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">_transitionClasses</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">transitionClass</span><span class="s2">)) {</span>
          <span class="s1">cls </span><span class="s2">= </span><span class="s1">concat</span><span class="s2">(</span><span class="s1">cls</span><span class="s2">, </span><span class="s1">stringifyClass</span><span class="s2">(</span><span class="s1">transitionClass</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s0">// set the class</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">cls </span><span class="s2">!== </span><span class="s1">el</span><span class="s2">.</span><span class="s1">_prevClass</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">setAttribute</span><span class="s2">(</span><span class="s4">'class'</span><span class="s2">, </span><span class="s1">cls</span><span class="s2">);</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">_prevClass </span><span class="s2">= </span><span class="s1">cls</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">klass$1 </span><span class="s2">= {</span>
      <span class="s1">create</span><span class="s2">: </span><span class="s1">updateClass</span><span class="s2">,</span>
      <span class="s1">update</span><span class="s2">: </span><span class="s1">updateClass</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">validDivisionCharRE </span><span class="s2">= </span><span class="s7">/[\w).+\-_$\]]/</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">parseFilters</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">inSingle </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">inDouble </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">inTemplateString </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">inRegex </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">curly </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">square </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">paren </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">lastFilterIndex </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">c</span><span class="s2">, </span><span class="s1">prev</span><span class="s2">, </span><span class="s1">i</span><span class="s2">, </span><span class="s1">expression</span><span class="s2">, </span><span class="s1">filters</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">exp</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">prev </span><span class="s2">= </span><span class="s1">c</span><span class="s2">;</span>
          <span class="s1">c </span><span class="s2">= </span><span class="s1">exp</span><span class="s2">.</span><span class="s1">charCodeAt</span><span class="s2">(</span><span class="s1">i</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">inSingle</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">c </span><span class="s2">=== </span><span class="s6">0x27 </span><span class="s2">&amp;&amp; </span><span class="s1">prev </span><span class="s2">!== </span><span class="s6">0x5c</span><span class="s2">)</span>
                  <span class="s1">inSingle </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">inDouble</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">c </span><span class="s2">=== </span><span class="s6">0x22 </span><span class="s2">&amp;&amp; </span><span class="s1">prev </span><span class="s2">!== </span><span class="s6">0x5c</span><span class="s2">)</span>
                  <span class="s1">inDouble </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">inTemplateString</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">c </span><span class="s2">=== </span><span class="s6">0x60 </span><span class="s2">&amp;&amp; </span><span class="s1">prev </span><span class="s2">!== </span><span class="s6">0x5c</span><span class="s2">)</span>
                  <span class="s1">inTemplateString </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">inRegex</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">c </span><span class="s2">=== </span><span class="s6">0x2f </span><span class="s2">&amp;&amp; </span><span class="s1">prev </span><span class="s2">!== </span><span class="s6">0x5c</span><span class="s2">)</span>
                  <span class="s1">inRegex </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">c </span><span class="s2">=== </span><span class="s6">0x7c </span><span class="s2">&amp;&amp; </span><span class="s0">// pipe</span>
              <span class="s1">exp</span><span class="s2">.</span><span class="s1">charCodeAt</span><span class="s2">(</span><span class="s1">i </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">) !== </span><span class="s6">0x7c </span><span class="s2">&amp;&amp;</span>
              <span class="s1">exp</span><span class="s2">.</span><span class="s1">charCodeAt</span><span class="s2">(</span><span class="s1">i </span><span class="s2">- </span><span class="s6">1</span><span class="s2">) !== </span><span class="s6">0x7c </span><span class="s2">&amp;&amp;</span>
              <span class="s2">!</span><span class="s1">curly </span><span class="s2">&amp;&amp;</span>
              <span class="s2">!</span><span class="s1">square </span><span class="s2">&amp;&amp;</span>
              <span class="s2">!</span><span class="s1">paren</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">expression </span><span class="s2">=== </span><span class="s1">undefined</span><span class="s2">) {</span>
                  <span class="s0">// first filter, end of expression</span>
                  <span class="s1">lastFilterIndex </span><span class="s2">= </span><span class="s1">i </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">;</span>
                  <span class="s1">expression </span><span class="s2">= </span><span class="s1">exp</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, </span><span class="s1">i</span><span class="s2">).</span><span class="s1">trim</span><span class="s2">();</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">pushFilter</span><span class="s2">();</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">switch </span><span class="s2">(</span><span class="s1">c</span><span class="s2">) {</span>
                  <span class="s3">case </span><span class="s6">0x22</span><span class="s2">:</span>
                      <span class="s1">inDouble </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                      <span class="s3">break</span><span class="s2">; </span><span class="s0">// &quot;</span>
                  <span class="s3">case </span><span class="s6">0x27</span><span class="s2">:</span>
                      <span class="s1">inSingle </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                      <span class="s3">break</span><span class="s2">; </span><span class="s0">// '</span>
                  <span class="s3">case </span><span class="s6">0x60</span><span class="s2">:</span>
                      <span class="s1">inTemplateString </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                      <span class="s3">break</span><span class="s2">; </span><span class="s0">// `</span>
                  <span class="s3">case </span><span class="s6">0x28</span><span class="s2">:</span>
                      <span class="s1">paren</span><span class="s2">++;</span>
                      <span class="s3">break</span><span class="s2">; </span><span class="s0">// (</span>
                  <span class="s3">case </span><span class="s6">0x29</span><span class="s2">:</span>
                      <span class="s1">paren</span><span class="s2">--;</span>
                      <span class="s3">break</span><span class="s2">; </span><span class="s0">// )</span>
                  <span class="s3">case </span><span class="s6">0x5b</span><span class="s2">:</span>
                      <span class="s1">square</span><span class="s2">++;</span>
                      <span class="s3">break</span><span class="s2">; </span><span class="s0">// [</span>
                  <span class="s3">case </span><span class="s6">0x5d</span><span class="s2">:</span>
                      <span class="s1">square</span><span class="s2">--;</span>
                      <span class="s3">break</span><span class="s2">; </span><span class="s0">// ]</span>
                  <span class="s3">case </span><span class="s6">0x7b</span><span class="s2">:</span>
                      <span class="s1">curly</span><span class="s2">++;</span>
                      <span class="s3">break</span><span class="s2">; </span><span class="s0">// {</span>
                  <span class="s3">case </span><span class="s6">0x7d</span><span class="s2">:</span>
                      <span class="s1">curly</span><span class="s2">--;</span>
                      <span class="s3">break</span><span class="s2">; </span><span class="s0">// }</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">c </span><span class="s2">=== </span><span class="s6">0x2f</span><span class="s2">) {</span>
                  <span class="s0">// /</span>
                  <span class="s3">var </span><span class="s1">j </span><span class="s2">= </span><span class="s1">i </span><span class="s2">- </span><span class="s6">1</span><span class="s2">;</span>
                  <span class="s3">var </span><span class="s1">p </span>
                  <span class="s0">// find first non-whitespace prev char</span>
                  <span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
                  <span class="s0">// find first non-whitespace prev char</span>
                  <span class="s3">for </span><span class="s2">(; </span><span class="s1">j </span><span class="s2">&gt;= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">j</span><span class="s2">--) {</span>
                      <span class="s1">p </span><span class="s2">= </span><span class="s1">exp</span><span class="s2">.</span><span class="s1">charAt</span><span class="s2">(</span><span class="s1">j</span><span class="s2">);</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">p </span><span class="s2">!== </span><span class="s4">' '</span><span class="s2">)</span>
                          <span class="s3">break</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(!</span><span class="s1">p </span><span class="s2">|| !</span><span class="s1">validDivisionCharRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">p</span><span class="s2">)) {</span>
                      <span class="s1">inRegex </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">expression </span><span class="s2">=== </span><span class="s1">undefined</span><span class="s2">) {</span>
          <span class="s1">expression </span><span class="s2">= </span><span class="s1">exp</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, </span><span class="s1">i</span><span class="s2">).</span><span class="s1">trim</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">lastFilterIndex </span><span class="s2">!== </span><span class="s6">0</span><span class="s2">) {</span>
          <span class="s1">pushFilter</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">pushFilter</span><span class="s2">() {</span>
          <span class="s2">(</span><span class="s1">filters </span><span class="s2">|| (</span><span class="s1">filters </span><span class="s2">= [])).</span><span class="s1">push</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s1">lastFilterIndex</span><span class="s2">, </span><span class="s1">i</span><span class="s2">).</span><span class="s1">trim</span><span class="s2">());</span>
          <span class="s1">lastFilterIndex </span><span class="s2">= </span><span class="s1">i </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">filters</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">filters</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">expression </span><span class="s2">= </span><span class="s1">wrapFilter</span><span class="s2">(</span><span class="s1">expression</span><span class="s2">, </span><span class="s1">filters</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">expression</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">wrapFilter</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">, </span><span class="s1">filter</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s1">filter</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'('</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">i </span><span class="s2">&lt; </span><span class="s6">0</span><span class="s2">) {</span>
          <span class="s0">// _f: resolveFilter</span>
          <span class="s3">return </span><span class="s4">&quot;_f(</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">filter</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">)(&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">var </span><span class="s1">name_1 </span><span class="s2">= </span><span class="s1">filter</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, </span><span class="s1">i</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">args </span><span class="s2">= </span><span class="s1">filter</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s1">i </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">);</span>
          <span class="s3">return </span><span class="s4">&quot;_f(</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name_1</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">)(&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">args </span><span class="s2">!== </span><span class="s4">')' </span><span class="s2">? </span><span class="s4">',' </span><span class="s2">+ </span><span class="s1">args </span><span class="s2">: </span><span class="s1">args</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s0">/* eslint-disable no-unused-vars */</span>
  <span class="s3">function </span><span class="s1">baseWarn</span><span class="s2">(</span><span class="s1">msg</span><span class="s2">, </span><span class="s1">range</span><span class="s2">) {</span>
      <span class="s1">console</span><span class="s2">.</span><span class="s1">error</span><span class="s2">(</span><span class="s4">&quot;[Vue compiler]: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">msg</span><span class="s2">));</span>
  <span class="s2">}</span>
  <span class="s0">/* eslint-enable no-unused-vars */</span>
  <span class="s3">function </span><span class="s1">pluckModuleFunction</span><span class="s2">(</span><span class="s1">modules</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">modules </span><span class="s2">? </span><span class="s1">modules</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">m</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">m</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]; }).</span><span class="s1">filter</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">_</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">_</span><span class="s2">; }) : [];</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">addProp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">range</span><span class="s2">, </span><span class="s1">dynamic</span><span class="s2">) {</span>
      <span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">props </span><span class="s2">|| (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">props </span><span class="s2">= [])).</span><span class="s1">push</span><span class="s2">(</span><span class="s1">rangeSetItem</span><span class="s2">({ </span><span class="s1">name</span><span class="s2">: </span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">: </span><span class="s1">value</span><span class="s2">, </span><span class="s1">dynamic</span><span class="s2">: </span><span class="s1">dynamic </span><span class="s2">}, </span><span class="s1">range</span><span class="s2">));</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">plain </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">addAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">range</span><span class="s2">, </span><span class="s1">dynamic</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">attrs </span><span class="s2">= </span><span class="s1">dynamic</span>
          <span class="s2">? </span><span class="s1">el</span><span class="s2">.</span><span class="s1">dynamicAttrs </span><span class="s2">|| (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">dynamicAttrs </span><span class="s2">= [])</span>
          <span class="s2">: </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">|| (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">= []);</span>
      <span class="s1">attrs</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">rangeSetItem</span><span class="s2">({ </span><span class="s1">name</span><span class="s2">: </span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">: </span><span class="s1">value</span><span class="s2">, </span><span class="s1">dynamic</span><span class="s2">: </span><span class="s1">dynamic </span><span class="s2">}, </span><span class="s1">range</span><span class="s2">));</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">plain </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s0">// add a raw attr (use this in preTransforms)</span>
  <span class="s3">function </span><span class="s1">addRawAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">range</span><span class="s2">) {</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s1">name</span><span class="s2">] = </span><span class="s1">value</span><span class="s2">;</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">attrsList</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">rangeSetItem</span><span class="s2">({ </span><span class="s1">name</span><span class="s2">: </span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">: </span><span class="s1">value </span><span class="s2">}, </span><span class="s1">range</span><span class="s2">));</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">addDirective</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">rawName</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">arg</span><span class="s2">, </span><span class="s1">isDynamicArg</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">, </span><span class="s1">range</span><span class="s2">) {</span>
      <span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">directives </span><span class="s2">|| (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">directives </span><span class="s2">= [])).</span><span class="s1">push</span><span class="s2">(</span><span class="s1">rangeSetItem</span><span class="s2">({</span>
          <span class="s1">name</span><span class="s2">: </span><span class="s1">name</span><span class="s2">,</span>
          <span class="s1">rawName</span><span class="s2">: </span><span class="s1">rawName</span><span class="s2">,</span>
          <span class="s1">value</span><span class="s2">: </span><span class="s1">value</span><span class="s2">,</span>
          <span class="s1">arg</span><span class="s2">: </span><span class="s1">arg</span><span class="s2">,</span>
          <span class="s1">isDynamicArg</span><span class="s2">: </span><span class="s1">isDynamicArg</span><span class="s2">,</span>
          <span class="s1">modifiers</span><span class="s2">: </span><span class="s1">modifiers</span>
      <span class="s2">}, </span><span class="s1">range</span><span class="s2">));</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">plain </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">prependModifierMarker</span><span class="s2">(</span><span class="s1">symbol</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">dynamic</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">dynamic </span><span class="s2">? </span><span class="s4">&quot;_p(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;,</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">symbol</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">)&quot;</span><span class="s2">) : </span><span class="s1">symbol </span><span class="s2">+ </span><span class="s1">name</span><span class="s2">; </span><span class="s0">// mark the event as captured</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">addHandler</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">, </span><span class="s1">important</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">, </span><span class="s1">dynamic</span><span class="s2">) {</span>
      <span class="s1">modifiers </span><span class="s2">= </span><span class="s1">modifiers </span><span class="s2">|| </span><span class="s1">emptyObject</span><span class="s2">;</span>
      <span class="s0">// warn prevent and passive modifier</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">warn </span><span class="s2">&amp;&amp; </span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">prevent </span><span class="s2">&amp;&amp; </span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">passive</span><span class="s2">) {</span>
          <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;passive and prevent can't be used together. &quot; </span><span class="s2">+</span>
              <span class="s4">&quot;Passive handler can't prevent default event.&quot;</span><span class="s2">, </span><span class="s1">range</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// normalize click.right and click.middle since they don't actually fire</span>
      <span class="s0">// this is technically browser-specific, but at least for now browsers are</span>
      <span class="s0">// the only target envs that have right/middle clicks.</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">right</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">dynamic</span><span class="s2">) {</span>
              <span class="s1">name </span><span class="s2">= </span><span class="s4">&quot;(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;)==='click'?'contextmenu':(&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">name </span><span class="s2">=== </span><span class="s4">'click'</span><span class="s2">) {</span>
              <span class="s1">name </span><span class="s2">= </span><span class="s4">'contextmenu'</span><span class="s2">;</span>
              <span class="s3">delete </span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">right</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">middle</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">dynamic</span><span class="s2">) {</span>
              <span class="s1">name </span><span class="s2">= </span><span class="s4">&quot;(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;)==='click'?'mouseup':(&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">name </span><span class="s2">=== </span><span class="s4">'click'</span><span class="s2">) {</span>
              <span class="s1">name </span><span class="s2">= </span><span class="s4">'mouseup'</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// check capture modifier</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">capture</span><span class="s2">) {</span>
          <span class="s3">delete </span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">capture</span><span class="s2">;</span>
          <span class="s1">name </span><span class="s2">= </span><span class="s1">prependModifierMarker</span><span class="s2">(</span><span class="s4">'!'</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">dynamic</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">once</span><span class="s2">) {</span>
          <span class="s3">delete </span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">once</span><span class="s2">;</span>
          <span class="s1">name </span><span class="s2">= </span><span class="s1">prependModifierMarker</span><span class="s2">(</span><span class="s4">'~'</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">dynamic</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">passive</span><span class="s2">) {</span>
          <span class="s3">delete </span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">passive</span><span class="s2">;</span>
          <span class="s1">name </span><span class="s2">= </span><span class="s1">prependModifierMarker</span><span class="s2">(</span><span class="s4">'&amp;'</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">dynamic</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">events</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">native</span><span class="s2">) {</span>
          <span class="s3">delete </span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">native</span><span class="s2">;</span>
          <span class="s1">events </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">nativeEvents </span><span class="s2">|| (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">nativeEvents </span><span class="s2">= {});</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">events </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">events </span><span class="s2">|| (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">events </span><span class="s2">= {});</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">newHandler </span><span class="s2">= </span><span class="s1">rangeSetItem</span><span class="s2">({ </span><span class="s1">value</span><span class="s2">: </span><span class="s1">value</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">(), </span><span class="s1">dynamic</span><span class="s2">: </span><span class="s1">dynamic </span><span class="s2">}, </span><span class="s1">range</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers </span><span class="s2">!== </span><span class="s1">emptyObject</span><span class="s2">) {</span>
          <span class="s1">newHandler</span><span class="s2">.</span><span class="s1">modifiers </span><span class="s2">= </span><span class="s1">modifiers</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">handlers </span><span class="s2">= </span><span class="s1">events</span><span class="s2">[</span><span class="s1">name</span><span class="s2">];</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">Array</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">handlers</span><span class="s2">)) {</span>
          <span class="s1">important </span><span class="s2">? </span><span class="s1">handlers</span><span class="s2">.</span><span class="s1">unshift</span><span class="s2">(</span><span class="s1">newHandler</span><span class="s2">) : </span><span class="s1">handlers</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">newHandler</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">handlers</span><span class="s2">) {</span>
          <span class="s1">events</span><span class="s2">[</span><span class="s1">name</span><span class="s2">] = </span><span class="s1">important </span><span class="s2">? [</span><span class="s1">newHandler</span><span class="s2">, </span><span class="s1">handlers</span><span class="s2">] : [</span><span class="s1">handlers</span><span class="s2">, </span><span class="s1">newHandler</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">events</span><span class="s2">[</span><span class="s1">name</span><span class="s2">] = </span><span class="s1">newHandler</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">plain </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">getRawBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">':' </span><span class="s2">+ </span><span class="s1">name</span><span class="s2">] ||</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">'v-bind:' </span><span class="s2">+ </span><span class="s1">name</span><span class="s2">] ||</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s1">name</span><span class="s2">]);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">getStatic</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">dynamicValue </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">':' </span><span class="s2">+ </span><span class="s1">name</span><span class="s2">) || </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'v-bind:' </span><span class="s2">+ </span><span class="s1">name</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">dynamicValue </span><span class="s2">!= </span><span class="s3">null</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">parseFilters</span><span class="s2">(</span><span class="s1">dynamicValue</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">getStatic </span><span class="s2">!== </span><span class="s3">false</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">staticValue </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">staticValue </span><span class="s2">!= </span><span class="s3">null</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">staticValue</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s0">// note: this only removes the attr from the Array (attrsList) so that it</span>
  <span class="s0">// doesn't get processed by processAttrs.</span>
  <span class="s0">// By default it does NOT remove it from the map (attrsMap) because the map is</span>
  <span class="s0">// needed during codegen.</span>
  <span class="s3">function </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">removeFromMap</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">val</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">((</span><span class="s1">val </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s1">name</span><span class="s2">]) != </span><span class="s3">null</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">list </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsList</span><span class="s2">;</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">list</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">name </span><span class="s2">=== </span><span class="s1">name</span><span class="s2">) {</span>
                  <span class="s1">list</span><span class="s2">.</span><span class="s1">splice</span><span class="s2">(</span><span class="s1">i</span><span class="s2">, </span><span class="s6">1</span><span class="s2">);</span>
                  <span class="s3">break</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">removeFromMap</span><span class="s2">) {</span>
          <span class="s3">delete </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s1">name</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">val</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">getAndRemoveAttrByRegex</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">list </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsList</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">list</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">var </span><span class="s1">attr </span><span class="s2">= </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">name</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">attr</span><span class="s2">.</span><span class="s1">name</span><span class="s2">)) {</span>
              <span class="s1">list</span><span class="s2">.</span><span class="s1">splice</span><span class="s2">(</span><span class="s1">i</span><span class="s2">, </span><span class="s6">1</span><span class="s2">);</span>
              <span class="s3">return </span><span class="s1">attr</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">rangeSetItem</span><span class="s2">(</span><span class="s1">item</span><span class="s2">, </span><span class="s1">range</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">range</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">range</span><span class="s2">.</span><span class="s1">start </span><span class="s2">!= </span><span class="s3">null</span><span class="s2">) {</span>
              <span class="s1">item</span><span class="s2">.</span><span class="s1">start </span><span class="s2">= </span><span class="s1">range</span><span class="s2">.</span><span class="s1">start</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">range</span><span class="s2">.</span><span class="s1">end </span><span class="s2">!= </span><span class="s3">null</span><span class="s2">) {</span>
              <span class="s1">item</span><span class="s2">.</span><span class="s1">end </span><span class="s2">= </span><span class="s1">range</span><span class="s2">.</span><span class="s1">end</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">item</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Cross-platform code generation for component v-model</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">genComponentModel</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">_a </span><span class="s2">= </span><span class="s1">modifiers </span><span class="s2">|| {}, </span><span class="s1">number </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">number</span><span class="s2">, </span><span class="s1">trim </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">baseValueExpression </span><span class="s2">= </span><span class="s4">'$$v'</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">valueExpression </span><span class="s2">= </span><span class="s1">baseValueExpression</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">trim</span><span class="s2">) {</span>
          <span class="s1">valueExpression </span><span class="s2">=</span>
              <span class="s4">&quot;(typeof &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">baseValueExpression</span><span class="s2">, </span><span class="s4">&quot; === 'string'&quot;</span><span class="s2">) +</span>
                  <span class="s4">&quot;? &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">baseValueExpression</span><span class="s2">, </span><span class="s4">&quot;.trim()&quot;</span><span class="s2">) +</span>
                  <span class="s4">&quot;: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">baseValueExpression</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">number</span><span class="s2">) {</span>
          <span class="s1">valueExpression </span><span class="s2">= </span><span class="s4">&quot;_n(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">valueExpression</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">assignment </span><span class="s2">= </span><span class="s1">genAssignmentCode</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">valueExpression</span><span class="s2">);</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">model </span><span class="s2">= {</span>
          <span class="s1">value</span><span class="s2">: </span><span class="s4">&quot;(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">),</span>
          <span class="s1">expression</span><span class="s2">: </span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">value</span><span class="s2">),</span>
          <span class="s1">callback</span><span class="s2">: </span><span class="s4">&quot;function (&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">baseValueExpression</span><span class="s2">, </span><span class="s4">&quot;) {&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">assignment</span><span class="s2">, </span><span class="s4">&quot;}&quot;</span><span class="s2">)</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Cross-platform codegen helper for generating v-model value assignment code.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">genAssignmentCode</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">assignment</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s1">parseModel</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">res</span><span class="s2">.</span><span class="s1">key </span><span class="s2">=== </span><span class="s3">null</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;=&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">assignment</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s4">&quot;$set(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">res</span><span class="s2">.</span><span class="s1">exp</span><span class="s2">, </span><span class="s4">&quot;, &quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">res</span><span class="s2">.</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;, &quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">assignment</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Parse a v-model expression into a base path and a final key segment.</span>
   <span class="s5">* Handles both dot-path and possible square brackets.</span>
   <span class="s5">*</span>
   <span class="s5">* Possible cases:</span>
   <span class="s5">*</span>
   <span class="s5">* - test</span>
   <span class="s5">* - test[key]</span>
   <span class="s5">* - test[test1[key]]</span>
   <span class="s5">* - test[&quot;a&quot;][key]</span>
   <span class="s5">* - xxx.test[a[a].test1[key]]</span>
   <span class="s5">* - test.xxx.a[&quot;asa&quot;][test1[key]]</span>
   <span class="s5">*</span>
   <span class="s5">*/</span>
  <span class="s3">var </span><span class="s1">len</span><span class="s2">, </span><span class="s1">str</span><span class="s2">, </span><span class="s1">chr</span><span class="s2">, </span><span class="s1">index</span><span class="s2">, </span><span class="s1">expressionPos</span><span class="s2">, </span><span class="s1">expressionEndPos</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">parseModel</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s0">// Fix https://github.com/vuejs/vue/pull/7730</span>
      <span class="s0">// allow v-model=&quot;obj.val &quot; (trailing whitespace)</span>
      <span class="s1">val </span><span class="s2">= </span><span class="s1">val</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">();</span>
      <span class="s1">len </span><span class="s2">= </span><span class="s1">val</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">val</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'['</span><span class="s2">) &lt; </span><span class="s6">0 </span><span class="s2">|| </span><span class="s1">val</span><span class="s2">.</span><span class="s1">lastIndexOf</span><span class="s2">(</span><span class="s4">']'</span><span class="s2">) &lt; </span><span class="s1">len </span><span class="s2">- </span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s1">index </span><span class="s2">= </span><span class="s1">val</span><span class="s2">.</span><span class="s1">lastIndexOf</span><span class="s2">(</span><span class="s4">'.'</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">index </span><span class="s2">&gt; -</span><span class="s6">1</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s2">{</span>
                  <span class="s1">exp</span><span class="s2">: </span><span class="s1">val</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, </span><span class="s1">index</span><span class="s2">),</span>
                  <span class="s1">key</span><span class="s2">: </span><span class="s4">'&quot;' </span><span class="s2">+ </span><span class="s1">val</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s1">index </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">) + </span><span class="s4">'&quot;'</span>
              <span class="s2">};</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">return </span><span class="s2">{</span>
                  <span class="s1">exp</span><span class="s2">: </span><span class="s1">val</span><span class="s2">,</span>
                  <span class="s1">key</span><span class="s2">: </span><span class="s3">null</span>
              <span class="s2">};</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s1">str </span><span class="s2">= </span><span class="s1">val</span><span class="s2">;</span>
      <span class="s1">index </span><span class="s2">= </span><span class="s1">expressionPos </span><span class="s2">= </span><span class="s1">expressionEndPos </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">while </span><span class="s2">(!</span><span class="s1">eof</span><span class="s2">()) {</span>
          <span class="s1">chr </span><span class="s2">= </span><span class="s1">next</span><span class="s2">();</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isStringStart</span><span class="s2">(</span><span class="s1">chr</span><span class="s2">)) {</span>
              <span class="s1">parseString</span><span class="s2">(</span><span class="s1">chr</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">chr </span><span class="s2">=== </span><span class="s6">0x5b</span><span class="s2">) {</span>
              <span class="s1">parseBracket</span><span class="s2">(</span><span class="s1">chr</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s2">{</span>
          <span class="s1">exp</span><span class="s2">: </span><span class="s1">val</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, </span><span class="s1">expressionPos</span><span class="s2">),</span>
          <span class="s1">key</span><span class="s2">: </span><span class="s1">val</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s1">expressionPos </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">, </span><span class="s1">expressionEndPos</span><span class="s2">)</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">next</span><span class="s2">() {</span>
      <span class="s3">return </span><span class="s1">str</span><span class="s2">.</span><span class="s1">charCodeAt</span><span class="s2">(++</span><span class="s1">index</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">eof</span><span class="s2">() {</span>
      <span class="s3">return </span><span class="s1">index </span><span class="s2">&gt;= </span><span class="s1">len</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isStringStart</span><span class="s2">(</span><span class="s1">chr</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">chr </span><span class="s2">=== </span><span class="s6">0x22 </span><span class="s2">|| </span><span class="s1">chr </span><span class="s2">=== </span><span class="s6">0x27</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">parseBracket</span><span class="s2">(</span><span class="s1">chr</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">inBracket </span><span class="s2">= </span><span class="s6">1</span><span class="s2">;</span>
      <span class="s1">expressionPos </span><span class="s2">= </span><span class="s1">index</span><span class="s2">;</span>
      <span class="s3">while </span><span class="s2">(!</span><span class="s1">eof</span><span class="s2">()) {</span>
          <span class="s1">chr </span><span class="s2">= </span><span class="s1">next</span><span class="s2">();</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isStringStart</span><span class="s2">(</span><span class="s1">chr</span><span class="s2">)) {</span>
              <span class="s1">parseString</span><span class="s2">(</span><span class="s1">chr</span><span class="s2">);</span>
              <span class="s3">continue</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">chr </span><span class="s2">=== </span><span class="s6">0x5b</span><span class="s2">)</span>
              <span class="s1">inBracket</span><span class="s2">++;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">chr </span><span class="s2">=== </span><span class="s6">0x5d</span><span class="s2">)</span>
              <span class="s1">inBracket</span><span class="s2">--;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">inBracket </span><span class="s2">=== </span><span class="s6">0</span><span class="s2">) {</span>
              <span class="s1">expressionEndPos </span><span class="s2">= </span><span class="s1">index</span><span class="s2">;</span>
              <span class="s3">break</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">parseString</span><span class="s2">(</span><span class="s1">chr</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">stringQuote </span><span class="s2">= </span><span class="s1">chr</span><span class="s2">;</span>
      <span class="s3">while </span><span class="s2">(!</span><span class="s1">eof</span><span class="s2">()) {</span>
          <span class="s1">chr </span><span class="s2">= </span><span class="s1">next</span><span class="s2">();</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">chr </span><span class="s2">=== </span><span class="s1">stringQuote</span><span class="s2">) {</span>
              <span class="s3">break</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">warn$1</span><span class="s2">;</span>
  <span class="s0">// in some cases, the event used has to be determined at runtime</span>
  <span class="s0">// so we used some reserved tokens during compile.</span>
  <span class="s3">var </span><span class="s1">RANGE_TOKEN </span><span class="s2">= </span><span class="s4">'__r'</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">CHECKBOX_RADIO_TOKEN </span><span class="s2">= </span><span class="s4">'__c'</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">model$1</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">dir</span><span class="s2">, </span><span class="s1">_warn</span><span class="s2">) {</span>
      <span class="s1">warn$1 </span><span class="s2">= </span><span class="s1">_warn</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">modifiers </span><span class="s2">= </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">modifiers</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">tag </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">type </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">.</span><span class="s1">type</span><span class="s2">;</span>
      <span class="s2">{</span>
          <span class="s0">// inputs with type=&quot;file&quot; are read only and setting the input's</span>
          <span class="s0">// value will throw an error.</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'input' </span><span class="s2">&amp;&amp; </span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'file'</span><span class="s2">) {</span>
              <span class="s1">warn$1</span><span class="s2">(</span><span class="s4">&quot;&lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot; v-model=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">type=</span><span class="s3">\&quot;</span><span class="s4">file</span><span class="s3">\&quot;</span><span class="s4">&gt;:</span><span class="s3">\n</span><span class="s4">&quot;</span><span class="s2">) +</span>
                  <span class="s4">&quot;File inputs are read only. Use a v-on:change listener instead.&quot;</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">'v-model'</span><span class="s2">]);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">component</span><span class="s2">) {</span>
          <span class="s1">genComponentModel</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">);</span>
          <span class="s0">// component v-model doesn't need extra runtime</span>
          <span class="s3">return false</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'select'</span><span class="s2">) {</span>
          <span class="s1">genSelect</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'input' </span><span class="s2">&amp;&amp; </span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'checkbox'</span><span class="s2">) {</span>
          <span class="s1">genCheckboxModel</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'input' </span><span class="s2">&amp;&amp; </span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'radio'</span><span class="s2">) {</span>
          <span class="s1">genRadioModel</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'input' </span><span class="s2">|| </span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'textarea'</span><span class="s2">) {</span>
          <span class="s1">genDefaultModel</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(!</span><span class="s1">config</span><span class="s2">.</span><span class="s1">isReservedTag</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">)) {</span>
          <span class="s1">genComponentModel</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">);</span>
          <span class="s0">// component v-model doesn't need extra runtime</span>
          <span class="s3">return false</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">warn$1</span><span class="s2">(</span><span class="s4">&quot;&lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot; v-model=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&gt;: &quot;</span><span class="s2">) +</span>
              <span class="s4">&quot;v-model is not supported on this element type. &quot; </span><span class="s2">+</span>
              <span class="s4">&quot;If you are working with contenteditable, it's recommended to &quot; </span><span class="s2">+</span>
              <span class="s4">'wrap a library dedicated for that purpose inside a custom component.'</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">'v-model'</span><span class="s2">]);</span>
      <span class="s2">}</span>
      <span class="s0">// ensure runtime directive metadata</span>
      <span class="s3">return true</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genCheckboxModel</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">number </span><span class="s2">= </span><span class="s1">modifiers </span><span class="s2">&amp;&amp; </span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">number</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">valueBinding </span><span class="s2">= </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'value'</span><span class="s2">) || </span><span class="s4">'null'</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">trueValueBinding </span><span class="s2">= </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'true-value'</span><span class="s2">) || </span><span class="s4">'true'</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">falseValueBinding </span><span class="s2">= </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'false-value'</span><span class="s2">) || </span><span class="s4">'false'</span><span class="s2">;</span>
      <span class="s1">addProp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'checked'</span><span class="s2">, </span><span class="s4">&quot;Array.isArray(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">) +</span>
          <span class="s4">&quot;?_i(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">valueBinding</span><span class="s2">, </span><span class="s4">&quot;)&gt;-1&quot;</span><span class="s2">) +</span>
          <span class="s2">(</span><span class="s1">trueValueBinding </span><span class="s2">=== </span><span class="s4">'true'</span>
              <span class="s2">? </span><span class="s4">&quot;:(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">)</span>
              <span class="s2">: </span><span class="s4">&quot;:_q(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">trueValueBinding</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">)));</span>
      <span class="s1">addHandler</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'change'</span><span class="s2">, </span><span class="s4">&quot;var $$a=&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">) +</span>
          <span class="s4">'$$el=$event.target,' </span><span class="s2">+</span>
          <span class="s4">&quot;$$c=$$el.checked?(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">trueValueBinding</span><span class="s2">, </span><span class="s4">&quot;):(&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">falseValueBinding</span><span class="s2">, </span><span class="s4">&quot;);&quot;</span><span class="s2">) +</span>
          <span class="s4">'if(Array.isArray($$a)){' </span><span class="s2">+</span>
          <span class="s4">&quot;var $$v=&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">number </span><span class="s2">? </span><span class="s4">'_n(' </span><span class="s2">+ </span><span class="s1">valueBinding </span><span class="s2">+ </span><span class="s4">')' </span><span class="s2">: </span><span class="s1">valueBinding</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">) +</span>
          <span class="s4">'$$i=_i($$a,$$v);' </span><span class="s2">+</span>
          <span class="s4">&quot;if($$el.checked){$$i&lt;0&amp;&amp;(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genAssignmentCode</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">'$$a.concat([$$v])'</span><span class="s2">), </span><span class="s4">&quot;)}&quot;</span><span class="s2">) +</span>
          <span class="s4">&quot;else{$$i&gt;-1&amp;&amp;(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genAssignmentCode</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">'$$a.slice(0,$$i).concat($$a.slice($$i+1))'</span><span class="s2">), </span><span class="s4">&quot;)}&quot;</span><span class="s2">) +</span>
          <span class="s4">&quot;}else{&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genAssignmentCode</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">'$$c'</span><span class="s2">), </span><span class="s4">&quot;}&quot;</span><span class="s2">), </span><span class="s3">null</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genRadioModel</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">number </span><span class="s2">= </span><span class="s1">modifiers </span><span class="s2">&amp;&amp; </span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">number</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">valueBinding </span><span class="s2">= </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'value'</span><span class="s2">) || </span><span class="s4">'null'</span><span class="s2">;</span>
      <span class="s1">valueBinding </span><span class="s2">= </span><span class="s1">number </span><span class="s2">? </span><span class="s4">&quot;_n(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">valueBinding</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">) : </span><span class="s1">valueBinding</span><span class="s2">;</span>
      <span class="s1">addProp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'checked'</span><span class="s2">, </span><span class="s4">&quot;_q(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">valueBinding</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">));</span>
      <span class="s1">addHandler</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'change'</span><span class="s2">, </span><span class="s1">genAssignmentCode</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">valueBinding</span><span class="s2">), </span><span class="s3">null</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genSelect</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">number </span><span class="s2">= </span><span class="s1">modifiers </span><span class="s2">&amp;&amp; </span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">number</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">selectedVal </span><span class="s2">= </span><span class="s4">&quot;Array.prototype.filter&quot; </span><span class="s2">+</span>
          <span class="s4">&quot;.call($event.target.options,function(o){return o.selected})&quot; </span><span class="s2">+</span>
          <span class="s4">&quot;.map(function(o){var val = </span><span class="s3">\&quot;</span><span class="s4">_value</span><span class="s3">\&quot; </span><span class="s4">in o ? o._value : o.value;&quot; </span><span class="s2">+</span>
          <span class="s4">&quot;return &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">number </span><span class="s2">? </span><span class="s4">'_n(val)' </span><span class="s2">: </span><span class="s4">'val'</span><span class="s2">, </span><span class="s4">&quot;})&quot;</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">assignment </span><span class="s2">= </span><span class="s4">'$event.target.multiple ? $$selectedVal : $$selectedVal[0]'</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">code </span><span class="s2">= </span><span class="s4">&quot;var $$selectedVal = &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">selectedVal</span><span class="s2">, </span><span class="s4">&quot;;&quot;</span><span class="s2">);</span>
      <span class="s1">code </span><span class="s2">= </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">code</span><span class="s2">, </span><span class="s4">&quot; &quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genAssignmentCode</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">assignment</span><span class="s2">));</span>
      <span class="s1">addHandler</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'change'</span><span class="s2">, </span><span class="s1">code</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genDefaultModel</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">type </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">.</span><span class="s1">type</span><span class="s2">;</span>
      <span class="s0">// warn if v-bind:value conflicts with v-model</span>
      <span class="s0">// except for inputs with v-bind:type</span>
      <span class="s2">{</span>
          <span class="s3">var </span><span class="s1">value_1 </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">'v-bind:value'</span><span class="s2">] || </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">':value'</span><span class="s2">];</span>
          <span class="s3">var </span><span class="s1">typeBinding </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">'v-bind:type'</span><span class="s2">] || </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">':type'</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">value_1 </span><span class="s2">&amp;&amp; !</span><span class="s1">typeBinding</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">binding </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">'v-bind:value'</span><span class="s2">] ? </span><span class="s4">'v-bind:value' </span><span class="s2">: </span><span class="s4">':value'</span><span class="s2">;</span>
              <span class="s1">warn$1</span><span class="s2">(</span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">binding</span><span class="s2">, </span><span class="s4">&quot;=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value_1</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">conflicts with v-model on the same element &quot;</span><span class="s2">) +</span>
                  <span class="s4">'because the latter already expands to a value binding internally'</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s1">binding</span><span class="s2">]);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">_a </span><span class="s2">= </span><span class="s1">modifiers </span><span class="s2">|| {}, </span><span class="s1">lazy </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">lazy</span><span class="s2">, </span><span class="s1">number </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">number</span><span class="s2">, </span><span class="s1">trim </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">needCompositionGuard </span><span class="s2">= !</span><span class="s1">lazy </span><span class="s2">&amp;&amp; </span><span class="s1">type </span><span class="s2">!== </span><span class="s4">'range'</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">event </span><span class="s2">= </span><span class="s1">lazy </span><span class="s2">? </span><span class="s4">'change' </span><span class="s2">: </span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'range' </span><span class="s2">? </span><span class="s1">RANGE_TOKEN </span><span class="s2">: </span><span class="s4">'input'</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">valueExpression </span><span class="s2">= </span><span class="s4">'$event.target.value'</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">trim</span><span class="s2">) {</span>
          <span class="s1">valueExpression </span><span class="s2">= </span><span class="s4">&quot;$event.target.value.trim()&quot;</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">number</span><span class="s2">) {</span>
          <span class="s1">valueExpression </span><span class="s2">= </span><span class="s4">&quot;_n(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">valueExpression</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">code </span><span class="s2">= </span><span class="s1">genAssignmentCode</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">valueExpression</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">needCompositionGuard</span><span class="s2">) {</span>
          <span class="s1">code </span><span class="s2">= </span><span class="s4">&quot;if($event.target.composing)return;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">code</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s1">addProp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'value'</span><span class="s2">, </span><span class="s4">&quot;(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">));</span>
      <span class="s1">addHandler</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">event</span><span class="s2">, </span><span class="s1">code</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">trim </span><span class="s2">|| </span><span class="s1">number</span><span class="s2">) {</span>
          <span class="s1">addHandler</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'blur'</span><span class="s2">, </span><span class="s4">'$forceUpdate()'</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s0">// normalize v-model event tokens that can only be determined at runtime.</span>
  <span class="s0">// it's important to place the event as the first in the array because</span>
  <span class="s0">// the whole point is ensuring the v-model callback gets called before</span>
  <span class="s0">// user-attached handlers.</span>
  <span class="s3">function </span><span class="s1">normalizeEvents</span><span class="s2">(</span><span class="s1">on</span><span class="s2">) {</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">on</span><span class="s2">[</span><span class="s1">RANGE_TOKEN</span><span class="s2">])) {</span>
          <span class="s0">// IE input[type=range] only supports `change` event</span>
          <span class="s3">var </span><span class="s1">event_1 </span><span class="s2">= </span><span class="s1">isIE </span><span class="s2">? </span><span class="s4">'change' </span><span class="s2">: </span><span class="s4">'input'</span><span class="s2">;</span>
          <span class="s1">on</span><span class="s2">[</span><span class="s1">event_1</span><span class="s2">] = [].</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">on</span><span class="s2">[</span><span class="s1">RANGE_TOKEN</span><span class="s2">], </span><span class="s1">on</span><span class="s2">[</span><span class="s1">event_1</span><span class="s2">] || []);</span>
          <span class="s3">delete </span><span class="s1">on</span><span class="s2">[</span><span class="s1">RANGE_TOKEN</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s0">// This was originally intended to fix #4521 but no longer necessary</span>
      <span class="s0">// after 2.5. Keeping it for backwards compat with generated code from &lt; 2.4</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">on</span><span class="s2">[</span><span class="s1">CHECKBOX_RADIO_TOKEN</span><span class="s2">])) {</span>
          <span class="s1">on</span><span class="s2">.</span><span class="s1">change </span><span class="s2">= [].</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">on</span><span class="s2">[</span><span class="s1">CHECKBOX_RADIO_TOKEN</span><span class="s2">], </span><span class="s1">on</span><span class="s2">.</span><span class="s1">change </span><span class="s2">|| []);</span>
          <span class="s3">delete </span><span class="s1">on</span><span class="s2">[</span><span class="s1">CHECKBOX_RADIO_TOKEN</span><span class="s2">];</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">target</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">createOnceHandler</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">handler</span><span class="s2">, </span><span class="s1">capture</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">_target </span><span class="s2">= </span><span class="s1">target</span><span class="s2">; </span><span class="s0">// save current target element in closure</span>
      <span class="s3">return function </span><span class="s1">onceHandler</span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s1">handler</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s3">null</span><span class="s2">, </span><span class="s1">arguments</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">res </span><span class="s2">!== </span><span class="s3">null</span><span class="s2">) {</span>
              <span class="s1">remove</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">onceHandler</span><span class="s2">, </span><span class="s1">capture</span><span class="s2">, </span><span class="s1">_target</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s0">// #9446: Firefox &lt;= 53 (in particular, ESR 52) has incorrect Event.timeStamp</span>
  <span class="s0">// implementation and does not fire microtasks in between event propagation, so</span>
  <span class="s0">// safe to exclude.</span>
  <span class="s3">var </span><span class="s1">useMicrotaskFix </span><span class="s2">= </span><span class="s1">isUsingMicroTask </span><span class="s2">&amp;&amp; !(</span><span class="s1">isFF </span><span class="s2">&amp;&amp; </span><span class="s1">Number</span><span class="s2">(</span><span class="s1">isFF</span><span class="s2">[</span><span class="s6">1</span><span class="s2">]) &lt;= </span><span class="s6">53</span><span class="s2">);</span>
  <span class="s3">function </span><span class="s1">add</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s1">handler</span><span class="s2">, </span><span class="s1">capture</span><span class="s2">, </span><span class="s1">passive</span><span class="s2">) {</span>
      <span class="s0">// async edge case #6566: inner click event triggers patch, event handler</span>
      <span class="s0">// attached to outer element during patch, and triggered again. This</span>
      <span class="s0">// happens because browsers fire microtask ticks between event propagation.</span>
      <span class="s0">// the solution is simple: we save the timestamp when a handler is attached,</span>
      <span class="s0">// and the handler would only fire if the event passed to it was fired</span>
      <span class="s0">// AFTER it was attached.</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">useMicrotaskFix</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">attachedTimestamp_1 </span><span class="s2">= </span><span class="s1">currentFlushTimestamp</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">original_1 </span><span class="s2">= </span><span class="s1">handler</span><span class="s2">;</span>
          <span class="s0">//@ts-expect-error</span>
          <span class="s1">handler </span><span class="s2">= </span><span class="s1">original_1</span><span class="s2">.</span><span class="s1">_wrapper </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span>
              <span class="s0">// no bubbling, should always fire.</span>
              <span class="s0">// this is just a safety net in case event.timeStamp is unreliable in</span>
              <span class="s0">// certain weird environments...</span>
              <span class="s1">e</span><span class="s2">.</span><span class="s1">target </span><span class="s2">=== </span><span class="s1">e</span><span class="s2">.</span><span class="s1">currentTarget </span><span class="s2">||</span>
                  <span class="s0">// event is fired after handler attachment</span>
                  <span class="s1">e</span><span class="s2">.</span><span class="s1">timeStamp </span><span class="s2">&gt;= </span><span class="s1">attachedTimestamp_1 </span><span class="s2">||</span>
                  <span class="s0">// bail for environments that have buggy event.timeStamp implementations</span>
                  <span class="s0">// #9462 iOS 9 bug: event.timeStamp is 0 after history.pushState</span>
                  <span class="s0">// #9681 QtWebEngine event.timeStamp is negative value</span>
                  <span class="s1">e</span><span class="s2">.</span><span class="s1">timeStamp </span><span class="s2">&lt;= </span><span class="s6">0 </span><span class="s2">||</span>
                  <span class="s0">// #9448 bail if event is fired in another document in a multi-page</span>
                  <span class="s0">// electron/nw.js app, since event.timeStamp will be using a different</span>
                  <span class="s0">// starting reference</span>
                  <span class="s1">e</span><span class="s2">.</span><span class="s1">target</span><span class="s2">.</span><span class="s1">ownerDocument </span><span class="s2">!== </span><span class="s1">document</span><span class="s2">) {</span>
                  <span class="s3">return </span><span class="s1">original_1</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s3">this</span><span class="s2">, </span><span class="s1">arguments</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
      <span class="s1">target</span><span class="s2">.</span><span class="s1">addEventListener</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s1">handler</span><span class="s2">, </span><span class="s1">supportsPassive </span><span class="s2">? { </span><span class="s1">capture</span><span class="s2">: </span><span class="s1">capture</span><span class="s2">, </span><span class="s1">passive</span><span class="s2">: </span><span class="s1">passive </span><span class="s2">} : </span><span class="s1">capture</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">remove</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s1">handler</span><span class="s2">, </span><span class="s1">capture</span><span class="s2">, </span><span class="s1">_target</span><span class="s2">) {</span>
      <span class="s2">(</span><span class="s1">_target </span><span class="s2">|| </span><span class="s1">target</span><span class="s2">).</span><span class="s1">removeEventListener</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span>
      <span class="s0">//@ts-expect-error</span>
      <span class="s1">handler</span><span class="s2">.</span><span class="s1">_wrapper </span><span class="s2">|| </span><span class="s1">handler</span><span class="s2">, </span><span class="s1">capture</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">updateDOMListeners</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">on</span><span class="s2">) &amp;&amp; </span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">on</span><span class="s2">)) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">on </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">on </span><span class="s2">|| {};</span>
      <span class="s3">var </span><span class="s1">oldOn </span><span class="s2">= </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">on </span><span class="s2">|| {};</span>
      <span class="s0">// vnode is empty when removing all listeners,</span>
      <span class="s0">// and use old vnode dom element</span>
      <span class="s1">target </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm </span><span class="s2">|| </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">;</span>
      <span class="s1">normalizeEvents</span><span class="s2">(</span><span class="s1">on</span><span class="s2">);</span>
      <span class="s1">updateListeners</span><span class="s2">(</span><span class="s1">on</span><span class="s2">, </span><span class="s1">oldOn</span><span class="s2">, </span><span class="s1">add</span><span class="s2">, </span><span class="s1">remove</span><span class="s2">, </span><span class="s1">createOnceHandler</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">);</span>
      <span class="s1">target </span><span class="s2">= </span><span class="s1">undefined</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">events </span><span class="s2">= {</span>
      <span class="s1">create</span><span class="s2">: </span><span class="s1">updateDOMListeners</span><span class="s2">,</span>
      <span class="s1">update</span><span class="s2">: </span><span class="s1">updateDOMListeners</span><span class="s2">,</span>
      <span class="s0">// @ts-expect-error emptyNode has actually data</span>
      <span class="s1">destroy</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">updateDOMListeners</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">emptyNode</span><span class="s2">); }</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">svgContainer</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">updateDOMProps</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">domProps</span><span class="s2">) &amp;&amp; </span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">domProps</span><span class="s2">)) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">key</span><span class="s2">, </span><span class="s1">cur</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">elm </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">oldProps </span><span class="s2">= </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">domProps </span><span class="s2">|| {};</span>
      <span class="s3">var </span><span class="s1">props </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">domProps </span><span class="s2">|| {};</span>
      <span class="s0">// clone observed objects, as the user probably wants to mutate it</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">props</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">) || </span><span class="s1">isTrue</span><span class="s2">(</span><span class="s1">props</span><span class="s2">.</span><span class="s1">_v_attr_proxy</span><span class="s2">)) {</span>
          <span class="s1">props </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">domProps </span><span class="s2">= </span><span class="s1">extend</span><span class="s2">({}, </span><span class="s1">props</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">oldProps</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">props</span><span class="s2">)) {</span>
              <span class="s1">elm</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s4">''</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">key </span><span class="s3">in </span><span class="s1">props</span><span class="s2">) {</span>
          <span class="s1">cur </span><span class="s2">= </span><span class="s1">props</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s0">// ignore children if the node has textContent or innerHTML,</span>
          <span class="s0">// as these will throw away existing DOM nodes and cause removal errors</span>
          <span class="s0">// on subsequent patches (#3360)</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'textContent' </span><span class="s2">|| </span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'innerHTML'</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">)</span>
                  <span class="s1">vnode</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">cur </span><span class="s2">=== </span><span class="s1">oldProps</span><span class="s2">[</span><span class="s1">key</span><span class="s2">])</span>
                  <span class="s3">continue</span><span class="s2">;</span>
              <span class="s0">// #6601 work around Chrome version &lt;= 55 bug where single textNode</span>
              <span class="s0">// replaced by innerHTML/textContent retains its parentNode property</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">childNodes</span><span class="s2">.</span><span class="s1">length </span><span class="s2">=== </span><span class="s6">1</span><span class="s2">) {</span>
                  <span class="s1">elm</span><span class="s2">.</span><span class="s1">removeChild</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">childNodes</span><span class="s2">[</span><span class="s6">0</span><span class="s2">]);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'value' </span><span class="s2">&amp;&amp; </span><span class="s1">elm</span><span class="s2">.</span><span class="s1">tagName </span><span class="s2">!== </span><span class="s4">'PROGRESS'</span><span class="s2">) {</span>
              <span class="s0">// store value as _value as well since</span>
              <span class="s0">// non-string values will be stringified</span>
              <span class="s1">elm</span><span class="s2">.</span><span class="s1">_value </span><span class="s2">= </span><span class="s1">cur</span><span class="s2">;</span>
              <span class="s0">// avoid resetting cursor position when value is the same</span>
              <span class="s3">var </span><span class="s1">strCur </span><span class="s2">= </span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">cur</span><span class="s2">) ? </span><span class="s4">'' </span><span class="s2">: </span><span class="s1">String</span><span class="s2">(</span><span class="s1">cur</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">shouldUpdateValue</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">strCur</span><span class="s2">)) {</span>
                  <span class="s1">elm</span><span class="s2">.</span><span class="s1">value </span><span class="s2">= </span><span class="s1">strCur</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'innerHTML' </span><span class="s2">&amp;&amp;</span>
              <span class="s1">isSVG</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">tagName</span><span class="s2">) &amp;&amp;</span>
              <span class="s1">isUndef</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">innerHTML</span><span class="s2">)) {</span>
              <span class="s0">// IE doesn't support innerHTML for SVG elements</span>
              <span class="s1">svgContainer </span><span class="s2">= </span><span class="s1">svgContainer </span><span class="s2">|| </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createElement</span><span class="s2">(</span><span class="s4">'div'</span><span class="s2">);</span>
              <span class="s1">svgContainer</span><span class="s2">.</span><span class="s1">innerHTML </span><span class="s2">= </span><span class="s4">&quot;&lt;svg&gt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">cur</span><span class="s2">, </span><span class="s4">&quot;&lt;/svg&gt;&quot;</span><span class="s2">);</span>
              <span class="s3">var </span><span class="s1">svg </span><span class="s2">= </span><span class="s1">svgContainer</span><span class="s2">.</span><span class="s1">firstChild</span><span class="s2">;</span>
              <span class="s3">while </span><span class="s2">(</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">firstChild</span><span class="s2">) {</span>
                  <span class="s1">elm</span><span class="s2">.</span><span class="s1">removeChild</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">firstChild</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">while </span><span class="s2">(</span><span class="s1">svg</span><span class="s2">.</span><span class="s1">firstChild</span><span class="s2">) {</span>
                  <span class="s1">elm</span><span class="s2">.</span><span class="s1">appendChild</span><span class="s2">(</span><span class="s1">svg</span><span class="s2">.</span><span class="s1">firstChild</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span>
          <span class="s0">// skip the update if old and new VDOM state is the same.</span>
          <span class="s0">// `value` is handled separately because the DOM value may be temporarily</span>
          <span class="s0">// out of sync with VDOM state due to focus, composition and modifiers.</span>
          <span class="s0">// This  #4521 by skipping the unnecessary `checked` update.</span>
          <span class="s1">cur </span><span class="s2">!== </span><span class="s1">oldProps</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]) {</span>
              <span class="s0">// some property updates can throw</span>
              <span class="s0">// e.g. `value` on &lt;progress&gt; w/ non-finite value</span>
              <span class="s3">try </span><span class="s2">{</span>
                  <span class="s1">elm</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">cur</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) { }</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">shouldUpdateValue</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">checkVal</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">(</span>
      <span class="s0">//@ts-expect-error</span>
      <span class="s2">!</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">composing </span><span class="s2">&amp;&amp;</span>
          <span class="s2">(</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">tagName </span><span class="s2">=== </span><span class="s4">'OPTION' </span><span class="s2">||</span>
              <span class="s1">isNotInFocusAndDirty</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">checkVal</span><span class="s2">) ||</span>
              <span class="s1">isDirtyWithModifiers</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">checkVal</span><span class="s2">)));</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isNotInFocusAndDirty</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">checkVal</span><span class="s2">) {</span>
      <span class="s0">// return true when textbox (.number and .trim) loses focus and its value is</span>
      <span class="s0">// not equal to the updated value</span>
      <span class="s3">var </span><span class="s1">notInFocus </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s0">// #6157</span>
      <span class="s0">// work around IE bug when accessing document.activeElement in an iframe</span>
      <span class="s3">try </span><span class="s2">{</span>
          <span class="s1">notInFocus </span><span class="s2">= </span><span class="s1">document</span><span class="s2">.</span><span class="s1">activeElement </span><span class="s2">!== </span><span class="s1">elm</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) { }</span>
      <span class="s3">return </span><span class="s1">notInFocus </span><span class="s2">&amp;&amp; </span><span class="s1">elm</span><span class="s2">.</span><span class="s1">value </span><span class="s2">!== </span><span class="s1">checkVal</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isDirtyWithModifiers</span><span class="s2">(</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">newVal</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">elm</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">modifiers </span><span class="s2">= </span><span class="s1">elm</span><span class="s2">.</span><span class="s1">_vModifiers</span><span class="s2">; </span><span class="s0">// injected by v-model runtime</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">)) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">number</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">toNumber</span><span class="s2">(</span><span class="s1">value</span><span class="s2">) !== </span><span class="s1">toNumber</span><span class="s2">(</span><span class="s1">newVal</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">value</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">() !== </span><span class="s1">newVal</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">();</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">value </span><span class="s2">!== </span><span class="s1">newVal</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">domProps </span><span class="s2">= {</span>
      <span class="s1">create</span><span class="s2">: </span><span class="s1">updateDOMProps</span><span class="s2">,</span>
      <span class="s1">update</span><span class="s2">: </span><span class="s1">updateDOMProps</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">parseStyleText </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">cssText</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= {};</span>
      <span class="s3">var </span><span class="s1">listDelimiter </span><span class="s2">= </span><span class="s7">/;(?![^(]*\))/g</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">propertyDelimiter </span><span class="s2">= </span><span class="s7">/:(.+)/</span><span class="s2">;</span>
      <span class="s1">cssText</span><span class="s2">.</span><span class="s1">split</span><span class="s2">(</span><span class="s1">listDelimiter</span><span class="s2">).</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">item</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">item</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">tmp </span><span class="s2">= </span><span class="s1">item</span><span class="s2">.</span><span class="s1">split</span><span class="s2">(</span><span class="s1">propertyDelimiter</span><span class="s2">);</span>
              <span class="s1">tmp</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&gt; </span><span class="s6">1 </span><span class="s2">&amp;&amp; (</span><span class="s1">res</span><span class="s2">[</span><span class="s1">tmp</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">trim</span><span class="s2">()] = </span><span class="s1">tmp</span><span class="s2">[</span><span class="s6">1</span><span class="s2">].</span><span class="s1">trim</span><span class="s2">());</span>
          <span class="s2">}</span>
      <span class="s2">});</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">});</span>
  <span class="s0">// merge static and dynamic style data on the same vnode</span>
  <span class="s3">function </span><span class="s1">normalizeStyleData</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">style </span><span class="s2">= </span><span class="s1">normalizeStyleBinding</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">style</span><span class="s2">);</span>
      <span class="s0">// static style is pre-processed into an object during compilation</span>
      <span class="s0">// and is always a fresh object, so it's safe to merge into it</span>
      <span class="s3">return </span><span class="s1">data</span><span class="s2">.</span><span class="s1">staticStyle </span><span class="s2">? </span><span class="s1">extend</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">staticStyle</span><span class="s2">, </span><span class="s1">style</span><span class="s2">) : </span><span class="s1">style</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s0">// normalize possible array / string values into Object</span>
  <span class="s3">function </span><span class="s1">normalizeStyleBinding</span><span class="s2">(</span><span class="s1">bindingStyle</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">Array</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">bindingStyle</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">toObject</span><span class="s2">(</span><span class="s1">bindingStyle</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">bindingStyle </span><span class="s2">=== </span><span class="s4">'string'</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">parseStyleText</span><span class="s2">(</span><span class="s1">bindingStyle</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">bindingStyle</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* parent component style should be after child's</span>
   <span class="s5">* so that parent component's style could override it</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">getStyle</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">checkChild</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= {};</span>
      <span class="s3">var </span><span class="s1">styleData</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">checkChild</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">childNode </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">childNode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">) {</span>
              <span class="s1">childNode </span><span class="s2">= </span><span class="s1">childNode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">childNode </span><span class="s2">&amp;&amp;</span>
                  <span class="s1">childNode</span><span class="s2">.</span><span class="s1">data </span><span class="s2">&amp;&amp;</span>
                  <span class="s2">(</span><span class="s1">styleData </span><span class="s2">= </span><span class="s1">normalizeStyleData</span><span class="s2">(</span><span class="s1">childNode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">))) {</span>
                  <span class="s1">extend</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s1">styleData</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">((</span><span class="s1">styleData </span><span class="s2">= </span><span class="s1">normalizeStyleData</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">))) {</span>
          <span class="s1">extend</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s1">styleData</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">parentNode </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">;</span>
      <span class="s0">// @ts-expect-error parentNode.parent not VNodeWithData</span>
      <span class="s3">while </span><span class="s2">((</span><span class="s1">parentNode </span><span class="s2">= </span><span class="s1">parentNode</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">)) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">parentNode</span><span class="s2">.</span><span class="s1">data </span><span class="s2">&amp;&amp; (</span><span class="s1">styleData </span><span class="s2">= </span><span class="s1">normalizeStyleData</span><span class="s2">(</span><span class="s1">parentNode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">))) {</span>
              <span class="s1">extend</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s1">styleData</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">cssVarRE </span><span class="s2">= </span><span class="s7">/^--/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">importantRE </span><span class="s2">= </span><span class="s7">/\s*!important$/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">setProp </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">cssVarRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">name</span><span class="s2">)) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">setProperty</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s1">val</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">importantRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">val</span><span class="s2">)) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">setProperty</span><span class="s2">(</span><span class="s1">hyphenate</span><span class="s2">(</span><span class="s1">name</span><span class="s2">), </span><span class="s1">val</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">importantRE</span><span class="s2">, </span><span class="s4">''</span><span class="s2">), </span><span class="s4">'important'</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">var </span><span class="s1">normalizedName </span><span class="s2">= </span><span class="s1">normalize</span><span class="s2">(</span><span class="s1">name</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">Array</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">val</span><span class="s2">)) {</span>
              <span class="s0">// Support values array created by autoprefixer, e.g.</span>
              <span class="s0">// {display: [&quot;-webkit-box&quot;, &quot;-ms-flexbox&quot;, &quot;flex&quot;]}</span>
              <span class="s0">// Set them one by one, and the browser will only set those it can recognize</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">len </span><span class="s2">= </span><span class="s1">val</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">len</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">[</span><span class="s1">normalizedName</span><span class="s2">] = </span><span class="s1">val</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">[</span><span class="s1">normalizedName</span><span class="s2">] = </span><span class="s1">val</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">};</span>
  <span class="s3">var </span><span class="s1">vendorNames </span><span class="s2">= [</span><span class="s4">'Webkit'</span><span class="s2">, </span><span class="s4">'Moz'</span><span class="s2">, </span><span class="s4">'ms'</span><span class="s2">];</span>
  <span class="s3">var </span><span class="s1">emptyStyle</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">normalize </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">prop</span><span class="s2">) {</span>
      <span class="s1">emptyStyle </span><span class="s2">= </span><span class="s1">emptyStyle </span><span class="s2">|| </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createElement</span><span class="s2">(</span><span class="s4">'div'</span><span class="s2">).</span><span class="s1">style</span><span class="s2">;</span>
      <span class="s1">prop </span><span class="s2">= </span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">prop</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">prop </span><span class="s2">!== </span><span class="s4">'filter' </span><span class="s2">&amp;&amp; </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">emptyStyle</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">prop</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">capName </span><span class="s2">= </span><span class="s1">prop</span><span class="s2">.</span><span class="s1">charAt</span><span class="s2">(</span><span class="s6">0</span><span class="s2">).</span><span class="s1">toUpperCase</span><span class="s2">() + </span><span class="s1">prop</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">1</span><span class="s2">);</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">vendorNames</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">var </span><span class="s1">name_1 </span><span class="s2">= </span><span class="s1">vendorNames</span><span class="s2">[</span><span class="s1">i</span><span class="s2">] + </span><span class="s1">capName</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">name_1 </span><span class="s3">in </span><span class="s1">emptyStyle</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">name_1</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">});</span>
  <span class="s3">function </span><span class="s1">updateStyle</span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">oldData </span><span class="s2">= </span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">staticStyle</span><span class="s2">) &amp;&amp;</span>
          <span class="s1">isUndef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">.</span><span class="s1">style</span><span class="s2">) &amp;&amp;</span>
          <span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldData</span><span class="s2">.</span><span class="s1">staticStyle</span><span class="s2">) &amp;&amp;</span>
          <span class="s1">isUndef</span><span class="s2">(</span><span class="s1">oldData</span><span class="s2">.</span><span class="s1">style</span><span class="s2">)) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">cur</span><span class="s2">, </span><span class="s1">name</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">el </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">oldStaticStyle </span><span class="s2">= </span><span class="s1">oldData</span><span class="s2">.</span><span class="s1">staticStyle</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">oldStyleBinding </span><span class="s2">= </span><span class="s1">oldData</span><span class="s2">.</span><span class="s1">normalizedStyle </span><span class="s2">|| </span><span class="s1">oldData</span><span class="s2">.</span><span class="s1">style </span><span class="s2">|| {};</span>
      <span class="s0">// if static style exists, stylebinding already merged into it when doing normalizeStyleData</span>
      <span class="s3">var </span><span class="s1">oldStyle </span><span class="s2">= </span><span class="s1">oldStaticStyle </span><span class="s2">|| </span><span class="s1">oldStyleBinding</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">style </span><span class="s2">= </span><span class="s1">normalizeStyleBinding</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">style</span><span class="s2">) || {};</span>
      <span class="s0">// store normalized style under a different key for next diff</span>
      <span class="s0">// make sure to clone it if it's reactive, since the user likely wants</span>
      <span class="s0">// to mutate it.</span>
      <span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">normalizedStyle </span><span class="s2">= </span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">style</span><span class="s2">.</span><span class="s1">__ob__</span><span class="s2">) ? </span><span class="s1">extend</span><span class="s2">({}, </span><span class="s1">style</span><span class="s2">) : </span><span class="s1">style</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">newStyle </span><span class="s2">= </span><span class="s1">getStyle</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">name </span><span class="s3">in </span><span class="s1">oldStyle</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">newStyle</span><span class="s2">[</span><span class="s1">name</span><span class="s2">])) {</span>
              <span class="s1">setProp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">name </span><span class="s3">in </span><span class="s1">newStyle</span><span class="s2">) {</span>
          <span class="s1">cur </span><span class="s2">= </span><span class="s1">newStyle</span><span class="s2">[</span><span class="s1">name</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cur </span><span class="s2">!== </span><span class="s1">oldStyle</span><span class="s2">[</span><span class="s1">name</span><span class="s2">]) {</span>
              <span class="s0">// ie9 setting to null has no effect, must use empty string</span>
              <span class="s1">setProp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">cur </span><span class="s2">== </span><span class="s3">null </span><span class="s2">? </span><span class="s4">'' </span><span class="s2">: </span><span class="s1">cur</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">style$1 </span><span class="s2">= {</span>
      <span class="s1">create</span><span class="s2">: </span><span class="s1">updateStyle</span><span class="s2">,</span>
      <span class="s1">update</span><span class="s2">: </span><span class="s1">updateStyle</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">whitespaceRE$1 </span><span class="s2">= </span><span class="s7">/\s+/</span><span class="s2">;</span>
  <span class="s5">/**</span>
   <span class="s5">* Add class with compatibility for SVG since classList is not supported on</span>
   <span class="s5">* SVG elements in IE</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">addClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">cls</span><span class="s2">) {</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">cls </span><span class="s2">|| !(</span><span class="s1">cls </span><span class="s2">= </span><span class="s1">cls</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">())) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">/* istanbul ignore else */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">classList</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cls</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">' '</span><span class="s2">) &gt; -</span><span class="s6">1</span><span class="s2">) {</span>
              <span class="s1">cls</span><span class="s2">.</span><span class="s1">split</span><span class="s2">(</span><span class="s1">whitespaceRE$1</span><span class="s2">).</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">c</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">el</span><span class="s2">.</span><span class="s1">classList</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">c</span><span class="s2">); });</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">classList</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">cls</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">var </span><span class="s1">cur </span><span class="s2">= </span><span class="s4">&quot; &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">getAttribute</span><span class="s2">(</span><span class="s4">'class'</span><span class="s2">) || </span><span class="s4">''</span><span class="s2">, </span><span class="s4">&quot; &quot;</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cur</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">' ' </span><span class="s2">+ </span><span class="s1">cls </span><span class="s2">+ </span><span class="s4">' '</span><span class="s2">) &lt; </span><span class="s6">0</span><span class="s2">) {</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">setAttribute</span><span class="s2">(</span><span class="s4">'class'</span><span class="s2">, (</span><span class="s1">cur </span><span class="s2">+ </span><span class="s1">cls</span><span class="s2">).</span><span class="s1">trim</span><span class="s2">());</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Remove class with compatibility for SVG since classList is not supported on</span>
   <span class="s5">* SVG elements in IE</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">removeClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">cls</span><span class="s2">) {</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">cls </span><span class="s2">|| !(</span><span class="s1">cls </span><span class="s2">= </span><span class="s1">cls</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">())) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">/* istanbul ignore else */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">classList</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cls</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">' '</span><span class="s2">) &gt; -</span><span class="s6">1</span><span class="s2">) {</span>
              <span class="s1">cls</span><span class="s2">.</span><span class="s1">split</span><span class="s2">(</span><span class="s1">whitespaceRE$1</span><span class="s2">).</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">c</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">el</span><span class="s2">.</span><span class="s1">classList</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">c</span><span class="s2">); });</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">classList</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">(</span><span class="s1">cls</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">el</span><span class="s2">.</span><span class="s1">classList</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">removeAttribute</span><span class="s2">(</span><span class="s4">'class'</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">var </span><span class="s1">cur </span><span class="s2">= </span><span class="s4">&quot; &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">getAttribute</span><span class="s2">(</span><span class="s4">'class'</span><span class="s2">) || </span><span class="s4">''</span><span class="s2">, </span><span class="s4">&quot; &quot;</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">tar </span><span class="s2">= </span><span class="s4">' ' </span><span class="s2">+ </span><span class="s1">cls </span><span class="s2">+ </span><span class="s4">' '</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">cur</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">tar</span><span class="s2">) &gt;= </span><span class="s6">0</span><span class="s2">) {</span>
              <span class="s1">cur </span><span class="s2">= </span><span class="s1">cur</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">tar</span><span class="s2">, </span><span class="s4">' '</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">cur </span><span class="s2">= </span><span class="s1">cur</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">();</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cur</span><span class="s2">) {</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">setAttribute</span><span class="s2">(</span><span class="s4">'class'</span><span class="s2">, </span><span class="s1">cur</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">removeAttribute</span><span class="s2">(</span><span class="s4">'class'</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">resolveTransition</span><span class="s2">(</span><span class="s1">def</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">def</span><span class="s2">) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">/* istanbul ignore else */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">def </span><span class="s2">=== </span><span class="s4">'object'</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">res </span><span class="s2">= {};</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">def</span><span class="s2">.</span><span class="s1">css </span><span class="s2">!== </span><span class="s3">false</span><span class="s2">) {</span>
              <span class="s1">extend</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s1">autoCssTransition</span><span class="s2">(</span><span class="s1">def</span><span class="s2">.</span><span class="s1">name </span><span class="s2">|| </span><span class="s4">'v'</span><span class="s2">));</span>
          <span class="s2">}</span>
          <span class="s1">extend</span><span class="s2">(</span><span class="s1">res</span><span class="s2">, </span><span class="s1">def</span><span class="s2">);</span>
          <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">def </span><span class="s2">=== </span><span class="s4">'string'</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">autoCssTransition</span><span class="s2">(</span><span class="s1">def</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">autoCssTransition </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">name</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">{</span>
          <span class="s1">enterClass</span><span class="s2">: </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;-enter&quot;</span><span class="s2">),</span>
          <span class="s1">enterToClass</span><span class="s2">: </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;-enter-to&quot;</span><span class="s2">),</span>
          <span class="s1">enterActiveClass</span><span class="s2">: </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;-enter-active&quot;</span><span class="s2">),</span>
          <span class="s1">leaveClass</span><span class="s2">: </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;-leave&quot;</span><span class="s2">),</span>
          <span class="s1">leaveToClass</span><span class="s2">: </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;-leave-to&quot;</span><span class="s2">),</span>
          <span class="s1">leaveActiveClass</span><span class="s2">: </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;-leave-active&quot;</span><span class="s2">)</span>
      <span class="s2">};</span>
  <span class="s2">});</span>
  <span class="s3">var </span><span class="s1">hasTransition </span><span class="s2">= </span><span class="s1">inBrowser </span><span class="s2">&amp;&amp; !</span><span class="s1">isIE9</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">TRANSITION </span><span class="s2">= </span><span class="s4">'transition'</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">ANIMATION </span><span class="s2">= </span><span class="s4">'animation'</span><span class="s2">;</span>
  <span class="s0">// Transition property/event sniffing</span>
  <span class="s3">var </span><span class="s1">transitionProp </span><span class="s2">= </span><span class="s4">'transition'</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">transitionEndEvent </span><span class="s2">= </span><span class="s4">'transitionend'</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">animationProp </span><span class="s2">= </span><span class="s4">'animation'</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">animationEndEvent </span><span class="s2">= </span><span class="s4">'animationend'</span><span class="s2">;</span>
  <span class="s3">if </span><span class="s2">(</span><span class="s1">hasTransition</span><span class="s2">) {</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">window</span><span class="s2">.</span><span class="s1">ontransitionend </span><span class="s2">=== </span><span class="s1">undefined </span><span class="s2">&amp;&amp;</span>
          <span class="s1">window</span><span class="s2">.</span><span class="s1">onwebkittransitionend </span><span class="s2">!== </span><span class="s1">undefined</span><span class="s2">) {</span>
          <span class="s1">transitionProp </span><span class="s2">= </span><span class="s4">'WebkitTransition'</span><span class="s2">;</span>
          <span class="s1">transitionEndEvent </span><span class="s2">= </span><span class="s4">'webkitTransitionEnd'</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">window</span><span class="s2">.</span><span class="s1">onanimationend </span><span class="s2">=== </span><span class="s1">undefined </span><span class="s2">&amp;&amp;</span>
          <span class="s1">window</span><span class="s2">.</span><span class="s1">onwebkitanimationend </span><span class="s2">!== </span><span class="s1">undefined</span><span class="s2">) {</span>
          <span class="s1">animationProp </span><span class="s2">= </span><span class="s4">'WebkitAnimation'</span><span class="s2">;</span>
          <span class="s1">animationEndEvent </span><span class="s2">= </span><span class="s4">'webkitAnimationEnd'</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s0">// binding to window is necessary to make hot reload work in IE in strict mode</span>
  <span class="s3">var </span><span class="s1">raf </span><span class="s2">= </span><span class="s1">inBrowser</span>
      <span class="s2">? </span><span class="s1">window</span><span class="s2">.</span><span class="s1">requestAnimationFrame</span>
          <span class="s2">? </span><span class="s1">window</span><span class="s2">.</span><span class="s1">requestAnimationFrame</span><span class="s2">.</span><span class="s1">bind</span><span class="s2">(</span><span class="s1">window</span><span class="s2">)</span>
          <span class="s2">: </span><span class="s1">setTimeout</span>
      <span class="s2">: </span><span class="s0">/* istanbul ignore next */ </span><span class="s3">function </span><span class="s2">(</span><span class="s0">/* istanbul ignore next */ </span><span class="s1">fn</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">fn</span><span class="s2">(); };</span>
  <span class="s3">function </span><span class="s1">nextFrame</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">) {</span>
      <span class="s1">raf</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s0">// @ts-expect-error</span>
          <span class="s1">raf</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">);</span>
      <span class="s2">});</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">addTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">cls</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">transitionClasses </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">_transitionClasses </span><span class="s2">|| (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">_transitionClasses </span><span class="s2">= []);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">transitionClasses</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">cls</span><span class="s2">) &lt; </span><span class="s6">0</span><span class="s2">) {</span>
          <span class="s1">transitionClasses</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">cls</span><span class="s2">);</span>
          <span class="s1">addClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">cls</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">removeTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">cls</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">_transitionClasses</span><span class="s2">) {</span>
          <span class="s1">remove$2</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">_transitionClasses</span><span class="s2">, </span><span class="s1">cls</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s1">removeClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">cls</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">whenTransitionEnds</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">expectedType</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">_a </span><span class="s2">= </span><span class="s1">getTransitionInfo</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">expectedType</span><span class="s2">), </span><span class="s1">type </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">type</span><span class="s2">, </span><span class="s1">timeout </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">timeout</span><span class="s2">, </span><span class="s1">propCount </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">propCount</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">type</span><span class="s2">)</span>
          <span class="s3">return </span><span class="s1">cb</span><span class="s2">();</span>
      <span class="s3">var </span><span class="s1">event </span><span class="s2">= </span><span class="s1">type </span><span class="s2">=== </span><span class="s1">TRANSITION </span><span class="s2">? </span><span class="s1">transitionEndEvent </span><span class="s2">: </span><span class="s1">animationEndEvent</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">ended </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">end </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">removeEventListener</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">onEnd</span><span class="s2">);</span>
          <span class="s1">cb</span><span class="s2">();</span>
      <span class="s2">};</span>
      <span class="s3">var </span><span class="s1">onEnd </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">target </span><span class="s2">=== </span><span class="s1">el</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(++</span><span class="s1">ended </span><span class="s2">&gt;= </span><span class="s1">propCount</span><span class="s2">) {</span>
                  <span class="s1">end</span><span class="s2">();</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s1">setTimeout</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">ended </span><span class="s2">&lt; </span><span class="s1">propCount</span><span class="s2">) {</span>
              <span class="s1">end</span><span class="s2">();</span>
          <span class="s2">}</span>
      <span class="s2">}, </span><span class="s1">timeout </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">);</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">addEventListener</span><span class="s2">(</span><span class="s1">event</span><span class="s2">, </span><span class="s1">onEnd</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">transformRE </span><span class="s2">= </span><span class="s7">/\b(transform|all)(,|$)/</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">getTransitionInfo</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">expectedType</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">styles </span><span class="s2">= </span><span class="s1">window</span><span class="s2">.</span><span class="s1">getComputedStyle</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
      <span class="s0">// JSDOM may return undefined for transition properties</span>
      <span class="s3">var </span><span class="s1">transitionDelays </span><span class="s2">= (</span><span class="s1">styles</span><span class="s2">[</span><span class="s1">transitionProp </span><span class="s2">+ </span><span class="s4">'Delay'</span><span class="s2">] || </span><span class="s4">''</span><span class="s2">).</span><span class="s1">split</span><span class="s2">(</span><span class="s4">', '</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">transitionDurations </span><span class="s2">= (</span><span class="s1">styles</span><span class="s2">[</span><span class="s1">transitionProp </span><span class="s2">+ </span><span class="s4">'Duration'</span><span class="s2">] || </span><span class="s4">''</span><span class="s2">).</span><span class="s1">split</span><span class="s2">(</span><span class="s4">', '</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">transitionTimeout </span><span class="s2">= </span><span class="s1">getTimeout</span><span class="s2">(</span><span class="s1">transitionDelays</span><span class="s2">, </span><span class="s1">transitionDurations</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">animationDelays </span><span class="s2">= (</span><span class="s1">styles</span><span class="s2">[</span><span class="s1">animationProp </span><span class="s2">+ </span><span class="s4">'Delay'</span><span class="s2">] || </span><span class="s4">''</span><span class="s2">).</span><span class="s1">split</span><span class="s2">(</span><span class="s4">', '</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">animationDurations </span><span class="s2">= (</span><span class="s1">styles</span><span class="s2">[</span><span class="s1">animationProp </span><span class="s2">+ </span><span class="s4">'Duration'</span><span class="s2">] || </span><span class="s4">''</span><span class="s2">).</span><span class="s1">split</span><span class="s2">(</span><span class="s4">', '</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">animationTimeout </span><span class="s2">= </span><span class="s1">getTimeout</span><span class="s2">(</span><span class="s1">animationDelays</span><span class="s2">, </span><span class="s1">animationDurations</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">type</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">timeout </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">propCount </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">expectedType </span><span class="s2">=== </span><span class="s1">TRANSITION</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">transitionTimeout </span><span class="s2">&gt; </span><span class="s6">0</span><span class="s2">) {</span>
              <span class="s1">type </span><span class="s2">= </span><span class="s1">TRANSITION</span><span class="s2">;</span>
              <span class="s1">timeout </span><span class="s2">= </span><span class="s1">transitionTimeout</span><span class="s2">;</span>
              <span class="s1">propCount </span><span class="s2">= </span><span class="s1">transitionDurations</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">expectedType </span><span class="s2">=== </span><span class="s1">ANIMATION</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">animationTimeout </span><span class="s2">&gt; </span><span class="s6">0</span><span class="s2">) {</span>
              <span class="s1">type </span><span class="s2">= </span><span class="s1">ANIMATION</span><span class="s2">;</span>
              <span class="s1">timeout </span><span class="s2">= </span><span class="s1">animationTimeout</span><span class="s2">;</span>
              <span class="s1">propCount </span><span class="s2">= </span><span class="s1">animationDurations</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">timeout </span><span class="s2">= </span><span class="s1">Math</span><span class="s2">.</span><span class="s1">max</span><span class="s2">(</span><span class="s1">transitionTimeout</span><span class="s2">, </span><span class="s1">animationTimeout</span><span class="s2">);</span>
          <span class="s1">type </span><span class="s2">=</span>
              <span class="s1">timeout </span><span class="s2">&gt; </span><span class="s6">0</span>
                  <span class="s2">? </span><span class="s1">transitionTimeout </span><span class="s2">&gt; </span><span class="s1">animationTimeout</span>
                      <span class="s2">? </span><span class="s1">TRANSITION</span>
                      <span class="s2">: </span><span class="s1">ANIMATION</span>
                  <span class="s2">: </span><span class="s3">null</span><span class="s2">;</span>
          <span class="s1">propCount </span><span class="s2">= </span><span class="s1">type</span>
              <span class="s2">? </span><span class="s1">type </span><span class="s2">=== </span><span class="s1">TRANSITION</span>
                  <span class="s2">? </span><span class="s1">transitionDurations</span><span class="s2">.</span><span class="s1">length</span>
                  <span class="s2">: </span><span class="s1">animationDurations</span><span class="s2">.</span><span class="s1">length</span>
              <span class="s2">: </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">hasTransform </span><span class="s2">= </span><span class="s1">type </span><span class="s2">=== </span><span class="s1">TRANSITION </span><span class="s2">&amp;&amp; </span><span class="s1">transformRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">styles</span><span class="s2">[</span><span class="s1">transitionProp </span><span class="s2">+ </span><span class="s4">'Property'</span><span class="s2">]);</span>
      <span class="s3">return </span><span class="s2">{</span>
          <span class="s1">type</span><span class="s2">: </span><span class="s1">type</span><span class="s2">,</span>
          <span class="s1">timeout</span><span class="s2">: </span><span class="s1">timeout</span><span class="s2">,</span>
          <span class="s1">propCount</span><span class="s2">: </span><span class="s1">propCount</span><span class="s2">,</span>
          <span class="s1">hasTransform</span><span class="s2">: </span><span class="s1">hasTransform</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">getTimeout</span><span class="s2">(</span><span class="s1">delays</span><span class="s2">, </span><span class="s1">durations</span><span class="s2">) {</span>
      <span class="s0">/* istanbul ignore next */</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">delays</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&lt; </span><span class="s1">durations</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
          <span class="s1">delays </span><span class="s2">= </span><span class="s1">delays</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">delays</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">Math</span><span class="s2">.</span><span class="s1">max</span><span class="s2">.</span><span class="s1">apply</span><span class="s2">(</span><span class="s3">null</span><span class="s2">, </span><span class="s1">durations</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">d</span><span class="s2">, </span><span class="s1">i</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">toMs</span><span class="s2">(</span><span class="s1">d</span><span class="s2">) + </span><span class="s1">toMs</span><span class="s2">(</span><span class="s1">delays</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
      <span class="s2">}));</span>
  <span class="s2">}</span>
  <span class="s0">// Old versions of Chromium (below 61.0.3163.100) formats floating pointer numbers</span>
  <span class="s0">// in a locale-dependent way, using a comma instead of a dot.</span>
  <span class="s0">// If comma is not replaced with a dot, the input will be rounded down (i.e. acting</span>
  <span class="s0">// as a floor function) causing unexpected behaviors</span>
  <span class="s3">function </span><span class="s1">toMs</span><span class="s2">(</span><span class="s1">s</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">Number</span><span class="s2">(</span><span class="s1">s</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">).</span><span class="s1">replace</span><span class="s2">(</span><span class="s4">','</span><span class="s2">, </span><span class="s4">'.'</span><span class="s2">)) * </span><span class="s6">1000</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">enter</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">toggleDisplay</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">el </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">;</span>
      <span class="s0">// call leave callback now</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">_leaveCb</span><span class="s2">)) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">_leaveCb</span><span class="s2">.</span><span class="s1">cancelled </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">_leaveCb</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s1">resolveTransition</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">transition</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">)) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">_enterCb</span><span class="s2">) || </span><span class="s1">el</span><span class="s2">.</span><span class="s1">nodeType </span><span class="s2">!== </span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">css </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">css</span><span class="s2">, </span><span class="s1">type </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">type</span><span class="s2">, </span><span class="s1">enterClass </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">enterClass</span><span class="s2">, </span><span class="s1">enterToClass </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">enterToClass</span><span class="s2">, </span><span class="s1">enterActiveClass </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">enterActiveClass</span><span class="s2">, </span><span class="s1">appearClass </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">appearClass</span><span class="s2">, </span><span class="s1">appearToClass </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">appearToClass</span><span class="s2">, </span><span class="s1">appearActiveClass </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">appearActiveClass</span><span class="s2">, </span><span class="s1">beforeEnter </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">beforeEnter</span><span class="s2">, </span><span class="s1">enter </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">enter</span><span class="s2">, </span><span class="s1">afterEnter </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">afterEnter</span><span class="s2">, </span><span class="s1">enterCancelled </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">enterCancelled</span><span class="s2">, </span><span class="s1">beforeAppear </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">beforeAppear</span><span class="s2">, </span><span class="s1">appear </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">appear</span><span class="s2">, </span><span class="s1">afterAppear </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">afterAppear</span><span class="s2">, </span><span class="s1">appearCancelled </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">appearCancelled</span><span class="s2">, </span><span class="s1">duration </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">duration</span><span class="s2">;</span>
      <span class="s0">// activeInstance will always be the &lt;transition&gt; component managing this</span>
      <span class="s0">// transition. One edge case to check is when the &lt;transition&gt; is placed</span>
      <span class="s0">// as the root node of a child component. In that case we need to check</span>
      <span class="s0">// &lt;transition&gt;'s parent for appear check.</span>
      <span class="s3">var </span><span class="s1">context </span><span class="s2">= </span><span class="s1">activeInstance</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">transitionNode </span><span class="s2">= </span><span class="s1">activeInstance</span><span class="s2">.</span><span class="s1">$vnode</span><span class="s2">;</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">transitionNode </span><span class="s2">&amp;&amp; </span><span class="s1">transitionNode</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">) {</span>
          <span class="s1">context </span><span class="s2">= </span><span class="s1">transitionNode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">;</span>
          <span class="s1">transitionNode </span><span class="s2">= </span><span class="s1">transitionNode</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">isAppear </span><span class="s2">= !</span><span class="s1">context</span><span class="s2">.</span><span class="s1">_isMounted </span><span class="s2">|| !</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">isRootInsert</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isAppear </span><span class="s2">&amp;&amp; !</span><span class="s1">appear </span><span class="s2">&amp;&amp; </span><span class="s1">appear </span><span class="s2">!== </span><span class="s4">''</span><span class="s2">) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">startClass </span><span class="s2">= </span><span class="s1">isAppear </span><span class="s2">&amp;&amp; </span><span class="s1">appearClass </span><span class="s2">? </span><span class="s1">appearClass </span><span class="s2">: </span><span class="s1">enterClass</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">activeClass </span><span class="s2">= </span><span class="s1">isAppear </span><span class="s2">&amp;&amp; </span><span class="s1">appearActiveClass </span><span class="s2">? </span><span class="s1">appearActiveClass </span><span class="s2">: </span><span class="s1">enterActiveClass</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">toClass </span><span class="s2">= </span><span class="s1">isAppear </span><span class="s2">&amp;&amp; </span><span class="s1">appearToClass </span><span class="s2">? </span><span class="s1">appearToClass </span><span class="s2">: </span><span class="s1">enterToClass</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">beforeEnterHook </span><span class="s2">= </span><span class="s1">isAppear </span><span class="s2">? </span><span class="s1">beforeAppear </span><span class="s2">|| </span><span class="s1">beforeEnter </span><span class="s2">: </span><span class="s1">beforeEnter</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">enterHook </span><span class="s2">= </span><span class="s1">isAppear </span><span class="s2">? (</span><span class="s1">isFunction</span><span class="s2">(</span><span class="s1">appear</span><span class="s2">) ? </span><span class="s1">appear </span><span class="s2">: </span><span class="s1">enter</span><span class="s2">) : </span><span class="s1">enter</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">afterEnterHook </span><span class="s2">= </span><span class="s1">isAppear </span><span class="s2">? </span><span class="s1">afterAppear </span><span class="s2">|| </span><span class="s1">afterEnter </span><span class="s2">: </span><span class="s1">afterEnter</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">enterCancelledHook </span><span class="s2">= </span><span class="s1">isAppear</span>
          <span class="s2">? </span><span class="s1">appearCancelled </span><span class="s2">|| </span><span class="s1">enterCancelled</span>
          <span class="s2">: </span><span class="s1">enterCancelled</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">explicitEnterDuration </span><span class="s2">= </span><span class="s1">toNumber</span><span class="s2">(</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">duration</span><span class="s2">) ? </span><span class="s1">duration</span><span class="s2">.</span><span class="s1">enter </span><span class="s2">: </span><span class="s1">duration</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">explicitEnterDuration </span><span class="s2">!= </span><span class="s3">null</span><span class="s2">) {</span>
          <span class="s1">checkDuration</span><span class="s2">(</span><span class="s1">explicitEnterDuration</span><span class="s2">, </span><span class="s4">'enter'</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">expectsCSS </span><span class="s2">= </span><span class="s1">css </span><span class="s2">!== </span><span class="s3">false </span><span class="s2">&amp;&amp; !</span><span class="s1">isIE9</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">userWantsControl </span><span class="s2">= </span><span class="s1">getHookArgumentsLength</span><span class="s2">(</span><span class="s1">enterHook</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">cb </span><span class="s2">= (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">_enterCb </span><span class="s2">= </span><span class="s1">once</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">expectsCSS</span><span class="s2">) {</span>
              <span class="s1">removeTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">toClass</span><span class="s2">);</span>
              <span class="s1">removeTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">activeClass</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s0">// @ts-expect-error</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cb</span><span class="s2">.</span><span class="s1">cancelled</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">expectsCSS</span><span class="s2">) {</span>
                  <span class="s1">removeTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">startClass</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">enterCancelledHook </span><span class="s2">&amp;&amp; </span><span class="s1">enterCancelledHook</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">afterEnterHook </span><span class="s2">&amp;&amp; </span><span class="s1">afterEnterHook</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">_enterCb </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
      <span class="s2">}));</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">show</span><span class="s2">) {</span>
          <span class="s0">// remove pending leave element on enter by injecting an insert hook</span>
          <span class="s1">mergeVNodeHook</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s4">'insert'</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s3">var </span><span class="s1">parent </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">pendingNode </span><span class="s2">= </span><span class="s1">parent </span><span class="s2">&amp;&amp; </span><span class="s1">parent</span><span class="s2">.</span><span class="s1">_pending </span><span class="s2">&amp;&amp; </span><span class="s1">parent</span><span class="s2">.</span><span class="s1">_pending</span><span class="s2">[</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">key</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">pendingNode </span><span class="s2">&amp;&amp;</span>
                  <span class="s1">pendingNode</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">&amp;&amp;</span>
                  <span class="s1">pendingNode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">_leaveCb</span><span class="s2">) {</span>
                  <span class="s1">pendingNode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">_leaveCb</span><span class="s2">();</span>
              <span class="s2">}</span>
              <span class="s1">enterHook </span><span class="s2">&amp;&amp; </span><span class="s1">enterHook</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">);</span>
          <span class="s2">});</span>
      <span class="s2">}</span>
      <span class="s0">// start enter transition</span>
      <span class="s1">beforeEnterHook </span><span class="s2">&amp;&amp; </span><span class="s1">beforeEnterHook</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">expectsCSS</span><span class="s2">) {</span>
          <span class="s1">addTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">startClass</span><span class="s2">);</span>
          <span class="s1">addTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">activeClass</span><span class="s2">);</span>
          <span class="s1">nextFrame</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s1">removeTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">startClass</span><span class="s2">);</span>
              <span class="s0">// @ts-expect-error</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">cb</span><span class="s2">.</span><span class="s1">cancelled</span><span class="s2">) {</span>
                  <span class="s1">addTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">toClass</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(!</span><span class="s1">userWantsControl</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">isValidDuration</span><span class="s2">(</span><span class="s1">explicitEnterDuration</span><span class="s2">)) {</span>
                          <span class="s1">setTimeout</span><span class="s2">(</span><span class="s1">cb</span><span class="s2">, </span><span class="s1">explicitEnterDuration</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s3">else </span><span class="s2">{</span>
                          <span class="s1">whenTransitionEnds</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">type</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">);</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">});</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">show</span><span class="s2">) {</span>
          <span class="s1">toggleDisplay </span><span class="s2">&amp;&amp; </span><span class="s1">toggleDisplay</span><span class="s2">();</span>
          <span class="s1">enterHook </span><span class="s2">&amp;&amp; </span><span class="s1">enterHook</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">expectsCSS </span><span class="s2">&amp;&amp; !</span><span class="s1">userWantsControl</span><span class="s2">) {</span>
          <span class="s1">cb</span><span class="s2">();</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">leave</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">rm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">el </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">;</span>
      <span class="s0">// call enter callback now</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">_enterCb</span><span class="s2">)) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">_enterCb</span><span class="s2">.</span><span class="s1">cancelled </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">_enterCb</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s1">resolveTransition</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">transition</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) || </span><span class="s1">el</span><span class="s2">.</span><span class="s1">nodeType </span><span class="s2">!== </span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">rm</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">_leaveCb</span><span class="s2">)) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">css </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">css</span><span class="s2">, </span><span class="s1">type </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">type</span><span class="s2">, </span><span class="s1">leaveClass </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">leaveClass</span><span class="s2">, </span><span class="s1">leaveToClass </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">leaveToClass</span><span class="s2">, </span><span class="s1">leaveActiveClass </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">leaveActiveClass</span><span class="s2">, </span><span class="s1">beforeLeave </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">beforeLeave</span><span class="s2">, </span><span class="s1">leave </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">leave</span><span class="s2">, </span><span class="s1">afterLeave </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">afterLeave</span><span class="s2">, </span><span class="s1">leaveCancelled </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">leaveCancelled</span><span class="s2">, </span><span class="s1">delayLeave </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">delayLeave</span><span class="s2">, </span><span class="s1">duration </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">duration</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">expectsCSS </span><span class="s2">= </span><span class="s1">css </span><span class="s2">!== </span><span class="s3">false </span><span class="s2">&amp;&amp; !</span><span class="s1">isIE9</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">userWantsControl </span><span class="s2">= </span><span class="s1">getHookArgumentsLength</span><span class="s2">(</span><span class="s1">leave</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">explicitLeaveDuration </span><span class="s2">= </span><span class="s1">toNumber</span><span class="s2">(</span><span class="s1">isObject</span><span class="s2">(</span><span class="s1">duration</span><span class="s2">) ? </span><span class="s1">duration</span><span class="s2">.</span><span class="s1">leave </span><span class="s2">: </span><span class="s1">duration</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">explicitLeaveDuration</span><span class="s2">)) {</span>
          <span class="s1">checkDuration</span><span class="s2">(</span><span class="s1">explicitLeaveDuration</span><span class="s2">, </span><span class="s4">'leave'</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">cb </span><span class="s2">= (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">_leaveCb </span><span class="s2">= </span><span class="s1">once</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">parentNode </span><span class="s2">&amp;&amp; </span><span class="s1">el</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">.</span><span class="s1">_pending</span><span class="s2">) {</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">.</span><span class="s1">_pending</span><span class="s2">[</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">key</span><span class="s2">] = </span><span class="s3">null</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">expectsCSS</span><span class="s2">) {</span>
              <span class="s1">removeTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">leaveToClass</span><span class="s2">);</span>
              <span class="s1">removeTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">leaveActiveClass</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s0">// @ts-expect-error</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cb</span><span class="s2">.</span><span class="s1">cancelled</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">expectsCSS</span><span class="s2">) {</span>
                  <span class="s1">removeTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">leaveClass</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">leaveCancelled </span><span class="s2">&amp;&amp; </span><span class="s1">leaveCancelled</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">rm</span><span class="s2">();</span>
              <span class="s1">afterLeave </span><span class="s2">&amp;&amp; </span><span class="s1">afterLeave</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">_leaveCb </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
      <span class="s2">}));</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">delayLeave</span><span class="s2">) {</span>
          <span class="s1">delayLeave</span><span class="s2">(</span><span class="s1">performLeave</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">performLeave</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">performLeave</span><span class="s2">() {</span>
          <span class="s0">// the delayed leave may have already been cancelled</span>
          <span class="s0">// @ts-expect-error</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cb</span><span class="s2">.</span><span class="s1">cancelled</span><span class="s2">) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// record leaving element</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">show </span><span class="s2">&amp;&amp; </span><span class="s1">el</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">) {</span>
              <span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">.</span><span class="s1">_pending </span><span class="s2">|| (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">parentNode</span><span class="s2">.</span><span class="s1">_pending </span><span class="s2">= {}))[</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">key</span><span class="s2">] =</span>
                  <span class="s1">vnode</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s1">beforeLeave </span><span class="s2">&amp;&amp; </span><span class="s1">beforeLeave</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">expectsCSS</span><span class="s2">) {</span>
              <span class="s1">addTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">leaveClass</span><span class="s2">);</span>
              <span class="s1">addTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">leaveActiveClass</span><span class="s2">);</span>
              <span class="s1">nextFrame</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
                  <span class="s1">removeTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">leaveClass</span><span class="s2">);</span>
                  <span class="s0">// @ts-expect-error</span>
                  <span class="s3">if </span><span class="s2">(!</span><span class="s1">cb</span><span class="s2">.</span><span class="s1">cancelled</span><span class="s2">) {</span>
                      <span class="s1">addTransitionClass</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">leaveToClass</span><span class="s2">);</span>
                      <span class="s3">if </span><span class="s2">(!</span><span class="s1">userWantsControl</span><span class="s2">) {</span>
                          <span class="s3">if </span><span class="s2">(</span><span class="s1">isValidDuration</span><span class="s2">(</span><span class="s1">explicitLeaveDuration</span><span class="s2">)) {</span>
                              <span class="s1">setTimeout</span><span class="s2">(</span><span class="s1">cb</span><span class="s2">, </span><span class="s1">explicitLeaveDuration</span><span class="s2">);</span>
                          <span class="s2">}</span>
                          <span class="s3">else </span><span class="s2">{</span>
                              <span class="s1">whenTransitionEnds</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">type</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">);</span>
                          <span class="s2">}</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
              <span class="s2">});</span>
          <span class="s2">}</span>
          <span class="s1">leave </span><span class="s2">&amp;&amp; </span><span class="s1">leave</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">expectsCSS </span><span class="s2">&amp;&amp; !</span><span class="s1">userWantsControl</span><span class="s2">) {</span>
              <span class="s1">cb</span><span class="s2">();</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s0">// only used in dev mode</span>
  <span class="s3">function </span><span class="s1">checkDuration</span><span class="s2">(</span><span class="s1">val</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">val </span><span class="s2">!== </span><span class="s4">'number'</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;&lt;transition&gt; explicit &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot; duration is not a valid number - &quot;</span><span class="s2">) +</span>
              <span class="s4">&quot;got &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">val</span><span class="s2">), </span><span class="s4">&quot;.&quot;</span><span class="s2">), </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">isNaN</span><span class="s2">(</span><span class="s1">val</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;&lt;transition&gt; explicit &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot; duration is NaN - &quot;</span><span class="s2">) +</span>
              <span class="s4">'the duration expression might be incorrect.'</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isValidDuration</span><span class="s2">(</span><span class="s1">val</span><span class="s2">) {</span>
      <span class="s3">return typeof </span><span class="s1">val </span><span class="s2">=== </span><span class="s4">'number' </span><span class="s2">&amp;&amp; !</span><span class="s1">isNaN</span><span class="s2">(</span><span class="s1">val</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Normalize a transition hook's argument length. The hook may be:</span>
   <span class="s5">* - a merged hook (invoker) with the original in .fns</span>
   <span class="s5">* - a wrapped component method (check ._length)</span>
   <span class="s5">* - a plain function (.length)</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">getHookArgumentsLength</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isUndef</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">)) {</span>
          <span class="s3">return false</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// @ts-expect-error</span>
      <span class="s3">var </span><span class="s1">invokerFns </span><span class="s2">= </span><span class="s1">fn</span><span class="s2">.</span><span class="s1">fns</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isDef</span><span class="s2">(</span><span class="s1">invokerFns</span><span class="s2">)) {</span>
          <span class="s0">// invoker</span>
          <span class="s3">return </span><span class="s1">getHookArgumentsLength</span><span class="s2">(</span><span class="s1">Array</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">invokerFns</span><span class="s2">) ? </span><span class="s1">invokerFns</span><span class="s2">[</span><span class="s6">0</span><span class="s2">] : </span><span class="s1">invokerFns</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s0">// @ts-expect-error</span>
          <span class="s3">return </span><span class="s2">(</span><span class="s1">fn</span><span class="s2">.</span><span class="s1">_length </span><span class="s2">|| </span><span class="s1">fn</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) &gt; </span><span class="s6">1</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">_enter</span><span class="s2">(</span><span class="s1">_</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">show </span><span class="s2">!== </span><span class="s3">true</span><span class="s2">) {</span>
          <span class="s1">enter</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">transition </span><span class="s2">= </span><span class="s1">inBrowser</span>
      <span class="s2">? {</span>
          <span class="s1">create</span><span class="s2">: </span><span class="s1">_enter</span><span class="s2">,</span>
          <span class="s1">activate</span><span class="s2">: </span><span class="s1">_enter</span><span class="s2">,</span>
          <span class="s1">remove</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">rm</span><span class="s2">) {</span>
              <span class="s0">/* istanbul ignore else */</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">show </span><span class="s2">!== </span><span class="s3">true</span><span class="s2">) {</span>
                  <span class="s0">// @ts-expect-error</span>
                  <span class="s1">leave</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">rm</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">rm</span><span class="s2">();</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s2">: {};</span>

  <span class="s3">var </span><span class="s1">platformModules </span><span class="s2">= [</span><span class="s1">attrs</span><span class="s2">, </span><span class="s1">klass$1</span><span class="s2">, </span><span class="s1">events</span><span class="s2">, </span><span class="s1">domProps</span><span class="s2">, </span><span class="s1">style$1</span><span class="s2">, </span><span class="s1">transition</span><span class="s2">];</span>

  <span class="s0">// the directive module should be applied last, after all</span>
  <span class="s0">// built-in modules have been applied.</span>
  <span class="s3">var </span><span class="s1">modules$1 </span><span class="s2">= </span><span class="s1">platformModules</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">baseModules</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">patch </span><span class="s2">= </span><span class="s1">createPatchFunction</span><span class="s2">({ </span><span class="s1">nodeOps</span><span class="s2">: </span><span class="s1">nodeOps</span><span class="s2">, </span><span class="s1">modules</span><span class="s2">: </span><span class="s1">modules$1 </span><span class="s2">});</span>

  <span class="s5">/**</span>
   <span class="s5">* Not type checking this file because flow doesn't like attaching</span>
   <span class="s5">* properties to Elements.</span>
   <span class="s5">*/</span>
  <span class="s0">/* istanbul ignore if */</span>
  <span class="s3">if </span><span class="s2">(</span><span class="s1">isIE9</span><span class="s2">) {</span>
      <span class="s0">// http://www.matts411.com/post/internet-explorer-9-oninput/</span>
      <span class="s1">document</span><span class="s2">.</span><span class="s1">addEventListener</span><span class="s2">(</span><span class="s4">'selectionchange'</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">el </span><span class="s2">= </span><span class="s1">document</span><span class="s2">.</span><span class="s1">activeElement</span><span class="s2">;</span>
          <span class="s0">// @ts-expect-error</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">el </span><span class="s2">&amp;&amp; </span><span class="s1">el</span><span class="s2">.</span><span class="s1">vmodel</span><span class="s2">) {</span>
              <span class="s1">trigger</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'input'</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">});</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">directive </span><span class="s2">= {</span>
      <span class="s1">inserted</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">binding</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">oldVnode</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'select'</span><span class="s2">) {</span>
              <span class="s0">// #6903</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">elm </span><span class="s2">&amp;&amp; !</span><span class="s1">oldVnode</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">_vOptions</span><span class="s2">) {</span>
                  <span class="s1">mergeVNodeHook</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s4">'postpatch'</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() {</span>
                      <span class="s1">directive</span><span class="s2">.</span><span class="s1">componentUpdated</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">binding</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">);</span>
                  <span class="s2">});</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">setSelected</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">binding</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">_vOptions </span><span class="s2">= [].</span><span class="s1">map</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">options</span><span class="s2">, </span><span class="s1">getValue</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'textarea' </span><span class="s2">|| </span><span class="s1">isTextInputType</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">type</span><span class="s2">)) {</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">_vModifiers </span><span class="s2">= </span><span class="s1">binding</span><span class="s2">.</span><span class="s1">modifiers</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">binding</span><span class="s2">.</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">lazy</span><span class="s2">) {</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">addEventListener</span><span class="s2">(</span><span class="s4">'compositionstart'</span><span class="s2">, </span><span class="s1">onCompositionStart</span><span class="s2">);</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">addEventListener</span><span class="s2">(</span><span class="s4">'compositionend'</span><span class="s2">, </span><span class="s1">onCompositionEnd</span><span class="s2">);</span>
                  <span class="s0">// Safari &lt; 10.2 &amp; UIWebView doesn't fire compositionend when</span>
                  <span class="s0">// switching focus before confirming composition choice</span>
                  <span class="s0">// this also fixes the issue where some browsers e.g. iOS Chrome</span>
                  <span class="s0">// fires &quot;change&quot; instead of &quot;input&quot; on autocomplete.</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">addEventListener</span><span class="s2">(</span><span class="s4">'change'</span><span class="s2">, </span><span class="s1">onCompositionEnd</span><span class="s2">);</span>
                  <span class="s0">/* istanbul ignore if */</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isIE9</span><span class="s2">) {</span>
                      <span class="s1">el</span><span class="s2">.</span><span class="s1">vmodel </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">},</span>
      <span class="s1">componentUpdated</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">binding</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'select'</span><span class="s2">) {</span>
              <span class="s1">setSelected</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">binding</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">context</span><span class="s2">);</span>
              <span class="s0">// in case the options rendered by v-for have changed,</span>
              <span class="s0">// it's possible that the value is out-of-sync with the rendered options.</span>
              <span class="s0">// detect such cases and filter out values that no longer has a matching</span>
              <span class="s0">// option in the DOM.</span>
              <span class="s3">var </span><span class="s1">prevOptions_1 </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">_vOptions</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">curOptions_1 </span><span class="s2">= (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">_vOptions </span><span class="s2">= [].</span><span class="s1">map</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">options</span><span class="s2">, </span><span class="s1">getValue</span><span class="s2">));</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">curOptions_1</span><span class="s2">.</span><span class="s1">some</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">o</span><span class="s2">, </span><span class="s1">i</span><span class="s2">) { </span><span class="s3">return </span><span class="s2">!</span><span class="s1">looseEqual</span><span class="s2">(</span><span class="s1">o</span><span class="s2">, </span><span class="s1">prevOptions_1</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]); })) {</span>
                  <span class="s0">// trigger change event if</span>
                  <span class="s0">// no matching option found for at least one value</span>
                  <span class="s3">var </span><span class="s1">needReset </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">multiple</span>
                      <span class="s2">? </span><span class="s1">binding</span><span class="s2">.</span><span class="s1">value</span><span class="s2">.</span><span class="s1">some</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">v</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">hasNoMatchingOption</span><span class="s2">(</span><span class="s1">v</span><span class="s2">, </span><span class="s1">curOptions_1</span><span class="s2">); })</span>
                      <span class="s2">: </span><span class="s1">binding</span><span class="s2">.</span><span class="s1">value </span><span class="s2">!== </span><span class="s1">binding</span><span class="s2">.</span><span class="s1">oldValue </span><span class="s2">&amp;&amp;</span>
                          <span class="s1">hasNoMatchingOption</span><span class="s2">(</span><span class="s1">binding</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s1">curOptions_1</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">needReset</span><span class="s2">) {</span>
                      <span class="s1">trigger</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'change'</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">};</span>
  <span class="s3">function </span><span class="s1">setSelected</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">binding</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s1">actuallySetSelected</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">binding</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isIE </span><span class="s2">|| </span><span class="s1">isEdge</span><span class="s2">) {</span>
          <span class="s1">setTimeout</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s1">actuallySetSelected</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">binding</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s2">}, </span><span class="s6">0</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">actuallySetSelected</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">binding</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">binding</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">isMultiple </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">multiple</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">isMultiple </span><span class="s2">&amp;&amp; !</span><span class="s1">Array</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;&lt;select multiple v-model=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">binding</span><span class="s2">.</span><span class="s1">expression</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&gt; &quot;</span><span class="s2">) +</span>
                  <span class="s4">&quot;expects an Array value for its binding, but got &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">Object</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">toString</span>
                      <span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">value</span><span class="s2">)</span>
                      <span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">8</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">)), </span><span class="s1">vm</span><span class="s2">);</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">selected</span><span class="s2">, </span><span class="s1">option</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">option </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">options</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isMultiple</span><span class="s2">) {</span>
              <span class="s1">selected </span><span class="s2">= </span><span class="s1">looseIndexOf</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">getValue</span><span class="s2">(</span><span class="s1">option</span><span class="s2">)) &gt; -</span><span class="s6">1</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">option</span><span class="s2">.</span><span class="s1">selected </span><span class="s2">!== </span><span class="s1">selected</span><span class="s2">) {</span>
                  <span class="s1">option</span><span class="s2">.</span><span class="s1">selected </span><span class="s2">= </span><span class="s1">selected</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">looseEqual</span><span class="s2">(</span><span class="s1">getValue</span><span class="s2">(</span><span class="s1">option</span><span class="s2">), </span><span class="s1">value</span><span class="s2">)) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">selectedIndex </span><span class="s2">!== </span><span class="s1">i</span><span class="s2">) {</span>
                      <span class="s1">el</span><span class="s2">.</span><span class="s1">selectedIndex </span><span class="s2">= </span><span class="s1">i</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s3">return</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">isMultiple</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">selectedIndex </span><span class="s2">= -</span><span class="s6">1</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">hasNoMatchingOption</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">options</span><span class="s2">.</span><span class="s1">every</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">o</span><span class="s2">) { </span><span class="s3">return </span><span class="s2">!</span><span class="s1">looseEqual</span><span class="s2">(</span><span class="s1">o</span><span class="s2">, </span><span class="s1">value</span><span class="s2">); });</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">getValue</span><span class="s2">(</span><span class="s1">option</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s4">'_value' </span><span class="s3">in </span><span class="s1">option </span><span class="s2">? </span><span class="s1">option</span><span class="s2">.</span><span class="s1">_value </span><span class="s2">: </span><span class="s1">option</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">onCompositionStart</span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
      <span class="s1">e</span><span class="s2">.</span><span class="s1">target</span><span class="s2">.</span><span class="s1">composing </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">onCompositionEnd</span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
      <span class="s0">// prevent triggering an input event for no reason</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">e</span><span class="s2">.</span><span class="s1">target</span><span class="s2">.</span><span class="s1">composing</span><span class="s2">)</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s1">e</span><span class="s2">.</span><span class="s1">target</span><span class="s2">.</span><span class="s1">composing </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s1">trigger</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">target</span><span class="s2">, </span><span class="s4">'input'</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">trigger</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">type</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">e </span><span class="s2">= </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createEvent</span><span class="s2">(</span><span class="s4">'HTMLEvents'</span><span class="s2">);</span>
      <span class="s1">e</span><span class="s2">.</span><span class="s1">initEvent</span><span class="s2">(</span><span class="s1">type</span><span class="s2">, </span><span class="s3">true</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">dispatchEvent</span><span class="s2">(</span><span class="s1">e</span><span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">// recursively search for possible transition defined inside the component root</span>
  <span class="s3">function </span><span class="s1">locateNode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s0">// @ts-expect-error</span>
      <span class="s3">return </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance </span><span class="s2">&amp;&amp; (!</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data </span><span class="s2">|| !</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">transition</span><span class="s2">)</span>
          <span class="s2">? </span><span class="s1">locateNode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">)</span>
          <span class="s2">: </span><span class="s1">vnode</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">show </span><span class="s2">= {</span>
      <span class="s1">bind</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">_a</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
          <span class="s1">vnode </span><span class="s2">= </span><span class="s1">locateNode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">transition </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data </span><span class="s2">&amp;&amp; </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">transition</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">originalDisplay </span><span class="s2">= (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">__vOriginalDisplay </span><span class="s2">=</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">display </span><span class="s2">=== </span><span class="s4">'none' </span><span class="s2">? </span><span class="s4">'' </span><span class="s2">: </span><span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">display</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">value </span><span class="s2">&amp;&amp; </span><span class="s1">transition</span><span class="s2">) {</span>
              <span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">show </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s1">enter</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() {</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">display </span><span class="s2">= </span><span class="s1">originalDisplay</span><span class="s2">;</span>
              <span class="s2">});</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">display </span><span class="s2">= </span><span class="s1">value </span><span class="s2">? </span><span class="s1">originalDisplay </span><span class="s2">: </span><span class="s4">'none'</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">},</span>
      <span class="s1">update</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">_a</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s1">oldValue </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">oldValue</span><span class="s2">;</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">value </span><span class="s2">=== !</span><span class="s1">oldValue</span><span class="s2">)</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s1">vnode </span><span class="s2">= </span><span class="s1">locateNode</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">transition </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data </span><span class="s2">&amp;&amp; </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">transition</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">transition</span><span class="s2">) {</span>
              <span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">show </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
                  <span class="s1">enter</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() {</span>
                      <span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">display </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">__vOriginalDisplay</span><span class="s2">;</span>
                  <span class="s2">});</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">leave</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() {</span>
                      <span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">display </span><span class="s2">= </span><span class="s4">'none'</span><span class="s2">;</span>
                  <span class="s2">});</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">display </span><span class="s2">= </span><span class="s1">value </span><span class="s2">? </span><span class="s1">el</span><span class="s2">.</span><span class="s1">__vOriginalDisplay </span><span class="s2">: </span><span class="s4">'none'</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">},</span>
      <span class="s1">unbind</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">binding</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">oldVnode</span><span class="s2">, </span><span class="s1">isDestroy</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">isDestroy</span><span class="s2">) {</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">display </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">__vOriginalDisplay</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">platformDirectives </span><span class="s2">= {</span>
      <span class="s1">model</span><span class="s2">: </span><span class="s1">directive</span><span class="s2">,</span>
      <span class="s1">show</span><span class="s2">: </span><span class="s1">show</span>
  <span class="s2">};</span>

  <span class="s0">// Provides transition support for a single element/component.</span>
  <span class="s3">var </span><span class="s1">transitionProps </span><span class="s2">= {</span>
      <span class="s1">name</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">appear</span><span class="s2">: </span><span class="s1">Boolean</span><span class="s2">,</span>
      <span class="s1">css</span><span class="s2">: </span><span class="s1">Boolean</span><span class="s2">,</span>
      <span class="s1">mode</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">type</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">enterClass</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">leaveClass</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">enterToClass</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">leaveToClass</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">enterActiveClass</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">leaveActiveClass</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">appearClass</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">appearActiveClass</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">appearToClass</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">duration</span><span class="s2">: [</span><span class="s1">Number</span><span class="s2">, </span><span class="s1">String</span><span class="s2">, </span><span class="s1">Object</span><span class="s2">]</span>
  <span class="s2">};</span>
  <span class="s0">// in case the child is also an abstract component, e.g. &lt;keep-alive&gt;</span>
  <span class="s0">// we want to recursively retrieve the real component to be rendered</span>
  <span class="s3">function </span><span class="s1">getRealChild</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">compOptions </span><span class="s2">= </span><span class="s1">vnode </span><span class="s2">&amp;&amp; </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">componentOptions</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">compOptions </span><span class="s2">&amp;&amp; </span><span class="s1">compOptions</span><span class="s2">.</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">abstract</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">getRealChild</span><span class="s2">(</span><span class="s1">getFirstComponentChild</span><span class="s2">(</span><span class="s1">compOptions</span><span class="s2">.</span><span class="s1">children</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">vnode</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">extractTransitionData</span><span class="s2">(</span><span class="s1">comp</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">data </span><span class="s2">= {};</span>
      <span class="s3">var </span><span class="s1">options </span><span class="s2">= </span><span class="s1">comp</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">;</span>
      <span class="s0">// props</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">options</span><span class="s2">.</span><span class="s1">propsData</span><span class="s2">) {</span>
          <span class="s1">data</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">comp</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s0">// events.</span>
      <span class="s0">// extract listeners and pass them directly to the transition methods</span>
      <span class="s3">var </span><span class="s1">listeners </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">_parentListeners</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">listeners</span><span class="s2">) {</span>
          <span class="s1">data</span><span class="s2">[</span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">key</span><span class="s2">)] = </span><span class="s1">listeners</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">data</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">placeholder</span><span class="s2">(</span><span class="s1">h</span><span class="s2">, </span><span class="s1">rawChild</span><span class="s2">) {</span>
      <span class="s0">// @ts-expect-error</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s7">/\d-keep-alive$/</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">rawChild</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s1">h</span><span class="s2">(</span><span class="s4">'keep-alive'</span><span class="s2">, {</span>
              <span class="s1">props</span><span class="s2">: </span><span class="s1">rawChild</span><span class="s2">.</span><span class="s1">componentOptions</span><span class="s2">.</span><span class="s1">propsData</span>
          <span class="s2">});</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">hasParentTransition</span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">) {</span>
      <span class="s3">while </span><span class="s2">((</span><span class="s1">vnode </span><span class="s2">= </span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">)) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">transition</span><span class="s2">) {</span>
              <span class="s3">return true</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isSameChild</span><span class="s2">(</span><span class="s1">child</span><span class="s2">, </span><span class="s1">oldChild</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">oldChild</span><span class="s2">.</span><span class="s1">key </span><span class="s2">=== </span><span class="s1">child</span><span class="s2">.</span><span class="s1">key </span><span class="s2">&amp;&amp; </span><span class="s1">oldChild</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s1">child</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">isNotTextNode </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">c</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">c</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">|| </span><span class="s1">isAsyncPlaceholder</span><span class="s2">(</span><span class="s1">c</span><span class="s2">); };</span>
  <span class="s3">var </span><span class="s1">isVShowDirective </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">d</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">d</span><span class="s2">.</span><span class="s1">name </span><span class="s2">=== </span><span class="s4">'show'</span><span class="s2">; };</span>
  <span class="s3">var </span><span class="s1">Transition </span><span class="s2">= {</span>
      <span class="s1">name</span><span class="s2">: </span><span class="s4">'transition'</span><span class="s2">,</span>
      <span class="s1">props</span><span class="s2">: </span><span class="s1">transitionProps</span><span class="s2">,</span>
      <span class="s1">abstract</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
      <span class="s1">render</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">h</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">_this </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">children </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">$slots</span><span class="s2">.</span><span class="s1">default</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">children</span><span class="s2">) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// filter out text nodes (possible whitespaces)</span>
          <span class="s1">children </span><span class="s2">= </span><span class="s1">children</span><span class="s2">.</span><span class="s1">filter</span><span class="s2">(</span><span class="s1">isNotTextNode</span><span class="s2">);</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// warn multiple elements</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&gt; </span><span class="s6">1</span><span class="s2">) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'&lt;transition&gt; can only be used on a single element. Use ' </span><span class="s2">+</span>
                  <span class="s4">'&lt;transition-group&gt; for lists.'</span><span class="s2">, </span><span class="s3">this</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">mode </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">mode</span><span class="s2">;</span>
          <span class="s0">// warn invalid mode</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">mode </span><span class="s2">&amp;&amp; </span><span class="s1">mode </span><span class="s2">!== </span><span class="s4">'in-out' </span><span class="s2">&amp;&amp; </span><span class="s1">mode </span><span class="s2">!== </span><span class="s4">'out-in'</span><span class="s2">) {</span>
              <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'invalid &lt;transition&gt; mode: ' </span><span class="s2">+ </span><span class="s1">mode</span><span class="s2">, </span><span class="s3">this</span><span class="s2">.</span><span class="s1">$parent</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">rawChild </span><span class="s2">= </span><span class="s1">children</span><span class="s2">[</span><span class="s6">0</span><span class="s2">];</span>
          <span class="s0">// if this is a component root node and the component's</span>
          <span class="s0">// parent container node also has transition, skip.</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">hasParentTransition</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">$vnode</span><span class="s2">)) {</span>
              <span class="s3">return </span><span class="s1">rawChild</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// apply transition data to child</span>
          <span class="s0">// use getRealChild() to ignore abstract components e.g. keep-alive</span>
          <span class="s3">var </span><span class="s1">child </span><span class="s2">= </span><span class="s1">getRealChild</span><span class="s2">(</span><span class="s1">rawChild</span><span class="s2">);</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">child</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">rawChild</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">_leaving</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">placeholder</span><span class="s2">(</span><span class="s1">h</span><span class="s2">, </span><span class="s1">rawChild</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s0">// ensure a key that is unique to the vnode type and to this transition</span>
          <span class="s0">// component instance. This key will be used to remove pending leaving nodes</span>
          <span class="s0">// during entering.</span>
          <span class="s3">var </span><span class="s1">id </span><span class="s2">= </span><span class="s4">&quot;__transition-&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">_uid</span><span class="s2">, </span><span class="s4">&quot;-&quot;</span><span class="s2">);</span>
          <span class="s1">child</span><span class="s2">.</span><span class="s1">key </span><span class="s2">=</span>
              <span class="s1">child</span><span class="s2">.</span><span class="s1">key </span><span class="s2">== </span><span class="s3">null</span>
                  <span class="s2">? </span><span class="s1">child</span><span class="s2">.</span><span class="s1">isComment</span>
                      <span class="s2">? </span><span class="s1">id </span><span class="s2">+ </span><span class="s4">'comment'</span>
                      <span class="s2">: </span><span class="s1">id </span><span class="s2">+ </span><span class="s1">child</span><span class="s2">.</span><span class="s1">tag</span>
                  <span class="s2">: </span><span class="s1">isPrimitive</span><span class="s2">(</span><span class="s1">child</span><span class="s2">.</span><span class="s1">key</span><span class="s2">)</span>
                      <span class="s2">? </span><span class="s1">String</span><span class="s2">(</span><span class="s1">child</span><span class="s2">.</span><span class="s1">key</span><span class="s2">).</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">id</span><span class="s2">) === </span><span class="s6">0</span>
                          <span class="s2">? </span><span class="s1">child</span><span class="s2">.</span><span class="s1">key</span>
                          <span class="s2">: </span><span class="s1">id </span><span class="s2">+ </span><span class="s1">child</span><span class="s2">.</span><span class="s1">key</span>
                      <span class="s2">: </span><span class="s1">child</span><span class="s2">.</span><span class="s1">key</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">data </span><span class="s2">= ((</span><span class="s1">child</span><span class="s2">.</span><span class="s1">data </span><span class="s2">|| (</span><span class="s1">child</span><span class="s2">.</span><span class="s1">data </span><span class="s2">= {})).</span><span class="s1">transition </span><span class="s2">=</span>
              <span class="s1">extractTransitionData</span><span class="s2">(</span><span class="s3">this</span><span class="s2">));</span>
          <span class="s3">var </span><span class="s1">oldRawChild </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">oldChild </span><span class="s2">= </span><span class="s1">getRealChild</span><span class="s2">(</span><span class="s1">oldRawChild</span><span class="s2">);</span>
          <span class="s0">// mark v-show</span>
          <span class="s0">// so that the transition module can hand over the control to the directive</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">child</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">directives </span><span class="s2">&amp;&amp; </span><span class="s1">child</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">directives</span><span class="s2">.</span><span class="s1">some</span><span class="s2">(</span><span class="s1">isVShowDirective</span><span class="s2">)) {</span>
              <span class="s1">child</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">show </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">oldChild </span><span class="s2">&amp;&amp;</span>
              <span class="s1">oldChild</span><span class="s2">.</span><span class="s1">data </span><span class="s2">&amp;&amp;</span>
              <span class="s2">!</span><span class="s1">isSameChild</span><span class="s2">(</span><span class="s1">child</span><span class="s2">, </span><span class="s1">oldChild</span><span class="s2">) &amp;&amp;</span>
              <span class="s2">!</span><span class="s1">isAsyncPlaceholder</span><span class="s2">(</span><span class="s1">oldChild</span><span class="s2">) &amp;&amp;</span>
              <span class="s0">// #6687 component root is a comment node</span>
              <span class="s2">!(</span><span class="s1">oldChild</span><span class="s2">.</span><span class="s1">componentInstance </span><span class="s2">&amp;&amp;</span>
                  <span class="s1">oldChild</span><span class="s2">.</span><span class="s1">componentInstance</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">.</span><span class="s1">isComment</span><span class="s2">)) {</span>
              <span class="s0">// replace old child transition data with fresh one</span>
              <span class="s0">// important for dynamic transitions!</span>
              <span class="s3">var </span><span class="s1">oldData </span><span class="s2">= (</span><span class="s1">oldChild</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">transition </span><span class="s2">= </span><span class="s1">extend</span><span class="s2">({}, </span><span class="s1">data</span><span class="s2">));</span>
              <span class="s0">// handle transition mode</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">mode </span><span class="s2">=== </span><span class="s4">'out-in'</span><span class="s2">) {</span>
                  <span class="s0">// return placeholder node and queue update when leave finishes</span>
                  <span class="s3">this</span><span class="s2">.</span><span class="s1">_leaving </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                  <span class="s1">mergeVNodeHook</span><span class="s2">(</span><span class="s1">oldData</span><span class="s2">, </span><span class="s4">'afterLeave'</span><span class="s2">, </span><span class="s3">function </span><span class="s2">() {</span>
                      <span class="s1">_this</span><span class="s2">.</span><span class="s1">_leaving </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
                      <span class="s1">_this</span><span class="s2">.</span><span class="s1">$forceUpdate</span><span class="s2">();</span>
                  <span class="s2">});</span>
                  <span class="s3">return </span><span class="s1">placeholder</span><span class="s2">(</span><span class="s1">h</span><span class="s2">, </span><span class="s1">rawChild</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">mode </span><span class="s2">=== </span><span class="s4">'in-out'</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isAsyncPlaceholder</span><span class="s2">(</span><span class="s1">child</span><span class="s2">)) {</span>
                      <span class="s3">return </span><span class="s1">oldRawChild</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s3">var </span><span class="s1">delayedLeave_1</span><span class="s2">;</span>
                  <span class="s3">var </span><span class="s1">performLeave </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
                      <span class="s1">delayedLeave_1</span><span class="s2">();</span>
                  <span class="s2">};</span>
                  <span class="s1">mergeVNodeHook</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s4">'afterEnter'</span><span class="s2">, </span><span class="s1">performLeave</span><span class="s2">);</span>
                  <span class="s1">mergeVNodeHook</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s4">'enterCancelled'</span><span class="s2">, </span><span class="s1">performLeave</span><span class="s2">);</span>
                  <span class="s1">mergeVNodeHook</span><span class="s2">(</span><span class="s1">oldData</span><span class="s2">, </span><span class="s4">'delayLeave'</span><span class="s2">, </span><span class="s3">function </span><span class="s2">(</span><span class="s1">leave</span><span class="s2">) {</span>
                      <span class="s1">delayedLeave_1 </span><span class="s2">= </span><span class="s1">leave</span><span class="s2">;</span>
                  <span class="s2">});</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">rawChild</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">};</span>

  <span class="s0">// Provides transition support for list items.</span>
  <span class="s3">var </span><span class="s1">props </span><span class="s2">= </span><span class="s1">extend</span><span class="s2">({</span>
      <span class="s1">tag</span><span class="s2">: </span><span class="s1">String</span><span class="s2">,</span>
      <span class="s1">moveClass</span><span class="s2">: </span><span class="s1">String</span>
  <span class="s2">}, </span><span class="s1">transitionProps</span><span class="s2">);</span>
  <span class="s3">delete </span><span class="s1">props</span><span class="s2">.</span><span class="s1">mode</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">TransitionGroup </span><span class="s2">= {</span>
      <span class="s1">props</span><span class="s2">: </span><span class="s1">props</span><span class="s2">,</span>
      <span class="s1">beforeMount</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">_this </span><span class="s2">= </span><span class="s3">this</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">update </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">_update</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">_update </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">restoreActiveInstance </span><span class="s2">= </span><span class="s1">setActiveInstance</span><span class="s2">(</span><span class="s1">_this</span><span class="s2">);</span>
              <span class="s0">// force removing pass</span>
              <span class="s1">_this</span><span class="s2">.</span><span class="s1">__patch__</span><span class="s2">(</span><span class="s1">_this</span><span class="s2">.</span><span class="s1">_vnode</span><span class="s2">, </span><span class="s1">_this</span><span class="s2">.</span><span class="s1">kept</span><span class="s2">, </span><span class="s3">false</span><span class="s2">, </span><span class="s0">// hydrating</span>
              <span class="s3">true </span><span class="s0">// removeOnly (!important, avoids unnecessary moves)</span>
              <span class="s2">);</span>
              <span class="s1">_this</span><span class="s2">.</span><span class="s1">_vnode </span><span class="s2">= </span><span class="s1">_this</span><span class="s2">.</span><span class="s1">kept</span><span class="s2">;</span>
              <span class="s1">restoreActiveInstance</span><span class="s2">();</span>
              <span class="s1">update</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s1">_this</span><span class="s2">, </span><span class="s1">vnode</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">);</span>
          <span class="s2">};</span>
      <span class="s2">},</span>
      <span class="s1">render</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">h</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">tag </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">|| </span><span class="s3">this</span><span class="s2">.</span><span class="s1">$vnode</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">|| </span><span class="s4">'span'</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">map </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">prevChildren </span><span class="s2">= (</span><span class="s3">this</span><span class="s2">.</span><span class="s1">prevChildren </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">children</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">rawChildren </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">$slots</span><span class="s2">.</span><span class="s1">default </span><span class="s2">|| [];</span>
          <span class="s3">var </span><span class="s1">children </span><span class="s2">= (</span><span class="s3">this</span><span class="s2">.</span><span class="s1">children </span><span class="s2">= []);</span>
          <span class="s3">var </span><span class="s1">transitionData </span><span class="s2">= </span><span class="s1">extractTransitionData</span><span class="s2">(</span><span class="s3">this</span><span class="s2">);</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">rawChildren</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">var </span><span class="s1">c </span><span class="s2">= </span><span class="s1">rawChildren</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">key </span><span class="s2">!= </span><span class="s3">null </span><span class="s2">&amp;&amp; </span><span class="s1">String</span><span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">key</span><span class="s2">).</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'__vlist'</span><span class="s2">) !== </span><span class="s6">0</span><span class="s2">) {</span>
                      <span class="s1">children</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">c</span><span class="s2">);</span>
                      <span class="s1">map</span><span class="s2">[</span><span class="s1">c</span><span class="s2">.</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">c</span><span class="s2">;</span>
                      <span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">data </span><span class="s2">|| (</span><span class="s1">c</span><span class="s2">.</span><span class="s1">data </span><span class="s2">= {})).</span><span class="s1">transition </span><span class="s2">= </span><span class="s1">transitionData</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s3">var </span><span class="s1">opts </span><span class="s2">= </span><span class="s1">c</span><span class="s2">.</span><span class="s1">componentOptions</span><span class="s2">;</span>
                      <span class="s3">var </span><span class="s1">name_1 </span><span class="s2">= </span><span class="s1">opts</span>
                          <span class="s2">? </span><span class="s1">getComponentName</span><span class="s2">(</span><span class="s1">opts</span><span class="s2">.</span><span class="s1">Ctor</span><span class="s2">.</span><span class="s1">options</span><span class="s2">) || </span><span class="s1">opts</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">|| </span><span class="s4">''</span>
                          <span class="s2">: </span><span class="s1">c</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">;</span>
                      <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;&lt;transition-group&gt; children must be keyed: &lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name_1</span><span class="s2">, </span><span class="s4">&quot;&gt;&quot;</span><span class="s2">));</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">prevChildren</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">kept </span><span class="s2">= [];</span>
              <span class="s3">var </span><span class="s1">removed </span><span class="s2">= [];</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">prevChildren</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s3">var </span><span class="s1">c </span><span class="s2">= </span><span class="s1">prevChildren</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
                  <span class="s1">c</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">transition </span><span class="s2">= </span><span class="s1">transitionData</span><span class="s2">;</span>
                  <span class="s0">// @ts-expect-error .getBoundingClientRect is not typed in Node</span>
                  <span class="s1">c</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">pos </span><span class="s2">= </span><span class="s1">c</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">getBoundingClientRect</span><span class="s2">();</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">map</span><span class="s2">[</span><span class="s1">c</span><span class="s2">.</span><span class="s1">key</span><span class="s2">]) {</span>
                      <span class="s1">kept</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">c</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s1">removed</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">c</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">kept </span><span class="s2">= </span><span class="s1">h</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s1">kept</span><span class="s2">);</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">removed </span><span class="s2">= </span><span class="s1">removed</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">h</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s1">children</span><span class="s2">);</span>
      <span class="s2">},</span>
      <span class="s1">updated</span><span class="s2">: </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">children </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">prevChildren</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">moveClass </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">moveClass </span><span class="s2">|| (</span><span class="s3">this</span><span class="s2">.</span><span class="s1">name </span><span class="s2">|| </span><span class="s4">'v'</span><span class="s2">) + </span><span class="s4">'-move'</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length </span><span class="s2">|| !</span><span class="s3">this</span><span class="s2">.</span><span class="s1">hasMove</span><span class="s2">(</span><span class="s1">children</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">elm</span><span class="s2">, </span><span class="s1">moveClass</span><span class="s2">)) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// we divide the work into three loops to avoid mixing DOM reads and writes</span>
          <span class="s0">// in each iteration - which helps prevent layout thrashing.</span>
          <span class="s1">children</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s1">callPendingCbs</span><span class="s2">);</span>
          <span class="s1">children</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s1">recordPosition</span><span class="s2">);</span>
          <span class="s1">children</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s1">applyTranslation</span><span class="s2">);</span>
          <span class="s0">// force reflow to put everything in position</span>
          <span class="s0">// assign to this to avoid being removed in tree-shaking</span>
          <span class="s0">// $flow-disable-line</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">_reflow </span><span class="s2">= </span><span class="s1">document</span><span class="s2">.</span><span class="s1">body</span><span class="s2">.</span><span class="s1">offsetHeight</span><span class="s2">;</span>
          <span class="s1">children</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">c</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">moved</span><span class="s2">) {</span>
                  <span class="s3">var </span><span class="s1">el_1 </span><span class="s2">= </span><span class="s1">c</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">;</span>
                  <span class="s3">var </span><span class="s1">s </span><span class="s2">= </span><span class="s1">el_1</span><span class="s2">.</span><span class="s1">style</span><span class="s2">;</span>
                  <span class="s1">addTransitionClass</span><span class="s2">(</span><span class="s1">el_1</span><span class="s2">, </span><span class="s1">moveClass</span><span class="s2">);</span>
                  <span class="s1">s</span><span class="s2">.</span><span class="s1">transform </span><span class="s2">= </span><span class="s1">s</span><span class="s2">.</span><span class="s1">WebkitTransform </span><span class="s2">= </span><span class="s1">s</span><span class="s2">.</span><span class="s1">transitionDuration </span><span class="s2">= </span><span class="s4">''</span><span class="s2">;</span>
                  <span class="s1">el_1</span><span class="s2">.</span><span class="s1">addEventListener</span><span class="s2">(</span><span class="s1">transitionEndEvent</span><span class="s2">, (</span><span class="s1">el_1</span><span class="s2">.</span><span class="s1">_moveCb </span><span class="s2">= </span><span class="s3">function </span><span class="s1">cb</span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">e </span><span class="s2">&amp;&amp; </span><span class="s1">e</span><span class="s2">.</span><span class="s1">target </span><span class="s2">!== </span><span class="s1">el_1</span><span class="s2">) {</span>
                          <span class="s3">return</span><span class="s2">;</span>
                      <span class="s2">}</span>
                      <span class="s3">if </span><span class="s2">(!</span><span class="s1">e </span><span class="s2">|| </span><span class="s7">/transform$/</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">propertyName</span><span class="s2">)) {</span>
                          <span class="s1">el_1</span><span class="s2">.</span><span class="s1">removeEventListener</span><span class="s2">(</span><span class="s1">transitionEndEvent</span><span class="s2">, </span><span class="s1">cb</span><span class="s2">);</span>
                          <span class="s1">el_1</span><span class="s2">.</span><span class="s1">_moveCb </span><span class="s2">= </span><span class="s3">null</span><span class="s2">;</span>
                          <span class="s1">removeTransitionClass</span><span class="s2">(</span><span class="s1">el_1</span><span class="s2">, </span><span class="s1">moveClass</span><span class="s2">);</span>
                      <span class="s2">}</span>
                  <span class="s2">}));</span>
              <span class="s2">}</span>
          <span class="s2">});</span>
      <span class="s2">},</span>
      <span class="s1">methods</span><span class="s2">: {</span>
          <span class="s1">hasMove</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">moveClass</span><span class="s2">) {</span>
              <span class="s0">/* istanbul ignore if */</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">hasTransition</span><span class="s2">) {</span>
                  <span class="s3">return false</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s0">/* istanbul ignore if */</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">_hasMove</span><span class="s2">) {</span>
                  <span class="s3">return this</span><span class="s2">.</span><span class="s1">_hasMove</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s0">// Detect whether an element with the move class applied has</span>
              <span class="s0">// CSS transitions. Since the element may be inside an entering</span>
              <span class="s0">// transition at this very moment, we make a clone of it and remove</span>
              <span class="s0">// all other transition classes applied to ensure only the move class</span>
              <span class="s0">// is applied.</span>
              <span class="s3">var </span><span class="s1">clone </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">cloneNode</span><span class="s2">();</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">_transitionClasses</span><span class="s2">) {</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">_transitionClasses</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">cls</span><span class="s2">) {</span>
                      <span class="s1">removeClass</span><span class="s2">(</span><span class="s1">clone</span><span class="s2">, </span><span class="s1">cls</span><span class="s2">);</span>
                  <span class="s2">});</span>
              <span class="s2">}</span>
              <span class="s1">addClass</span><span class="s2">(</span><span class="s1">clone</span><span class="s2">, </span><span class="s1">moveClass</span><span class="s2">);</span>
              <span class="s1">clone</span><span class="s2">.</span><span class="s1">style</span><span class="s2">.</span><span class="s1">display </span><span class="s2">= </span><span class="s4">'none'</span><span class="s2">;</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">$el</span><span class="s2">.</span><span class="s1">appendChild</span><span class="s2">(</span><span class="s1">clone</span><span class="s2">);</span>
              <span class="s3">var </span><span class="s1">info </span><span class="s2">= </span><span class="s1">getTransitionInfo</span><span class="s2">(</span><span class="s1">clone</span><span class="s2">);</span>
              <span class="s3">this</span><span class="s2">.</span><span class="s1">$el</span><span class="s2">.</span><span class="s1">removeChild</span><span class="s2">(</span><span class="s1">clone</span><span class="s2">);</span>
              <span class="s3">return </span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">_hasMove </span><span class="s2">= </span><span class="s1">info</span><span class="s2">.</span><span class="s1">hasTransform</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">};</span>
  <span class="s3">function </span><span class="s1">callPendingCbs</span><span class="s2">(</span><span class="s1">c</span><span class="s2">) {</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">_moveCb</span><span class="s2">) {</span>
          <span class="s1">c</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">_moveCb</span><span class="s2">();</span>
      <span class="s2">}</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">_enterCb</span><span class="s2">) {</span>
          <span class="s1">c</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">_enterCb</span><span class="s2">();</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">recordPosition</span><span class="s2">(</span><span class="s1">c</span><span class="s2">) {</span>
      <span class="s1">c</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">newPos </span><span class="s2">= </span><span class="s1">c</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">getBoundingClientRect</span><span class="s2">();</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">applyTranslation</span><span class="s2">(</span><span class="s1">c</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">oldPos </span><span class="s2">= </span><span class="s1">c</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">pos</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">newPos </span><span class="s2">= </span><span class="s1">c</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">newPos</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">dx </span><span class="s2">= </span><span class="s1">oldPos</span><span class="s2">.</span><span class="s1">left </span><span class="s2">- </span><span class="s1">newPos</span><span class="s2">.</span><span class="s1">left</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">dy </span><span class="s2">= </span><span class="s1">oldPos</span><span class="s2">.</span><span class="s1">top </span><span class="s2">- </span><span class="s1">newPos</span><span class="s2">.</span><span class="s1">top</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">dx </span><span class="s2">|| </span><span class="s1">dy</span><span class="s2">) {</span>
          <span class="s1">c</span><span class="s2">.</span><span class="s1">data</span><span class="s2">.</span><span class="s1">moved </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">s </span><span class="s2">= </span><span class="s1">c</span><span class="s2">.</span><span class="s1">elm</span><span class="s2">.</span><span class="s1">style</span><span class="s2">;</span>
          <span class="s1">s</span><span class="s2">.</span><span class="s1">transform </span><span class="s2">= </span><span class="s1">s</span><span class="s2">.</span><span class="s1">WebkitTransform </span><span class="s2">= </span><span class="s4">&quot;translate(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dx</span><span class="s2">, </span><span class="s4">&quot;px,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dy</span><span class="s2">, </span><span class="s4">&quot;px)&quot;</span><span class="s2">);</span>
          <span class="s1">s</span><span class="s2">.</span><span class="s1">transitionDuration </span><span class="s2">= </span><span class="s4">'0s'</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">platformComponents </span><span class="s2">= {</span>
      <span class="s1">Transition</span><span class="s2">: </span><span class="s1">Transition</span><span class="s2">,</span>
      <span class="s1">TransitionGroup</span><span class="s2">: </span><span class="s1">TransitionGroup</span>
  <span class="s2">};</span>

  <span class="s0">// install platform specific utils</span>
  <span class="s1">Vue</span><span class="s2">.</span><span class="s1">config</span><span class="s2">.</span><span class="s1">mustUseProp </span><span class="s2">= </span><span class="s1">mustUseProp</span><span class="s2">;</span>
  <span class="s1">Vue</span><span class="s2">.</span><span class="s1">config</span><span class="s2">.</span><span class="s1">isReservedTag </span><span class="s2">= </span><span class="s1">isReservedTag</span><span class="s2">;</span>
  <span class="s1">Vue</span><span class="s2">.</span><span class="s1">config</span><span class="s2">.</span><span class="s1">isReservedAttr </span><span class="s2">= </span><span class="s1">isReservedAttr</span><span class="s2">;</span>
  <span class="s1">Vue</span><span class="s2">.</span><span class="s1">config</span><span class="s2">.</span><span class="s1">getTagNamespace </span><span class="s2">= </span><span class="s1">getTagNamespace</span><span class="s2">;</span>
  <span class="s1">Vue</span><span class="s2">.</span><span class="s1">config</span><span class="s2">.</span><span class="s1">isUnknownElement </span><span class="s2">= </span><span class="s1">isUnknownElement</span><span class="s2">;</span>
  <span class="s0">// install platform runtime directives &amp; components</span>
  <span class="s1">extend</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">directives</span><span class="s2">, </span><span class="s1">platformDirectives</span><span class="s2">);</span>
  <span class="s1">extend</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">components</span><span class="s2">, </span><span class="s1">platformComponents</span><span class="s2">);</span>
  <span class="s0">// install platform patch function</span>
  <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">__patch__ </span><span class="s2">= </span><span class="s1">inBrowser </span><span class="s2">? </span><span class="s1">patch </span><span class="s2">: </span><span class="s1">noop</span><span class="s2">;</span>
  <span class="s0">// public mount method</span>
  <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$mount </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">) {</span>
      <span class="s1">el </span><span class="s2">= </span><span class="s1">el </span><span class="s2">&amp;&amp; </span><span class="s1">inBrowser </span><span class="s2">? </span><span class="s1">query</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) : </span><span class="s1">undefined</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s1">mountComponent</span><span class="s2">(</span><span class="s3">this</span><span class="s2">, </span><span class="s1">el</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">);</span>
  <span class="s2">};</span>
  <span class="s0">// devtools global hook</span>
  <span class="s0">/* istanbul ignore next */</span>
  <span class="s3">if </span><span class="s2">(</span><span class="s1">inBrowser</span><span class="s2">) {</span>
      <span class="s1">setTimeout</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">devtools</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">devtools</span><span class="s2">) {</span>
                  <span class="s1">devtools</span><span class="s2">.</span><span class="s1">emit</span><span class="s2">(</span><span class="s4">'init'</span><span class="s2">, </span><span class="s1">Vue</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s0">// @ts-expect-error</span>
                  <span class="s1">console</span><span class="s2">[</span><span class="s1">console</span><span class="s2">.</span><span class="s1">info </span><span class="s2">? </span><span class="s4">'info' </span><span class="s2">: </span><span class="s4">'log'</span><span class="s2">](</span><span class="s4">'Download the Vue Devtools extension for a better development experience:</span><span class="s3">\n</span><span class="s4">' </span><span class="s2">+</span>
                      <span class="s4">'https://github.com/vuejs/vue-devtools'</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">productionTip </span><span class="s2">!== </span><span class="s3">false </span><span class="s2">&amp;&amp;</span>
              <span class="s3">typeof </span><span class="s1">console </span><span class="s2">!== </span><span class="s4">'undefined'</span><span class="s2">) {</span>
              <span class="s0">// @ts-expect-error</span>
              <span class="s1">console</span><span class="s2">[</span><span class="s1">console</span><span class="s2">.</span><span class="s1">info </span><span class="s2">? </span><span class="s4">'info' </span><span class="s2">: </span><span class="s4">'log'</span><span class="s2">](</span><span class="s4">&quot;You are running Vue in development mode.</span><span class="s3">\n</span><span class="s4">&quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;Make sure to turn on production mode when deploying for production.</span><span class="s3">\n</span><span class="s4">&quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;See more tips at https://vuejs.org/guide/deployment.html&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}, </span><span class="s6">0</span><span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">defaultTagRE </span><span class="s2">= </span><span class="s7">/\{\{((?:.|\r?\n)+?)\}\}/g</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">regexEscapeRE </span><span class="s2">= </span><span class="s7">/[-.*+?^${}()|[\]\/\\]/g</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">buildRegex </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">delimiters</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">open </span><span class="s2">= </span><span class="s1">delimiters</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">regexEscapeRE</span><span class="s2">, </span><span class="s4">'</span><span class="s3">\\</span><span class="s4">$&amp;'</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">close </span><span class="s2">= </span><span class="s1">delimiters</span><span class="s2">[</span><span class="s6">1</span><span class="s2">].</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">regexEscapeRE</span><span class="s2">, </span><span class="s4">'</span><span class="s3">\\</span><span class="s4">$&amp;'</span><span class="s2">);</span>
      <span class="s3">return new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">open </span><span class="s2">+ </span><span class="s4">'((?:.|</span><span class="s3">\\</span><span class="s4">n)+?)' </span><span class="s2">+ </span><span class="s1">close</span><span class="s2">, </span><span class="s4">'g'</span><span class="s2">);</span>
  <span class="s2">});</span>
  <span class="s3">function </span><span class="s1">parseText</span><span class="s2">(</span><span class="s1">text</span><span class="s2">, </span><span class="s1">delimiters</span><span class="s2">) {</span>
      <span class="s0">//@ts-expect-error</span>
      <span class="s3">var </span><span class="s1">tagRE </span><span class="s2">= </span><span class="s1">delimiters </span><span class="s2">? </span><span class="s1">buildRegex</span><span class="s2">(</span><span class="s1">delimiters</span><span class="s2">) : </span><span class="s1">defaultTagRE</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">tagRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">text</span><span class="s2">)) {</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">tokens </span><span class="s2">= [];</span>
      <span class="s3">var </span><span class="s1">rawTokens </span><span class="s2">= [];</span>
      <span class="s3">var </span><span class="s1">lastIndex </span><span class="s2">= (</span><span class="s1">tagRE</span><span class="s2">.</span><span class="s1">lastIndex </span><span class="s2">= </span><span class="s6">0</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">match</span><span class="s2">, </span><span class="s1">index</span><span class="s2">, </span><span class="s1">tokenValue</span><span class="s2">;</span>
      <span class="s3">while </span><span class="s2">((</span><span class="s1">match </span><span class="s2">= </span><span class="s1">tagRE</span><span class="s2">.</span><span class="s1">exec</span><span class="s2">(</span><span class="s1">text</span><span class="s2">))) {</span>
          <span class="s1">index </span><span class="s2">= </span><span class="s1">match</span><span class="s2">.</span><span class="s1">index</span><span class="s2">;</span>
          <span class="s0">// push text token</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">index </span><span class="s2">&gt; </span><span class="s1">lastIndex</span><span class="s2">) {</span>
              <span class="s1">rawTokens</span><span class="s2">.</span><span class="s1">push</span><span class="s2">((</span><span class="s1">tokenValue </span><span class="s2">= </span><span class="s1">text</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s1">lastIndex</span><span class="s2">, </span><span class="s1">index</span><span class="s2">)));</span>
              <span class="s1">tokens</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">tokenValue</span><span class="s2">));</span>
          <span class="s2">}</span>
          <span class="s0">// tag token</span>
          <span class="s3">var </span><span class="s1">exp </span><span class="s2">= </span><span class="s1">parseFilters</span><span class="s2">(</span><span class="s1">match</span><span class="s2">[</span><span class="s6">1</span><span class="s2">].</span><span class="s1">trim</span><span class="s2">());</span>
          <span class="s1">tokens</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s4">&quot;_s(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">));</span>
          <span class="s1">rawTokens</span><span class="s2">.</span><span class="s1">push</span><span class="s2">({ </span><span class="s4">'@binding'</span><span class="s2">: </span><span class="s1">exp </span><span class="s2">});</span>
          <span class="s1">lastIndex </span><span class="s2">= </span><span class="s1">index </span><span class="s2">+ </span><span class="s1">match</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">length</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">lastIndex </span><span class="s2">&lt; </span><span class="s1">text</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
          <span class="s1">rawTokens</span><span class="s2">.</span><span class="s1">push</span><span class="s2">((</span><span class="s1">tokenValue </span><span class="s2">= </span><span class="s1">text</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s1">lastIndex</span><span class="s2">)));</span>
          <span class="s1">tokens</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">tokenValue</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s2">{</span>
          <span class="s1">expression</span><span class="s2">: </span><span class="s1">tokens</span><span class="s2">.</span><span class="s1">join</span><span class="s2">(</span><span class="s4">'+'</span><span class="s2">),</span>
          <span class="s1">tokens</span><span class="s2">: </span><span class="s1">rawTokens</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">transformNode$1</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">warn </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">warn </span><span class="s2">|| </span><span class="s1">baseWarn</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">staticClass </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'class'</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">staticClass</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s1">parseText</span><span class="s2">(</span><span class="s1">staticClass</span><span class="s2">, </span><span class="s1">options</span><span class="s2">.</span><span class="s1">delimiters</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">res</span><span class="s2">) {</span>
              <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;class=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">staticClass</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">: &quot;</span><span class="s2">) +</span>
                  <span class="s4">'Interpolation inside attributes has been removed. ' </span><span class="s2">+</span>
                  <span class="s4">'Use v-bind or the colon shorthand instead. For example, ' </span><span class="s2">+</span>
                  <span class="s4">'instead of &lt;div class=&quot;{{ val }}&quot;&gt;, use &lt;div :class=&quot;val&quot;&gt;.'</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">'class'</span><span class="s2">]);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">staticClass</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">staticClass </span><span class="s2">= </span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">staticClass</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s7">/\s+/g</span><span class="s2">, </span><span class="s4">' '</span><span class="s2">).</span><span class="s1">trim</span><span class="s2">());</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">classBinding </span><span class="s2">= </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'class'</span><span class="s2">, </span><span class="s3">false </span><span class="s0">/* getStatic */</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">classBinding</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">classBinding </span><span class="s2">= </span><span class="s1">classBinding</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genData$2</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s4">''</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">staticClass</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;staticClass:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">staticClass</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">classBinding</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;class:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">classBinding</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">data</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">klass </span><span class="s2">= {</span>
      <span class="s1">staticKeys</span><span class="s2">: [</span><span class="s4">'staticClass'</span><span class="s2">],</span>
      <span class="s1">transformNode</span><span class="s2">: </span><span class="s1">transformNode$1</span><span class="s2">,</span>
      <span class="s1">genData</span><span class="s2">: </span><span class="s1">genData$2</span>
  <span class="s2">};</span>

  <span class="s3">function </span><span class="s1">transformNode</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">warn </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">warn </span><span class="s2">|| </span><span class="s1">baseWarn</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">staticStyle </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'style'</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">staticStyle</span><span class="s2">) {</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s2">{</span>
              <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s1">parseText</span><span class="s2">(</span><span class="s1">staticStyle</span><span class="s2">, </span><span class="s1">options</span><span class="s2">.</span><span class="s1">delimiters</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">res</span><span class="s2">) {</span>
                  <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;style=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">staticStyle</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">: &quot;</span><span class="s2">) +</span>
                      <span class="s4">'Interpolation inside attributes has been removed. ' </span><span class="s2">+</span>
                      <span class="s4">'Use v-bind or the colon shorthand instead. For example, ' </span><span class="s2">+</span>
                      <span class="s4">'instead of &lt;div style=&quot;{{ val }}&quot;&gt;, use &lt;div :style=&quot;val&quot;&gt;.'</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">'style'</span><span class="s2">]);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">staticStyle </span><span class="s2">= </span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">parseStyleText</span><span class="s2">(</span><span class="s1">staticStyle</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">styleBinding </span><span class="s2">= </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'style'</span><span class="s2">, </span><span class="s3">false </span><span class="s0">/* getStatic */</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">styleBinding</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">styleBinding </span><span class="s2">= </span><span class="s1">styleBinding</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genData$1</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s4">''</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">staticStyle</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;staticStyle:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">staticStyle</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">styleBinding</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;style:(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">styleBinding</span><span class="s2">, </span><span class="s4">&quot;),&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">data</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">style </span><span class="s2">= {</span>
      <span class="s1">staticKeys</span><span class="s2">: [</span><span class="s4">'staticStyle'</span><span class="s2">],</span>
      <span class="s1">transformNode</span><span class="s2">: </span><span class="s1">transformNode</span><span class="s2">,</span>
      <span class="s1">genData</span><span class="s2">: </span><span class="s1">genData$1</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">decoder</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">he </span><span class="s2">= {</span>
      <span class="s1">decode</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">html</span><span class="s2">) {</span>
          <span class="s1">decoder </span><span class="s2">= </span><span class="s1">decoder </span><span class="s2">|| </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createElement</span><span class="s2">(</span><span class="s4">'div'</span><span class="s2">);</span>
          <span class="s1">decoder</span><span class="s2">.</span><span class="s1">innerHTML </span><span class="s2">= </span><span class="s1">html</span><span class="s2">;</span>
          <span class="s3">return </span><span class="s1">decoder</span><span class="s2">.</span><span class="s1">textContent</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">isUnaryTag </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'area,base,br,col,embed,frame,hr,img,input,isindex,keygen,' </span><span class="s2">+</span>
      <span class="s4">'link,meta,param,source,track,wbr'</span><span class="s2">);</span>
  <span class="s0">// Elements that you can, intentionally, leave open</span>
  <span class="s0">// (and which close themselves)</span>
  <span class="s3">var </span><span class="s1">canBeLeftOpenTag </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source'</span><span class="s2">);</span>
  <span class="s0">// HTML5 tags https://html.spec.whatwg.org/multipage/indices.html#elements-3</span>
  <span class="s0">// Phrasing Content https://html.spec.whatwg.org/multipage/dom.html#phrasing-content</span>
  <span class="s3">var </span><span class="s1">isNonPhrasingTag </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'address,article,aside,base,blockquote,body,caption,col,colgroup,dd,' </span><span class="s2">+</span>
      <span class="s4">'details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,' </span><span class="s2">+</span>
      <span class="s4">'h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,' </span><span class="s2">+</span>
      <span class="s4">'optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,' </span><span class="s2">+</span>
      <span class="s4">'title,tr,track'</span><span class="s2">);</span>

  <span class="s5">/**</span>
   <span class="s5">* Not type-checking this file because it's mostly vendor code.</span>
   <span class="s5">*/</span>
  <span class="s0">// Regular Expressions for parsing tags and attributes</span>
  <span class="s3">var </span><span class="s1">attribute </span><span class="s2">= </span><span class="s7">/^\s*([^\s&quot;'&lt;&gt;\/=]+)(?:\s*(=)\s*(?:&quot;([^&quot;]*)&quot;+|'([^']*)'+|([^\s&quot;'=&lt;&gt;`]+)))?/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">dynamicArgAttribute </span><span class="s2">= </span><span class="s7">/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s&quot;'&lt;&gt;\/=]*)(?:\s*(=)\s*(?:&quot;([^&quot;]*)&quot;+|'([^']*)'+|([^\s&quot;'=&lt;&gt;`]+)))?/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">ncname </span><span class="s2">= </span><span class="s4">&quot;[a-zA-Z_][</span><span class="s3">\\</span><span class="s4">-</span><span class="s3">\\</span><span class="s4">.0-9_a-zA-Z&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">unicodeRegExp</span><span class="s2">.</span><span class="s1">source</span><span class="s2">, </span><span class="s4">&quot;]*&quot;</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">qnameCapture </span><span class="s2">= </span><span class="s4">&quot;((?:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">ncname</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\\</span><span class="s4">:)?&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">ncname</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">startTagOpen </span><span class="s2">= </span><span class="s3">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s4">&quot;^&lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">qnameCapture</span><span class="s2">));</span>
  <span class="s3">var </span><span class="s1">startTagClose </span><span class="s2">= </span><span class="s7">/^\s*(\/?)&gt;/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">endTag </span><span class="s2">= </span><span class="s3">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s4">&quot;^&lt;</span><span class="s3">\\</span><span class="s4">/&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">qnameCapture</span><span class="s2">, </span><span class="s4">&quot;[^&gt;]*&gt;&quot;</span><span class="s2">));</span>
  <span class="s3">var </span><span class="s1">doctype </span><span class="s2">= </span><span class="s7">/^&lt;!DOCTYPE [^&gt;]+&gt;/i</span><span class="s2">;</span>
  <span class="s0">// #7298: escape - to avoid being passed as HTML comment when inlined in page</span>
  <span class="s3">var </span><span class="s1">comment </span><span class="s2">= </span><span class="s7">/^&lt;!\--/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">conditionalComment </span><span class="s2">= </span><span class="s7">/^&lt;!\[/</span><span class="s2">;</span>
  <span class="s0">// Special Elements (can contain anything)</span>
  <span class="s3">var </span><span class="s1">isPlainTextElement </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'script,style,textarea'</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">reCache </span><span class="s2">= {};</span>
  <span class="s3">var </span><span class="s1">decodingMap </span><span class="s2">= {</span>
      <span class="s4">'&amp;lt;'</span><span class="s2">: </span><span class="s4">'&lt;'</span><span class="s2">,</span>
      <span class="s4">'&amp;gt;'</span><span class="s2">: </span><span class="s4">'&gt;'</span><span class="s2">,</span>
      <span class="s4">'&amp;quot;'</span><span class="s2">: </span><span class="s4">'&quot;'</span><span class="s2">,</span>
      <span class="s4">'&amp;amp;'</span><span class="s2">: </span><span class="s4">'&amp;'</span><span class="s2">,</span>
      <span class="s4">'&amp;#10;'</span><span class="s2">: </span><span class="s4">'</span><span class="s3">\n</span><span class="s4">'</span><span class="s2">,</span>
      <span class="s4">'&amp;#9;'</span><span class="s2">: </span><span class="s4">'</span><span class="s3">\t</span><span class="s4">'</span><span class="s2">,</span>
      <span class="s4">'&amp;#39;'</span><span class="s2">: </span><span class="s4">&quot;'&quot;</span>
  <span class="s2">};</span>
  <span class="s3">var </span><span class="s1">encodedAttr </span><span class="s2">= </span><span class="s7">/&amp;(?:lt|gt|quot|amp|#39);/g</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">encodedAttrWithNewLines </span><span class="s2">= </span><span class="s7">/&amp;(?:lt|gt|quot|amp|#39|#10|#9);/g</span><span class="s2">;</span>
  <span class="s0">// #5992</span>
  <span class="s3">var </span><span class="s1">isIgnoreNewlineTag </span><span class="s2">= </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'pre,textarea'</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">shouldIgnoreFirstNewline </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">html</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">tag </span><span class="s2">&amp;&amp; </span><span class="s1">isIgnoreNewlineTag</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">) &amp;&amp; </span><span class="s1">html</span><span class="s2">[</span><span class="s6">0</span><span class="s2">] === </span><span class="s4">'</span><span class="s3">\n</span><span class="s4">'</span><span class="s2">;</span>
  <span class="s2">};</span>
  <span class="s3">function </span><span class="s1">decodeAttr</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">shouldDecodeNewlines</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">re </span><span class="s2">= </span><span class="s1">shouldDecodeNewlines </span><span class="s2">? </span><span class="s1">encodedAttrWithNewLines </span><span class="s2">: </span><span class="s1">encodedAttr</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s1">value</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">re</span><span class="s2">, </span><span class="s3">function </span><span class="s2">(</span><span class="s1">match</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">decodingMap</span><span class="s2">[</span><span class="s1">match</span><span class="s2">]; });</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">parseHTML</span><span class="s2">(</span><span class="s1">html</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">stack </span><span class="s2">= [];</span>
      <span class="s3">var </span><span class="s1">expectHTML </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">expectHTML</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">isUnaryTag </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">isUnaryTag </span><span class="s2">|| </span><span class="s1">no</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">canBeLeftOpenTag </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">canBeLeftOpenTag </span><span class="s2">|| </span><span class="s1">no</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">index </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">last</span><span class="s2">, </span><span class="s1">lastTag</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">_loop_1 </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
          <span class="s1">last </span><span class="s2">= </span><span class="s1">html</span><span class="s2">;</span>
          <span class="s0">// Make sure we're not in a plaintext content element like script/style</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">lastTag </span><span class="s2">|| !</span><span class="s1">isPlainTextElement</span><span class="s2">(</span><span class="s1">lastTag</span><span class="s2">)) {</span>
              <span class="s3">var </span><span class="s1">textEnd </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'&lt;'</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">textEnd </span><span class="s2">=== </span><span class="s6">0</span><span class="s2">) {</span>
                  <span class="s0">// Comment:</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">comment</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">html</span><span class="s2">)) {</span>
                      <span class="s3">var </span><span class="s1">commentEnd </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'--&gt;'</span><span class="s2">);</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">commentEnd </span><span class="s2">&gt;= </span><span class="s6">0</span><span class="s2">) {</span>
                          <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">shouldKeepComment </span><span class="s2">&amp;&amp; </span><span class="s1">options</span><span class="s2">.</span><span class="s1">comment</span><span class="s2">) {</span>
                              <span class="s1">options</span><span class="s2">.</span><span class="s1">comment</span><span class="s2">(</span><span class="s1">html</span><span class="s2">.</span><span class="s1">substring</span><span class="s2">(</span><span class="s6">4</span><span class="s2">, </span><span class="s1">commentEnd</span><span class="s2">), </span><span class="s1">index</span><span class="s2">, </span><span class="s1">index </span><span class="s2">+ </span><span class="s1">commentEnd </span><span class="s2">+ </span><span class="s6">3</span><span class="s2">);</span>
                          <span class="s2">}</span>
                          <span class="s1">advance</span><span class="s2">(</span><span class="s1">commentEnd </span><span class="s2">+ </span><span class="s6">3</span><span class="s2">);</span>
                          <span class="s3">return </span><span class="s4">&quot;continue&quot;</span><span class="s2">;</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s0">// http://en.wikipedia.org/wiki/Conditional_comment#Downlevel-revealed_conditional_comment</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">conditionalComment</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">html</span><span class="s2">)) {</span>
                      <span class="s3">var </span><span class="s1">conditionalEnd </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">']&gt;'</span><span class="s2">);</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">conditionalEnd </span><span class="s2">&gt;= </span><span class="s6">0</span><span class="s2">) {</span>
                          <span class="s1">advance</span><span class="s2">(</span><span class="s1">conditionalEnd </span><span class="s2">+ </span><span class="s6">2</span><span class="s2">);</span>
                          <span class="s3">return </span><span class="s4">&quot;continue&quot;</span><span class="s2">;</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s0">// Doctype:</span>
                  <span class="s3">var </span><span class="s1">doctypeMatch </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">doctype</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">doctypeMatch</span><span class="s2">) {</span>
                      <span class="s1">advance</span><span class="s2">(</span><span class="s1">doctypeMatch</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">length</span><span class="s2">);</span>
                      <span class="s3">return </span><span class="s4">&quot;continue&quot;</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s0">// End tag:</span>
                  <span class="s3">var </span><span class="s1">endTagMatch </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">endTag</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">endTagMatch</span><span class="s2">) {</span>
                      <span class="s3">var </span><span class="s1">curIndex </span><span class="s2">= </span><span class="s1">index</span><span class="s2">;</span>
                      <span class="s1">advance</span><span class="s2">(</span><span class="s1">endTagMatch</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">length</span><span class="s2">);</span>
                      <span class="s1">parseEndTag</span><span class="s2">(</span><span class="s1">endTagMatch</span><span class="s2">[</span><span class="s6">1</span><span class="s2">], </span><span class="s1">curIndex</span><span class="s2">, </span><span class="s1">index</span><span class="s2">);</span>
                      <span class="s3">return </span><span class="s4">&quot;continue&quot;</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s0">// Start tag:</span>
                  <span class="s3">var </span><span class="s1">startTagMatch </span><span class="s2">= </span><span class="s1">parseStartTag</span><span class="s2">();</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">startTagMatch</span><span class="s2">) {</span>
                      <span class="s1">handleStartTag</span><span class="s2">(</span><span class="s1">startTagMatch</span><span class="s2">);</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">shouldIgnoreFirstNewline</span><span class="s2">(</span><span class="s1">startTagMatch</span><span class="s2">.</span><span class="s1">tagName</span><span class="s2">, </span><span class="s1">html</span><span class="s2">)) {</span>
                          <span class="s1">advance</span><span class="s2">(</span><span class="s6">1</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s3">return </span><span class="s4">&quot;continue&quot;</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">var </span><span class="s1">text </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">, </span><span class="s1">rest </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">, </span><span class="s1">next </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">textEnd </span><span class="s2">&gt;= </span><span class="s6">0</span><span class="s2">) {</span>
                  <span class="s1">rest </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s1">textEnd</span><span class="s2">);</span>
                  <span class="s3">while </span><span class="s2">(!</span><span class="s1">endTag</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">rest</span><span class="s2">) &amp;&amp;</span>
                      <span class="s2">!</span><span class="s1">startTagOpen</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">rest</span><span class="s2">) &amp;&amp;</span>
                      <span class="s2">!</span><span class="s1">comment</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">rest</span><span class="s2">) &amp;&amp;</span>
                      <span class="s2">!</span><span class="s1">conditionalComment</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">rest</span><span class="s2">)) {</span>
                      <span class="s0">// &lt; in plain text, be forgiving and treat it as text</span>
                      <span class="s1">next </span><span class="s2">= </span><span class="s1">rest</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'&lt;'</span><span class="s2">, </span><span class="s6">1</span><span class="s2">);</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">next </span><span class="s2">&lt; </span><span class="s6">0</span><span class="s2">)</span>
                          <span class="s3">break</span><span class="s2">;</span>
                      <span class="s1">textEnd </span><span class="s2">+= </span><span class="s1">next</span><span class="s2">;</span>
                      <span class="s1">rest </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s1">textEnd</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s1">text </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">substring</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, </span><span class="s1">textEnd</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">textEnd </span><span class="s2">&lt; </span><span class="s6">0</span><span class="s2">) {</span>
                  <span class="s1">text </span><span class="s2">= </span><span class="s1">html</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">text</span><span class="s2">) {</span>
                  <span class="s1">advance</span><span class="s2">(</span><span class="s1">text</span><span class="s2">.</span><span class="s1">length</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">chars </span><span class="s2">&amp;&amp; </span><span class="s1">text</span><span class="s2">) {</span>
                  <span class="s1">options</span><span class="s2">.</span><span class="s1">chars</span><span class="s2">(</span><span class="s1">text</span><span class="s2">, </span><span class="s1">index </span><span class="s2">- </span><span class="s1">text</span><span class="s2">.</span><span class="s1">length</span><span class="s2">, </span><span class="s1">index</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">var </span><span class="s1">endTagLength_1 </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">stackedTag_1 </span><span class="s2">= </span><span class="s1">lastTag</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">();</span>
              <span class="s3">var </span><span class="s1">reStackedTag </span><span class="s2">= </span><span class="s1">reCache</span><span class="s2">[</span><span class="s1">stackedTag_1</span><span class="s2">] ||</span>
                  <span class="s2">(</span><span class="s1">reCache</span><span class="s2">[</span><span class="s1">stackedTag_1</span><span class="s2">] = </span><span class="s3">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s4">'([</span><span class="s3">\\</span><span class="s4">s</span><span class="s3">\\</span><span class="s4">S]*?)(&lt;/' </span><span class="s2">+ </span><span class="s1">stackedTag_1 </span><span class="s2">+ </span><span class="s4">'[^&gt;]*&gt;)'</span><span class="s2">, </span><span class="s4">'i'</span><span class="s2">));</span>
              <span class="s3">var </span><span class="s1">rest </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">reStackedTag</span><span class="s2">, </span><span class="s3">function </span><span class="s2">(</span><span class="s1">all</span><span class="s2">, </span><span class="s1">text</span><span class="s2">, </span><span class="s1">endTag</span><span class="s2">) {</span>
                  <span class="s1">endTagLength_1 </span><span class="s2">= </span><span class="s1">endTag</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
                  <span class="s3">if </span><span class="s2">(!</span><span class="s1">isPlainTextElement</span><span class="s2">(</span><span class="s1">stackedTag_1</span><span class="s2">) &amp;&amp; </span><span class="s1">stackedTag_1 </span><span class="s2">!== </span><span class="s4">'noscript'</span><span class="s2">) {</span>
                      <span class="s1">text </span><span class="s2">= </span><span class="s1">text</span>
                          <span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s7">/&lt;!\--([\s\S]*?)--&gt;/g</span><span class="s2">, </span><span class="s4">'$1'</span><span class="s2">) </span><span class="s0">// #7298</span>
                          <span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s7">/&lt;!\[CDATA\[([\s\S]*?)]]&gt;/g</span><span class="s2">, </span><span class="s4">'$1'</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">shouldIgnoreFirstNewline</span><span class="s2">(</span><span class="s1">stackedTag_1</span><span class="s2">, </span><span class="s1">text</span><span class="s2">)) {</span>
                      <span class="s1">text </span><span class="s2">= </span><span class="s1">text</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">1</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">chars</span><span class="s2">) {</span>
                      <span class="s1">options</span><span class="s2">.</span><span class="s1">chars</span><span class="s2">(</span><span class="s1">text</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">return </span><span class="s4">''</span><span class="s2">;</span>
              <span class="s2">});</span>
              <span class="s1">index </span><span class="s2">+= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s1">rest</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
              <span class="s1">html </span><span class="s2">= </span><span class="s1">rest</span><span class="s2">;</span>
              <span class="s1">parseEndTag</span><span class="s2">(</span><span class="s1">stackedTag_1</span><span class="s2">, </span><span class="s1">index </span><span class="s2">- </span><span class="s1">endTagLength_1</span><span class="s2">, </span><span class="s1">index</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">html </span><span class="s2">=== </span><span class="s1">last</span><span class="s2">) {</span>
              <span class="s1">options</span><span class="s2">.</span><span class="s1">chars </span><span class="s2">&amp;&amp; </span><span class="s1">options</span><span class="s2">.</span><span class="s1">chars</span><span class="s2">(</span><span class="s1">html</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">stack</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&amp;&amp; </span><span class="s1">options</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">) {</span>
                  <span class="s1">options</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;Mal-formatted tag at end of template: </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">html</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">), {</span>
                      <span class="s1">start</span><span class="s2">: </span><span class="s1">index </span><span class="s2">+ </span><span class="s1">html</span><span class="s2">.</span><span class="s1">length</span>
                  <span class="s2">});</span>
              <span class="s2">}</span>
              <span class="s3">return </span><span class="s4">&quot;break&quot;</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">html</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">state_1 </span><span class="s2">= </span><span class="s1">_loop_1</span><span class="s2">();</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">state_1 </span><span class="s2">=== </span><span class="s4">&quot;break&quot;</span><span class="s2">)</span>
              <span class="s3">break</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// Clean up any remaining tags</span>
      <span class="s1">parseEndTag</span><span class="s2">();</span>
      <span class="s3">function </span><span class="s1">advance</span><span class="s2">(</span><span class="s1">n</span><span class="s2">) {</span>
          <span class="s1">index </span><span class="s2">+= </span><span class="s1">n</span><span class="s2">;</span>
          <span class="s1">html </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">substring</span><span class="s2">(</span><span class="s1">n</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">parseStartTag</span><span class="s2">() {</span>
          <span class="s3">var </span><span class="s1">start </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">startTagOpen</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">start</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">match </span><span class="s2">= {</span>
                  <span class="s1">tagName</span><span class="s2">: </span><span class="s1">start</span><span class="s2">[</span><span class="s6">1</span><span class="s2">],</span>
                  <span class="s1">attrs</span><span class="s2">: [],</span>
                  <span class="s1">start</span><span class="s2">: </span><span class="s1">index</span>
              <span class="s2">};</span>
              <span class="s1">advance</span><span class="s2">(</span><span class="s1">start</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">length</span><span class="s2">);</span>
              <span class="s3">var </span><span class="s1">end </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">, </span><span class="s1">attr </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
              <span class="s3">while </span><span class="s2">(!(</span><span class="s1">end </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">startTagClose</span><span class="s2">)) &amp;&amp;</span>
                  <span class="s2">(</span><span class="s1">attr </span><span class="s2">= </span><span class="s1">html</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">dynamicArgAttribute</span><span class="s2">) || </span><span class="s1">html</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">attribute</span><span class="s2">))) {</span>
                  <span class="s1">attr</span><span class="s2">.</span><span class="s1">start </span><span class="s2">= </span><span class="s1">index</span><span class="s2">;</span>
                  <span class="s1">advance</span><span class="s2">(</span><span class="s1">attr</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">length</span><span class="s2">);</span>
                  <span class="s1">attr</span><span class="s2">.</span><span class="s1">end </span><span class="s2">= </span><span class="s1">index</span><span class="s2">;</span>
                  <span class="s1">match</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">attr</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">end</span><span class="s2">) {</span>
                  <span class="s1">match</span><span class="s2">.</span><span class="s1">unarySlash </span><span class="s2">= </span><span class="s1">end</span><span class="s2">[</span><span class="s6">1</span><span class="s2">];</span>
                  <span class="s1">advance</span><span class="s2">(</span><span class="s1">end</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">length</span><span class="s2">);</span>
                  <span class="s1">match</span><span class="s2">.</span><span class="s1">end </span><span class="s2">= </span><span class="s1">index</span><span class="s2">;</span>
                  <span class="s3">return </span><span class="s1">match</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">handleStartTag</span><span class="s2">(</span><span class="s1">match</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">tagName </span><span class="s2">= </span><span class="s1">match</span><span class="s2">.</span><span class="s1">tagName</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">unarySlash </span><span class="s2">= </span><span class="s1">match</span><span class="s2">.</span><span class="s1">unarySlash</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">expectHTML</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">lastTag </span><span class="s2">=== </span><span class="s4">'p' </span><span class="s2">&amp;&amp; </span><span class="s1">isNonPhrasingTag</span><span class="s2">(</span><span class="s1">tagName</span><span class="s2">)) {</span>
                  <span class="s1">parseEndTag</span><span class="s2">(</span><span class="s1">lastTag</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">canBeLeftOpenTag</span><span class="s2">(</span><span class="s1">tagName</span><span class="s2">) &amp;&amp; </span><span class="s1">lastTag </span><span class="s2">=== </span><span class="s1">tagName</span><span class="s2">) {</span>
                  <span class="s1">parseEndTag</span><span class="s2">(</span><span class="s1">tagName</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">unary </span><span class="s2">= </span><span class="s1">isUnaryTag</span><span class="s2">(</span><span class="s1">tagName</span><span class="s2">) || !!</span><span class="s1">unarySlash</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">l </span><span class="s2">= </span><span class="s1">match</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">attrs </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Array</span><span class="s2">(</span><span class="s1">l</span><span class="s2">);</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">var </span><span class="s1">args </span><span class="s2">= </span><span class="s1">match</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">args</span><span class="s2">[</span><span class="s6">3</span><span class="s2">] || </span><span class="s1">args</span><span class="s2">[</span><span class="s6">4</span><span class="s2">] || </span><span class="s1">args</span><span class="s2">[</span><span class="s6">5</span><span class="s2">] || </span><span class="s4">''</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">shouldDecodeNewlines </span><span class="s2">= </span><span class="s1">tagName </span><span class="s2">=== </span><span class="s4">'a' </span><span class="s2">&amp;&amp; </span><span class="s1">args</span><span class="s2">[</span><span class="s6">1</span><span class="s2">] === </span><span class="s4">'href'</span>
                  <span class="s2">? </span><span class="s1">options</span><span class="s2">.</span><span class="s1">shouldDecodeNewlinesForHref</span>
                  <span class="s2">: </span><span class="s1">options</span><span class="s2">.</span><span class="s1">shouldDecodeNewlines</span><span class="s2">;</span>
              <span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">] = {</span>
                  <span class="s1">name</span><span class="s2">: </span><span class="s1">args</span><span class="s2">[</span><span class="s6">1</span><span class="s2">],</span>
                  <span class="s1">value</span><span class="s2">: </span><span class="s1">decodeAttr</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">shouldDecodeNewlines</span><span class="s2">)</span>
              <span class="s2">};</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">outputSourceRange</span><span class="s2">) {</span>
                  <span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">start </span><span class="s2">= </span><span class="s1">args</span><span class="s2">.</span><span class="s1">start </span><span class="s2">+ </span><span class="s1">args</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">match</span><span class="s2">(</span><span class="s7">/^\s*/</span><span class="s2">).</span><span class="s1">length</span><span class="s2">;</span>
                  <span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">end </span><span class="s2">= </span><span class="s1">args</span><span class="s2">.</span><span class="s1">end</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">unary</span><span class="s2">) {</span>
              <span class="s1">stack</span><span class="s2">.</span><span class="s1">push</span><span class="s2">({</span>
                  <span class="s1">tag</span><span class="s2">: </span><span class="s1">tagName</span><span class="s2">,</span>
                  <span class="s1">lowerCasedTag</span><span class="s2">: </span><span class="s1">tagName</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">(),</span>
                  <span class="s1">attrs</span><span class="s2">: </span><span class="s1">attrs</span><span class="s2">,</span>
                  <span class="s1">start</span><span class="s2">: </span><span class="s1">match</span><span class="s2">.</span><span class="s1">start</span><span class="s2">,</span>
                  <span class="s1">end</span><span class="s2">: </span><span class="s1">match</span><span class="s2">.</span><span class="s1">end</span>
              <span class="s2">});</span>
              <span class="s1">lastTag </span><span class="s2">= </span><span class="s1">tagName</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">start</span><span class="s2">) {</span>
              <span class="s1">options</span><span class="s2">.</span><span class="s1">start</span><span class="s2">(</span><span class="s1">tagName</span><span class="s2">, </span><span class="s1">attrs</span><span class="s2">, </span><span class="s1">unary</span><span class="s2">, </span><span class="s1">match</span><span class="s2">.</span><span class="s1">start</span><span class="s2">, </span><span class="s1">match</span><span class="s2">.</span><span class="s1">end</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">parseEndTag</span><span class="s2">(</span><span class="s1">tagName</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">end</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">pos</span><span class="s2">, </span><span class="s1">lowerCasedTagName</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">start </span><span class="s2">== </span><span class="s3">null</span><span class="s2">)</span>
              <span class="s1">start </span><span class="s2">= </span><span class="s1">index</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">end </span><span class="s2">== </span><span class="s3">null</span><span class="s2">)</span>
              <span class="s1">end </span><span class="s2">= </span><span class="s1">index</span><span class="s2">;</span>
          <span class="s0">// Find the closest opened tag of the same type</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">tagName</span><span class="s2">) {</span>
              <span class="s1">lowerCasedTagName </span><span class="s2">= </span><span class="s1">tagName</span><span class="s2">.</span><span class="s1">toLowerCase</span><span class="s2">();</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s1">pos </span><span class="s2">= </span><span class="s1">stack</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">; </span><span class="s1">pos </span><span class="s2">&gt;= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">pos</span><span class="s2">--) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">stack</span><span class="s2">[</span><span class="s1">pos</span><span class="s2">].</span><span class="s1">lowerCasedTag </span><span class="s2">=== </span><span class="s1">lowerCasedTagName</span><span class="s2">) {</span>
                      <span class="s3">break</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s0">// If no tag name is provided, clean shop</span>
              <span class="s1">pos </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">pos </span><span class="s2">&gt;= </span><span class="s6">0</span><span class="s2">) {</span>
              <span class="s0">// Close all the open elements, up the stack</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s1">stack</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&gt;= </span><span class="s1">pos</span><span class="s2">; </span><span class="s1">i</span><span class="s2">--) {</span>
                  <span class="s3">if </span><span class="s2">((</span><span class="s1">i </span><span class="s2">&gt; </span><span class="s1">pos </span><span class="s2">|| !</span><span class="s1">tagName</span><span class="s2">) &amp;&amp; </span><span class="s1">options</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">) {</span>
                      <span class="s1">options</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;tag &lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">stack</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot;&gt; has no matching end tag.&quot;</span><span class="s2">), {</span>
                          <span class="s1">start</span><span class="s2">: </span><span class="s1">stack</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">start</span><span class="s2">,</span>
                          <span class="s1">end</span><span class="s2">: </span><span class="s1">stack</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">end</span>
                      <span class="s2">});</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">end</span><span class="s2">) {</span>
                      <span class="s1">options</span><span class="s2">.</span><span class="s1">end</span><span class="s2">(</span><span class="s1">stack</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">end</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s0">// Remove the open elements from the stack</span>
              <span class="s1">stack</span><span class="s2">.</span><span class="s1">length </span><span class="s2">= </span><span class="s1">pos</span><span class="s2">;</span>
              <span class="s1">lastTag </span><span class="s2">= </span><span class="s1">pos </span><span class="s2">&amp;&amp; </span><span class="s1">stack</span><span class="s2">[</span><span class="s1">pos </span><span class="s2">- </span><span class="s6">1</span><span class="s2">].</span><span class="s1">tag</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">lowerCasedTagName </span><span class="s2">=== </span><span class="s4">'br'</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">start</span><span class="s2">) {</span>
                  <span class="s1">options</span><span class="s2">.</span><span class="s1">start</span><span class="s2">(</span><span class="s1">tagName</span><span class="s2">, [], </span><span class="s3">true</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">end</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">lowerCasedTagName </span><span class="s2">=== </span><span class="s4">'p'</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">start</span><span class="s2">) {</span>
                  <span class="s1">options</span><span class="s2">.</span><span class="s1">start</span><span class="s2">(</span><span class="s1">tagName</span><span class="s2">, [], </span><span class="s3">false</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">end</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">end</span><span class="s2">) {</span>
                  <span class="s1">options</span><span class="s2">.</span><span class="s1">end</span><span class="s2">(</span><span class="s1">tagName</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">end</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">onRE </span><span class="s2">= </span><span class="s7">/^@|^v-on:/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">dirRE </span><span class="s2">= </span><span class="s7">/^v-|^@|^:|^#/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">forAliasRE </span><span class="s2">= </span><span class="s7">/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">forIteratorRE </span><span class="s2">= </span><span class="s7">/,([^,\}\]]*)(?:,([^,\}\]]*))?$/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">stripParensRE </span><span class="s2">= </span><span class="s7">/^\(|\)$/g</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">dynamicArgRE </span><span class="s2">= </span><span class="s7">/^\[.*\]$/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">argRE </span><span class="s2">= </span><span class="s7">/:(.*)$/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">bindRE </span><span class="s2">= </span><span class="s7">/^:|^\.|^v-bind:/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">modifierRE </span><span class="s2">= </span><span class="s7">/\.[^.\]]+(?=[^\]]*$)/g</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">slotRE </span><span class="s2">= </span><span class="s7">/^v-slot(:|$)|^#/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">lineBreakRE </span><span class="s2">= </span><span class="s7">/[\r\n]/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">whitespaceRE </span><span class="s2">= </span><span class="s7">/[ \f\t\r\n]+/g</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">invalidAttributeRE </span><span class="s2">= </span><span class="s7">/[\s&quot;'&lt;&gt;\/=]/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">decodeHTMLCached </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">(</span><span class="s1">he</span><span class="s2">.</span><span class="s1">decode</span><span class="s2">);</span>
  <span class="s3">var </span><span class="s1">emptySlotScopeToken </span><span class="s2">= </span><span class="s4">&quot;_empty_&quot;</span><span class="s2">;</span>
  <span class="s0">// configurable state</span>
  <span class="s3">var </span><span class="s1">warn</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">delimiters</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">transforms</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">preTransforms</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">postTransforms</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">platformIsPreTag</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">platformMustUseProp</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">platformGetTagNamespace</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">maybeComponent</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">createASTElement</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">attrs</span><span class="s2">, </span><span class="s1">parent</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">{</span>
          <span class="s1">type</span><span class="s2">: </span><span class="s6">1</span><span class="s2">,</span>
          <span class="s1">tag</span><span class="s2">: </span><span class="s1">tag</span><span class="s2">,</span>
          <span class="s1">attrsList</span><span class="s2">: </span><span class="s1">attrs</span><span class="s2">,</span>
          <span class="s1">attrsMap</span><span class="s2">: </span><span class="s1">makeAttrsMap</span><span class="s2">(</span><span class="s1">attrs</span><span class="s2">),</span>
          <span class="s1">rawAttrsMap</span><span class="s2">: {},</span>
          <span class="s1">parent</span><span class="s2">: </span><span class="s1">parent</span><span class="s2">,</span>
          <span class="s1">children</span><span class="s2">: []</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s5">/**</span>
   <span class="s5">* Convert HTML string to AST.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">parse</span><span class="s2">(</span><span class="s1">template</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s1">warn </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">warn </span><span class="s2">|| </span><span class="s1">baseWarn</span><span class="s2">;</span>
      <span class="s1">platformIsPreTag </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">isPreTag </span><span class="s2">|| </span><span class="s1">no</span><span class="s2">;</span>
      <span class="s1">platformMustUseProp </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">mustUseProp </span><span class="s2">|| </span><span class="s1">no</span><span class="s2">;</span>
      <span class="s1">platformGetTagNamespace </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">getTagNamespace </span><span class="s2">|| </span><span class="s1">no</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">isReservedTag </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">isReservedTag </span><span class="s2">|| </span><span class="s1">no</span><span class="s2">;</span>
      <span class="s1">maybeComponent </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s2">!!(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">component </span><span class="s2">||</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">':is'</span><span class="s2">] ||</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">'v-bind:is'</span><span class="s2">] ||</span>
              <span class="s2">!(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">.</span><span class="s1">is </span><span class="s2">? </span><span class="s1">isReservedTag</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">.</span><span class="s1">is</span><span class="s2">) : </span><span class="s1">isReservedTag</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">)));</span>
      <span class="s2">};</span>
      <span class="s1">transforms </span><span class="s2">= </span><span class="s1">pluckModuleFunction</span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">modules</span><span class="s2">, </span><span class="s4">'transformNode'</span><span class="s2">);</span>
      <span class="s1">preTransforms </span><span class="s2">= </span><span class="s1">pluckModuleFunction</span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">modules</span><span class="s2">, </span><span class="s4">'preTransformNode'</span><span class="s2">);</span>
      <span class="s1">postTransforms </span><span class="s2">= </span><span class="s1">pluckModuleFunction</span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">modules</span><span class="s2">, </span><span class="s4">'postTransformNode'</span><span class="s2">);</span>
      <span class="s1">delimiters </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">delimiters</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">stack </span><span class="s2">= [];</span>
      <span class="s3">var </span><span class="s1">preserveWhitespace </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">preserveWhitespace </span><span class="s2">!== </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">whitespaceOption </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">whitespace</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">root</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">currentParent</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">inVPre </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">inPre </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">warned </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">function </span><span class="s1">warnOnce</span><span class="s2">(</span><span class="s1">msg</span><span class="s2">, </span><span class="s1">range</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">warned</span><span class="s2">) {</span>
              <span class="s1">warned </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s1">warn</span><span class="s2">(</span><span class="s1">msg</span><span class="s2">, </span><span class="s1">range</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">closeElement</span><span class="s2">(</span><span class="s1">element</span><span class="s2">) {</span>
          <span class="s1">trimEndingWhitespace</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">inVPre </span><span class="s2">&amp;&amp; !</span><span class="s1">element</span><span class="s2">.</span><span class="s1">processed</span><span class="s2">) {</span>
              <span class="s1">element </span><span class="s2">= </span><span class="s1">processElement</span><span class="s2">(</span><span class="s1">element</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s0">// tree management</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">stack</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&amp;&amp; </span><span class="s1">element </span><span class="s2">!== </span><span class="s1">root</span><span class="s2">) {</span>
              <span class="s0">// allow root elements with v-if, v-else-if and v-else</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">root</span><span class="s2">.</span><span class="s1">if </span><span class="s2">&amp;&amp; (</span><span class="s1">element</span><span class="s2">.</span><span class="s1">elseif </span><span class="s2">|| </span><span class="s1">element</span><span class="s2">.</span><span class="s1">else</span><span class="s2">)) {</span>
                  <span class="s2">{</span>
                      <span class="s1">checkRootConstraints</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s1">addIfCondition</span><span class="s2">(</span><span class="s1">root</span><span class="s2">, {</span>
                      <span class="s1">exp</span><span class="s2">: </span><span class="s1">element</span><span class="s2">.</span><span class="s1">elseif</span><span class="s2">,</span>
                      <span class="s1">block</span><span class="s2">: </span><span class="s1">element</span>
                  <span class="s2">});</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">warnOnce</span><span class="s2">(</span><span class="s4">&quot;Component template should contain exactly one root element. &quot; </span><span class="s2">+</span>
                      <span class="s4">&quot;If you are using v-if on multiple elements, &quot; </span><span class="s2">+</span>
                      <span class="s4">&quot;use v-else-if to chain them instead.&quot;</span><span class="s2">, { </span><span class="s1">start</span><span class="s2">: </span><span class="s1">element</span><span class="s2">.</span><span class="s1">start </span><span class="s2">});</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">currentParent </span><span class="s2">&amp;&amp; !</span><span class="s1">element</span><span class="s2">.</span><span class="s1">forbidden</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">element</span><span class="s2">.</span><span class="s1">elseif </span><span class="s2">|| </span><span class="s1">element</span><span class="s2">.</span><span class="s1">else</span><span class="s2">) {</span>
                  <span class="s1">processIfConditions</span><span class="s2">(</span><span class="s1">element</span><span class="s2">, </span><span class="s1">currentParent</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">element</span><span class="s2">.</span><span class="s1">slotScope</span><span class="s2">) {</span>
                      <span class="s0">// scoped slot</span>
                      <span class="s0">// keep it in the children list so that v-else(-if) conditions can</span>
                      <span class="s0">// find it as the prev node.</span>
                      <span class="s3">var </span><span class="s1">name_1 </span><span class="s2">= </span><span class="s1">element</span><span class="s2">.</span><span class="s1">slotTarget </span><span class="s2">|| </span><span class="s4">'&quot;default&quot;'</span><span class="s2">;</span>
                      <span class="s2">(</span><span class="s1">currentParent</span><span class="s2">.</span><span class="s1">scopedSlots </span><span class="s2">|| (</span><span class="s1">currentParent</span><span class="s2">.</span><span class="s1">scopedSlots </span><span class="s2">= {}))[</span><span class="s1">name_1</span><span class="s2">] = </span><span class="s1">element</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s1">currentParent</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
                  <span class="s1">element</span><span class="s2">.</span><span class="s1">parent </span><span class="s2">= </span><span class="s1">currentParent</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s0">// final children cleanup</span>
          <span class="s0">// filter out scoped slots</span>
          <span class="s1">element</span><span class="s2">.</span><span class="s1">children </span><span class="s2">= </span><span class="s1">element</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">filter</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">c</span><span class="s2">) { </span><span class="s3">return </span><span class="s2">!</span><span class="s1">c</span><span class="s2">.</span><span class="s1">slotScope</span><span class="s2">; });</span>
          <span class="s0">// remove trailing whitespace node again</span>
          <span class="s1">trimEndingWhitespace</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
          <span class="s0">// check pre state</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">element</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">) {</span>
              <span class="s1">inVPre </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">platformIsPreTag</span><span class="s2">(</span><span class="s1">element</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">)) {</span>
              <span class="s1">inPre </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// apply post-transforms</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">postTransforms</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">postTransforms</span><span class="s2">[</span><span class="s1">i</span><span class="s2">](</span><span class="s1">element</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">trimEndingWhitespace</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
          <span class="s0">// remove trailing whitespace node</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">inPre</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">lastNode </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
              <span class="s3">while </span><span class="s2">((</span><span class="s1">lastNode </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">children</span><span class="s2">[</span><span class="s1">el</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">]) &amp;&amp;</span>
                  <span class="s1">lastNode</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">3 </span><span class="s2">&amp;&amp;</span>
                  <span class="s1">lastNode</span><span class="s2">.</span><span class="s1">text </span><span class="s2">=== </span><span class="s4">' '</span><span class="s2">) {</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">pop</span><span class="s2">();</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">function </span><span class="s1">checkRootConstraints</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'slot' </span><span class="s2">|| </span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'template'</span><span class="s2">) {</span>
              <span class="s1">warnOnce</span><span class="s2">(</span><span class="s4">&quot;Cannot use &lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot;&gt; as component root element because it may &quot;</span><span class="s2">) +</span>
                  <span class="s4">'contain multiple nodes.'</span><span class="s2">, { </span><span class="s1">start</span><span class="s2">: </span><span class="s1">el</span><span class="s2">.</span><span class="s1">start </span><span class="s2">});</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">.</span><span class="s1">hasOwnProperty</span><span class="s2">(</span><span class="s4">'v-for'</span><span class="s2">)) {</span>
              <span class="s1">warnOnce</span><span class="s2">(</span><span class="s4">'Cannot use v-for on stateful component root element because ' </span><span class="s2">+</span>
                  <span class="s4">'it renders multiple elements.'</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">'v-for'</span><span class="s2">]);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s1">parseHTML</span><span class="s2">(</span><span class="s1">template</span><span class="s2">, {</span>
          <span class="s1">warn</span><span class="s2">: </span><span class="s1">warn</span><span class="s2">,</span>
          <span class="s1">expectHTML</span><span class="s2">: </span><span class="s1">options</span><span class="s2">.</span><span class="s1">expectHTML</span><span class="s2">,</span>
          <span class="s1">isUnaryTag</span><span class="s2">: </span><span class="s1">options</span><span class="s2">.</span><span class="s1">isUnaryTag</span><span class="s2">,</span>
          <span class="s1">canBeLeftOpenTag</span><span class="s2">: </span><span class="s1">options</span><span class="s2">.</span><span class="s1">canBeLeftOpenTag</span><span class="s2">,</span>
          <span class="s1">shouldDecodeNewlines</span><span class="s2">: </span><span class="s1">options</span><span class="s2">.</span><span class="s1">shouldDecodeNewlines</span><span class="s2">,</span>
          <span class="s1">shouldDecodeNewlinesForHref</span><span class="s2">: </span><span class="s1">options</span><span class="s2">.</span><span class="s1">shouldDecodeNewlinesForHref</span><span class="s2">,</span>
          <span class="s1">shouldKeepComment</span><span class="s2">: </span><span class="s1">options</span><span class="s2">.</span><span class="s1">comments</span><span class="s2">,</span>
          <span class="s1">outputSourceRange</span><span class="s2">: </span><span class="s1">options</span><span class="s2">.</span><span class="s1">outputSourceRange</span><span class="s2">,</span>
          <span class="s1">start</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">attrs</span><span class="s2">, </span><span class="s1">unary</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">end</span><span class="s2">) {</span>
              <span class="s0">// check namespace.</span>
              <span class="s0">// inherit parent ns if there is one</span>
              <span class="s3">var </span><span class="s1">ns </span><span class="s2">= (</span><span class="s1">currentParent </span><span class="s2">&amp;&amp; </span><span class="s1">currentParent</span><span class="s2">.</span><span class="s1">ns</span><span class="s2">) || </span><span class="s1">platformGetTagNamespace</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">);</span>
              <span class="s0">// handle IE svg bug</span>
              <span class="s0">/* istanbul ignore if */</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isIE </span><span class="s2">&amp;&amp; </span><span class="s1">ns </span><span class="s2">=== </span><span class="s4">'svg'</span><span class="s2">) {</span>
                  <span class="s1">attrs </span><span class="s2">= </span><span class="s1">guardIESVGBug</span><span class="s2">(</span><span class="s1">attrs</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">var </span><span class="s1">element </span><span class="s2">= </span><span class="s1">createASTElement</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">attrs</span><span class="s2">, </span><span class="s1">currentParent</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">ns</span><span class="s2">) {</span>
                  <span class="s1">element</span><span class="s2">.</span><span class="s1">ns </span><span class="s2">= </span><span class="s1">ns</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s2">{</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">outputSourceRange</span><span class="s2">) {</span>
                      <span class="s1">element</span><span class="s2">.</span><span class="s1">start </span><span class="s2">= </span><span class="s1">start</span><span class="s2">;</span>
                      <span class="s1">element</span><span class="s2">.</span><span class="s1">end </span><span class="s2">= </span><span class="s1">end</span><span class="s2">;</span>
                      <span class="s1">element</span><span class="s2">.</span><span class="s1">rawAttrsMap </span><span class="s2">= </span><span class="s1">element</span><span class="s2">.</span><span class="s1">attrsList</span><span class="s2">.</span><span class="s1">reduce</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">cumulated</span><span class="s2">, </span><span class="s1">attr</span><span class="s2">) {</span>
                          <span class="s1">cumulated</span><span class="s2">[</span><span class="s1">attr</span><span class="s2">.</span><span class="s1">name</span><span class="s2">] = </span><span class="s1">attr</span><span class="s2">;</span>
                          <span class="s3">return </span><span class="s1">cumulated</span><span class="s2">;</span>
                      <span class="s2">}, {});</span>
                  <span class="s2">}</span>
                  <span class="s1">attrs</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">attr</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">invalidAttributeRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">attr</span><span class="s2">.</span><span class="s1">name</span><span class="s2">)) {</span>
                          <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;Invalid dynamic argument expression: attribute names cannot contain &quot; </span><span class="s2">+</span>
                              <span class="s4">&quot;spaces, quotes, &lt;, &gt;, / or =.&quot;</span><span class="s2">, </span><span class="s1">options</span><span class="s2">.</span><span class="s1">outputSourceRange</span>
                              <span class="s2">? {</span>
                                  <span class="s1">start</span><span class="s2">: </span><span class="s1">attr</span><span class="s2">.</span><span class="s1">start </span><span class="s2">+ </span><span class="s1">attr</span><span class="s2">.</span><span class="s1">name</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;[&quot;</span><span class="s2">),</span>
                                  <span class="s1">end</span><span class="s2">: </span><span class="s1">attr</span><span class="s2">.</span><span class="s1">start </span><span class="s2">+ </span><span class="s1">attr</span><span class="s2">.</span><span class="s1">name</span><span class="s2">.</span><span class="s1">length</span>
                              <span class="s2">}</span>
                              <span class="s2">: </span><span class="s1">undefined</span><span class="s2">);</span>
                      <span class="s2">}</span>
                  <span class="s2">});</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isForbiddenTag</span><span class="s2">(</span><span class="s1">element</span><span class="s2">) &amp;&amp; !</span><span class="s1">isServerRendering</span><span class="s2">()) {</span>
                  <span class="s1">element</span><span class="s2">.</span><span class="s1">forbidden </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                  <span class="s1">warn</span><span class="s2">(</span><span class="s4">'Templates should only be responsible for mapping the state to the ' </span><span class="s2">+</span>
                          <span class="s4">'UI. Avoid placing tags with side-effects in your templates, such as ' </span><span class="s2">+</span>
                          <span class="s4">&quot;&lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot;&gt;&quot;</span><span class="s2">) +</span>
                          <span class="s4">', as they will not be parsed.'</span><span class="s2">, { </span><span class="s1">start</span><span class="s2">: </span><span class="s1">element</span><span class="s2">.</span><span class="s1">start </span><span class="s2">});</span>
              <span class="s2">}</span>
              <span class="s0">// apply pre-transforms</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">preTransforms</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">element </span><span class="s2">= </span><span class="s1">preTransforms</span><span class="s2">[</span><span class="s1">i</span><span class="s2">](</span><span class="s1">element</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) || </span><span class="s1">element</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">inVPre</span><span class="s2">) {</span>
                  <span class="s1">processPre</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">element</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">) {</span>
                      <span class="s1">inVPre </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">platformIsPreTag</span><span class="s2">(</span><span class="s1">element</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">)) {</span>
                  <span class="s1">inPre </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">inVPre</span><span class="s2">) {</span>
                  <span class="s1">processRawAttrs</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(!</span><span class="s1">element</span><span class="s2">.</span><span class="s1">processed</span><span class="s2">) {</span>
                  <span class="s0">// structural directives</span>
                  <span class="s1">processFor</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
                  <span class="s1">processIf</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
                  <span class="s1">processOnce</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">root</span><span class="s2">) {</span>
                  <span class="s1">root </span><span class="s2">= </span><span class="s1">element</span><span class="s2">;</span>
                  <span class="s2">{</span>
                      <span class="s1">checkRootConstraints</span><span class="s2">(</span><span class="s1">root</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">unary</span><span class="s2">) {</span>
                  <span class="s1">currentParent </span><span class="s2">= </span><span class="s1">element</span><span class="s2">;</span>
                  <span class="s1">stack</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">closeElement</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">},</span>
          <span class="s1">end</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">end</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">element </span><span class="s2">= </span><span class="s1">stack</span><span class="s2">[</span><span class="s1">stack</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">];</span>
              <span class="s0">// pop stack</span>
              <span class="s1">stack</span><span class="s2">.</span><span class="s1">length </span><span class="s2">-= </span><span class="s6">1</span><span class="s2">;</span>
              <span class="s1">currentParent </span><span class="s2">= </span><span class="s1">stack</span><span class="s2">[</span><span class="s1">stack</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">];</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">outputSourceRange</span><span class="s2">) {</span>
                  <span class="s1">element</span><span class="s2">.</span><span class="s1">end </span><span class="s2">= </span><span class="s1">end</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s1">closeElement</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
          <span class="s2">},</span>
          <span class="s1">chars</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">text</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">end</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">currentParent</span><span class="s2">) {</span>
                  <span class="s2">{</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">text </span><span class="s2">=== </span><span class="s1">template</span><span class="s2">) {</span>
                          <span class="s1">warnOnce</span><span class="s2">(</span><span class="s4">'Component template requires a root element, rather than just text.'</span><span class="s2">, { </span><span class="s1">start</span><span class="s2">: </span><span class="s1">start </span><span class="s2">});</span>
                      <span class="s2">}</span>
                      <span class="s3">else if </span><span class="s2">((</span><span class="s1">text </span><span class="s2">= </span><span class="s1">text</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">())) {</span>
                          <span class="s1">warnOnce</span><span class="s2">(</span><span class="s4">&quot;text </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">text</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">outside root element will be ignored.&quot;</span><span class="s2">), {</span>
                              <span class="s1">start</span><span class="s2">: </span><span class="s1">start</span>
                          <span class="s2">});</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s3">return</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s0">// IE textarea placeholder bug</span>
              <span class="s0">/* istanbul ignore if */</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">isIE </span><span class="s2">&amp;&amp;</span>
                  <span class="s1">currentParent</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'textarea' </span><span class="s2">&amp;&amp;</span>
                  <span class="s1">currentParent</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">.</span><span class="s1">placeholder </span><span class="s2">=== </span><span class="s1">text</span><span class="s2">) {</span>
                  <span class="s3">return</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">var </span><span class="s1">children </span><span class="s2">= </span><span class="s1">currentParent</span><span class="s2">.</span><span class="s1">children</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">inPre </span><span class="s2">|| </span><span class="s1">text</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">()) {</span>
                  <span class="s1">text </span><span class="s2">= </span><span class="s1">isTextTag</span><span class="s2">(</span><span class="s1">currentParent</span><span class="s2">)</span>
                      <span class="s2">? </span><span class="s1">text</span>
                      <span class="s2">: </span><span class="s1">decodeHTMLCached</span><span class="s2">(</span><span class="s1">text</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(!</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
                  <span class="s0">// remove the whitespace-only node right after an opening tag</span>
                  <span class="s1">text </span><span class="s2">= </span><span class="s4">''</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">whitespaceOption</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">whitespaceOption </span><span class="s2">=== </span><span class="s4">'condense'</span><span class="s2">) {</span>
                      <span class="s0">// in condense mode, remove the whitespace node if it contains</span>
                      <span class="s0">// line break, otherwise condense to a single space</span>
                      <span class="s1">text </span><span class="s2">= </span><span class="s1">lineBreakRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">text</span><span class="s2">) ? </span><span class="s4">'' </span><span class="s2">: </span><span class="s4">' '</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s1">text </span><span class="s2">= </span><span class="s4">' '</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">text </span><span class="s2">= </span><span class="s1">preserveWhitespace </span><span class="s2">? </span><span class="s4">' ' </span><span class="s2">: </span><span class="s4">''</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">text</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(!</span><span class="s1">inPre </span><span class="s2">&amp;&amp; </span><span class="s1">whitespaceOption </span><span class="s2">=== </span><span class="s4">'condense'</span><span class="s2">) {</span>
                      <span class="s0">// condense consecutive whitespaces into single space</span>
                      <span class="s1">text </span><span class="s2">= </span><span class="s1">text</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">whitespaceRE</span><span class="s2">, </span><span class="s4">' '</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
                  <span class="s3">var </span><span class="s1">child </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
                  <span class="s3">if </span><span class="s2">(!</span><span class="s1">inVPre </span><span class="s2">&amp;&amp; </span><span class="s1">text </span><span class="s2">!== </span><span class="s4">' ' </span><span class="s2">&amp;&amp; (</span><span class="s1">res </span><span class="s2">= </span><span class="s1">parseText</span><span class="s2">(</span><span class="s1">text</span><span class="s2">, </span><span class="s1">delimiters</span><span class="s2">))) {</span>
                      <span class="s1">child </span><span class="s2">= {</span>
                          <span class="s1">type</span><span class="s2">: </span><span class="s6">2</span><span class="s2">,</span>
                          <span class="s1">expression</span><span class="s2">: </span><span class="s1">res</span><span class="s2">.</span><span class="s1">expression</span><span class="s2">,</span>
                          <span class="s1">tokens</span><span class="s2">: </span><span class="s1">res</span><span class="s2">.</span><span class="s1">tokens</span><span class="s2">,</span>
                          <span class="s1">text</span><span class="s2">: </span><span class="s1">text</span>
                      <span class="s2">};</span>
                  <span class="s2">}</span>
                  <span class="s3">else if </span><span class="s2">(</span><span class="s1">text </span><span class="s2">!== </span><span class="s4">' ' </span><span class="s2">||</span>
                      <span class="s2">!</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length </span><span class="s2">||</span>
                      <span class="s1">children</span><span class="s2">[</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">].</span><span class="s1">text </span><span class="s2">!== </span><span class="s4">' '</span><span class="s2">) {</span>
                      <span class="s1">child </span><span class="s2">= {</span>
                          <span class="s1">type</span><span class="s2">: </span><span class="s6">3</span><span class="s2">,</span>
                          <span class="s1">text</span><span class="s2">: </span><span class="s1">text</span>
                      <span class="s2">};</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">child</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">outputSourceRange</span><span class="s2">) {</span>
                          <span class="s1">child</span><span class="s2">.</span><span class="s1">start </span><span class="s2">= </span><span class="s1">start</span><span class="s2">;</span>
                          <span class="s1">child</span><span class="s2">.</span><span class="s1">end </span><span class="s2">= </span><span class="s1">end</span><span class="s2">;</span>
                      <span class="s2">}</span>
                      <span class="s1">children</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">child</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">},</span>
          <span class="s1">comment</span><span class="s2">: </span><span class="s3">function </span><span class="s2">(</span><span class="s1">text</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">end</span><span class="s2">) {</span>
              <span class="s0">// adding anything as a sibling to the root node is forbidden</span>
              <span class="s0">// comments should still be allowed, but ignored</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">currentParent</span><span class="s2">) {</span>
                  <span class="s3">var </span><span class="s1">child </span><span class="s2">= {</span>
                      <span class="s1">type</span><span class="s2">: </span><span class="s6">3</span><span class="s2">,</span>
                      <span class="s1">text</span><span class="s2">: </span><span class="s1">text</span><span class="s2">,</span>
                      <span class="s1">isComment</span><span class="s2">: </span><span class="s3">true</span>
                  <span class="s2">};</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">outputSourceRange</span><span class="s2">) {</span>
                      <span class="s1">child</span><span class="s2">.</span><span class="s1">start </span><span class="s2">= </span><span class="s1">start</span><span class="s2">;</span>
                      <span class="s1">child</span><span class="s2">.</span><span class="s1">end </span><span class="s2">= </span><span class="s1">end</span><span class="s2">;</span>
                  <span class="s2">}</span>
                  <span class="s1">currentParent</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">child</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">});</span>
      <span class="s3">return </span><span class="s1">root</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">processPre</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'v-pre'</span><span class="s2">) != </span><span class="s3">null</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">pre </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">processRawAttrs</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">list </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsList</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">len </span><span class="s2">= </span><span class="s1">list</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">len</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">attrs </span><span class="s2">= (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Array</span><span class="s2">(</span><span class="s1">len</span><span class="s2">));</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">len</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">] = {</span>
                  <span class="s1">name</span><span class="s2">: </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">name</span><span class="s2">,</span>
                  <span class="s1">value</span><span class="s2">: </span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">value</span><span class="s2">)</span>
              <span class="s2">};</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">start </span><span class="s2">!= </span><span class="s3">null</span><span class="s2">) {</span>
                  <span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">start </span><span class="s2">= </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">start</span><span class="s2">;</span>
                  <span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">end </span><span class="s2">= </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">end</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(!</span><span class="s1">el</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">) {</span>
          <span class="s0">// non root node in pre blocks with no attributes</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">plain </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">processElement</span><span class="s2">(</span><span class="s1">element</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s1">processKey</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
      <span class="s0">// determine whether this is a plain element after</span>
      <span class="s0">// removing structural attributes</span>
      <span class="s1">element</span><span class="s2">.</span><span class="s1">plain </span><span class="s2">=</span>
          <span class="s2">!</span><span class="s1">element</span><span class="s2">.</span><span class="s1">key </span><span class="s2">&amp;&amp; !</span><span class="s1">element</span><span class="s2">.</span><span class="s1">scopedSlots </span><span class="s2">&amp;&amp; !</span><span class="s1">element</span><span class="s2">.</span><span class="s1">attrsList</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
      <span class="s1">processRef</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
      <span class="s1">processSlotContent</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
      <span class="s1">processSlotOutlet</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
      <span class="s1">processComponent</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">transforms</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">element </span><span class="s2">= </span><span class="s1">transforms</span><span class="s2">[</span><span class="s1">i</span><span class="s2">](</span><span class="s1">element</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) || </span><span class="s1">element</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s1">processAttrs</span><span class="s2">(</span><span class="s1">element</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">element</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">processKey</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">exp </span><span class="s2">= </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'key'</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">exp</span><span class="s2">) {</span>
          <span class="s2">{</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'template'</span><span class="s2">) {</span>
                  <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;&lt;template&gt; cannot be keyed. Place the key on real elements instead.&quot;</span><span class="s2">, </span><span class="s1">getRawBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'key'</span><span class="s2">));</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">for</span><span class="s2">) {</span>
                  <span class="s3">var </span><span class="s1">iterator </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">iterator2 </span><span class="s2">|| </span><span class="s1">el</span><span class="s2">.</span><span class="s1">iterator1</span><span class="s2">;</span>
                  <span class="s3">var </span><span class="s1">parent_1 </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">iterator </span><span class="s2">&amp;&amp;</span>
                      <span class="s1">iterator </span><span class="s2">=== </span><span class="s1">exp </span><span class="s2">&amp;&amp;</span>
                      <span class="s1">parent_1 </span><span class="s2">&amp;&amp;</span>
                      <span class="s1">parent_1</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'transition-group'</span><span class="s2">) {</span>
                      <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;Do not use v-for index as key on &lt;transition-group&gt; children, &quot; </span><span class="s2">+</span>
                          <span class="s4">&quot;this is the same as not using keys.&quot;</span><span class="s2">, </span><span class="s1">getRawBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'key'</span><span class="s2">), </span><span class="s3">true </span><span class="s0">/* tip */</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">key </span><span class="s2">= </span><span class="s1">exp</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">processRef</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">ref </span><span class="s2">= </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'ref'</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">ref</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">ref </span><span class="s2">= </span><span class="s1">ref</span><span class="s2">;</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">refInFor </span><span class="s2">= </span><span class="s1">checkInFor</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">processFor</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">exp</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">((</span><span class="s1">exp </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'v-for'</span><span class="s2">))) {</span>
          <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s1">parseFor</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">res</span><span class="s2">) {</span>
              <span class="s1">extend</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">res</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;Invalid v-for expression: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">), </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">'v-for'</span><span class="s2">]);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">parseFor</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">inMatch </span><span class="s2">= </span><span class="s1">exp</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">forAliasRE</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">inMatch</span><span class="s2">)</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= {};</span>
      <span class="s1">res</span><span class="s2">.</span><span class="s1">for </span><span class="s2">= </span><span class="s1">inMatch</span><span class="s2">[</span><span class="s6">2</span><span class="s2">].</span><span class="s1">trim</span><span class="s2">();</span>
      <span class="s3">var </span><span class="s1">alias </span><span class="s2">= </span><span class="s1">inMatch</span><span class="s2">[</span><span class="s6">1</span><span class="s2">].</span><span class="s1">trim</span><span class="s2">().</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">stripParensRE</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">iteratorMatch </span><span class="s2">= </span><span class="s1">alias</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">forIteratorRE</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">iteratorMatch</span><span class="s2">) {</span>
          <span class="s1">res</span><span class="s2">.</span><span class="s1">alias </span><span class="s2">= </span><span class="s1">alias</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">forIteratorRE</span><span class="s2">, </span><span class="s4">''</span><span class="s2">).</span><span class="s1">trim</span><span class="s2">();</span>
          <span class="s1">res</span><span class="s2">.</span><span class="s1">iterator1 </span><span class="s2">= </span><span class="s1">iteratorMatch</span><span class="s2">[</span><span class="s6">1</span><span class="s2">].</span><span class="s1">trim</span><span class="s2">();</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">iteratorMatch</span><span class="s2">[</span><span class="s6">2</span><span class="s2">]) {</span>
              <span class="s1">res</span><span class="s2">.</span><span class="s1">iterator2 </span><span class="s2">= </span><span class="s1">iteratorMatch</span><span class="s2">[</span><span class="s6">2</span><span class="s2">].</span><span class="s1">trim</span><span class="s2">();</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">res</span><span class="s2">.</span><span class="s1">alias </span><span class="s2">= </span><span class="s1">alias</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">processIf</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">exp </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'v-if'</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">exp</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">if </span><span class="s2">= </span><span class="s1">exp</span><span class="s2">;</span>
          <span class="s1">addIfCondition</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, {</span>
              <span class="s1">exp</span><span class="s2">: </span><span class="s1">exp</span><span class="s2">,</span>
              <span class="s1">block</span><span class="s2">: </span><span class="s1">el</span>
          <span class="s2">});</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'v-else'</span><span class="s2">) != </span><span class="s3">null</span><span class="s2">) {</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">else </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">elseif </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'v-else-if'</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">elseif</span><span class="s2">) {</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">elseif </span><span class="s2">= </span><span class="s1">elseif</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">processIfConditions</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">parent</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">prev </span><span class="s2">= </span><span class="s1">findPrevElement</span><span class="s2">(</span><span class="s1">parent</span><span class="s2">.</span><span class="s1">children</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">prev </span><span class="s2">&amp;&amp; </span><span class="s1">prev</span><span class="s2">.</span><span class="s1">if</span><span class="s2">) {</span>
          <span class="s1">addIfCondition</span><span class="s2">(</span><span class="s1">prev</span><span class="s2">, {</span>
              <span class="s1">exp</span><span class="s2">: </span><span class="s1">el</span><span class="s2">.</span><span class="s1">elseif</span><span class="s2">,</span>
              <span class="s1">block</span><span class="s2">: </span><span class="s1">el</span>
          <span class="s2">});</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;v-&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">elseif </span><span class="s2">? </span><span class="s4">'else-if=&quot;' </span><span class="s2">+ </span><span class="s1">el</span><span class="s2">.</span><span class="s1">elseif </span><span class="s2">+ </span><span class="s4">'&quot;' </span><span class="s2">: </span><span class="s4">'else'</span><span class="s2">, </span><span class="s4">&quot; &quot;</span><span class="s2">) +</span>
              <span class="s4">&quot;used on element &lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot;&gt; without corresponding v-if.&quot;</span><span class="s2">), </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s1">el</span><span class="s2">.</span><span class="s1">elseif </span><span class="s2">? </span><span class="s4">'v-else-if' </span><span class="s2">: </span><span class="s4">'v-else'</span><span class="s2">]);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">findPrevElement</span><span class="s2">(</span><span class="s1">children</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">i</span><span class="s2">--) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">1</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">text </span><span class="s2">!== </span><span class="s4">' '</span><span class="s2">) {</span>
                  <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;text </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">text</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">(), </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">between v-if and v-else(-if) &quot;</span><span class="s2">) +</span>
                      <span class="s4">&quot;will be ignored.&quot;</span><span class="s2">, </span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
              <span class="s2">}</span>
              <span class="s1">children</span><span class="s2">.</span><span class="s1">pop</span><span class="s2">();</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">addIfCondition</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">condition</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">el</span><span class="s2">.</span><span class="s1">ifConditions</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">ifConditions </span><span class="s2">= [];</span>
      <span class="s2">}</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">ifConditions</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">condition</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">processOnce</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">once </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'v-once'</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">once </span><span class="s2">!= </span><span class="s3">null</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">once </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s0">// handle content being passed to a component as slot,</span>
  <span class="s0">// e.g. &lt;template slot=&quot;xxx&quot;&gt;, &lt;div slot-scope=&quot;xxx&quot;&gt;</span>
  <span class="s3">function </span><span class="s1">processSlotContent</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">slotScope</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'template'</span><span class="s2">) {</span>
          <span class="s1">slotScope </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'scope'</span><span class="s2">);</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">slotScope</span><span class="s2">) {</span>
              <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;the </span><span class="s3">\&quot;</span><span class="s4">scope</span><span class="s3">\&quot; </span><span class="s4">attribute for scoped slots have been deprecated and &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;replaced by </span><span class="s3">\&quot;</span><span class="s4">slot-scope</span><span class="s3">\&quot; </span><span class="s4">since 2.5. The new </span><span class="s3">\&quot;</span><span class="s4">slot-scope</span><span class="s3">\&quot; </span><span class="s4">attribute &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;can also be used on plain elements in addition to &lt;template&gt; to &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;denote scoped slots.&quot;</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">'scope'</span><span class="s2">], </span><span class="s3">true</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">slotScope </span><span class="s2">= </span><span class="s1">slotScope </span><span class="s2">|| </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'slot-scope'</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">((</span><span class="s1">slotScope </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'slot-scope'</span><span class="s2">))) {</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">'v-for'</span><span class="s2">]) {</span>
              <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;Ambiguous combined usage of slot-scope and v-for on &lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot;&gt; &quot;</span><span class="s2">) +</span>
                  <span class="s4">&quot;(v-for takes higher priority). Use a wrapper &lt;template&gt; for the &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;scoped slot to make it clearer.&quot;</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">'slot-scope'</span><span class="s2">], </span><span class="s3">true</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">slotScope </span><span class="s2">= </span><span class="s1">slotScope</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// slot=&quot;xxx&quot;</span>
      <span class="s3">var </span><span class="s1">slotTarget </span><span class="s2">= </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'slot'</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">slotTarget</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">slotTarget </span><span class="s2">= </span><span class="s1">slotTarget </span><span class="s2">=== </span><span class="s4">'&quot;&quot;' </span><span class="s2">? </span><span class="s4">'&quot;default&quot;' </span><span class="s2">: </span><span class="s1">slotTarget</span><span class="s2">;</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">slotTargetDynamic </span><span class="s2">= !!(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">':slot'</span><span class="s2">] || </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">'v-bind:slot'</span><span class="s2">]);</span>
          <span class="s0">// preserve slot as an attribute for native shadow DOM compat</span>
          <span class="s0">// only for non-scoped slots.</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">!== </span><span class="s4">'template' </span><span class="s2">&amp;&amp; !</span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotScope</span><span class="s2">) {</span>
              <span class="s1">addAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'slot'</span><span class="s2">, </span><span class="s1">slotTarget</span><span class="s2">, </span><span class="s1">getRawBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'slot'</span><span class="s2">));</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s0">// 2.6 v-slot syntax</span>
      <span class="s2">{</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'template'</span><span class="s2">) {</span>
              <span class="s0">// v-slot on &lt;template&gt;</span>
              <span class="s3">var </span><span class="s1">slotBinding </span><span class="s2">= </span><span class="s1">getAndRemoveAttrByRegex</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">slotRE</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">slotBinding</span><span class="s2">) {</span>
                  <span class="s2">{</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotTarget </span><span class="s2">|| </span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotScope</span><span class="s2">) {</span>
                          <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;Unexpected mixed usage of different slot syntaxes.&quot;</span><span class="s2">, </span><span class="s1">el</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">parent </span><span class="s2">&amp;&amp; !</span><span class="s1">maybeComponent</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">)) {</span>
                          <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;&lt;template v-slot&gt; can only appear at the root level inside &quot; </span><span class="s2">+</span>
                              <span class="s4">&quot;the receiving component&quot;</span><span class="s2">, </span><span class="s1">el</span><span class="s2">);</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s3">var </span><span class="s1">_a </span><span class="s2">= </span><span class="s1">getSlotName</span><span class="s2">(</span><span class="s1">slotBinding</span><span class="s2">), </span><span class="s1">name_2 </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">name</span><span class="s2">, </span><span class="s1">dynamic </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">dynamic</span><span class="s2">;</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">slotTarget </span><span class="s2">= </span><span class="s1">name_2</span><span class="s2">;</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">slotTargetDynamic </span><span class="s2">= </span><span class="s1">dynamic</span><span class="s2">;</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">slotScope </span><span class="s2">= </span><span class="s1">slotBinding</span><span class="s2">.</span><span class="s1">value </span><span class="s2">|| </span><span class="s1">emptySlotScopeToken</span><span class="s2">; </span><span class="s0">// force it into a scoped slot for perf</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s0">// v-slot on component, denotes default slot</span>
              <span class="s3">var </span><span class="s1">slotBinding </span><span class="s2">= </span><span class="s1">getAndRemoveAttrByRegex</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">slotRE</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">slotBinding</span><span class="s2">) {</span>
                  <span class="s2">{</span>
                      <span class="s3">if </span><span class="s2">(!</span><span class="s1">maybeComponent</span><span class="s2">(</span><span class="s1">el</span><span class="s2">)) {</span>
                          <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;v-slot can only be used on components or &lt;template&gt;.&quot;</span><span class="s2">, </span><span class="s1">slotBinding</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotScope </span><span class="s2">|| </span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotTarget</span><span class="s2">) {</span>
                          <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;Unexpected mixed usage of different slot syntaxes.&quot;</span><span class="s2">, </span><span class="s1">el</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">scopedSlots</span><span class="s2">) {</span>
                          <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;To avoid scope ambiguity, the default slot should also use &quot; </span><span class="s2">+</span>
                              <span class="s4">&quot;&lt;template&gt; syntax when there are other named slots.&quot;</span><span class="s2">, </span><span class="s1">slotBinding</span><span class="s2">);</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s0">// add the component's children to its default slot</span>
                  <span class="s3">var </span><span class="s1">slots </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">scopedSlots </span><span class="s2">|| (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">scopedSlots </span><span class="s2">= {});</span>
                  <span class="s3">var </span><span class="s1">_b </span><span class="s2">= </span><span class="s1">getSlotName</span><span class="s2">(</span><span class="s1">slotBinding</span><span class="s2">), </span><span class="s1">name_3 </span><span class="s2">= </span><span class="s1">_b</span><span class="s2">.</span><span class="s1">name</span><span class="s2">, </span><span class="s1">dynamic </span><span class="s2">= </span><span class="s1">_b</span><span class="s2">.</span><span class="s1">dynamic</span><span class="s2">;</span>
                  <span class="s3">var </span><span class="s1">slotContainer_1 </span><span class="s2">= (</span><span class="s1">slots</span><span class="s2">[</span><span class="s1">name_3</span><span class="s2">] = </span><span class="s1">createASTElement</span><span class="s2">(</span><span class="s4">'template'</span><span class="s2">, [], </span><span class="s1">el</span><span class="s2">));</span>
                  <span class="s1">slotContainer_1</span><span class="s2">.</span><span class="s1">slotTarget </span><span class="s2">= </span><span class="s1">name_3</span><span class="s2">;</span>
                  <span class="s1">slotContainer_1</span><span class="s2">.</span><span class="s1">slotTargetDynamic </span><span class="s2">= </span><span class="s1">dynamic</span><span class="s2">;</span>
                  <span class="s1">slotContainer_1</span><span class="s2">.</span><span class="s1">children </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">filter</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">c</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(!</span><span class="s1">c</span><span class="s2">.</span><span class="s1">slotScope</span><span class="s2">) {</span>
                          <span class="s1">c</span><span class="s2">.</span><span class="s1">parent </span><span class="s2">= </span><span class="s1">slotContainer_1</span><span class="s2">;</span>
                          <span class="s3">return true</span><span class="s2">;</span>
                      <span class="s2">}</span>
                  <span class="s2">});</span>
                  <span class="s1">slotContainer_1</span><span class="s2">.</span><span class="s1">slotScope </span><span class="s2">= </span><span class="s1">slotBinding</span><span class="s2">.</span><span class="s1">value </span><span class="s2">|| </span><span class="s1">emptySlotScopeToken</span><span class="s2">;</span>
                  <span class="s0">// remove children as they are returned from scopedSlots now</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">children </span><span class="s2">= [];</span>
                  <span class="s0">// mark el non-plain so data gets generated</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">plain </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">getSlotName</span><span class="s2">(</span><span class="s1">binding</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">name </span><span class="s2">= </span><span class="s1">binding</span><span class="s2">.</span><span class="s1">name</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">slotRE</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">name</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">binding</span><span class="s2">.</span><span class="s1">name</span><span class="s2">[</span><span class="s6">0</span><span class="s2">] !== </span><span class="s4">'#'</span><span class="s2">) {</span>
              <span class="s1">name </span><span class="s2">= </span><span class="s4">'default'</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;v-slot shorthand syntax requires a slot name.&quot;</span><span class="s2">, </span><span class="s1">binding</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">dynamicArgRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">name</span><span class="s2">)</span>
          <span class="s2">? </span><span class="s0">// dynamic [name]</span>
              <span class="s2">{ </span><span class="s1">name</span><span class="s2">: </span><span class="s1">name</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">1</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">), </span><span class="s1">dynamic</span><span class="s2">: </span><span class="s3">true </span><span class="s2">}</span>
          <span class="s2">: </span><span class="s0">// static name</span>
              <span class="s2">{ </span><span class="s1">name</span><span class="s2">: </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">), </span><span class="s1">dynamic</span><span class="s2">: </span><span class="s3">false </span><span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s0">// handle &lt;slot/&gt; outlets</span>
  <span class="s3">function </span><span class="s1">processSlotOutlet</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'slot'</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">slotName </span><span class="s2">= </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'name'</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">key</span><span class="s2">) {</span>
              <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;`key` does not work on &lt;slot&gt; because slots are abstract outlets &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;and can possibly expand into multiple elements. &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;Use the key on a wrapping element instead.&quot;</span><span class="s2">, </span><span class="s1">getRawBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'key'</span><span class="s2">));</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">processComponent</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">binding</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">((</span><span class="s1">binding </span><span class="s2">= </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'is'</span><span class="s2">))) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">component </span><span class="s2">= </span><span class="s1">binding</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'inline-template'</span><span class="s2">) != </span><span class="s3">null</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">inlineTemplate </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">processAttrs</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">list </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsList</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">i</span><span class="s2">, </span><span class="s1">l</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">rawName</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">, </span><span class="s1">syncGen</span><span class="s2">, </span><span class="s1">isDynamic</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">list</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">name </span><span class="s2">= </span><span class="s1">rawName </span><span class="s2">= </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">name</span><span class="s2">;</span>
          <span class="s1">value </span><span class="s2">= </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">value</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">dirRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">name</span><span class="s2">)) {</span>
              <span class="s0">// mark element as dynamic</span>
              <span class="s1">el</span><span class="s2">.</span><span class="s1">hasBindings </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s0">// modifiers</span>
              <span class="s1">modifiers </span><span class="s2">= </span><span class="s1">parseModifiers</span><span class="s2">(</span><span class="s1">name</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">dirRE</span><span class="s2">, </span><span class="s4">''</span><span class="s2">));</span>
              <span class="s0">// support .foo shorthand syntax for the .prop modifier</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">) {</span>
                  <span class="s1">name </span><span class="s2">= </span><span class="s1">name</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">modifierRE</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">bindRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">name</span><span class="s2">)) {</span>
                  <span class="s0">// v-bind</span>
                  <span class="s1">name </span><span class="s2">= </span><span class="s1">name</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">bindRE</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
                  <span class="s1">value </span><span class="s2">= </span><span class="s1">parseFilters</span><span class="s2">(</span><span class="s1">value</span><span class="s2">);</span>
                  <span class="s1">isDynamic </span><span class="s2">= </span><span class="s1">dynamicArgRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">name</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isDynamic</span><span class="s2">) {</span>
                      <span class="s1">name </span><span class="s2">= </span><span class="s1">name</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">1</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">value</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">().</span><span class="s1">length </span><span class="s2">=== </span><span class="s6">0</span><span class="s2">) {</span>
                      <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;The value for a v-bind expression cannot be empty. Found in </span><span class="s3">\&quot;</span><span class="s4">v-bind:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">));</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">prop </span><span class="s2">&amp;&amp; !</span><span class="s1">isDynamic</span><span class="s2">) {</span>
                          <span class="s1">name </span><span class="s2">= </span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">name</span><span class="s2">);</span>
                          <span class="s3">if </span><span class="s2">(</span><span class="s1">name </span><span class="s2">=== </span><span class="s4">'innerHtml'</span><span class="s2">)</span>
                              <span class="s1">name </span><span class="s2">= </span><span class="s4">'innerHTML'</span><span class="s2">;</span>
                      <span class="s2">}</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">camel </span><span class="s2">&amp;&amp; !</span><span class="s1">isDynamic</span><span class="s2">) {</span>
                          <span class="s1">name </span><span class="s2">= </span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">name</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">sync</span><span class="s2">) {</span>
                          <span class="s1">syncGen </span><span class="s2">= </span><span class="s1">genAssignmentCode</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;$event&quot;</span><span class="s2">);</span>
                          <span class="s3">if </span><span class="s2">(!</span><span class="s1">isDynamic</span><span class="s2">) {</span>
                              <span class="s1">addHandler</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">&quot;update:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">name</span><span class="s2">)), </span><span class="s1">syncGen</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s3">false</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
                              <span class="s3">if </span><span class="s2">(</span><span class="s1">hyphenate</span><span class="s2">(</span><span class="s1">name</span><span class="s2">) !== </span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">name</span><span class="s2">)) {</span>
                                  <span class="s1">addHandler</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">&quot;update:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">hyphenate</span><span class="s2">(</span><span class="s1">name</span><span class="s2">)), </span><span class="s1">syncGen</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s3">false</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
                              <span class="s2">}</span>
                          <span class="s2">}</span>
                          <span class="s3">else </span><span class="s2">{</span>
                              <span class="s0">// handler w/ dynamic event name</span>
                              <span class="s1">addHandler</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">update:</span><span class="s3">\&quot;</span><span class="s4">+(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">), </span><span class="s1">syncGen</span><span class="s2">, </span><span class="s3">null</span><span class="s2">, </span><span class="s3">false</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s3">true </span><span class="s0">// dynamic</span>
                              <span class="s2">);</span>
                          <span class="s2">}</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s3">if </span><span class="s2">((</span><span class="s1">modifiers </span><span class="s2">&amp;&amp; </span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">prop</span><span class="s2">) ||</span>
                      <span class="s2">(!</span><span class="s1">el</span><span class="s2">.</span><span class="s1">component </span><span class="s2">&amp;&amp; </span><span class="s1">platformMustUseProp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">.</span><span class="s1">type</span><span class="s2">, </span><span class="s1">name</span><span class="s2">))) {</span>
                      <span class="s1">addProp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">isDynamic</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s1">addAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">isDynamic</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">onRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">name</span><span class="s2">)) {</span>
                  <span class="s0">// v-on</span>
                  <span class="s1">name </span><span class="s2">= </span><span class="s1">name</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">onRE</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
                  <span class="s1">isDynamic </span><span class="s2">= </span><span class="s1">dynamicArgRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">name</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">isDynamic</span><span class="s2">) {</span>
                      <span class="s1">name </span><span class="s2">= </span><span class="s1">name</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">1</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s1">addHandler</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">, </span><span class="s3">false</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">isDynamic</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s0">// normal directives</span>
                  <span class="s1">name </span><span class="s2">= </span><span class="s1">name</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">dirRE</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
                  <span class="s0">// parse arg</span>
                  <span class="s3">var </span><span class="s1">argMatch </span><span class="s2">= </span><span class="s1">name</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">argRE</span><span class="s2">);</span>
                  <span class="s3">var </span><span class="s1">arg </span><span class="s2">= </span><span class="s1">argMatch </span><span class="s2">&amp;&amp; </span><span class="s1">argMatch</span><span class="s2">[</span><span class="s6">1</span><span class="s2">];</span>
                  <span class="s1">isDynamic </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">arg</span><span class="s2">) {</span>
                      <span class="s1">name </span><span class="s2">= </span><span class="s1">name</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, -(</span><span class="s1">arg</span><span class="s2">.</span><span class="s1">length </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">));</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">dynamicArgRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">arg</span><span class="s2">)) {</span>
                          <span class="s1">arg </span><span class="s2">= </span><span class="s1">arg</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">1</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">);</span>
                          <span class="s1">isDynamic </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
                  <span class="s1">addDirective</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">rawName</span><span class="s2">, </span><span class="s1">value</span><span class="s2">, </span><span class="s1">arg</span><span class="s2">, </span><span class="s1">isDynamic</span><span class="s2">, </span><span class="s1">modifiers</span><span class="s2">, </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">name </span><span class="s2">=== </span><span class="s4">'model'</span><span class="s2">) {</span>
                      <span class="s1">checkForAliasModel</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s0">// literal attribute</span>
              <span class="s2">{</span>
                  <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s1">parseText</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s1">delimiters</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">res</span><span class="s2">) {</span>
                      <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">: &quot;</span><span class="s2">) +</span>
                          <span class="s4">'Interpolation inside attributes has been removed. ' </span><span class="s2">+</span>
                          <span class="s4">'Use v-bind or the colon shorthand instead. For example, ' </span><span class="s2">+</span>
                          <span class="s4">'instead of &lt;div id=&quot;{{ val }}&quot;&gt;, use &lt;div :id=&quot;val&quot;&gt;.'</span><span class="s2">, </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s1">addAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">value</span><span class="s2">), </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
              <span class="s0">// #6887 firefox doesn't update muted state if set via attribute</span>
              <span class="s0">// even immediately after element creation</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">el</span><span class="s2">.</span><span class="s1">component </span><span class="s2">&amp;&amp;</span>
                  <span class="s1">name </span><span class="s2">=== </span><span class="s4">'muted' </span><span class="s2">&amp;&amp;</span>
                  <span class="s1">platformMustUseProp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">.</span><span class="s1">type</span><span class="s2">, </span><span class="s1">name</span><span class="s2">)) {</span>
                  <span class="s1">addProp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s4">'true'</span><span class="s2">, </span><span class="s1">list</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">checkInFor</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">parent </span><span class="s2">= </span><span class="s1">el</span><span class="s2">;</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">parent</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">parent</span><span class="s2">.</span><span class="s1">for </span><span class="s2">!== </span><span class="s1">undefined</span><span class="s2">) {</span>
              <span class="s3">return true</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s1">parent </span><span class="s2">= </span><span class="s1">parent</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return false</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">parseModifiers</span><span class="s2">(</span><span class="s1">name</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">match </span><span class="s2">= </span><span class="s1">name</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">modifierRE</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">match</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">ret_1 </span><span class="s2">= {};</span>
          <span class="s1">match</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">m</span><span class="s2">) {</span>
              <span class="s1">ret_1</span><span class="s2">[</span><span class="s1">m</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">1</span><span class="s2">)] = </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s2">});</span>
          <span class="s3">return </span><span class="s1">ret_1</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">makeAttrsMap</span><span class="s2">(</span><span class="s1">attrs</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">map </span><span class="s2">= {};</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">attrs</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">map</span><span class="s2">[</span><span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">name</span><span class="s2">] &amp;&amp; !</span><span class="s1">isIE </span><span class="s2">&amp;&amp; !</span><span class="s1">isEdge</span><span class="s2">) {</span>
              <span class="s1">warn</span><span class="s2">(</span><span class="s4">'duplicate attribute: ' </span><span class="s2">+ </span><span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">name</span><span class="s2">, </span><span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">]);</span>
          <span class="s2">}</span>
          <span class="s1">map</span><span class="s2">[</span><span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">name</span><span class="s2">] = </span><span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">value</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">map</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s0">// for script (e.g. type=&quot;x/template&quot;) or style, do not decode content</span>
  <span class="s3">function </span><span class="s1">isTextTag</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'script' </span><span class="s2">|| </span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'style'</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isForbiddenTag</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'style' </span><span class="s2">||</span>
          <span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'script' </span><span class="s2">&amp;&amp;</span>
              <span class="s2">(!</span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">.</span><span class="s1">type </span><span class="s2">|| </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s4">'text/javascript'</span><span class="s2">)));</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">ieNSBug </span><span class="s2">= </span><span class="s7">/^xmlns:NS\d+/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">ieNSPrefix </span><span class="s2">= </span><span class="s7">/^NS\d+:/</span><span class="s2">;</span>
  <span class="s0">/* istanbul ignore next */</span>
  <span class="s3">function </span><span class="s1">guardIESVGBug</span><span class="s2">(</span><span class="s1">attrs</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= [];</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">attrs</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">var </span><span class="s1">attr </span><span class="s2">= </span><span class="s1">attrs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">ieNSBug</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">attr</span><span class="s2">.</span><span class="s1">name</span><span class="s2">)) {</span>
              <span class="s1">attr</span><span class="s2">.</span><span class="s1">name </span><span class="s2">= </span><span class="s1">attr</span><span class="s2">.</span><span class="s1">name</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">ieNSPrefix</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
              <span class="s1">res</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">attr</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">checkForAliasModel</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">value</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">_el </span><span class="s2">= </span><span class="s1">el</span><span class="s2">;</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">_el</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">_el</span><span class="s2">.</span><span class="s1">for </span><span class="s2">&amp;&amp; </span><span class="s1">_el</span><span class="s2">.</span><span class="s1">alias </span><span class="s2">=== </span><span class="s1">value</span><span class="s2">) {</span>
              <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;&lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot; v-model=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&gt;: &quot;</span><span class="s2">) +</span>
                  <span class="s4">&quot;You are binding v-model directly to a v-for iteration alias. &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;This will not be able to modify the v-for source array because &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;writing to the alias is like modifying a function local variable. &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;Consider using an array of objects and use v-model on an object property instead.&quot;</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">'v-model'</span><span class="s2">]);</span>
          <span class="s2">}</span>
          <span class="s1">_el </span><span class="s2">= </span><span class="s1">_el</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s5">/**</span>
   <span class="s5">* Expand input[v-model] with dynamic type bindings into v-if-else chains</span>
   <span class="s5">* Turn this:</span>
   <span class="s5">*   &lt;input v-model=&quot;data[type]&quot; :type=&quot;type&quot;&gt;</span>
   <span class="s5">* into this:</span>
   <span class="s5">*   &lt;input v-if=&quot;type === 'checkbox'&quot; type=&quot;checkbox&quot; v-model=&quot;data[type]&quot;&gt;</span>
   <span class="s5">*   &lt;input v-else-if=&quot;type === 'radio'&quot; type=&quot;radio&quot; v-model=&quot;data[type]&quot;&gt;</span>
   <span class="s5">*   &lt;input v-else :type=&quot;type&quot; v-model=&quot;data[type]&quot;&gt;</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">preTransformNode</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'input'</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">map </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">map</span><span class="s2">[</span><span class="s4">'v-model'</span><span class="s2">]) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">typeBinding </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">map</span><span class="s2">[</span><span class="s4">':type'</span><span class="s2">] || </span><span class="s1">map</span><span class="s2">[</span><span class="s4">'v-bind:type'</span><span class="s2">]) {</span>
              <span class="s1">typeBinding </span><span class="s2">= </span><span class="s1">getBindingAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'type'</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">map</span><span class="s2">.</span><span class="s1">type </span><span class="s2">&amp;&amp; !</span><span class="s1">typeBinding </span><span class="s2">&amp;&amp; </span><span class="s1">map</span><span class="s2">[</span><span class="s4">'v-bind'</span><span class="s2">]) {</span>
              <span class="s1">typeBinding </span><span class="s2">= </span><span class="s4">&quot;(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">map</span><span class="s2">[</span><span class="s4">'v-bind'</span><span class="s2">], </span><span class="s4">&quot;).type&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">typeBinding</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">ifCondition </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'v-if'</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
              <span class="s3">var </span><span class="s1">ifConditionExtra </span><span class="s2">= </span><span class="s1">ifCondition </span><span class="s2">? </span><span class="s4">&quot;&amp;&amp;(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">ifCondition</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">) : </span><span class="s4">&quot;&quot;</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">hasElse </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'v-else'</span><span class="s2">, </span><span class="s3">true</span><span class="s2">) != </span><span class="s3">null</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">elseIfCondition </span><span class="s2">= </span><span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'v-else-if'</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
              <span class="s0">// 1. checkbox</span>
              <span class="s3">var </span><span class="s1">branch0 </span><span class="s2">= </span><span class="s1">cloneASTElement</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
              <span class="s0">// process for on the main node</span>
              <span class="s1">processFor</span><span class="s2">(</span><span class="s1">branch0</span><span class="s2">);</span>
              <span class="s1">addRawAttr</span><span class="s2">(</span><span class="s1">branch0</span><span class="s2">, </span><span class="s4">'type'</span><span class="s2">, </span><span class="s4">'checkbox'</span><span class="s2">);</span>
              <span class="s1">processElement</span><span class="s2">(</span><span class="s1">branch0</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
              <span class="s1">branch0</span><span class="s2">.</span><span class="s1">processed </span><span class="s2">= </span><span class="s3">true</span><span class="s2">; </span><span class="s0">// prevent it from double-processed</span>
              <span class="s1">branch0</span><span class="s2">.</span><span class="s1">if </span><span class="s2">= </span><span class="s4">&quot;(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">typeBinding</span><span class="s2">, </span><span class="s4">&quot;)==='checkbox'&quot;</span><span class="s2">) + </span><span class="s1">ifConditionExtra</span><span class="s2">;</span>
              <span class="s1">addIfCondition</span><span class="s2">(</span><span class="s1">branch0</span><span class="s2">, {</span>
                  <span class="s1">exp</span><span class="s2">: </span><span class="s1">branch0</span><span class="s2">.</span><span class="s1">if</span><span class="s2">,</span>
                  <span class="s1">block</span><span class="s2">: </span><span class="s1">branch0</span>
              <span class="s2">});</span>
              <span class="s0">// 2. add radio else-if condition</span>
              <span class="s3">var </span><span class="s1">branch1 </span><span class="s2">= </span><span class="s1">cloneASTElement</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
              <span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">branch1</span><span class="s2">, </span><span class="s4">'v-for'</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
              <span class="s1">addRawAttr</span><span class="s2">(</span><span class="s1">branch1</span><span class="s2">, </span><span class="s4">'type'</span><span class="s2">, </span><span class="s4">'radio'</span><span class="s2">);</span>
              <span class="s1">processElement</span><span class="s2">(</span><span class="s1">branch1</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
              <span class="s1">addIfCondition</span><span class="s2">(</span><span class="s1">branch0</span><span class="s2">, {</span>
                  <span class="s1">exp</span><span class="s2">: </span><span class="s4">&quot;(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">typeBinding</span><span class="s2">, </span><span class="s4">&quot;)==='radio'&quot;</span><span class="s2">) + </span><span class="s1">ifConditionExtra</span><span class="s2">,</span>
                  <span class="s1">block</span><span class="s2">: </span><span class="s1">branch1</span>
              <span class="s2">});</span>
              <span class="s0">// 3. other</span>
              <span class="s3">var </span><span class="s1">branch2 </span><span class="s2">= </span><span class="s1">cloneASTElement</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
              <span class="s1">getAndRemoveAttr</span><span class="s2">(</span><span class="s1">branch2</span><span class="s2">, </span><span class="s4">'v-for'</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
              <span class="s1">addRawAttr</span><span class="s2">(</span><span class="s1">branch2</span><span class="s2">, </span><span class="s4">':type'</span><span class="s2">, </span><span class="s1">typeBinding</span><span class="s2">);</span>
              <span class="s1">processElement</span><span class="s2">(</span><span class="s1">branch2</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
              <span class="s1">addIfCondition</span><span class="s2">(</span><span class="s1">branch0</span><span class="s2">, {</span>
                  <span class="s1">exp</span><span class="s2">: </span><span class="s1">ifCondition</span><span class="s2">,</span>
                  <span class="s1">block</span><span class="s2">: </span><span class="s1">branch2</span>
              <span class="s2">});</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">hasElse</span><span class="s2">) {</span>
                  <span class="s1">branch0</span><span class="s2">.</span><span class="s1">else </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">elseIfCondition</span><span class="s2">) {</span>
                  <span class="s1">branch0</span><span class="s2">.</span><span class="s1">elseif </span><span class="s2">= </span><span class="s1">elseIfCondition</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">return </span><span class="s1">branch0</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">cloneASTElement</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">createASTElement</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsList</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(), </span><span class="s1">el</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">var </span><span class="s1">model </span><span class="s2">= {</span>
      <span class="s1">preTransformNode</span><span class="s2">: </span><span class="s1">preTransformNode</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">modules </span><span class="s2">= [</span><span class="s1">klass</span><span class="s2">, </span><span class="s1">style</span><span class="s2">, </span><span class="s1">model</span><span class="s2">];</span>

  <span class="s3">function </span><span class="s1">text</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">dir</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">value</span><span class="s2">) {</span>
          <span class="s1">addProp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'textContent'</span><span class="s2">, </span><span class="s4">&quot;_s(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">), </span><span class="s1">dir</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">html</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">dir</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">value</span><span class="s2">) {</span>
          <span class="s1">addProp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s4">'innerHTML'</span><span class="s2">, </span><span class="s4">&quot;_s(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">), </span><span class="s1">dir</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">directives </span><span class="s2">= {</span>
      <span class="s1">model</span><span class="s2">: </span><span class="s1">model$1</span><span class="s2">,</span>
      <span class="s1">text</span><span class="s2">: </span><span class="s1">text</span><span class="s2">,</span>
      <span class="s1">html</span><span class="s2">: </span><span class="s1">html</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">baseOptions </span><span class="s2">= {</span>
      <span class="s1">expectHTML</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
      <span class="s1">modules</span><span class="s2">: </span><span class="s1">modules</span><span class="s2">,</span>
      <span class="s1">directives</span><span class="s2">: </span><span class="s1">directives</span><span class="s2">,</span>
      <span class="s1">isPreTag</span><span class="s2">: </span><span class="s1">isPreTag</span><span class="s2">,</span>
      <span class="s1">isUnaryTag</span><span class="s2">: </span><span class="s1">isUnaryTag</span><span class="s2">,</span>
      <span class="s1">mustUseProp</span><span class="s2">: </span><span class="s1">mustUseProp</span><span class="s2">,</span>
      <span class="s1">canBeLeftOpenTag</span><span class="s2">: </span><span class="s1">canBeLeftOpenTag</span><span class="s2">,</span>
      <span class="s1">isReservedTag</span><span class="s2">: </span><span class="s1">isReservedTag</span><span class="s2">,</span>
      <span class="s1">getTagNamespace</span><span class="s2">: </span><span class="s1">getTagNamespace</span><span class="s2">,</span>
      <span class="s1">staticKeys</span><span class="s2">: </span><span class="s1">genStaticKeys$1</span><span class="s2">(</span><span class="s1">modules</span><span class="s2">)</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">isStaticKey</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">isPlatformReservedTag</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">genStaticKeysCached </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">(</span><span class="s1">genStaticKeys</span><span class="s2">);</span>
  <span class="s5">/**</span>
   <span class="s5">* Goal of the optimizer: walk the generated template AST tree</span>
   <span class="s5">* and detect sub-trees that are purely static, i.e. parts of</span>
   <span class="s5">* the DOM that never needs to change.</span>
   <span class="s5">*</span>
   <span class="s5">* Once we detect these sub-trees, we can:</span>
   <span class="s5">*</span>
   <span class="s5">* 1. Hoist them into constants, so that we no longer need to</span>
   <span class="s5">*    create fresh nodes for them on each re-render;</span>
   <span class="s5">* 2. Completely skip them in the patching process.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">optimize</span><span class="s2">(</span><span class="s1">root</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">root</span><span class="s2">)</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s1">isStaticKey </span><span class="s2">= </span><span class="s1">genStaticKeysCached</span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">staticKeys </span><span class="s2">|| </span><span class="s4">''</span><span class="s2">);</span>
      <span class="s1">isPlatformReservedTag </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">isReservedTag </span><span class="s2">|| </span><span class="s1">no</span><span class="s2">;</span>
      <span class="s0">// first pass: mark all non-static nodes.</span>
      <span class="s1">markStatic</span><span class="s2">(</span><span class="s1">root</span><span class="s2">);</span>
      <span class="s0">// second pass: mark static roots.</span>
      <span class="s1">markStaticRoots</span><span class="s2">(</span><span class="s1">root</span><span class="s2">, </span><span class="s3">false</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genStaticKeys</span><span class="s2">(</span><span class="s1">keys</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">makeMap</span><span class="s2">(</span><span class="s4">'type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap' </span><span class="s2">+</span>
          <span class="s2">(</span><span class="s1">keys </span><span class="s2">? </span><span class="s4">',' </span><span class="s2">+ </span><span class="s1">keys </span><span class="s2">: </span><span class="s4">''</span><span class="s2">));</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">markStatic</span><span class="s2">(</span><span class="s1">node</span><span class="s2">) {</span>
      <span class="s1">node</span><span class="s2">.</span><span class="s1">static </span><span class="s2">= </span><span class="s1">isStatic</span><span class="s2">(</span><span class="s1">node</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s0">// do not make component slot content static. this avoids</span>
          <span class="s0">// 1. components not able to mutate slot nodes</span>
          <span class="s0">// 2. static slot content fails for hot-reloading</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">isPlatformReservedTag</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">) &amp;&amp;</span>
              <span class="s1">node</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">!== </span><span class="s4">'slot' </span><span class="s2">&amp;&amp;</span>
              <span class="s1">node</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">'inline-template'</span><span class="s2">] == </span><span class="s3">null</span><span class="s2">) {</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">node</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s3">var </span><span class="s1">child </span><span class="s2">= </span><span class="s1">node</span><span class="s2">.</span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
              <span class="s1">markStatic</span><span class="s2">(</span><span class="s1">child</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">child</span><span class="s2">.</span><span class="s1">static</span><span class="s2">) {</span>
                  <span class="s1">node</span><span class="s2">.</span><span class="s1">static </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">ifConditions</span><span class="s2">) {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">node</span><span class="s2">.</span><span class="s1">ifConditions</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s3">var </span><span class="s1">block </span><span class="s2">= </span><span class="s1">node</span><span class="s2">.</span><span class="s1">ifConditions</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">block</span><span class="s2">;</span>
                  <span class="s1">markStatic</span><span class="s2">(</span><span class="s1">block</span><span class="s2">);</span>
                  <span class="s3">if </span><span class="s2">(!</span><span class="s1">block</span><span class="s2">.</span><span class="s1">static</span><span class="s2">) {</span>
                      <span class="s1">node</span><span class="s2">.</span><span class="s1">static </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">markStaticRoots</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">isInFor</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">static </span><span class="s2">|| </span><span class="s1">node</span><span class="s2">.</span><span class="s1">once</span><span class="s2">) {</span>
              <span class="s1">node</span><span class="s2">.</span><span class="s1">staticInFor </span><span class="s2">= </span><span class="s1">isInFor</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s0">// For a node to qualify as a static root, it should have children that</span>
          <span class="s0">// are not just static text. Otherwise the cost of hoisting out will</span>
          <span class="s0">// outweigh the benefits and it's better off to just always render it fresh.</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">static </span><span class="s2">&amp;&amp;</span>
              <span class="s1">node</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&amp;&amp;</span>
              <span class="s2">!(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length </span><span class="s2">=== </span><span class="s6">1 </span><span class="s2">&amp;&amp; </span><span class="s1">node</span><span class="s2">.</span><span class="s1">children</span><span class="s2">[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">3</span><span class="s2">)) {</span>
              <span class="s1">node</span><span class="s2">.</span><span class="s1">staticRoot </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s3">return</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">node</span><span class="s2">.</span><span class="s1">staticRoot </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">children</span><span class="s2">) {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">node</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">markStaticRoots</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">isInFor </span><span class="s2">|| !!</span><span class="s1">node</span><span class="s2">.</span><span class="s1">for</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">ifConditions</span><span class="s2">) {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">node</span><span class="s2">.</span><span class="s1">ifConditions</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">markStaticRoots</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">ifConditions</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">block</span><span class="s2">, </span><span class="s1">isInFor</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isStatic</span><span class="s2">(</span><span class="s1">node</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">2</span><span class="s2">) {</span>
          <span class="s0">// expression</span>
          <span class="s3">return false</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">3</span><span class="s2">) {</span>
          <span class="s0">// text</span>
          <span class="s3">return true</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s2">!!(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">pre </span><span class="s2">||</span>
          <span class="s2">(!</span><span class="s1">node</span><span class="s2">.</span><span class="s1">hasBindings </span><span class="s2">&amp;&amp; </span><span class="s0">// no dynamic bindings</span>
              <span class="s2">!</span><span class="s1">node</span><span class="s2">.</span><span class="s1">if </span><span class="s2">&amp;&amp;</span>
              <span class="s2">!</span><span class="s1">node</span><span class="s2">.</span><span class="s1">for </span><span class="s2">&amp;&amp; </span><span class="s0">// not v-if or v-for or v-else</span>
              <span class="s2">!</span><span class="s1">isBuiltInTag</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">) &amp;&amp; </span><span class="s0">// not a built-in</span>
              <span class="s1">isPlatformReservedTag</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">) &amp;&amp; </span><span class="s0">// not a component</span>
              <span class="s2">!</span><span class="s1">isDirectChildOfTemplateFor</span><span class="s2">(</span><span class="s1">node</span><span class="s2">) &amp;&amp;</span>
              <span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">node</span><span class="s2">).</span><span class="s1">every</span><span class="s2">(</span><span class="s1">isStaticKey</span><span class="s2">)));</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">isDirectChildOfTemplateFor</span><span class="s2">(</span><span class="s1">node</span><span class="s2">) {</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">) {</span>
          <span class="s1">node </span><span class="s2">= </span><span class="s1">node</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">!== </span><span class="s4">'template'</span><span class="s2">) {</span>
              <span class="s3">return false</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">for</span><span class="s2">) {</span>
              <span class="s3">return true</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return false</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">fnExpRE </span><span class="s2">= </span><span class="s7">/^([\w$_]+|\([^)]*?\))\s*=&gt;|^function(?:\s+[\w$]+)?\s*\(/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">fnInvokeRE </span><span class="s2">= </span><span class="s7">/\([^)]*?\);*$/</span><span class="s2">;</span>
  <span class="s3">var </span><span class="s1">simplePathRE </span><span class="s2">= </span><span class="s7">/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\[&quot;[^&quot;]*?&quot;]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/</span><span class="s2">;</span>
  <span class="s0">// KeyboardEvent.keyCode aliases</span>
  <span class="s3">var </span><span class="s1">keyCodes </span><span class="s2">= {</span>
      <span class="s1">esc</span><span class="s2">: </span><span class="s6">27</span><span class="s2">,</span>
      <span class="s1">tab</span><span class="s2">: </span><span class="s6">9</span><span class="s2">,</span>
      <span class="s1">enter</span><span class="s2">: </span><span class="s6">13</span><span class="s2">,</span>
      <span class="s1">space</span><span class="s2">: </span><span class="s6">32</span><span class="s2">,</span>
      <span class="s1">up</span><span class="s2">: </span><span class="s6">38</span><span class="s2">,</span>
      <span class="s1">left</span><span class="s2">: </span><span class="s6">37</span><span class="s2">,</span>
      <span class="s1">right</span><span class="s2">: </span><span class="s6">39</span><span class="s2">,</span>
      <span class="s1">down</span><span class="s2">: </span><span class="s6">40</span><span class="s2">,</span>
      <span class="s3">delete</span><span class="s2">: [</span><span class="s6">8</span><span class="s2">, </span><span class="s6">46</span><span class="s2">]</span>
  <span class="s2">};</span>
  <span class="s0">// KeyboardEvent.key aliases</span>
  <span class="s3">var </span><span class="s1">keyNames </span><span class="s2">= {</span>
      <span class="s0">// #7880: IE11 and Edge use `Esc` for Escape key name.</span>
      <span class="s1">esc</span><span class="s2">: [</span><span class="s4">'Esc'</span><span class="s2">, </span><span class="s4">'Escape'</span><span class="s2">],</span>
      <span class="s1">tab</span><span class="s2">: </span><span class="s4">'Tab'</span><span class="s2">,</span>
      <span class="s1">enter</span><span class="s2">: </span><span class="s4">'Enter'</span><span class="s2">,</span>
      <span class="s0">// #9112: IE11 uses `Spacebar` for Space key name.</span>
      <span class="s1">space</span><span class="s2">: [</span><span class="s4">' '</span><span class="s2">, </span><span class="s4">'Spacebar'</span><span class="s2">],</span>
      <span class="s0">// #7806: IE11 uses key names without `Arrow` prefix for arrow keys.</span>
      <span class="s1">up</span><span class="s2">: [</span><span class="s4">'Up'</span><span class="s2">, </span><span class="s4">'ArrowUp'</span><span class="s2">],</span>
      <span class="s1">left</span><span class="s2">: [</span><span class="s4">'Left'</span><span class="s2">, </span><span class="s4">'ArrowLeft'</span><span class="s2">],</span>
      <span class="s1">right</span><span class="s2">: [</span><span class="s4">'Right'</span><span class="s2">, </span><span class="s4">'ArrowRight'</span><span class="s2">],</span>
      <span class="s1">down</span><span class="s2">: [</span><span class="s4">'Down'</span><span class="s2">, </span><span class="s4">'ArrowDown'</span><span class="s2">],</span>
      <span class="s0">// #9112: IE11 uses `Del` for Delete key name.</span>
      <span class="s3">delete</span><span class="s2">: [</span><span class="s4">'Backspace'</span><span class="s2">, </span><span class="s4">'Delete'</span><span class="s2">, </span><span class="s4">'Del'</span><span class="s2">]</span>
  <span class="s2">};</span>
  <span class="s0">// #4868: modifiers that prevent the execution of the listener</span>
  <span class="s0">// need to explicitly return null so that we can determine whether to remove</span>
  <span class="s0">// the listener for .once</span>
  <span class="s3">var </span><span class="s1">genGuard </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">condition</span><span class="s2">) { </span><span class="s3">return </span><span class="s4">&quot;if(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">condition</span><span class="s2">, </span><span class="s4">&quot;)return null;&quot;</span><span class="s2">); };</span>
  <span class="s3">var </span><span class="s1">modifierCode </span><span class="s2">= {</span>
      <span class="s1">stop</span><span class="s2">: </span><span class="s4">'$event.stopPropagation();'</span><span class="s2">,</span>
      <span class="s1">prevent</span><span class="s2">: </span><span class="s4">'$event.preventDefault();'</span><span class="s2">,</span>
      <span class="s1">self</span><span class="s2">: </span><span class="s1">genGuard</span><span class="s2">(</span><span class="s4">&quot;$event.target !== $event.currentTarget&quot;</span><span class="s2">),</span>
      <span class="s1">ctrl</span><span class="s2">: </span><span class="s1">genGuard</span><span class="s2">(</span><span class="s4">&quot;!$event.ctrlKey&quot;</span><span class="s2">),</span>
      <span class="s1">shift</span><span class="s2">: </span><span class="s1">genGuard</span><span class="s2">(</span><span class="s4">&quot;!$event.shiftKey&quot;</span><span class="s2">),</span>
      <span class="s1">alt</span><span class="s2">: </span><span class="s1">genGuard</span><span class="s2">(</span><span class="s4">&quot;!$event.altKey&quot;</span><span class="s2">),</span>
      <span class="s1">meta</span><span class="s2">: </span><span class="s1">genGuard</span><span class="s2">(</span><span class="s4">&quot;!$event.metaKey&quot;</span><span class="s2">),</span>
      <span class="s1">left</span><span class="s2">: </span><span class="s1">genGuard</span><span class="s2">(</span><span class="s4">&quot;'button' in $event &amp;&amp; $event.button !== 0&quot;</span><span class="s2">),</span>
      <span class="s1">middle</span><span class="s2">: </span><span class="s1">genGuard</span><span class="s2">(</span><span class="s4">&quot;'button' in $event &amp;&amp; $event.button !== 1&quot;</span><span class="s2">),</span>
      <span class="s1">right</span><span class="s2">: </span><span class="s1">genGuard</span><span class="s2">(</span><span class="s4">&quot;'button' in $event &amp;&amp; $event.button !== 2&quot;</span><span class="s2">)</span>
  <span class="s2">};</span>
  <span class="s3">function </span><span class="s1">genHandlers</span><span class="s2">(</span><span class="s1">events</span><span class="s2">, </span><span class="s1">isNative</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">prefix </span><span class="s2">= </span><span class="s1">isNative </span><span class="s2">? </span><span class="s4">'nativeOn:' </span><span class="s2">: </span><span class="s4">'on:'</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">staticHandlers </span><span class="s2">= </span><span class="s4">&quot;&quot;</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">dynamicHandlers </span><span class="s2">= </span><span class="s4">&quot;&quot;</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">name_1 </span><span class="s3">in </span><span class="s1">events</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">handlerCode </span><span class="s2">= </span><span class="s1">genHandler</span><span class="s2">(</span><span class="s1">events</span><span class="s2">[</span><span class="s1">name_1</span><span class="s2">]);</span>
          <span class="s0">//@ts-expect-error</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">events</span><span class="s2">[</span><span class="s1">name_1</span><span class="s2">] &amp;&amp; </span><span class="s1">events</span><span class="s2">[</span><span class="s1">name_1</span><span class="s2">].</span><span class="s1">dynamic</span><span class="s2">) {</span>
              <span class="s1">dynamicHandlers </span><span class="s2">+= </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name_1</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">handlerCode</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">staticHandlers </span><span class="s2">+= </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name_1</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">:&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">handlerCode</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s1">staticHandlers </span><span class="s2">= </span><span class="s4">&quot;{&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">staticHandlers</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">), </span><span class="s4">&quot;}&quot;</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">dynamicHandlers</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">prefix </span><span class="s2">+ </span><span class="s4">&quot;_d(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">staticHandlers</span><span class="s2">, </span><span class="s4">&quot;,[&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dynamicHandlers</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">), </span><span class="s4">&quot;])&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">prefix </span><span class="s2">+ </span><span class="s1">staticHandlers</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genHandler</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">handler</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s4">'function(){}'</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">Array</span><span class="s2">.</span><span class="s1">isArray</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">)) {</span>
          <span class="s3">return </span><span class="s4">&quot;[&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">handler</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">genHandler</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">); }).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">','</span><span class="s2">), </span><span class="s4">&quot;]&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">isMethodPath </span><span class="s2">= </span><span class="s1">simplePathRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">.</span><span class="s1">value</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">isFunctionExpression </span><span class="s2">= </span><span class="s1">fnExpRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">.</span><span class="s1">value</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">isFunctionInvocation </span><span class="s2">= </span><span class="s1">simplePathRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">.</span><span class="s1">value</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">fnInvokeRE</span><span class="s2">, </span><span class="s4">''</span><span class="s2">));</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">handler</span><span class="s2">.</span><span class="s1">modifiers</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">isMethodPath </span><span class="s2">|| </span><span class="s1">isFunctionExpression</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">handler</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s4">&quot;function($event){&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">isFunctionInvocation </span><span class="s2">? </span><span class="s4">&quot;return &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">.</span><span class="s1">value</span><span class="s2">) : </span><span class="s1">handler</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;}&quot;</span><span class="s2">); </span><span class="s0">// inline statement</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">var </span><span class="s1">code </span><span class="s2">= </span><span class="s4">''</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">genModifierCode </span><span class="s2">= </span><span class="s4">''</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">keys </span><span class="s2">= [];</span>
          <span class="s3">var </span><span class="s1">_loop_1 </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">key</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">modifierCode</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]) {</span>
                  <span class="s1">genModifierCode </span><span class="s2">+= </span><span class="s1">modifierCode</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
                  <span class="s0">// left/right</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">keyCodes</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]) {</span>
                      <span class="s1">keys</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">key </span><span class="s2">=== </span><span class="s4">'exact'</span><span class="s2">) {</span>
                  <span class="s3">var </span><span class="s1">modifiers_1 </span><span class="s2">= </span><span class="s1">handler</span><span class="s2">.</span><span class="s1">modifiers</span><span class="s2">;</span>
                  <span class="s1">genModifierCode </span><span class="s2">+= </span><span class="s1">genGuard</span><span class="s2">([</span><span class="s4">'ctrl'</span><span class="s2">, </span><span class="s4">'shift'</span><span class="s2">, </span><span class="s4">'alt'</span><span class="s2">, </span><span class="s4">'meta'</span><span class="s2">]</span>
                      <span class="s2">.</span><span class="s1">filter</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">keyModifier</span><span class="s2">) { </span><span class="s3">return </span><span class="s2">!</span><span class="s1">modifiers_1</span><span class="s2">[</span><span class="s1">keyModifier</span><span class="s2">]; })</span>
                      <span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">keyModifier</span><span class="s2">) { </span><span class="s3">return </span><span class="s4">&quot;$event.&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">keyModifier</span><span class="s2">, </span><span class="s4">&quot;Key&quot;</span><span class="s2">); })</span>
                      <span class="s2">.</span><span class="s1">join</span><span class="s2">(</span><span class="s4">'||'</span><span class="s2">));</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s1">keys</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">};</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">handler</span><span class="s2">.</span><span class="s1">modifiers</span><span class="s2">) {</span>
              <span class="s1">_loop_1</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">keys</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
              <span class="s1">code </span><span class="s2">+= </span><span class="s1">genKeyFilter</span><span class="s2">(</span><span class="s1">keys</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s0">// Make sure modifiers like prevent and stop get executed after key filtering</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">genModifierCode</span><span class="s2">) {</span>
              <span class="s1">code </span><span class="s2">+= </span><span class="s1">genModifierCode</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">handlerCode </span><span class="s2">= </span><span class="s1">isMethodPath</span>
              <span class="s2">? </span><span class="s4">&quot;return &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;.apply(null, arguments)&quot;</span><span class="s2">)</span>
              <span class="s2">: </span><span class="s1">isFunctionExpression</span>
                  <span class="s2">? </span><span class="s4">&quot;return (&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;).apply(null, arguments)&quot;</span><span class="s2">)</span>
                  <span class="s2">: </span><span class="s1">isFunctionInvocation</span>
                      <span class="s2">? </span><span class="s4">&quot;return &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">handler</span><span class="s2">.</span><span class="s1">value</span><span class="s2">)</span>
                      <span class="s2">: </span><span class="s1">handler</span><span class="s2">.</span><span class="s1">value</span><span class="s2">;</span>
          <span class="s3">return </span><span class="s4">&quot;function($event){&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">code</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">handlerCode</span><span class="s2">, </span><span class="s4">&quot;}&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genKeyFilter</span><span class="s2">(</span><span class="s1">keys</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s2">(</span>
      <span class="s0">// make sure the key filters only apply to KeyboardEvents</span>
      <span class="s0">// #9441: can't use 'keyCode' in $event because Chrome autofill fires fake</span>
      <span class="s0">// key events that do not have keyCode property...</span>
      <span class="s4">&quot;if(!$event.type.indexOf('key')&amp;&amp;&quot; </span><span class="s2">+</span>
          <span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">keys</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s1">genFilterCode</span><span class="s2">).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">'&amp;&amp;'</span><span class="s2">), </span><span class="s4">&quot;)return null;&quot;</span><span class="s2">));</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genFilterCode</span><span class="s2">(</span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">keyVal </span><span class="s2">= </span><span class="s1">parseInt</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s6">10</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">keyVal</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s4">&quot;$event.keyCode!==&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">keyVal</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">keyCode </span><span class="s2">= </span><span class="s1">keyCodes</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s3">var </span><span class="s1">keyName </span><span class="s2">= </span><span class="s1">keyNames</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
      <span class="s3">return </span><span class="s2">(</span><span class="s4">&quot;_k($event.keyCode,&quot; </span><span class="s2">+</span>
          <span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">key</span><span class="s2">), </span><span class="s4">&quot;,&quot;</span><span class="s2">) +</span>
          <span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">keyCode</span><span class="s2">), </span><span class="s4">&quot;,&quot;</span><span class="s2">) +</span>
          <span class="s4">&quot;$event.key,&quot; </span><span class="s2">+</span>
          <span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">keyName</span><span class="s2">)) +</span>
          <span class="s4">&quot;)&quot;</span><span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">on</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">dir</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">modifiers</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;v-on without argument does not support modifiers.&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">wrapListeners </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">code</span><span class="s2">) { </span><span class="s3">return </span><span class="s4">&quot;_g(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">code</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">); };</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">bind</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">dir</span><span class="s2">) {</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">wrapData </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">code</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s4">&quot;_b(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">code</span><span class="s2">, </span><span class="s4">&quot;,'&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot;',&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">modifiers </span><span class="s2">&amp;&amp; </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">prop </span><span class="s2">? </span><span class="s4">'true' </span><span class="s2">: </span><span class="s4">'false'</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">modifiers </span><span class="s2">&amp;&amp; </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">modifiers</span><span class="s2">.</span><span class="s1">sync </span><span class="s2">? </span><span class="s4">',true' </span><span class="s2">: </span><span class="s4">''</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">baseDirectives </span><span class="s2">= {</span>
      <span class="s1">on</span><span class="s2">: </span><span class="s1">on</span><span class="s2">,</span>
      <span class="s1">bind</span><span class="s2">: </span><span class="s1">bind</span><span class="s2">,</span>
      <span class="s1">cloak</span><span class="s2">: </span><span class="s1">noop</span>
  <span class="s2">};</span>

  <span class="s3">var </span><span class="s1">CodegenState </span><span class="s2">= </span><span class="s5">/** </span><span class="s8">@class </span><span class="s5">*/ </span><span class="s2">(</span><span class="s3">function </span><span class="s2">() {</span>
      <span class="s3">function </span><span class="s1">CodegenState</span><span class="s2">(</span><span class="s1">options</span><span class="s2">) {</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">options </span><span class="s2">= </span><span class="s1">options</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">warn </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">warn </span><span class="s2">|| </span><span class="s1">baseWarn</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">transforms </span><span class="s2">= </span><span class="s1">pluckModuleFunction</span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">modules</span><span class="s2">, </span><span class="s4">'transformCode'</span><span class="s2">);</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">dataGenFns </span><span class="s2">= </span><span class="s1">pluckModuleFunction</span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">modules</span><span class="s2">, </span><span class="s4">'genData'</span><span class="s2">);</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">directives </span><span class="s2">= </span><span class="s1">extend</span><span class="s2">(</span><span class="s1">extend</span><span class="s2">({}, </span><span class="s1">baseDirectives</span><span class="s2">), </span><span class="s1">options</span><span class="s2">.</span><span class="s1">directives</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">isReservedTag </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">isReservedTag </span><span class="s2">|| </span><span class="s1">no</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">maybeComponent </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s2">!!</span><span class="s1">el</span><span class="s2">.</span><span class="s1">component </span><span class="s2">|| !</span><span class="s1">isReservedTag</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">);</span>
          <span class="s2">};</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">onceId </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">staticRenderFns </span><span class="s2">= [];</span>
          <span class="s3">this</span><span class="s2">.</span><span class="s1">pre </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">CodegenState</span><span class="s2">;</span>
  <span class="s2">}());</span>
  <span class="s3">function </span><span class="s1">generate</span><span class="s2">(</span><span class="s1">ast</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">state </span><span class="s2">= </span><span class="s3">new </span><span class="s1">CodegenState</span><span class="s2">(</span><span class="s1">options</span><span class="s2">);</span>
      <span class="s0">// fix #11483, Root level &lt;script&gt; tags should not be rendered.</span>
      <span class="s3">var </span><span class="s1">code </span><span class="s2">= </span><span class="s1">ast</span>
          <span class="s2">? </span><span class="s1">ast</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'script'</span>
              <span class="s2">? </span><span class="s4">'null'</span>
              <span class="s2">: </span><span class="s1">genElement</span><span class="s2">(</span><span class="s1">ast</span><span class="s2">, </span><span class="s1">state</span><span class="s2">)</span>
          <span class="s2">: </span><span class="s4">'_c(&quot;div&quot;)'</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s2">{</span>
          <span class="s1">render</span><span class="s2">: </span><span class="s4">&quot;with(this){return &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">code</span><span class="s2">, </span><span class="s4">&quot;}&quot;</span><span class="s2">),</span>
          <span class="s1">staticRenderFns</span><span class="s2">: </span><span class="s1">state</span><span class="s2">.</span><span class="s1">staticRenderFns</span>
      <span class="s2">};</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genElement</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">) {</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">pre </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">pre </span><span class="s2">|| </span><span class="s1">el</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">staticRoot </span><span class="s2">&amp;&amp; !</span><span class="s1">el</span><span class="s2">.</span><span class="s1">staticProcessed</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">genStatic</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">once </span><span class="s2">&amp;&amp; !</span><span class="s1">el</span><span class="s2">.</span><span class="s1">onceProcessed</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">genOnce</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">for </span><span class="s2">&amp;&amp; !</span><span class="s1">el</span><span class="s2">.</span><span class="s1">forProcessed</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">genFor</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">if </span><span class="s2">&amp;&amp; !</span><span class="s1">el</span><span class="s2">.</span><span class="s1">ifProcessed</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">genIf</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'template' </span><span class="s2">&amp;&amp; !</span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotTarget </span><span class="s2">&amp;&amp; !</span><span class="s1">state</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">genChildren</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) || </span><span class="s4">'void 0'</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'slot'</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">genSlot</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s0">// component or element</span>
          <span class="s3">var </span><span class="s1">code </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">component</span><span class="s2">) {</span>
              <span class="s1">code </span><span class="s2">= </span><span class="s1">genComponent</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">component</span><span class="s2">, </span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">maybeComponent </span><span class="s2">= </span><span class="s1">state</span><span class="s2">.</span><span class="s1">maybeComponent</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">el</span><span class="s2">.</span><span class="s1">plain </span><span class="s2">|| (</span><span class="s1">el</span><span class="s2">.</span><span class="s1">pre </span><span class="s2">&amp;&amp; </span><span class="s1">maybeComponent</span><span class="s2">)) {</span>
                  <span class="s1">data </span><span class="s2">= </span><span class="s1">genData</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">var </span><span class="s1">tag </span>
              <span class="s0">// check if this is a component in &lt;script setup&gt;</span>
              <span class="s2">= </span><span class="s3">void </span><span class="s6">0</span><span class="s2">;</span>
              <span class="s0">// check if this is a component in &lt;script setup&gt;</span>
              <span class="s3">var </span><span class="s1">bindings </span><span class="s2">= </span><span class="s1">state</span><span class="s2">.</span><span class="s1">options</span><span class="s2">.</span><span class="s1">bindings</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">maybeComponent </span><span class="s2">&amp;&amp; </span><span class="s1">bindings </span><span class="s2">&amp;&amp; </span><span class="s1">bindings</span><span class="s2">.</span><span class="s1">__isScriptSetup </span><span class="s2">!== </span><span class="s3">false</span><span class="s2">) {</span>
                  <span class="s1">tag </span><span class="s2">= </span><span class="s1">checkBindingType</span><span class="s2">(</span><span class="s1">bindings</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(!</span><span class="s1">tag</span><span class="s2">)</span>
                  <span class="s1">tag </span><span class="s2">= </span><span class="s4">&quot;'&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot;'&quot;</span><span class="s2">);</span>
              <span class="s3">var </span><span class="s1">children </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">inlineTemplate </span><span class="s2">? </span><span class="s3">null </span><span class="s2">: </span><span class="s1">genChildren</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
              <span class="s1">code </span><span class="s2">= </span><span class="s4">&quot;_c(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">data </span><span class="s2">? </span><span class="s4">&quot;,&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">data</span><span class="s2">) : </span><span class="s4">'' </span><span class="s0">// data</span>
              <span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">children </span><span class="s2">? </span><span class="s4">&quot;,&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">children</span><span class="s2">) : </span><span class="s4">'' </span><span class="s0">// children</span>
              <span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s0">// module transforms</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">state</span><span class="s2">.</span><span class="s1">transforms</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
              <span class="s1">code </span><span class="s2">= </span><span class="s1">state</span><span class="s2">.</span><span class="s1">transforms</span><span class="s2">[</span><span class="s1">i</span><span class="s2">](</span><span class="s1">el</span><span class="s2">, </span><span class="s1">code</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">code</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">checkBindingType</span><span class="s2">(</span><span class="s1">bindings</span><span class="s2">, </span><span class="s1">key</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">camelName </span><span class="s2">= </span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">key</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">PascalName </span><span class="s2">= </span><span class="s1">capitalize</span><span class="s2">(</span><span class="s1">camelName</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">checkType </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">type</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">bindings</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] === </span><span class="s1">type</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">key</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">bindings</span><span class="s2">[</span><span class="s1">camelName</span><span class="s2">] === </span><span class="s1">type</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">camelName</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">bindings</span><span class="s2">[</span><span class="s1">PascalName</span><span class="s2">] === </span><span class="s1">type</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">PascalName</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">};</span>
      <span class="s3">var </span><span class="s1">fromConst </span><span class="s2">= </span><span class="s1">checkType</span><span class="s2">(</span><span class="s4">&quot;setup-const&quot; </span><span class="s0">/* BindingTypes.SETUP_CONST */</span><span class="s2">) ||</span>
          <span class="s1">checkType</span><span class="s2">(</span><span class="s4">&quot;setup-reactive-const&quot; </span><span class="s0">/* BindingTypes.SETUP_REACTIVE_CONST */</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">fromConst</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">fromConst</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">fromMaybeRef </span><span class="s2">= </span><span class="s1">checkType</span><span class="s2">(</span><span class="s4">&quot;setup-let&quot; </span><span class="s0">/* BindingTypes.SETUP_LET */</span><span class="s2">) ||</span>
          <span class="s1">checkType</span><span class="s2">(</span><span class="s4">&quot;setup-ref&quot; </span><span class="s0">/* BindingTypes.SETUP_REF */</span><span class="s2">) ||</span>
          <span class="s1">checkType</span><span class="s2">(</span><span class="s4">&quot;setup-maybe-ref&quot; </span><span class="s0">/* BindingTypes.SETUP_MAYBE_REF */</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">fromMaybeRef</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">fromMaybeRef</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s0">// hoist static sub-trees out</span>
  <span class="s3">function </span><span class="s1">genStatic</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) {</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">staticProcessed </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s0">// Some elements (templates) need to behave differently inside of a v-pre</span>
      <span class="s0">// node.  All pre nodes are static roots, so we can use this as a location to</span>
      <span class="s0">// wrap a state change and reset it upon exiting the pre node.</span>
      <span class="s3">var </span><span class="s1">originalPreState </span><span class="s2">= </span><span class="s1">state</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">) {</span>
          <span class="s1">state</span><span class="s2">.</span><span class="s1">pre </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s1">state</span><span class="s2">.</span><span class="s1">staticRenderFns</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s4">&quot;with(this){return &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genElement</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">), </span><span class="s4">&quot;}&quot;</span><span class="s2">));</span>
      <span class="s1">state</span><span class="s2">.</span><span class="s1">pre </span><span class="s2">= </span><span class="s1">originalPreState</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s4">&quot;_m(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">state</span><span class="s2">.</span><span class="s1">staticRenderFns</span><span class="s2">.</span><span class="s1">length </span><span class="s2">- </span><span class="s6">1</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">staticInFor </span><span class="s2">? </span><span class="s4">',true' </span><span class="s2">: </span><span class="s4">''</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s0">// v-once</span>
  <span class="s3">function </span><span class="s1">genOnce</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) {</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">onceProcessed </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">if </span><span class="s2">&amp;&amp; !</span><span class="s1">el</span><span class="s2">.</span><span class="s1">ifProcessed</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">genIf</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">staticInFor</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s4">''</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">parent_1 </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">parent_1</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">parent_1</span><span class="s2">.</span><span class="s1">for</span><span class="s2">) {</span>
                  <span class="s1">key </span><span class="s2">= </span><span class="s1">parent_1</span><span class="s2">.</span><span class="s1">key</span><span class="s2">;</span>
                  <span class="s3">break</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s1">parent_1 </span><span class="s2">= </span><span class="s1">parent_1</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(!</span><span class="s1">key</span><span class="s2">) {</span>
              <span class="s1">state</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;v-once can only be used inside v-for that is keyed. &quot;</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">'v-once'</span><span class="s2">]);</span>
              <span class="s3">return </span><span class="s1">genElement</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s4">&quot;_o(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genElement</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">), </span><span class="s4">&quot;,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">state</span><span class="s2">.</span><span class="s1">onceId</span><span class="s2">++, </span><span class="s4">&quot;,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">genStatic</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genIf</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">, </span><span class="s1">altGen</span><span class="s2">, </span><span class="s1">altEmpty</span><span class="s2">) {</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">ifProcessed </span><span class="s2">= </span><span class="s3">true</span><span class="s2">; </span><span class="s0">// avoid recursion</span>
      <span class="s3">return </span><span class="s1">genIfConditions</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">ifConditions</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(), </span><span class="s1">state</span><span class="s2">, </span><span class="s1">altGen</span><span class="s2">, </span><span class="s1">altEmpty</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genIfConditions</span><span class="s2">(</span><span class="s1">conditions</span><span class="s2">, </span><span class="s1">state</span><span class="s2">, </span><span class="s1">altGen</span><span class="s2">, </span><span class="s1">altEmpty</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">conditions</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">altEmpty </span><span class="s2">|| </span><span class="s4">'_e()'</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">condition </span><span class="s2">= </span><span class="s1">conditions</span><span class="s2">.</span><span class="s1">shift</span><span class="s2">();</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">condition</span><span class="s2">.</span><span class="s1">exp</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s4">&quot;(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">condition</span><span class="s2">.</span><span class="s1">exp</span><span class="s2">, </span><span class="s4">&quot;)?&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genTernaryExp</span><span class="s2">(</span><span class="s1">condition</span><span class="s2">.</span><span class="s1">block</span><span class="s2">), </span><span class="s4">&quot;:&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genIfConditions</span><span class="s2">(</span><span class="s1">conditions</span><span class="s2">, </span><span class="s1">state</span><span class="s2">, </span><span class="s1">altGen</span><span class="s2">, </span><span class="s1">altEmpty</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genTernaryExp</span><span class="s2">(</span><span class="s1">condition</span><span class="s2">.</span><span class="s1">block</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s0">// v-if with v-once should generate code like (a)?_m(0):_m(1)</span>
      <span class="s3">function </span><span class="s1">genTernaryExp</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">altGen</span>
              <span class="s2">? </span><span class="s1">altGen</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">)</span>
              <span class="s2">: </span><span class="s1">el</span><span class="s2">.</span><span class="s1">once</span>
                  <span class="s2">? </span><span class="s1">genOnce</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">)</span>
                  <span class="s2">: </span><span class="s1">genElement</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genFor</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">, </span><span class="s1">altGen</span><span class="s2">, </span><span class="s1">altHelper</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">exp </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">for</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">alias </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">alias</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">iterator1 </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">iterator1 </span><span class="s2">? </span><span class="s4">&quot;,&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">iterator1</span><span class="s2">) : </span><span class="s4">''</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">iterator2 </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">iterator2 </span><span class="s2">? </span><span class="s4">&quot;,&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">iterator2</span><span class="s2">) : </span><span class="s4">''</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">state</span><span class="s2">.</span><span class="s1">maybeComponent</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) &amp;&amp;</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">!== </span><span class="s4">'slot' </span><span class="s2">&amp;&amp;</span>
          <span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">!== </span><span class="s4">'template' </span><span class="s2">&amp;&amp;</span>
          <span class="s2">!</span><span class="s1">el</span><span class="s2">.</span><span class="s1">key</span><span class="s2">) {</span>
          <span class="s1">state</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;&lt;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot; v-for=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">alias</span><span class="s2">, </span><span class="s4">&quot; in &quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&gt;: component lists rendered with &quot;</span><span class="s2">) +</span>
              <span class="s4">&quot;v-for should have explicit keys. &quot; </span><span class="s2">+</span>
              <span class="s4">&quot;See https://v2.vuejs.org/v2/guide/list.html#key for more info.&quot;</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s4">'v-for'</span><span class="s2">], </span><span class="s3">true </span><span class="s0">/* tip */</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s1">el</span><span class="s2">.</span><span class="s1">forProcessed </span><span class="s2">= </span><span class="s3">true</span><span class="s2">; </span><span class="s0">// avoid recursion</span>
      <span class="s3">return </span><span class="s2">(</span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">altHelper </span><span class="s2">|| </span><span class="s4">'_l'</span><span class="s2">, </span><span class="s4">&quot;((&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">, </span><span class="s4">&quot;),&quot;</span><span class="s2">) +</span>
          <span class="s4">&quot;function(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">alias</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">iterator1</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">iterator2</span><span class="s2">, </span><span class="s4">&quot;){&quot;</span><span class="s2">) +</span>
          <span class="s4">&quot;return &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">((</span><span class="s1">altGen </span><span class="s2">|| </span><span class="s1">genElement</span><span class="s2">)(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">)) +</span>
          <span class="s4">'})'</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genData</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s4">'{'</span><span class="s2">;</span>
      <span class="s0">// directives first.</span>
      <span class="s0">// directives may mutate the el's other properties before they are generated.</span>
      <span class="s3">var </span><span class="s1">dirs </span><span class="s2">= </span><span class="s1">genDirectives</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">dirs</span><span class="s2">)</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s1">dirs </span><span class="s2">+ </span><span class="s4">','</span><span class="s2">;</span>
      <span class="s0">// key</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">key</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;key:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">key</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// ref</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">ref</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;ref:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">ref</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">refInFor</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;refInFor:true,&quot;</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// pre</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">pre</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;pre:true,&quot;</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s0">// record original tag name for components using &quot;is&quot; attribute</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">component</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;tag:</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">,&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// module data generation functions</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">state</span><span class="s2">.</span><span class="s1">dataGenFns</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s1">state</span><span class="s2">.</span><span class="s1">dataGenFns</span><span class="s2">[</span><span class="s1">i</span><span class="s2">](</span><span class="s1">el</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// attributes</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;attrs:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genProps</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrs</span><span class="s2">), </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// DOM props</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">props</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;domProps:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genProps</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">props</span><span class="s2">), </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// event handlers</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">events</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genHandlers</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">events</span><span class="s2">, </span><span class="s3">false</span><span class="s2">), </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">nativeEvents</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genHandlers</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">nativeEvents</span><span class="s2">, </span><span class="s3">true</span><span class="s2">), </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// slot target</span>
      <span class="s0">// only for non-scoped slots</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotTarget </span><span class="s2">&amp;&amp; !</span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotScope</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;slot:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotTarget</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// scoped slots</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">scopedSlots</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genScopedSlots</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">el</span><span class="s2">.</span><span class="s1">scopedSlots</span><span class="s2">, </span><span class="s1">state</span><span class="s2">), </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// component v-model</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">model</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;model:{value:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">model</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;,callback:&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">model</span><span class="s2">.</span><span class="s1">callback</span><span class="s2">, </span><span class="s4">&quot;,expression:&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">model</span><span class="s2">.</span><span class="s1">expression</span><span class="s2">, </span><span class="s4">&quot;},&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// inline-template</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">inlineTemplate</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">inlineTemplate </span><span class="s2">= </span><span class="s1">genInlineTemplate</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">inlineTemplate</span><span class="s2">) {</span>
              <span class="s1">data </span><span class="s2">+= </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">inlineTemplate</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s1">data </span><span class="s2">= </span><span class="s1">data</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s7">/,$/</span><span class="s2">, </span><span class="s4">''</span><span class="s2">) + </span><span class="s4">'}'</span><span class="s2">;</span>
      <span class="s0">// v-bind dynamic argument wrap</span>
      <span class="s0">// v-bind with dynamic arguments must be applied using the same v-bind object</span>
      <span class="s0">// merge helper so that class/style/mustUseProp attrs are handled correctly.</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">dynamicAttrs</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">= </span><span class="s4">&quot;_b(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s4">&quot;,</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genProps</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">dynamicAttrs</span><span class="s2">), </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// v-bind data wrap</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">wrapData</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">wrapData</span><span class="s2">(</span><span class="s1">data</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s0">// v-on data wrap</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">wrapListeners</span><span class="s2">) {</span>
          <span class="s1">data </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">wrapListeners</span><span class="s2">(</span><span class="s1">data</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">data</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genDirectives</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">dirs </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">directives</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">dirs</span><span class="s2">)</span>
          <span class="s3">return</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s4">'directives:['</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">hasRuntime </span><span class="s2">= </span><span class="s3">false</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">i</span><span class="s2">, </span><span class="s1">l</span><span class="s2">, </span><span class="s1">dir</span><span class="s2">, </span><span class="s1">needRuntime</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">l </span><span class="s2">= </span><span class="s1">dirs</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">l</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">dir </span><span class="s2">= </span><span class="s1">dirs</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s1">needRuntime </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">gen </span><span class="s2">= </span><span class="s1">state</span><span class="s2">.</span><span class="s1">directives</span><span class="s2">[</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">name</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">gen</span><span class="s2">) {</span>
              <span class="s0">// compile-time directive that manipulates AST.</span>
              <span class="s0">// returns true if it also needs a runtime counterpart.</span>
              <span class="s1">needRuntime </span><span class="s2">= !!</span><span class="s1">gen</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">dir</span><span class="s2">, </span><span class="s1">state</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">needRuntime</span><span class="s2">) {</span>
              <span class="s1">hasRuntime </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s1">res </span><span class="s2">+= </span><span class="s4">&quot;{name:</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">,rawName:</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">rawName</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">value</span>
                  <span class="s2">? </span><span class="s4">&quot;,value:(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;),expression:&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">value</span><span class="s2">))</span>
                  <span class="s2">: </span><span class="s4">''</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">arg </span><span class="s2">? </span><span class="s4">&quot;,arg:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">isDynamicArg </span><span class="s2">? </span><span class="s1">dir</span><span class="s2">.</span><span class="s1">arg </span><span class="s2">: </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">arg</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">)) : </span><span class="s4">''</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">modifiers </span><span class="s2">? </span><span class="s4">&quot;,modifiers:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">dir</span><span class="s2">.</span><span class="s1">modifiers</span><span class="s2">)) : </span><span class="s4">''</span><span class="s2">, </span><span class="s4">&quot;},&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">hasRuntime</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">res</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">) + </span><span class="s4">']'</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genInlineTemplate</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">ast </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">children</span><span class="s2">[</span><span class="s6">0</span><span class="s2">];</span>
      <span class="s3">if </span><span class="s2">((</span><span class="s1">el</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length </span><span class="s2">!== </span><span class="s6">1 </span><span class="s2">|| </span><span class="s1">ast</span><span class="s2">.</span><span class="s1">type </span><span class="s2">!== </span><span class="s6">1</span><span class="s2">)) {</span>
          <span class="s1">state</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">(</span><span class="s4">'Inline-template components must have exactly one child element.'</span><span class="s2">, { </span><span class="s1">start</span><span class="s2">: </span><span class="s1">el</span><span class="s2">.</span><span class="s1">start </span><span class="s2">});</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">ast </span><span class="s2">&amp;&amp; </span><span class="s1">ast</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">inlineRenderFns </span><span class="s2">= </span><span class="s1">generate</span><span class="s2">(</span><span class="s1">ast</span><span class="s2">, </span><span class="s1">state</span><span class="s2">.</span><span class="s1">options</span><span class="s2">);</span>
          <span class="s3">return </span><span class="s4">&quot;inlineTemplate:{render:function(){&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">inlineRenderFns</span><span class="s2">.</span><span class="s1">render</span><span class="s2">, </span><span class="s4">&quot;},staticRenderFns:[&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">inlineRenderFns</span><span class="s2">.</span><span class="s1">staticRenderFns</span>
              <span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">code</span><span class="s2">) { </span><span class="s3">return </span><span class="s4">&quot;function(){&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">code</span><span class="s2">, </span><span class="s4">&quot;}&quot;</span><span class="s2">); })</span>
              <span class="s2">.</span><span class="s1">join</span><span class="s2">(</span><span class="s4">','</span><span class="s2">), </span><span class="s4">&quot;]}&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genScopedSlots</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">slots</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) {</span>
      <span class="s0">// by default scoped slots are considered &quot;stable&quot;, this allows child</span>
      <span class="s0">// components with only scoped slots to skip forced updates from parent.</span>
      <span class="s0">// but in some cases we have to bail-out of this optimization</span>
      <span class="s0">// for example if the slot contains dynamic names, has v-if or v-for on them...</span>
      <span class="s3">var </span><span class="s1">needsForceUpdate </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">for </span><span class="s2">||</span>
          <span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">slots</span><span class="s2">).</span><span class="s1">some</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">key</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">slot </span><span class="s2">= </span><span class="s1">slots</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
              <span class="s3">return </span><span class="s2">(</span><span class="s1">slot</span><span class="s2">.</span><span class="s1">slotTargetDynamic </span><span class="s2">|| </span><span class="s1">slot</span><span class="s2">.</span><span class="s1">if </span><span class="s2">|| </span><span class="s1">slot</span><span class="s2">.</span><span class="s1">for </span><span class="s2">|| </span><span class="s1">containsSlotChild</span><span class="s2">(</span><span class="s1">slot</span><span class="s2">) </span><span class="s0">// is passing down slot from parent which may be dynamic</span>
              <span class="s2">);</span>
          <span class="s2">});</span>
      <span class="s0">// #9534: if a component with scoped slots is inside a conditional branch,</span>
      <span class="s0">// it's possible for the same component to be reused but with different</span>
      <span class="s0">// compiled slot content. To avoid that, we generate a unique key based on</span>
      <span class="s0">// the generated code of all the slot contents.</span>
      <span class="s3">var </span><span class="s1">needsKey </span><span class="s2">= !!</span><span class="s1">el</span><span class="s2">.</span><span class="s1">if</span><span class="s2">;</span>
      <span class="s0">// OR when it is inside another scoped slot or v-for (the reactivity may be</span>
      <span class="s0">// disconnected due to the intermediate scope variable)</span>
      <span class="s0">// #9438, #9506</span>
      <span class="s0">// TODO: this can be further optimized by properly analyzing in-scope bindings</span>
      <span class="s0">// and skip force updating ones that do not actually use scope variables.</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">needsForceUpdate</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">parent_2 </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s1">parent_2</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">((</span><span class="s1">parent_2</span><span class="s2">.</span><span class="s1">slotScope </span><span class="s2">&amp;&amp; </span><span class="s1">parent_2</span><span class="s2">.</span><span class="s1">slotScope </span><span class="s2">!== </span><span class="s1">emptySlotScopeToken</span><span class="s2">) ||</span>
                  <span class="s1">parent_2</span><span class="s2">.</span><span class="s1">for</span><span class="s2">) {</span>
                  <span class="s1">needsForceUpdate </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
                  <span class="s3">break</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">parent_2</span><span class="s2">.</span><span class="s1">if</span><span class="s2">) {</span>
                  <span class="s1">needsKey </span><span class="s2">= </span><span class="s3">true</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s1">parent_2 </span><span class="s2">= </span><span class="s1">parent_2</span><span class="s2">.</span><span class="s1">parent</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">generatedSlots </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">keys</span><span class="s2">(</span><span class="s1">slots</span><span class="s2">)</span>
          <span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">key</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">genScopedSlot</span><span class="s2">(</span><span class="s1">slots</span><span class="s2">[</span><span class="s1">key</span><span class="s2">], </span><span class="s1">state</span><span class="s2">); })</span>
          <span class="s2">.</span><span class="s1">join</span><span class="s2">(</span><span class="s4">','</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s4">&quot;scopedSlots:_u([&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">generatedSlots</span><span class="s2">, </span><span class="s4">&quot;]&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">needsForceUpdate </span><span class="s2">? </span><span class="s4">&quot;,null,true&quot; </span><span class="s2">: </span><span class="s4">&quot;&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(!</span><span class="s1">needsForceUpdate </span><span class="s2">&amp;&amp; </span><span class="s1">needsKey </span><span class="s2">? </span><span class="s4">&quot;,null,false,&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">hash</span><span class="s2">(</span><span class="s1">generatedSlots</span><span class="s2">)) : </span><span class="s4">&quot;&quot;</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">hash</span><span class="s2">(</span><span class="s1">str</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">hash </span><span class="s2">= </span><span class="s6">5381</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s1">str</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
      <span class="s3">while </span><span class="s2">(</span><span class="s1">i</span><span class="s2">) {</span>
          <span class="s1">hash </span><span class="s2">= (</span><span class="s1">hash </span><span class="s2">* </span><span class="s6">33</span><span class="s2">) ^ </span><span class="s1">str</span><span class="s2">.</span><span class="s1">charCodeAt</span><span class="s2">(--</span><span class="s1">i</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">hash </span><span class="s2">&gt;&gt;&gt; </span><span class="s6">0</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">containsSlotChild</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'slot'</span><span class="s2">) {</span>
              <span class="s3">return true</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s1">el</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">some</span><span class="s2">(</span><span class="s1">containsSlotChild</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return false</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genScopedSlot</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">isLegacySyntax </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">'slot-scope'</span><span class="s2">];</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">if </span><span class="s2">&amp;&amp; !</span><span class="s1">el</span><span class="s2">.</span><span class="s1">ifProcessed </span><span class="s2">&amp;&amp; !</span><span class="s1">isLegacySyntax</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">genIf</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">, </span><span class="s1">genScopedSlot</span><span class="s2">, </span><span class="s4">&quot;null&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">for </span><span class="s2">&amp;&amp; !</span><span class="s1">el</span><span class="s2">.</span><span class="s1">forProcessed</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">genFor</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">, </span><span class="s1">genScopedSlot</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">slotScope </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotScope </span><span class="s2">=== </span><span class="s1">emptySlotScopeToken </span><span class="s2">? </span><span class="s4">&quot;&quot; </span><span class="s2">: </span><span class="s1">String</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotScope</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">fn </span><span class="s2">= </span><span class="s4">&quot;function(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">slotScope</span><span class="s2">, </span><span class="s4">&quot;){&quot;</span><span class="s2">) +</span>
          <span class="s4">&quot;return &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'template'</span>
              <span class="s2">? </span><span class="s1">el</span><span class="s2">.</span><span class="s1">if </span><span class="s2">&amp;&amp; </span><span class="s1">isLegacySyntax</span>
                  <span class="s2">? </span><span class="s4">&quot;(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">if</span><span class="s2">, </span><span class="s4">&quot;)?&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genChildren</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) || </span><span class="s4">'undefined'</span><span class="s2">, </span><span class="s4">&quot;:undefined&quot;</span><span class="s2">)</span>
                  <span class="s2">: </span><span class="s1">genChildren</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) || </span><span class="s4">'undefined'</span>
              <span class="s2">: </span><span class="s1">genElement</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">), </span><span class="s4">&quot;}&quot;</span><span class="s2">);</span>
      <span class="s0">// reverse proxy v-slot without scope on this.$slots</span>
      <span class="s3">var </span><span class="s1">reverseProxy </span><span class="s2">= </span><span class="s1">slotScope </span><span class="s2">? </span><span class="s4">&quot;&quot; </span><span class="s2">: </span><span class="s4">&quot;,proxy:true&quot;</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s4">&quot;{key:&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotTarget </span><span class="s2">|| </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">default</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">, </span><span class="s4">&quot;,fn:&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">reverseProxy</span><span class="s2">, </span><span class="s4">&quot;}&quot;</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genChildren</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">, </span><span class="s1">checkSkip</span><span class="s2">, </span><span class="s1">altGenElement</span><span class="s2">, </span><span class="s1">altGenNode</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">children </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">children</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">el_1 </span><span class="s2">= </span><span class="s1">children</span><span class="s2">[</span><span class="s6">0</span><span class="s2">];</span>
          <span class="s0">// optimize single v-for</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length </span><span class="s2">=== </span><span class="s6">1 </span><span class="s2">&amp;&amp;</span>
              <span class="s1">el_1</span><span class="s2">.</span><span class="s1">for </span><span class="s2">&amp;&amp;</span>
              <span class="s1">el_1</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">!== </span><span class="s4">'template' </span><span class="s2">&amp;&amp;</span>
              <span class="s1">el_1</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">!== </span><span class="s4">'slot'</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">normalizationType_1 </span><span class="s2">= </span><span class="s1">checkSkip</span>
                  <span class="s2">? </span><span class="s1">state</span><span class="s2">.</span><span class="s1">maybeComponent</span><span class="s2">(</span><span class="s1">el_1</span><span class="s2">)</span>
                      <span class="s2">? </span><span class="s4">&quot;,1&quot;</span>
                      <span class="s2">: </span><span class="s4">&quot;,0&quot;</span>
                  <span class="s2">: </span><span class="s4">&quot;&quot;</span><span class="s2">;</span>
              <span class="s3">return </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">((</span><span class="s1">altGenElement </span><span class="s2">|| </span><span class="s1">genElement</span><span class="s2">)(</span><span class="s1">el_1</span><span class="s2">, </span><span class="s1">state</span><span class="s2">)).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">normalizationType_1</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">var </span><span class="s1">normalizationType </span><span class="s2">= </span><span class="s1">checkSkip</span>
              <span class="s2">? </span><span class="s1">getNormalizationType</span><span class="s2">(</span><span class="s1">children</span><span class="s2">, </span><span class="s1">state</span><span class="s2">.</span><span class="s1">maybeComponent</span><span class="s2">)</span>
              <span class="s2">: </span><span class="s6">0</span><span class="s2">;</span>
          <span class="s3">var </span><span class="s1">gen_1 </span><span class="s2">= </span><span class="s1">altGenNode </span><span class="s2">|| </span><span class="s1">genNode</span><span class="s2">;</span>
          <span class="s3">return </span><span class="s4">&quot;[&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">children</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">c</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">gen_1</span><span class="s2">(</span><span class="s1">c</span><span class="s2">, </span><span class="s1">state</span><span class="s2">); }).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">','</span><span class="s2">), </span><span class="s4">&quot;]&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">normalizationType </span><span class="s2">? </span><span class="s4">&quot;,&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">normalizationType</span><span class="s2">) : </span><span class="s4">''</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s0">// determine the normalization needed for the children array.</span>
  <span class="s0">// 0: no normalization needed</span>
  <span class="s0">// 1: simple normalization needed (possible 1-level deep nested array)</span>
  <span class="s0">// 2: full normalization needed</span>
  <span class="s3">function </span><span class="s1">getNormalizationType</span><span class="s2">(</span><span class="s1">children</span><span class="s2">, </span><span class="s1">maybeComponent</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">var </span><span class="s1">el </span><span class="s2">= </span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">type </span><span class="s2">!== </span><span class="s6">1</span><span class="s2">) {</span>
              <span class="s3">continue</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">needsNormalization</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) ||</span>
              <span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">ifConditions </span><span class="s2">&amp;&amp;</span>
                  <span class="s1">el</span><span class="s2">.</span><span class="s1">ifConditions</span><span class="s2">.</span><span class="s1">some</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">c</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">needsNormalization</span><span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">block</span><span class="s2">); }))) {</span>
              <span class="s1">res </span><span class="s2">= </span><span class="s6">2</span><span class="s2">;</span>
              <span class="s3">break</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">maybeComponent</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) ||</span>
              <span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">ifConditions </span><span class="s2">&amp;&amp; </span><span class="s1">el</span><span class="s2">.</span><span class="s1">ifConditions</span><span class="s2">.</span><span class="s1">some</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">c</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">maybeComponent</span><span class="s2">(</span><span class="s1">c</span><span class="s2">.</span><span class="s1">block</span><span class="s2">); }))) {</span>
              <span class="s1">res </span><span class="s2">= </span><span class="s6">1</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">needsNormalization</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">el</span><span class="s2">.</span><span class="s1">for </span><span class="s2">!== </span><span class="s1">undefined </span><span class="s2">|| </span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'template' </span><span class="s2">|| </span><span class="s1">el</span><span class="s2">.</span><span class="s1">tag </span><span class="s2">=== </span><span class="s4">'slot'</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genNode</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">genElement</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">3 </span><span class="s2">&amp;&amp; </span><span class="s1">node</span><span class="s2">.</span><span class="s1">isComment</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">genComment</span><span class="s2">(</span><span class="s1">node</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">genText</span><span class="s2">(</span><span class="s1">node</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genText</span><span class="s2">(</span><span class="s1">text</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s4">&quot;_v(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">text</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">2</span>
          <span class="s2">? </span><span class="s1">text</span><span class="s2">.</span><span class="s1">expression </span><span class="s0">// no need for () because already wrapped in _s()</span>
          <span class="s2">: </span><span class="s1">transformSpecialNewlines</span><span class="s2">(</span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">text</span><span class="s2">.</span><span class="s1">text</span><span class="s2">)), </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genComment</span><span class="s2">(</span><span class="s1">comment</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s4">&quot;_e(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">JSON</span><span class="s2">.</span><span class="s1">stringify</span><span class="s2">(</span><span class="s1">comment</span><span class="s2">.</span><span class="s1">text</span><span class="s2">), </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genSlot</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">slotName </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">slotName </span><span class="s2">|| </span><span class="s4">'&quot;default&quot;'</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">children </span><span class="s2">= </span><span class="s1">genChildren</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= </span><span class="s4">&quot;_t(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">slotName</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">children </span><span class="s2">? </span><span class="s4">&quot;,function(){return &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">children</span><span class="s2">, </span><span class="s4">&quot;}&quot;</span><span class="s2">) : </span><span class="s4">''</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">attrs </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">|| </span><span class="s1">el</span><span class="s2">.</span><span class="s1">dynamicAttrs</span>
          <span class="s2">? </span><span class="s1">genProps</span><span class="s2">((</span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrs </span><span class="s2">|| []).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">dynamicAttrs </span><span class="s2">|| []).</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">attr</span><span class="s2">) { </span><span class="s3">return </span><span class="s2">({</span>
              <span class="s0">// slot props are camelized</span>
              <span class="s1">name</span><span class="s2">: </span><span class="s1">camelize</span><span class="s2">(</span><span class="s1">attr</span><span class="s2">.</span><span class="s1">name</span><span class="s2">),</span>
              <span class="s1">value</span><span class="s2">: </span><span class="s1">attr</span><span class="s2">.</span><span class="s1">value</span><span class="s2">,</span>
              <span class="s1">dynamic</span><span class="s2">: </span><span class="s1">attr</span><span class="s2">.</span><span class="s1">dynamic</span>
          <span class="s2">}); }))</span>
          <span class="s2">: </span><span class="s3">null</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">bind </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s4">'v-bind'</span><span class="s2">];</span>
      <span class="s3">if </span><span class="s2">((</span><span class="s1">attrs </span><span class="s2">|| </span><span class="s1">bind</span><span class="s2">) &amp;&amp; !</span><span class="s1">children</span><span class="s2">) {</span>
          <span class="s1">res </span><span class="s2">+= </span><span class="s4">&quot;,null&quot;</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">attrs</span><span class="s2">) {</span>
          <span class="s1">res </span><span class="s2">+= </span><span class="s4">&quot;,&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">attrs</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">bind</span><span class="s2">) {</span>
          <span class="s1">res </span><span class="s2">+= </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">attrs </span><span class="s2">? </span><span class="s4">'' </span><span class="s2">: </span><span class="s4">',null'</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">bind</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res </span><span class="s2">+ </span><span class="s4">')'</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s0">// componentName is el.component, take it as argument to shun flow's pessimistic refinement</span>
  <span class="s3">function </span><span class="s1">genComponent</span><span class="s2">(</span><span class="s1">componentName</span><span class="s2">, </span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">children </span><span class="s2">= </span><span class="s1">el</span><span class="s2">.</span><span class="s1">inlineTemplate </span><span class="s2">? </span><span class="s3">null </span><span class="s2">: </span><span class="s1">genChildren</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">, </span><span class="s3">true</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s4">&quot;_c(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">componentName</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">genData</span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">state</span><span class="s2">)).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">children </span><span class="s2">? </span><span class="s4">&quot;,&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">children</span><span class="s2">) : </span><span class="s4">''</span><span class="s2">, </span><span class="s4">&quot;)&quot;</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">genProps</span><span class="s2">(</span><span class="s1">props</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">staticProps </span><span class="s2">= </span><span class="s4">&quot;&quot;</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">dynamicProps </span><span class="s2">= </span><span class="s4">&quot;&quot;</span><span class="s2">;</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">props</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s3">var </span><span class="s1">prop </span><span class="s2">= </span><span class="s1">props</span><span class="s2">[</span><span class="s1">i</span><span class="s2">];</span>
          <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">transformSpecialNewlines</span><span class="s2">(</span><span class="s1">prop</span><span class="s2">.</span><span class="s1">value</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">prop</span><span class="s2">.</span><span class="s1">dynamic</span><span class="s2">) {</span>
              <span class="s1">dynamicProps </span><span class="s2">+= </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">prop</span><span class="s2">.</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">staticProps </span><span class="s2">+= </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">prop</span><span class="s2">.</span><span class="s1">name</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">:&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;,&quot;</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s1">staticProps </span><span class="s2">= </span><span class="s4">&quot;{&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">staticProps</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">), </span><span class="s4">&quot;}&quot;</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">dynamicProps</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s4">&quot;_d(&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">staticProps</span><span class="s2">, </span><span class="s4">&quot;,[&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">dynamicProps</span><span class="s2">.</span><span class="s1">slice</span><span class="s2">(</span><span class="s6">0</span><span class="s2">, -</span><span class="s6">1</span><span class="s2">), </span><span class="s4">&quot;])&quot;</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">return </span><span class="s1">staticProps</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s0">// #3895, #4268</span>
  <span class="s3">function </span><span class="s1">transformSpecialNewlines</span><span class="s2">(</span><span class="s1">text</span><span class="s2">) {</span>
      <span class="s3">return </span><span class="s1">text</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s7">/\u2028/g</span><span class="s2">, </span><span class="s4">'</span><span class="s3">\\</span><span class="s4">u2028'</span><span class="s2">).</span><span class="s1">replace</span><span class="s2">(</span><span class="s7">/\u2029/g</span><span class="s2">, </span><span class="s4">'</span><span class="s3">\\</span><span class="s4">u2029'</span><span class="s2">);</span>
  <span class="s2">}</span>

  <span class="s0">// these keywords should not appear inside expressions, but operators like</span>
  <span class="s0">// typeof, instanceof and in are allowed</span>
  <span class="s3">var </span><span class="s1">prohibitedKeywordRE </span><span class="s2">= </span><span class="s3">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s4">'</span><span class="s3">\\</span><span class="s4">b' </span><span class="s2">+</span>
      <span class="s2">(</span><span class="s4">'do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,' </span><span class="s2">+</span>
          <span class="s4">'super,throw,while,yield,delete,export,import,return,switch,default,' </span><span class="s2">+</span>
          <span class="s4">'extends,finally,continue,debugger,function,arguments'</span><span class="s2">)</span>
          <span class="s2">.</span><span class="s1">split</span><span class="s2">(</span><span class="s4">','</span><span class="s2">)</span>
          <span class="s2">.</span><span class="s1">join</span><span class="s2">(</span><span class="s4">'</span><span class="s3">\\</span><span class="s4">b|</span><span class="s3">\\</span><span class="s4">b'</span><span class="s2">) +</span>
      <span class="s4">'</span><span class="s3">\\</span><span class="s4">b'</span><span class="s2">);</span>
  <span class="s0">// these unary operators should not be used as property/method names</span>
  <span class="s3">var </span><span class="s1">unaryOperatorsRE </span><span class="s2">= </span><span class="s3">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s4">'</span><span class="s3">\\</span><span class="s4">b' </span><span class="s2">+</span>
      <span class="s4">'delete,typeof,void'</span><span class="s2">.</span><span class="s1">split</span><span class="s2">(</span><span class="s4">','</span><span class="s2">).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">'</span><span class="s3">\\</span><span class="s4">s*</span><span class="s3">\\</span><span class="s4">([^</span><span class="s3">\\</span><span class="s4">)]*</span><span class="s3">\\</span><span class="s4">)|</span><span class="s3">\\</span><span class="s4">b'</span><span class="s2">) +</span>
      <span class="s4">'</span><span class="s3">\\</span><span class="s4">s*</span><span class="s3">\\</span><span class="s4">([^</span><span class="s3">\\</span><span class="s4">)]*</span><span class="s3">\\</span><span class="s4">)'</span><span class="s2">);</span>
  <span class="s0">// strip strings in expressions</span>
  <span class="s3">var </span><span class="s1">stripStringRE </span><span class="s2">= </span><span class="s7">/'(?:[^'\\]|\\.)*'|&quot;(?:[^&quot;\\]|\\.)*&quot;|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g</span><span class="s2">;</span>
  <span class="s0">// detect problematic expressions in a template</span>
  <span class="s3">function </span><span class="s1">detectErrors</span><span class="s2">(</span><span class="s1">ast</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">ast</span><span class="s2">) {</span>
          <span class="s1">checkNode</span><span class="s2">(</span><span class="s1">ast</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">checkNode</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">1</span><span class="s2">) {</span>
          <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">name_1 </span><span class="s3">in </span><span class="s1">node</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">dirRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">name_1</span><span class="s2">)) {</span>
                  <span class="s3">var </span><span class="s1">value </span><span class="s2">= </span><span class="s1">node</span><span class="s2">.</span><span class="s1">attrsMap</span><span class="s2">[</span><span class="s1">name_1</span><span class="s2">];</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">value</span><span class="s2">) {</span>
                      <span class="s3">var </span><span class="s1">range </span><span class="s2">= </span><span class="s1">node</span><span class="s2">.</span><span class="s1">rawAttrsMap</span><span class="s2">[</span><span class="s1">name_1</span><span class="s2">];</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">name_1 </span><span class="s2">=== </span><span class="s4">'v-for'</span><span class="s2">) {</span>
                          <span class="s1">checkFor</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s4">&quot;v-for=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">), </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s3">else if </span><span class="s2">(</span><span class="s1">name_1 </span><span class="s2">=== </span><span class="s4">'v-slot' </span><span class="s2">|| </span><span class="s1">name_1</span><span class="s2">[</span><span class="s6">0</span><span class="s2">] === </span><span class="s4">'#'</span><span class="s2">) {</span>
                          <span class="s1">checkFunctionParameterExpression</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name_1</span><span class="s2">, </span><span class="s4">&quot;=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">), </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s3">else if </span><span class="s2">(</span><span class="s1">onRE</span><span class="s2">.</span><span class="s1">test</span><span class="s2">(</span><span class="s1">name_1</span><span class="s2">)) {</span>
                          <span class="s1">checkEvent</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name_1</span><span class="s2">, </span><span class="s4">&quot;=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">), </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">);</span>
                      <span class="s2">}</span>
                      <span class="s3">else </span><span class="s2">{</span>
                          <span class="s1">checkExpression</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">name_1</span><span class="s2">, </span><span class="s4">&quot;=</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">value</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">), </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">);</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">children</span><span class="s2">) {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">node</span><span class="s2">.</span><span class="s1">children</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                  <span class="s1">checkNode</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">children</span><span class="s2">[</span><span class="s1">i</span><span class="s2">], </span><span class="s1">warn</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">else if </span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">type </span><span class="s2">=== </span><span class="s6">2</span><span class="s2">) {</span>
          <span class="s1">checkExpression</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">expression</span><span class="s2">, </span><span class="s1">node</span><span class="s2">.</span><span class="s1">text</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">node</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">checkEvent</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">, </span><span class="s1">text</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">stripped </span><span class="s2">= </span><span class="s1">exp</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">stripStringRE</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">keywordMatch </span><span class="s2">= </span><span class="s1">stripped</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">unaryOperatorsRE</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">keywordMatch </span><span class="s2">&amp;&amp; </span><span class="s1">stripped</span><span class="s2">.</span><span class="s1">charAt</span><span class="s2">(</span><span class="s1">keywordMatch</span><span class="s2">.</span><span class="s1">index </span><span class="s2">- </span><span class="s6">1</span><span class="s2">) !== </span><span class="s4">'$'</span><span class="s2">) {</span>
          <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;avoid using JavaScript unary operator as property name: &quot; </span><span class="s2">+</span>
              <span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">keywordMatch</span><span class="s2">[</span><span class="s6">0</span><span class="s2">], </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">in expression &quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">text</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">()), </span><span class="s1">range</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s1">checkExpression</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">, </span><span class="s1">text</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">checkFor</span><span class="s2">(</span><span class="s1">node</span><span class="s2">, </span><span class="s1">text</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">) {</span>
      <span class="s1">checkExpression</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">for </span><span class="s2">|| </span><span class="s4">''</span><span class="s2">, </span><span class="s1">text</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">);</span>
      <span class="s1">checkIdentifier</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">alias</span><span class="s2">, </span><span class="s4">'v-for alias'</span><span class="s2">, </span><span class="s1">text</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">);</span>
      <span class="s1">checkIdentifier</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">iterator1</span><span class="s2">, </span><span class="s4">'v-for iterator'</span><span class="s2">, </span><span class="s1">text</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">);</span>
      <span class="s1">checkIdentifier</span><span class="s2">(</span><span class="s1">node</span><span class="s2">.</span><span class="s1">iterator2</span><span class="s2">, </span><span class="s4">'v-for iterator'</span><span class="s2">, </span><span class="s1">text</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">checkIdentifier</span><span class="s2">(</span><span class="s1">ident</span><span class="s2">, </span><span class="s1">type</span><span class="s2">, </span><span class="s1">text</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">ident </span><span class="s2">=== </span><span class="s4">'string'</span><span class="s2">) {</span>
          <span class="s3">try </span><span class="s2">{</span>
              <span class="s3">new </span><span class="s1">Function</span><span class="s2">(</span><span class="s4">&quot;var &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">ident</span><span class="s2">, </span><span class="s4">&quot;=_&quot;</span><span class="s2">));</span>
          <span class="s2">}</span>
          <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
              <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;invalid &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">type</span><span class="s2">, </span><span class="s4">&quot; </span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">ident</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\&quot; </span><span class="s4">in expression: &quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">text</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">()), </span><span class="s1">range</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">checkExpression</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">, </span><span class="s1">text</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">) {</span>
      <span class="s3">try </span><span class="s2">{</span>
          <span class="s3">new </span><span class="s1">Function</span><span class="s2">(</span><span class="s4">&quot;return &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">));</span>
      <span class="s2">}</span>
      <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">keywordMatch </span><span class="s2">= </span><span class="s1">exp</span>
              <span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s1">stripStringRE</span><span class="s2">, </span><span class="s4">''</span><span class="s2">)</span>
              <span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">prohibitedKeywordRE</span><span class="s2">);</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">keywordMatch</span><span class="s2">) {</span>
              <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;avoid using JavaScript keyword as property name: &quot; </span><span class="s2">+</span>
                  <span class="s4">&quot;</span><span class="s3">\&quot;</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">keywordMatch</span><span class="s2">[</span><span class="s6">0</span><span class="s2">], </span><span class="s4">&quot;</span><span class="s3">\&quot;\n  </span><span class="s4">Raw expression: &quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">text</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">()), </span><span class="s1">range</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">else </span><span class="s2">{</span>
              <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;invalid expression: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">message</span><span class="s2">, </span><span class="s4">&quot; in</span><span class="s3">\n\n</span><span class="s4">&quot;</span><span class="s2">) +</span>
                  <span class="s4">&quot;    &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\n\n</span><span class="s4">&quot;</span><span class="s2">) +</span>
                  <span class="s4">&quot;  Raw expression: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">text</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">(), </span><span class="s4">&quot;</span><span class="s3">\n</span><span class="s4">&quot;</span><span class="s2">), </span><span class="s1">range</span><span class="s2">);</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">checkFunctionParameterExpression</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">, </span><span class="s1">text</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">, </span><span class="s1">range</span><span class="s2">) {</span>
      <span class="s3">try </span><span class="s2">{</span>
          <span class="s3">new </span><span class="s1">Function</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">, </span><span class="s4">''</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
          <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;invalid function parameter expression: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">message</span><span class="s2">, </span><span class="s4">&quot; in</span><span class="s3">\n\n</span><span class="s4">&quot;</span><span class="s2">) +</span>
              <span class="s4">&quot;    &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">exp</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\n\n</span><span class="s4">&quot;</span><span class="s2">) +</span>
              <span class="s4">&quot;  Raw expression: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">text</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">(), </span><span class="s4">&quot;</span><span class="s3">\n</span><span class="s4">&quot;</span><span class="s2">), </span><span class="s1">range</span><span class="s2">);</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s3">var </span><span class="s1">range </span><span class="s2">= </span><span class="s6">2</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">generateCodeFrame</span><span class="s2">(</span><span class="s1">source</span><span class="s2">, </span><span class="s1">start</span><span class="s2">, </span><span class="s1">end</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">start </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">start </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; }</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">end </span><span class="s2">=== </span><span class="s3">void </span><span class="s6">0</span><span class="s2">) { </span><span class="s1">end </span><span class="s2">= </span><span class="s1">source</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; }</span>
      <span class="s3">var </span><span class="s1">lines </span><span class="s2">= </span><span class="s1">source</span><span class="s2">.</span><span class="s1">split</span><span class="s2">(</span><span class="s7">/\r?\n/</span><span class="s2">);</span>
      <span class="s3">var </span><span class="s1">count </span><span class="s2">= </span><span class="s6">0</span><span class="s2">;</span>
      <span class="s3">var </span><span class="s1">res </span><span class="s2">= [];</span>
      <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">i </span><span class="s2">= </span><span class="s6">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">lines</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
          <span class="s1">count </span><span class="s2">+= </span><span class="s1">lines</span><span class="s2">[</span><span class="s1">i</span><span class="s2">].</span><span class="s1">length </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">count </span><span class="s2">&gt;= </span><span class="s1">start</span><span class="s2">) {</span>
              <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">j </span><span class="s2">= </span><span class="s1">i </span><span class="s2">- </span><span class="s1">range</span><span class="s2">; </span><span class="s1">j </span><span class="s2">&lt;= </span><span class="s1">i </span><span class="s2">+ </span><span class="s1">range </span><span class="s2">|| </span><span class="s1">end </span><span class="s2">&gt; </span><span class="s1">count</span><span class="s2">; </span><span class="s1">j</span><span class="s2">++) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">j </span><span class="s2">&lt; </span><span class="s6">0 </span><span class="s2">|| </span><span class="s1">j </span><span class="s2">&gt;= </span><span class="s1">lines</span><span class="s2">.</span><span class="s1">length</span><span class="s2">)</span>
                      <span class="s3">continue</span><span class="s2">;</span>
                  <span class="s1">res</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">j </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">repeat</span><span class="s2">(</span><span class="s4">&quot; &quot;</span><span class="s2">, </span><span class="s6">3 </span><span class="s2">- </span><span class="s1">String</span><span class="s2">(</span><span class="s1">j </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">).</span><span class="s1">length</span><span class="s2">), </span><span class="s4">&quot;|  &quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">lines</span><span class="s2">[</span><span class="s1">j</span><span class="s2">]));</span>
                  <span class="s3">var </span><span class="s1">lineLength </span><span class="s2">= </span><span class="s1">lines</span><span class="s2">[</span><span class="s1">j</span><span class="s2">].</span><span class="s1">length</span><span class="s2">;</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">j </span><span class="s2">=== </span><span class="s1">i</span><span class="s2">) {</span>
                      <span class="s0">// push underline</span>
                      <span class="s3">var </span><span class="s1">pad </span><span class="s2">= </span><span class="s1">start </span><span class="s2">- (</span><span class="s1">count </span><span class="s2">- </span><span class="s1">lineLength</span><span class="s2">) + </span><span class="s6">1</span><span class="s2">;</span>
                      <span class="s3">var </span><span class="s1">length_1 </span><span class="s2">= </span><span class="s1">end </span><span class="s2">&gt; </span><span class="s1">count </span><span class="s2">? </span><span class="s1">lineLength </span><span class="s2">- </span><span class="s1">pad </span><span class="s2">: </span><span class="s1">end </span><span class="s2">- </span><span class="s1">start</span><span class="s2">;</span>
                      <span class="s1">res</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s4">&quot;   |  &quot; </span><span class="s2">+ </span><span class="s1">repeat</span><span class="s2">(</span><span class="s4">&quot; &quot;</span><span class="s2">, </span><span class="s1">pad</span><span class="s2">) + </span><span class="s1">repeat</span><span class="s2">(</span><span class="s4">&quot;^&quot;</span><span class="s2">, </span><span class="s1">length_1</span><span class="s2">));</span>
                  <span class="s2">}</span>
                  <span class="s3">else if </span><span class="s2">(</span><span class="s1">j </span><span class="s2">&gt; </span><span class="s1">i</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">end </span><span class="s2">&gt; </span><span class="s1">count</span><span class="s2">) {</span>
                          <span class="s3">var </span><span class="s1">length_2 </span><span class="s2">= </span><span class="s1">Math</span><span class="s2">.</span><span class="s1">min</span><span class="s2">(</span><span class="s1">end </span><span class="s2">- </span><span class="s1">count</span><span class="s2">, </span><span class="s1">lineLength</span><span class="s2">);</span>
                          <span class="s1">res</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s4">&quot;   |  &quot; </span><span class="s2">+ </span><span class="s1">repeat</span><span class="s2">(</span><span class="s4">&quot;^&quot;</span><span class="s2">, </span><span class="s1">length_2</span><span class="s2">));</span>
                      <span class="s2">}</span>
                      <span class="s1">count </span><span class="s2">+= </span><span class="s1">lineLength </span><span class="s2">+ </span><span class="s6">1</span><span class="s2">;</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">break</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">res</span><span class="s2">.</span><span class="s1">join</span><span class="s2">(</span><span class="s4">'</span><span class="s3">\n</span><span class="s4">'</span><span class="s2">);</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">repeat</span><span class="s2">(</span><span class="s1">str</span><span class="s2">, </span><span class="s1">n</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">result </span><span class="s2">= </span><span class="s4">''</span><span class="s2">;</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">n </span><span class="s2">&gt; </span><span class="s6">0</span><span class="s2">) {</span>
          <span class="s0">// eslint-disable-next-line no-constant-condition</span>
          <span class="s3">while </span><span class="s2">(</span><span class="s3">true</span><span class="s2">) {</span>
              <span class="s0">// eslint-disable-line</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">n </span><span class="s2">&amp; </span><span class="s6">1</span><span class="s2">)</span>
                  <span class="s1">result </span><span class="s2">+= </span><span class="s1">str</span><span class="s2">;</span>
              <span class="s1">n </span><span class="s2">&gt;&gt;&gt;= </span><span class="s6">1</span><span class="s2">;</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">n </span><span class="s2">&lt;= </span><span class="s6">0</span><span class="s2">)</span>
                  <span class="s3">break</span><span class="s2">;</span>
              <span class="s1">str </span><span class="s2">+= </span><span class="s1">str</span><span class="s2">;</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">result</span><span class="s2">;</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">createFunction</span><span class="s2">(</span><span class="s1">code</span><span class="s2">, </span><span class="s1">errors</span><span class="s2">) {</span>
      <span class="s3">try </span><span class="s2">{</span>
          <span class="s3">return new </span><span class="s1">Function</span><span class="s2">(</span><span class="s1">code</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">catch </span><span class="s2">(</span><span class="s1">err</span><span class="s2">) {</span>
          <span class="s1">errors</span><span class="s2">.</span><span class="s1">push</span><span class="s2">({ </span><span class="s1">err</span><span class="s2">: </span><span class="s1">err</span><span class="s2">, </span><span class="s1">code</span><span class="s2">: </span><span class="s1">code </span><span class="s2">});</span>
          <span class="s3">return </span><span class="s1">noop</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s3">function </span><span class="s1">createCompileToFunctionFn</span><span class="s2">(</span><span class="s1">compile</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">cache </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s3">null</span><span class="s2">);</span>
      <span class="s3">return function </span><span class="s1">compileToFunctions</span><span class="s2">(</span><span class="s1">template</span><span class="s2">, </span><span class="s1">options</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">) {</span>
          <span class="s1">options </span><span class="s2">= </span><span class="s1">extend</span><span class="s2">({}, </span><span class="s1">options</span><span class="s2">);</span>
          <span class="s3">var </span><span class="s1">warn </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">warn </span><span class="s2">|| </span><span class="s1">warn$2</span><span class="s2">;</span>
          <span class="s3">delete </span><span class="s1">options</span><span class="s2">.</span><span class="s1">warn</span><span class="s2">;</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s2">{</span>
              <span class="s0">// detect possible CSP restriction</span>
              <span class="s3">try </span><span class="s2">{</span>
                  <span class="s3">new </span><span class="s1">Function</span><span class="s2">(</span><span class="s4">'return 1'</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">catch </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">().</span><span class="s1">match</span><span class="s2">(</span><span class="s7">/unsafe-eval|CSP/</span><span class="s2">)) {</span>
                      <span class="s1">warn</span><span class="s2">(</span><span class="s4">'It seems you are using the standalone build of Vue.js in an ' </span><span class="s2">+</span>
                          <span class="s4">'environment with Content Security Policy that prohibits unsafe-eval. ' </span><span class="s2">+</span>
                          <span class="s4">'The template compiler cannot work in this environment. Consider ' </span><span class="s2">+</span>
                          <span class="s4">'relaxing the policy to allow unsafe-eval or pre-compiling your ' </span><span class="s2">+</span>
                          <span class="s4">'templates into render functions.'</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s0">// check cache</span>
          <span class="s3">var </span><span class="s1">key </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">delimiters</span>
              <span class="s2">? </span><span class="s1">String</span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">delimiters</span><span class="s2">) + </span><span class="s1">template</span>
              <span class="s2">: </span><span class="s1">template</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">cache</span><span class="s2">[</span><span class="s1">key</span><span class="s2">]) {</span>
              <span class="s3">return </span><span class="s1">cache</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
          <span class="s2">}</span>
          <span class="s0">// compile</span>
          <span class="s3">var </span><span class="s1">compiled </span><span class="s2">= </span><span class="s1">compile</span><span class="s2">(</span><span class="s1">template</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
          <span class="s0">// check compilation errors/tips</span>
          <span class="s2">{</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">compiled</span><span class="s2">.</span><span class="s1">errors </span><span class="s2">&amp;&amp; </span><span class="s1">compiled</span><span class="s2">.</span><span class="s1">errors</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">outputSourceRange</span><span class="s2">) {</span>
                      <span class="s1">compiled</span><span class="s2">.</span><span class="s1">errors</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) {</span>
                          <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;Error compiling template:</span><span class="s3">\n\n</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">msg</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\n\n</span><span class="s4">&quot;</span><span class="s2">) +</span>
                              <span class="s1">generateCodeFrame</span><span class="s2">(</span><span class="s1">template</span><span class="s2">, </span><span class="s1">e</span><span class="s2">.</span><span class="s1">start</span><span class="s2">, </span><span class="s1">e</span><span class="s2">.</span><span class="s1">end</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
                      <span class="s2">});</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;Error compiling template:</span><span class="s3">\n\n</span><span class="s4">&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">template</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\n\n</span><span class="s4">&quot;</span><span class="s2">) +</span>
                          <span class="s1">compiled</span><span class="s2">.</span><span class="s1">errors</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) { </span><span class="s3">return </span><span class="s4">&quot;- &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">e</span><span class="s2">); }).</span><span class="s1">join</span><span class="s2">(</span><span class="s4">'</span><span class="s3">\n</span><span class="s4">'</span><span class="s2">) +</span>
                          <span class="s4">'</span><span class="s3">\n</span><span class="s4">'</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">);</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">compiled</span><span class="s2">.</span><span class="s1">tips </span><span class="s2">&amp;&amp; </span><span class="s1">compiled</span><span class="s2">.</span><span class="s1">tips</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">outputSourceRange</span><span class="s2">) {</span>
                      <span class="s1">compiled</span><span class="s2">.</span><span class="s1">tips</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">e</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">tip</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">msg</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">); });</span>
                  <span class="s2">}</span>
                  <span class="s3">else </span><span class="s2">{</span>
                      <span class="s1">compiled</span><span class="s2">.</span><span class="s1">tips</span><span class="s2">.</span><span class="s1">forEach</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">msg</span><span class="s2">) { </span><span class="s3">return </span><span class="s1">tip</span><span class="s2">(</span><span class="s1">msg</span><span class="s2">, </span><span class="s1">vm</span><span class="s2">); });</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s0">// turn code into functions</span>
          <span class="s3">var </span><span class="s1">res </span><span class="s2">= {};</span>
          <span class="s3">var </span><span class="s1">fnGenErrors </span><span class="s2">= [];</span>
          <span class="s1">res</span><span class="s2">.</span><span class="s1">render </span><span class="s2">= </span><span class="s1">createFunction</span><span class="s2">(</span><span class="s1">compiled</span><span class="s2">.</span><span class="s1">render</span><span class="s2">, </span><span class="s1">fnGenErrors</span><span class="s2">);</span>
          <span class="s1">res</span><span class="s2">.</span><span class="s1">staticRenderFns </span><span class="s2">= </span><span class="s1">compiled</span><span class="s2">.</span><span class="s1">staticRenderFns</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">code</span><span class="s2">) {</span>
              <span class="s3">return </span><span class="s1">createFunction</span><span class="s2">(</span><span class="s1">code</span><span class="s2">, </span><span class="s1">fnGenErrors</span><span class="s2">);</span>
          <span class="s2">});</span>
          <span class="s0">// check function generation errors.</span>
          <span class="s0">// this should only happen if there is a bug in the compiler itself.</span>
          <span class="s0">// mostly for codegen development use</span>
          <span class="s0">/* istanbul ignore if */</span>
          <span class="s2">{</span>
              <span class="s3">if </span><span class="s2">((!</span><span class="s1">compiled</span><span class="s2">.</span><span class="s1">errors </span><span class="s2">|| !</span><span class="s1">compiled</span><span class="s2">.</span><span class="s1">errors</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) &amp;&amp; </span><span class="s1">fnGenErrors</span><span class="s2">.</span><span class="s1">length</span><span class="s2">) {</span>
                  <span class="s1">warn</span><span class="s2">(</span><span class="s4">&quot;Failed to generate render function:</span><span class="s3">\n\n</span><span class="s4">&quot; </span><span class="s2">+</span>
                      <span class="s1">fnGenErrors</span>
                          <span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">_a</span><span class="s2">) {</span>
                          <span class="s3">var </span><span class="s1">err </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">err</span><span class="s2">, </span><span class="s1">code </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">code</span><span class="s2">;</span>
                          <span class="s3">return </span><span class="s4">&quot;&quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">err</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">(), </span><span class="s4">&quot; in</span><span class="s3">\n\n</span><span class="s4">&quot;</span><span class="s2">).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">code</span><span class="s2">, </span><span class="s4">&quot;</span><span class="s3">\n</span><span class="s4">&quot;</span><span class="s2">);</span>
                      <span class="s2">})</span>
                          <span class="s2">.</span><span class="s1">join</span><span class="s2">(</span><span class="s4">'</span><span class="s3">\n</span><span class="s4">'</span><span class="s2">), </span><span class="s1">vm</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s2">(</span><span class="s1">cache</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">res</span><span class="s2">);</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s3">function </span><span class="s1">createCompilerCreator</span><span class="s2">(</span><span class="s1">baseCompile</span><span class="s2">) {</span>
      <span class="s3">return function </span><span class="s1">createCompiler</span><span class="s2">(</span><span class="s1">baseOptions</span><span class="s2">) {</span>
          <span class="s3">function </span><span class="s1">compile</span><span class="s2">(</span><span class="s1">template</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
              <span class="s3">var </span><span class="s1">finalOptions </span><span class="s2">= </span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">baseOptions</span><span class="s2">);</span>
              <span class="s3">var </span><span class="s1">errors </span><span class="s2">= [];</span>
              <span class="s3">var </span><span class="s1">tips </span><span class="s2">= [];</span>
              <span class="s3">var </span><span class="s1">warn </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">msg</span><span class="s2">, </span><span class="s1">range</span><span class="s2">, </span><span class="s1">tip</span><span class="s2">) {</span>
                  <span class="s2">(</span><span class="s1">tip </span><span class="s2">? </span><span class="s1">tips </span><span class="s2">: </span><span class="s1">errors</span><span class="s2">).</span><span class="s1">push</span><span class="s2">(</span><span class="s1">msg</span><span class="s2">);</span>
              <span class="s2">};</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">outputSourceRange</span><span class="s2">) {</span>
                      <span class="s0">// $flow-disable-line</span>
                      <span class="s3">var </span><span class="s1">leadingSpaceLength_1 </span><span class="s2">= </span><span class="s1">template</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s7">/^\s*/</span><span class="s2">)[</span><span class="s6">0</span><span class="s2">].</span><span class="s1">length</span><span class="s2">;</span>
                      <span class="s1">warn </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">msg</span><span class="s2">, </span><span class="s1">range</span><span class="s2">, </span><span class="s1">tip</span><span class="s2">) {</span>
                          <span class="s3">var </span><span class="s1">data </span><span class="s2">= </span><span class="s3">typeof </span><span class="s1">msg </span><span class="s2">=== </span><span class="s4">'string' </span><span class="s2">? { </span><span class="s1">msg</span><span class="s2">: </span><span class="s1">msg </span><span class="s2">} : </span><span class="s1">msg</span><span class="s2">;</span>
                          <span class="s3">if </span><span class="s2">(</span><span class="s1">range</span><span class="s2">) {</span>
                              <span class="s3">if </span><span class="s2">(</span><span class="s1">range</span><span class="s2">.</span><span class="s1">start </span><span class="s2">!= </span><span class="s3">null</span><span class="s2">) {</span>
                                  <span class="s1">data</span><span class="s2">.</span><span class="s1">start </span><span class="s2">= </span><span class="s1">range</span><span class="s2">.</span><span class="s1">start </span><span class="s2">+ </span><span class="s1">leadingSpaceLength_1</span><span class="s2">;</span>
                              <span class="s2">}</span>
                              <span class="s3">if </span><span class="s2">(</span><span class="s1">range</span><span class="s2">.</span><span class="s1">end </span><span class="s2">!= </span><span class="s3">null</span><span class="s2">) {</span>
                                  <span class="s1">data</span><span class="s2">.</span><span class="s1">end </span><span class="s2">= </span><span class="s1">range</span><span class="s2">.</span><span class="s1">end </span><span class="s2">+ </span><span class="s1">leadingSpaceLength_1</span><span class="s2">;</span>
                              <span class="s2">}</span>
                          <span class="s2">}</span>
                          <span class="s2">(</span><span class="s1">tip </span><span class="s2">? </span><span class="s1">tips </span><span class="s2">: </span><span class="s1">errors</span><span class="s2">).</span><span class="s1">push</span><span class="s2">(</span><span class="s1">data</span><span class="s2">);</span>
                      <span class="s2">};</span>
                  <span class="s2">}</span>
                  <span class="s0">// merge custom modules</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">modules</span><span class="s2">) {</span>
                      <span class="s1">finalOptions</span><span class="s2">.</span><span class="s1">modules </span><span class="s2">= (</span><span class="s1">baseOptions</span><span class="s2">.</span><span class="s1">modules </span><span class="s2">|| []).</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">modules</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s0">// merge custom directives</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">directives</span><span class="s2">) {</span>
                      <span class="s1">finalOptions</span><span class="s2">.</span><span class="s1">directives </span><span class="s2">= </span><span class="s1">extend</span><span class="s2">(</span><span class="s1">Object</span><span class="s2">.</span><span class="s1">create</span><span class="s2">(</span><span class="s1">baseOptions</span><span class="s2">.</span><span class="s1">directives </span><span class="s2">|| </span><span class="s3">null</span><span class="s2">), </span><span class="s1">options</span><span class="s2">.</span><span class="s1">directives</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s0">// copy other options</span>
                  <span class="s3">for </span><span class="s2">(</span><span class="s3">var </span><span class="s1">key </span><span class="s3">in </span><span class="s1">options</span><span class="s2">) {</span>
                      <span class="s3">if </span><span class="s2">(</span><span class="s1">key </span><span class="s2">!== </span><span class="s4">'modules' </span><span class="s2">&amp;&amp; </span><span class="s1">key </span><span class="s2">!== </span><span class="s4">'directives'</span><span class="s2">) {</span>
                          <span class="s1">finalOptions</span><span class="s2">[</span><span class="s1">key</span><span class="s2">] = </span><span class="s1">options</span><span class="s2">[</span><span class="s1">key</span><span class="s2">];</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s1">finalOptions</span><span class="s2">.</span><span class="s1">warn </span><span class="s2">= </span><span class="s1">warn</span><span class="s2">;</span>
              <span class="s3">var </span><span class="s1">compiled </span><span class="s2">= </span><span class="s1">baseCompile</span><span class="s2">(</span><span class="s1">template</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">(), </span><span class="s1">finalOptions</span><span class="s2">);</span>
              <span class="s2">{</span>
                  <span class="s1">detectErrors</span><span class="s2">(</span><span class="s1">compiled</span><span class="s2">.</span><span class="s1">ast</span><span class="s2">, </span><span class="s1">warn</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s1">compiled</span><span class="s2">.</span><span class="s1">errors </span><span class="s2">= </span><span class="s1">errors</span><span class="s2">;</span>
              <span class="s1">compiled</span><span class="s2">.</span><span class="s1">tips </span><span class="s2">= </span><span class="s1">tips</span><span class="s2">;</span>
              <span class="s3">return </span><span class="s1">compiled</span><span class="s2">;</span>
          <span class="s2">}</span>
          <span class="s3">return </span><span class="s2">{</span>
              <span class="s1">compile</span><span class="s2">: </span><span class="s1">compile</span><span class="s2">,</span>
              <span class="s1">compileToFunctions</span><span class="s2">: </span><span class="s1">createCompileToFunctionFn</span><span class="s2">(</span><span class="s1">compile</span><span class="s2">)</span>
          <span class="s2">};</span>
      <span class="s2">};</span>
  <span class="s2">}</span>

  <span class="s0">// `createCompilerCreator` allows creating compilers that use alternative</span>
  <span class="s0">// parser/optimizer/codegen, e.g the SSR optimizing compiler.</span>
  <span class="s0">// Here we just export a default compiler using the default parts.</span>
  <span class="s3">var </span><span class="s1">createCompiler </span><span class="s2">= </span><span class="s1">createCompilerCreator</span><span class="s2">(</span><span class="s3">function </span><span class="s1">baseCompile</span><span class="s2">(</span><span class="s1">template</span><span class="s2">, </span><span class="s1">options</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">ast </span><span class="s2">= </span><span class="s1">parse</span><span class="s2">(</span><span class="s1">template</span><span class="s2">.</span><span class="s1">trim</span><span class="s2">(), </span><span class="s1">options</span><span class="s2">);</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">optimize </span><span class="s2">!== </span><span class="s3">false</span><span class="s2">) {</span>
          <span class="s1">optimize</span><span class="s2">(</span><span class="s1">ast</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">code </span><span class="s2">= </span><span class="s1">generate</span><span class="s2">(</span><span class="s1">ast</span><span class="s2">, </span><span class="s1">options</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s2">{</span>
          <span class="s1">ast</span><span class="s2">: </span><span class="s1">ast</span><span class="s2">,</span>
          <span class="s1">render</span><span class="s2">: </span><span class="s1">code</span><span class="s2">.</span><span class="s1">render</span><span class="s2">,</span>
          <span class="s1">staticRenderFns</span><span class="s2">: </span><span class="s1">code</span><span class="s2">.</span><span class="s1">staticRenderFns</span>
      <span class="s2">};</span>
  <span class="s2">});</span>

  <span class="s3">var </span><span class="s1">_a </span><span class="s2">= </span><span class="s1">createCompiler</span><span class="s2">(</span><span class="s1">baseOptions</span><span class="s2">), </span><span class="s1">compileToFunctions </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">compileToFunctions</span><span class="s2">;</span>

  <span class="s0">// check whether current browser encodes a char inside attribute values</span>
  <span class="s3">var </span><span class="s1">div</span><span class="s2">;</span>
  <span class="s3">function </span><span class="s1">getShouldDecode</span><span class="s2">(</span><span class="s1">href</span><span class="s2">) {</span>
      <span class="s1">div </span><span class="s2">= </span><span class="s1">div </span><span class="s2">|| </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createElement</span><span class="s2">(</span><span class="s4">'div'</span><span class="s2">);</span>
      <span class="s1">div</span><span class="s2">.</span><span class="s1">innerHTML </span><span class="s2">= </span><span class="s1">href </span><span class="s2">? </span><span class="s4">&quot;&lt;a href=</span><span class="s3">\&quot;\n\&quot;</span><span class="s4">/&gt;&quot; </span><span class="s2">: </span><span class="s4">&quot;&lt;div a=</span><span class="s3">\&quot;\n\&quot;</span><span class="s4">/&gt;&quot;</span><span class="s2">;</span>
      <span class="s3">return </span><span class="s1">div</span><span class="s2">.</span><span class="s1">innerHTML</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">'&amp;#10;'</span><span class="s2">) &gt; </span><span class="s6">0</span><span class="s2">;</span>
  <span class="s2">}</span>
  <span class="s0">// #3663: IE encodes newlines inside attribute values while other browsers don't</span>
  <span class="s3">var </span><span class="s1">shouldDecodeNewlines </span><span class="s2">= </span><span class="s1">inBrowser </span><span class="s2">? </span><span class="s1">getShouldDecode</span><span class="s2">(</span><span class="s3">false</span><span class="s2">) : </span><span class="s3">false</span><span class="s2">;</span>
  <span class="s0">// #6828: chrome encodes content in a[href]</span>
  <span class="s3">var </span><span class="s1">shouldDecodeNewlinesForHref </span><span class="s2">= </span><span class="s1">inBrowser</span>
      <span class="s2">? </span><span class="s1">getShouldDecode</span><span class="s2">(</span><span class="s3">true</span><span class="s2">)</span>
      <span class="s2">: </span><span class="s3">false</span><span class="s2">;</span>

  <span class="s3">var </span><span class="s1">idToTemplate </span><span class="s2">= </span><span class="s1">cached</span><span class="s2">(</span><span class="s3">function </span><span class="s2">(</span><span class="s1">id</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">el </span><span class="s2">= </span><span class="s1">query</span><span class="s2">(</span><span class="s1">id</span><span class="s2">);</span>
      <span class="s3">return </span><span class="s1">el </span><span class="s2">&amp;&amp; </span><span class="s1">el</span><span class="s2">.</span><span class="s1">innerHTML</span><span class="s2">;</span>
  <span class="s2">});</span>
  <span class="s3">var </span><span class="s1">mount </span><span class="s2">= </span><span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$mount</span><span class="s2">;</span>
  <span class="s1">Vue</span><span class="s2">.</span><span class="s1">prototype</span><span class="s2">.</span><span class="s1">$mount </span><span class="s2">= </span><span class="s3">function </span><span class="s2">(</span><span class="s1">el</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">) {</span>
      <span class="s1">el </span><span class="s2">= </span><span class="s1">el </span><span class="s2">&amp;&amp; </span><span class="s1">query</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
      <span class="s0">/* istanbul ignore if */</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el </span><span class="s2">=== </span><span class="s1">document</span><span class="s2">.</span><span class="s1">body </span><span class="s2">|| </span><span class="s1">el </span><span class="s2">=== </span><span class="s1">document</span><span class="s2">.</span><span class="s1">documentElement</span><span class="s2">) {</span>
          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Do not mount Vue to &lt;html&gt; or &lt;body&gt; - mount to normal elements instead.&quot;</span><span class="s2">);</span>
          <span class="s3">return this</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">var </span><span class="s1">options </span><span class="s2">= </span><span class="s3">this</span><span class="s2">.</span><span class="s1">$options</span><span class="s2">;</span>
      <span class="s0">// resolve template/el and convert to render function</span>
      <span class="s3">if </span><span class="s2">(!</span><span class="s1">options</span><span class="s2">.</span><span class="s1">render</span><span class="s2">) {</span>
          <span class="s3">var </span><span class="s1">template </span><span class="s2">= </span><span class="s1">options</span><span class="s2">.</span><span class="s1">template</span><span class="s2">;</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">template</span><span class="s2">) {</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">template </span><span class="s2">=== </span><span class="s4">'string'</span><span class="s2">) {</span>
                  <span class="s3">if </span><span class="s2">(</span><span class="s1">template</span><span class="s2">.</span><span class="s1">charAt</span><span class="s2">(</span><span class="s6">0</span><span class="s2">) === </span><span class="s4">'#'</span><span class="s2">) {</span>
                      <span class="s1">template </span><span class="s2">= </span><span class="s1">idToTemplate</span><span class="s2">(</span><span class="s1">template</span><span class="s2">);</span>
                      <span class="s0">/* istanbul ignore if */</span>
                      <span class="s3">if </span><span class="s2">(!</span><span class="s1">template</span><span class="s2">) {</span>
                          <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">&quot;Template element not found or is empty: &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">options</span><span class="s2">.</span><span class="s1">template</span><span class="s2">), </span><span class="s3">this</span><span class="s2">);</span>
                      <span class="s2">}</span>
                  <span class="s2">}</span>
              <span class="s2">}</span>
              <span class="s3">else if </span><span class="s2">(</span><span class="s1">template</span><span class="s2">.</span><span class="s1">nodeType</span><span class="s2">) {</span>
                  <span class="s1">template </span><span class="s2">= </span><span class="s1">template</span><span class="s2">.</span><span class="s1">innerHTML</span><span class="s2">;</span>
              <span class="s2">}</span>
              <span class="s3">else </span><span class="s2">{</span>
                  <span class="s2">{</span>
                      <span class="s1">warn$2</span><span class="s2">(</span><span class="s4">'invalid template option:' </span><span class="s2">+ </span><span class="s1">template</span><span class="s2">, </span><span class="s3">this</span><span class="s2">);</span>
                  <span class="s2">}</span>
                  <span class="s3">return this</span><span class="s2">;</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
          <span class="s3">else if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
              <span class="s0">// @ts-expect-error</span>
              <span class="s1">template </span><span class="s2">= </span><span class="s1">getOuterHTML</span><span class="s2">(</span><span class="s1">el</span><span class="s2">);</span>
          <span class="s2">}</span>
          <span class="s3">if </span><span class="s2">(</span><span class="s1">template</span><span class="s2">) {</span>
              <span class="s0">/* istanbul ignore if */</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">performance </span><span class="s2">&amp;&amp; </span><span class="s1">mark</span><span class="s2">) {</span>
                  <span class="s1">mark</span><span class="s2">(</span><span class="s4">'compile'</span><span class="s2">);</span>
              <span class="s2">}</span>
              <span class="s3">var </span><span class="s1">_a </span><span class="s2">= </span><span class="s1">compileToFunctions</span><span class="s2">(</span><span class="s1">template</span><span class="s2">, {</span>
                  <span class="s1">outputSourceRange</span><span class="s2">: </span><span class="s3">true</span><span class="s2">,</span>
                  <span class="s1">shouldDecodeNewlines</span><span class="s2">: </span><span class="s1">shouldDecodeNewlines</span><span class="s2">,</span>
                  <span class="s1">shouldDecodeNewlinesForHref</span><span class="s2">: </span><span class="s1">shouldDecodeNewlinesForHref</span><span class="s2">,</span>
                  <span class="s1">delimiters</span><span class="s2">: </span><span class="s1">options</span><span class="s2">.</span><span class="s1">delimiters</span><span class="s2">,</span>
                  <span class="s1">comments</span><span class="s2">: </span><span class="s1">options</span><span class="s2">.</span><span class="s1">comments</span>
              <span class="s2">}, </span><span class="s3">this</span><span class="s2">), </span><span class="s1">render </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">render</span><span class="s2">, </span><span class="s1">staticRenderFns </span><span class="s2">= </span><span class="s1">_a</span><span class="s2">.</span><span class="s1">staticRenderFns</span><span class="s2">;</span>
              <span class="s1">options</span><span class="s2">.</span><span class="s1">render </span><span class="s2">= </span><span class="s1">render</span><span class="s2">;</span>
              <span class="s1">options</span><span class="s2">.</span><span class="s1">staticRenderFns </span><span class="s2">= </span><span class="s1">staticRenderFns</span><span class="s2">;</span>
              <span class="s0">/* istanbul ignore if */</span>
              <span class="s3">if </span><span class="s2">(</span><span class="s1">config</span><span class="s2">.</span><span class="s1">performance </span><span class="s2">&amp;&amp; </span><span class="s1">mark</span><span class="s2">) {</span>
                  <span class="s1">mark</span><span class="s2">(</span><span class="s4">'compile end'</span><span class="s2">);</span>
                  <span class="s1">measure</span><span class="s2">(</span><span class="s4">&quot;vue &quot;</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s3">this</span><span class="s2">.</span><span class="s1">_name</span><span class="s2">, </span><span class="s4">&quot; compile&quot;</span><span class="s2">), </span><span class="s4">'compile'</span><span class="s2">, </span><span class="s4">'compile end'</span><span class="s2">);</span>
              <span class="s2">}</span>
          <span class="s2">}</span>
      <span class="s2">}</span>
      <span class="s3">return </span><span class="s1">mount</span><span class="s2">.</span><span class="s1">call</span><span class="s2">(</span><span class="s3">this</span><span class="s2">, </span><span class="s1">el</span><span class="s2">, </span><span class="s1">hydrating</span><span class="s2">);</span>
  <span class="s2">};</span>
  <span class="s5">/**</span>
   <span class="s5">* Get outerHTML of elements, taking care</span>
   <span class="s5">* of SVG elements in IE as well.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">getOuterHTML</span><span class="s2">(</span><span class="s1">el</span><span class="s2">) {</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">outerHTML</span><span class="s2">) {</span>
          <span class="s3">return </span><span class="s1">el</span><span class="s2">.</span><span class="s1">outerHTML</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s3">else </span><span class="s2">{</span>
          <span class="s3">var </span><span class="s1">container </span><span class="s2">= </span><span class="s1">document</span><span class="s2">.</span><span class="s1">createElement</span><span class="s2">(</span><span class="s4">'div'</span><span class="s2">);</span>
          <span class="s1">container</span><span class="s2">.</span><span class="s1">appendChild</span><span class="s2">(</span><span class="s1">el</span><span class="s2">.</span><span class="s1">cloneNode</span><span class="s2">(</span><span class="s3">true</span><span class="s2">));</span>
          <span class="s3">return </span><span class="s1">container</span><span class="s2">.</span><span class="s1">innerHTML</span><span class="s2">;</span>
      <span class="s2">}</span>
  <span class="s2">}</span>
  <span class="s1">Vue</span><span class="s2">.</span><span class="s1">compile </span><span class="s2">= </span><span class="s1">compileToFunctions</span><span class="s2">;</span>

  <span class="s0">// export type EffectScheduler = (...args: any[]) =&gt; any</span>
  <span class="s5">/**</span>
   <span class="s5">* </span><span class="s8">@internal </span><span class="s5">since we are not exposing this in Vue 2, it's used only for</span>
   <span class="s5">* internal testing.</span>
   <span class="s5">*/</span>
  <span class="s3">function </span><span class="s1">effect</span><span class="s2">(</span><span class="s1">fn</span><span class="s2">, </span><span class="s1">scheduler</span><span class="s2">) {</span>
      <span class="s3">var </span><span class="s1">watcher </span><span class="s2">= </span><span class="s3">new </span><span class="s1">Watcher</span><span class="s2">(</span><span class="s1">currentInstance</span><span class="s2">, </span><span class="s1">fn</span><span class="s2">, </span><span class="s1">noop</span><span class="s2">, {</span>
          <span class="s1">sync</span><span class="s2">: </span><span class="s3">true</span>
      <span class="s2">});</span>
      <span class="s3">if </span><span class="s2">(</span><span class="s1">scheduler</span><span class="s2">) {</span>
          <span class="s1">watcher</span><span class="s2">.</span><span class="s1">update </span><span class="s2">= </span><span class="s3">function </span><span class="s2">() {</span>
              <span class="s1">scheduler</span><span class="s2">(</span><span class="s3">function </span><span class="s2">() { </span><span class="s3">return </span><span class="s1">watcher</span><span class="s2">.</span><span class="s1">run</span><span class="s2">(); });</span>
          <span class="s2">};</span>
      <span class="s2">}</span>
  <span class="s2">}</span>

  <span class="s1">extend</span><span class="s2">(</span><span class="s1">Vue</span><span class="s2">, </span><span class="s1">vca</span><span class="s2">);</span>
  <span class="s1">Vue</span><span class="s2">.</span><span class="s1">effect </span><span class="s2">= </span><span class="s1">effect</span><span class="s2">;</span>

  <span class="s3">return </span><span class="s1">Vue</span><span class="s2">;</span>

<span class="s2">}));</span>
</pre>
</body>
</html>
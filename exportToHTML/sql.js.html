<html>
<head>
<title>sql.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #5f826b; font-style: italic;}
.s1 { color: #67a37c; font-style: italic;}
.s2 { color: #bcbec4;}
.s3 { color: #cf8e6d;}
.s4 { color: #bcbec4;}
.s5 { color: #6aab73;}
.s6 { color: #7a7e85;}
.s7 { color: #42c3d4;}
.s8 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
sql.js</font>
</center></td></tr></table>
<pre><span class="s0">/**</span>
 <span class="s0">* </span><span class="s1">@param </span><span class="s0">{string} value</span>
 <span class="s0">* </span><span class="s1">@returns </span><span class="s0">{RegExp}</span>
 <span class="s0">* */</span>

<span class="s0">/**</span>
 <span class="s0">* </span><span class="s1">@param </span><span class="s0">{RegExp | string } re</span>
 <span class="s0">* </span><span class="s1">@returns </span><span class="s0">{string}</span>
 <span class="s0">*/</span>
<span class="s3">function </span><span class="s2">source</span><span class="s4">(</span><span class="s2">re</span><span class="s4">) {</span>
  <span class="s3">if </span><span class="s4">(!</span><span class="s2">re</span><span class="s4">) </span><span class="s3">return null</span><span class="s4">;</span>
  <span class="s3">if </span><span class="s4">(</span><span class="s3">typeof </span><span class="s2">re </span><span class="s4">=== </span><span class="s5">&quot;string&quot;</span><span class="s4">) </span><span class="s3">return </span><span class="s2">re</span><span class="s4">;</span>

  <span class="s3">return </span><span class="s2">re</span><span class="s4">.</span><span class="s2">source</span><span class="s4">;</span>
<span class="s4">}</span>

<span class="s0">/**</span>
 <span class="s0">* </span><span class="s1">@param </span><span class="s0">{...(RegExp | string) } args</span>
 <span class="s0">* </span><span class="s1">@returns </span><span class="s0">{string}</span>
 <span class="s0">*/</span>
<span class="s3">function </span><span class="s2">concat</span><span class="s4">(</span><span class="s2">...args</span><span class="s4">) {</span>
  <span class="s3">const </span><span class="s2">joined </span><span class="s4">= </span><span class="s2">args</span><span class="s4">.</span><span class="s2">map</span><span class="s4">((</span><span class="s2">x</span><span class="s4">) =&gt; </span><span class="s2">source</span><span class="s4">(</span><span class="s2">x</span><span class="s4">)).</span><span class="s2">join</span><span class="s4">(</span><span class="s5">&quot;&quot;</span><span class="s4">);</span>
  <span class="s3">return </span><span class="s2">joined</span><span class="s4">;</span>
<span class="s4">}</span>

<span class="s0">/**</span>
 <span class="s0">* Any of the passed expresssions may match</span>
 <span class="s0">*</span>
 <span class="s0">* Creates a huge this | this | that | that match</span>
 <span class="s0">* </span><span class="s1">@param </span><span class="s0">{(RegExp | string)[] } args</span>
 <span class="s0">* </span><span class="s1">@returns </span><span class="s0">{string}</span>
 <span class="s0">*/</span>
<span class="s3">function </span><span class="s2">either</span><span class="s4">(</span><span class="s2">...args</span><span class="s4">) {</span>
  <span class="s3">const </span><span class="s2">joined </span><span class="s4">= </span><span class="s5">'(' </span><span class="s4">+ </span><span class="s2">args</span><span class="s4">.</span><span class="s2">map</span><span class="s4">((</span><span class="s2">x</span><span class="s4">) =&gt; </span><span class="s2">source</span><span class="s4">(</span><span class="s2">x</span><span class="s4">)).</span><span class="s2">join</span><span class="s4">(</span><span class="s5">&quot;|&quot;</span><span class="s4">) + </span><span class="s5">&quot;)&quot;</span><span class="s4">;</span>
  <span class="s3">return </span><span class="s2">joined</span><span class="s4">;</span>
<span class="s4">}</span>

<span class="s6">/* 
 Language: SQL 
 Website: https://en.wikipedia.org/wiki/SQL 
 Category: common, database 
 */</span>

<span class="s3">function </span><span class="s2">sql</span><span class="s4">(</span><span class="s2">hljs</span><span class="s4">) {</span>
  <span class="s3">const </span><span class="s2">COMMENT_MODE </span><span class="s4">= </span><span class="s2">hljs</span><span class="s4">.</span><span class="s2">COMMENT</span><span class="s4">(</span><span class="s5">'--'</span><span class="s4">, </span><span class="s5">'$'</span><span class="s4">);</span>
  <span class="s3">const </span><span class="s2">STRING </span><span class="s4">= {</span>
    <span class="s2">className</span><span class="s4">: </span><span class="s5">'string'</span><span class="s4">,</span>
    <span class="s2">variants</span><span class="s4">: [</span>
      <span class="s4">{</span>
        <span class="s2">begin</span><span class="s4">: </span><span class="s7">/'/</span><span class="s4">,</span>
        <span class="s2">end</span><span class="s4">: </span><span class="s7">/'/</span><span class="s4">,</span>
        <span class="s2">contains</span><span class="s4">: [</span>
          <span class="s4">{</span><span class="s2">begin</span><span class="s4">: </span><span class="s7">/''/ </span><span class="s4">}</span>
        <span class="s4">]</span>
      <span class="s4">}</span>
    <span class="s4">]</span>
  <span class="s4">};</span>
  <span class="s3">const </span><span class="s2">QUOTED_IDENTIFIER </span><span class="s4">= {</span>
    <span class="s2">begin</span><span class="s4">: </span><span class="s7">/&quot;/</span><span class="s4">,</span>
    <span class="s2">end</span><span class="s4">: </span><span class="s7">/&quot;/</span><span class="s4">,</span>
    <span class="s2">contains</span><span class="s4">: [ { </span><span class="s2">begin</span><span class="s4">: </span><span class="s7">/&quot;&quot;/ </span><span class="s4">} ]</span>
  <span class="s4">};</span>

  <span class="s3">const </span><span class="s2">LITERALS </span><span class="s4">= [</span>
    <span class="s5">&quot;true&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;false&quot;</span><span class="s4">,</span>
    <span class="s6">// Not sure it's correct to call NULL literal, and clauses like IS [NOT] NULL look strange that way.</span>
    <span class="s6">// &quot;null&quot;,</span>
    <span class="s5">&quot;unknown&quot;</span>
  <span class="s4">];</span>

  <span class="s3">const </span><span class="s2">MULTI_WORD_TYPES </span><span class="s4">= [</span>
    <span class="s5">&quot;double precision&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;large object&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;with timezone&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;without timezone&quot;</span>
  <span class="s4">];</span>

  <span class="s3">const </span><span class="s2">TYPES </span><span class="s4">= [</span>
    <span class="s5">'bigint'</span><span class="s4">,</span>
    <span class="s5">'binary'</span><span class="s4">,</span>
    <span class="s5">'blob'</span><span class="s4">,</span>
    <span class="s5">'boolean'</span><span class="s4">,</span>
    <span class="s5">'char'</span><span class="s4">,</span>
    <span class="s5">'character'</span><span class="s4">,</span>
    <span class="s5">'clob'</span><span class="s4">,</span>
    <span class="s5">'date'</span><span class="s4">,</span>
    <span class="s5">'dec'</span><span class="s4">,</span>
    <span class="s5">'decfloat'</span><span class="s4">,</span>
    <span class="s5">'decimal'</span><span class="s4">,</span>
    <span class="s5">'float'</span><span class="s4">,</span>
    <span class="s5">'int'</span><span class="s4">,</span>
    <span class="s5">'integer'</span><span class="s4">,</span>
    <span class="s5">'interval'</span><span class="s4">,</span>
    <span class="s5">'nchar'</span><span class="s4">,</span>
    <span class="s5">'nclob'</span><span class="s4">,</span>
    <span class="s5">'national'</span><span class="s4">,</span>
    <span class="s5">'numeric'</span><span class="s4">,</span>
    <span class="s5">'real'</span><span class="s4">,</span>
    <span class="s5">'row'</span><span class="s4">,</span>
    <span class="s5">'smallint'</span><span class="s4">,</span>
    <span class="s5">'time'</span><span class="s4">,</span>
    <span class="s5">'timestamp'</span><span class="s4">,</span>
    <span class="s5">'varchar'</span><span class="s4">,</span>
    <span class="s5">'varying'</span><span class="s4">, </span><span class="s6">// modifier (character varying)</span>
    <span class="s5">'varbinary'</span>
  <span class="s4">];</span>

  <span class="s3">const </span><span class="s2">NON_RESERVED_WORDS </span><span class="s4">= [</span>
    <span class="s5">&quot;add&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;asc&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;collation&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;desc&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;final&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;first&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;last&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;view&quot;</span>
  <span class="s4">];</span>

  <span class="s6">// https://jakewheat.github.io/sql-overview/sql-2016-foundation-grammar.html#reserved-word</span>
  <span class="s3">const </span><span class="s2">RESERVED_WORDS </span><span class="s4">= [</span>
    <span class="s5">&quot;abs&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;acos&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;all&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;allocate&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;alter&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;and&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;any&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;are&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;array&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;array_agg&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;array_max_cardinality&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;as&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;asensitive&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;asin&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;asymmetric&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;at&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;atan&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;atomic&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;authorization&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;avg&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;begin&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;begin_frame&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;begin_partition&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;between&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;bigint&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;binary&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;blob&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;boolean&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;both&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;by&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;call&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;called&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cardinality&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cascaded&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;case&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cast&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;ceil&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;ceiling&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;char&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;char_length&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;character&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;character_length&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;check&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;classifier&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;clob&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;close&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;coalesce&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;collate&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;collect&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;column&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;commit&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;condition&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;connect&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;constraint&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;contains&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;convert&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;copy&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;corr&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;corresponding&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cos&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cosh&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;count&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;covar_pop&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;covar_samp&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;create&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cross&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cube&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cume_dist&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_catalog&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_date&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_default_transform_group&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_path&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_role&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_row&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_schema&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_time&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_timestamp&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_path&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_role&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_transform_group_for_type&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_user&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cursor&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cycle&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;date&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;day&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;deallocate&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;dec&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;decimal&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;decfloat&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;declare&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;default&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;define&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;delete&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;dense_rank&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;deref&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;describe&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;deterministic&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;disconnect&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;distinct&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;double&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;drop&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;dynamic&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;each&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;element&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;else&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;empty&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;end&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;end_frame&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;end_partition&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;end-exec&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;equals&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;escape&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;every&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;except&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;exec&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;execute&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;exists&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;exp&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;external&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;extract&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;false&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;fetch&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;filter&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;first_value&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;float&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;floor&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;for&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;foreign&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;frame_row&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;free&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;from&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;full&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;function&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;fusion&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;get&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;global&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;grant&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;group&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;grouping&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;groups&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;having&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;hold&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;hour&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;identity&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;in&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;indicator&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;initial&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;inner&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;inout&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;insensitive&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;insert&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;int&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;integer&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;intersect&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;intersection&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;interval&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;into&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;is&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;join&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_array&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_arrayagg&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_exists&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_object&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_objectagg&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_query&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_table&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_table_primitive&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_value&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;lag&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;language&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;large&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;last_value&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;lateral&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;lead&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;leading&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;left&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;like&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;like_regex&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;listagg&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;ln&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;local&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;localtime&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;localtimestamp&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;log&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;log10&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;lower&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;match&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;match_number&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;match_recognize&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;matches&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;max&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;member&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;merge&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;method&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;min&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;minute&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;mod&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;modifies&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;module&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;month&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;multiset&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;national&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;natural&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;nchar&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;nclob&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;new&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;no&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;none&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;normalize&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;not&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;nth_value&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;ntile&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;null&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;nullif&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;numeric&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;octet_length&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;occurrences_regex&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;of&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;offset&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;old&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;omit&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;on&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;one&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;only&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;open&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;or&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;order&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;out&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;outer&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;over&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;overlaps&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;overlay&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;parameter&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;partition&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;pattern&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;per&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;percent&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;percent_rank&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;percentile_cont&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;percentile_disc&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;period&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;portion&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;position&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;position_regex&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;power&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;precedes&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;precision&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;prepare&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;primary&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;procedure&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;ptf&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;range&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;rank&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;reads&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;real&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;recursive&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;ref&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;references&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;referencing&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_avgx&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_avgy&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_count&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_intercept&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_r2&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_slope&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_sxx&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_sxy&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_syy&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;release&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;result&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;return&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;returns&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;revoke&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;right&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;rollback&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;rollup&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;row&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;row_number&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;rows&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;running&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;savepoint&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;scope&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;scroll&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;search&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;second&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;seek&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;select&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sensitive&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;session_user&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;set&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;show&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;similar&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sin&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sinh&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;skip&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;smallint&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;some&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;specific&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;specifictype&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sql&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sqlexception&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sqlstate&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sqlwarning&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sqrt&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;start&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;static&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;stddev_pop&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;stddev_samp&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;submultiset&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;subset&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;substring&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;substring_regex&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;succeeds&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sum&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;symmetric&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;system&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;system_time&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;system_user&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;table&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;tablesample&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;tan&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;tanh&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;then&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;time&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;timestamp&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;timezone_hour&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;timezone_minute&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;to&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;trailing&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;translate&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;translate_regex&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;translation&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;treat&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;trigger&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;trim&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;trim_array&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;true&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;truncate&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;uescape&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;union&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;unique&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;unknown&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;unnest&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;update   &quot;</span><span class="s4">,</span>
    <span class="s5">&quot;upper&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;user&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;using&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;value&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;values&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;value_of&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;var_pop&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;var_samp&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;varbinary&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;varchar&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;varying&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;versioning&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;when&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;whenever&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;where&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;width_bucket&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;window&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;with&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;within&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;without&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;year&quot;</span><span class="s4">,</span>
  <span class="s4">];</span>

  <span class="s6">// these are reserved words we have identified to be functions</span>
  <span class="s6">// and should only be highlighted in a dispatch-like context</span>
  <span class="s6">// ie, array_agg(...), etc.</span>
  <span class="s3">const </span><span class="s2">RESERVED_FUNCTIONS </span><span class="s4">= [</span>
    <span class="s5">&quot;abs&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;acos&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;array_agg&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;asin&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;atan&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;avg&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cast&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;ceil&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;ceiling&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;coalesce&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;corr&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cos&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cosh&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;count&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;covar_pop&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;covar_samp&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;cume_dist&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;dense_rank&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;deref&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;element&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;exp&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;extract&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;first_value&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;floor&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_array&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_arrayagg&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_exists&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_object&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_objectagg&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_query&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_table&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_table_primitive&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;json_value&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;lag&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;last_value&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;lead&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;listagg&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;ln&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;log&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;log10&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;lower&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;max&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;min&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;mod&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;nth_value&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;ntile&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;nullif&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;percent_rank&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;percentile_cont&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;percentile_disc&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;position&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;position_regex&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;power&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;rank&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_avgx&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_avgy&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_count&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_intercept&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_r2&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_slope&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_sxx&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_sxy&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;regr_syy&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;row_number&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sin&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sinh&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sqrt&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;stddev_pop&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;stddev_samp&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;substring&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;substring_regex&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;sum&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;tan&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;tanh&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;translate&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;translate_regex&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;treat&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;trim&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;trim_array&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;unnest&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;upper&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;value_of&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;var_pop&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;var_samp&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;width_bucket&quot;</span><span class="s4">,</span>
  <span class="s4">];</span>

  <span class="s6">// these functions can</span>
  <span class="s3">const </span><span class="s2">POSSIBLE_WITHOUT_PARENS </span><span class="s4">= [</span>
    <span class="s5">&quot;current_catalog&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_date&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_default_transform_group&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_path&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_role&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_schema&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_transform_group_for_type&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_user&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;session_user&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;system_time&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;system_user&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_time&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;localtime&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;current_timestamp&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;localtimestamp&quot;</span>
  <span class="s4">];</span>

  <span class="s6">// those exist to boost relevance making these very</span>
  <span class="s6">// &quot;SQL like&quot; keyword combos worth +1 extra relevance</span>
  <span class="s3">const </span><span class="s2">COMBOS </span><span class="s4">= [</span>
    <span class="s5">&quot;create table&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;insert into&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;primary key&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;foreign key&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;not null&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;alter table&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;add constraint&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;grouping sets&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;on overflow&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;character set&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;respect nulls&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;ignore nulls&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;nulls first&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;nulls last&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;depth first&quot;</span><span class="s4">,</span>
    <span class="s5">&quot;breadth first&quot;</span>
  <span class="s4">];</span>

  <span class="s3">const </span><span class="s2">FUNCTIONS </span><span class="s4">= </span><span class="s2">RESERVED_FUNCTIONS</span><span class="s4">;</span>

  <span class="s3">const </span><span class="s2">KEYWORDS </span><span class="s4">= [</span><span class="s2">...RESERVED_WORDS</span><span class="s4">, </span><span class="s2">...NON_RESERVED_WORDS</span><span class="s4">].</span><span class="s2">filter</span><span class="s4">((</span><span class="s2">keyword</span><span class="s4">) =&gt; {</span>
    <span class="s3">return </span><span class="s4">!</span><span class="s2">RESERVED_FUNCTIONS</span><span class="s4">.</span><span class="s2">includes</span><span class="s4">(</span><span class="s2">keyword</span><span class="s4">);</span>
  <span class="s4">});</span>

  <span class="s3">const </span><span class="s2">VARIABLE </span><span class="s4">= {</span>
    <span class="s2">className</span><span class="s4">: </span><span class="s5">&quot;variable&quot;</span><span class="s4">,</span>
    <span class="s2">begin</span><span class="s4">: </span><span class="s7">/@[a-z0-9]+/</span><span class="s4">,</span>
  <span class="s4">};</span>

  <span class="s3">const </span><span class="s2">OPERATOR </span><span class="s4">= {</span>
    <span class="s2">className</span><span class="s4">: </span><span class="s5">&quot;operator&quot;</span><span class="s4">,</span>
    <span class="s2">begin</span><span class="s4">: </span><span class="s7">/[-+*/=%^~]|&amp;&amp;?|\|\|?|!=?|&lt;(?:=&gt;?|&lt;|&gt;)?|&gt;[&gt;=]?/</span><span class="s4">,</span>
    <span class="s2">relevance</span><span class="s4">: </span><span class="s8">0</span><span class="s4">,</span>
  <span class="s4">};</span>

  <span class="s3">const </span><span class="s2">FUNCTION_CALL </span><span class="s4">= {</span>
    <span class="s2">begin</span><span class="s4">: </span><span class="s2">concat</span><span class="s4">(</span><span class="s7">/\b/</span><span class="s4">, </span><span class="s2">either</span><span class="s4">(</span><span class="s2">...FUNCTIONS</span><span class="s4">), </span><span class="s7">/\s*\(/</span><span class="s4">),</span>
    <span class="s2">keywords</span><span class="s4">: {</span>
      <span class="s2">built_in</span><span class="s4">: </span><span class="s2">FUNCTIONS</span>
    <span class="s4">}</span>
  <span class="s4">};</span>

  <span class="s6">// keywords with less than 3 letters are reduced in relevancy</span>
  <span class="s3">function </span><span class="s2">reduceRelevancy</span><span class="s4">(</span><span class="s2">list</span><span class="s4">, {</span><span class="s2">exceptions</span><span class="s4">, </span><span class="s2">when</span><span class="s4">} = {}) {</span>
    <span class="s3">const </span><span class="s2">qualifyFn </span><span class="s4">= </span><span class="s2">when</span><span class="s4">;</span>
    <span class="s2">exceptions </span><span class="s4">= </span><span class="s2">exceptions </span><span class="s4">|| [];</span>
    <span class="s3">return </span><span class="s2">list</span><span class="s4">.</span><span class="s2">map</span><span class="s4">((</span><span class="s2">item</span><span class="s4">) =&gt; {</span>
      <span class="s3">if </span><span class="s4">(</span><span class="s2">item</span><span class="s4">.</span><span class="s2">match</span><span class="s4">(</span><span class="s7">/\|\d+$/</span><span class="s4">) || </span><span class="s2">exceptions</span><span class="s4">.</span><span class="s2">includes</span><span class="s4">(</span><span class="s2">item</span><span class="s4">)) {</span>
        <span class="s3">return </span><span class="s2">item</span><span class="s4">;</span>
      <span class="s4">} </span><span class="s3">else if </span><span class="s4">(</span><span class="s2">qualifyFn</span><span class="s4">(</span><span class="s2">item</span><span class="s4">)) {</span>
        <span class="s3">return </span><span class="s5">`</span><span class="s2">$</span><span class="s4">{</span><span class="s2">item</span><span class="s4">}</span><span class="s5">|0`</span><span class="s4">;</span>
      <span class="s4">} </span><span class="s3">else </span><span class="s4">{</span>
        <span class="s3">return </span><span class="s2">item</span><span class="s4">;</span>
      <span class="s4">}</span>
    <span class="s4">});</span>
  <span class="s4">}</span>

  <span class="s3">return </span><span class="s4">{</span>
    <span class="s2">name</span><span class="s4">: </span><span class="s5">'SQL'</span><span class="s4">,</span>
    <span class="s2">case_insensitive</span><span class="s4">: </span><span class="s3">true</span><span class="s4">,</span>
    <span class="s6">// does not include {} or HTML tags `&lt;/`</span>
    <span class="s2">illegal</span><span class="s4">: </span><span class="s7">/[{}]|&lt;\//</span><span class="s4">,</span>
    <span class="s2">keywords</span><span class="s4">: {</span>
      <span class="s2">$pattern</span><span class="s4">: </span><span class="s7">/\b[\w\.]+/</span><span class="s4">,</span>
      <span class="s2">keyword</span><span class="s4">:</span>
        <span class="s2">reduceRelevancy</span><span class="s4">(</span><span class="s2">KEYWORDS</span><span class="s4">, { </span><span class="s2">when</span><span class="s4">: (</span><span class="s2">x</span><span class="s4">) =&gt; </span><span class="s2">x</span><span class="s4">.</span><span class="s2">length </span><span class="s4">&lt; </span><span class="s8">3 </span><span class="s4">}),</span>
      <span class="s2">literal</span><span class="s4">: </span><span class="s2">LITERALS</span><span class="s4">,</span>
      <span class="s2">type</span><span class="s4">: </span><span class="s2">TYPES</span><span class="s4">,</span>
      <span class="s2">built_in</span><span class="s4">: </span><span class="s2">POSSIBLE_WITHOUT_PARENS</span>
    <span class="s4">},</span>
    <span class="s2">contains</span><span class="s4">: [</span>
      <span class="s4">{</span>
        <span class="s2">begin</span><span class="s4">: </span><span class="s2">either</span><span class="s4">(</span><span class="s2">...COMBOS</span><span class="s4">),</span>
        <span class="s2">keywords</span><span class="s4">: {</span>
          <span class="s2">$pattern</span><span class="s4">: </span><span class="s7">/[\w\.]+/</span><span class="s4">,</span>
          <span class="s2">keyword</span><span class="s4">: </span><span class="s2">KEYWORDS</span><span class="s4">.</span><span class="s2">concat</span><span class="s4">(</span><span class="s2">COMBOS</span><span class="s4">),</span>
          <span class="s2">literal</span><span class="s4">: </span><span class="s2">LITERALS</span><span class="s4">,</span>
          <span class="s2">type</span><span class="s4">: </span><span class="s2">TYPES</span>
        <span class="s4">},</span>
      <span class="s4">},</span>
      <span class="s4">{</span>
        <span class="s2">className</span><span class="s4">: </span><span class="s5">&quot;type&quot;</span><span class="s4">,</span>
        <span class="s2">begin</span><span class="s4">: </span><span class="s2">either</span><span class="s4">(</span><span class="s2">...MULTI_WORD_TYPES</span><span class="s4">)</span>
      <span class="s4">},</span>
      <span class="s2">FUNCTION_CALL</span><span class="s4">,</span>
      <span class="s2">VARIABLE</span><span class="s4">,</span>
      <span class="s2">STRING</span><span class="s4">,</span>
      <span class="s2">QUOTED_IDENTIFIER</span><span class="s4">,</span>
      <span class="s2">hljs</span><span class="s4">.</span><span class="s2">C_NUMBER_MODE</span><span class="s4">,</span>
      <span class="s2">hljs</span><span class="s4">.</span><span class="s2">C_BLOCK_COMMENT_MODE</span><span class="s4">,</span>
      <span class="s2">COMMENT_MODE</span><span class="s4">,</span>
      <span class="s2">OPERATOR</span>
    <span class="s4">]</span>
  <span class="s4">};</span>
<span class="s4">}</span>

<span class="s2">module</span><span class="s4">.</span><span class="s2">exports </span><span class="s4">= </span><span class="s2">sql</span><span class="s4">;</span>
</pre>
</body>
</html>
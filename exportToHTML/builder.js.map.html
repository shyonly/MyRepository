<html>
<head>
<title>builder.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
builder.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;_options&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;_string&quot;</span><span class="s0">,</span><span class="s1">&quot;_literal&quot;</span><span class="s0">,</span><span class="s1">&quot;NO_PLACEHOLDER&quot;</span><span class="s0">,</span><span class="s1">&quot;validate&quot;</span><span class="s0">,</span><span class="s1">&quot;placeholderPattern&quot;</span><span class="s0">,</span><span class="s1">&quot;createTemplateBuilder&quot;</span><span class="s0">,</span><span class="s1">&quot;formatter&quot;</span><span class="s0">,</span><span class="s1">&quot;defaultOpts&quot;</span><span class="s0">,</span><span class="s1">&quot;templateFnCache&quot;</span><span class="s0">,</span><span class="s1">&quot;WeakMap&quot;</span><span class="s0">,</span><span class="s1">&quot;templateAstCache&quot;</span><span class="s0">,</span><span class="s1">&quot;cachedOpts&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;assign&quot;</span><span class="s0">,</span><span class="s1">&quot;tpl&quot;</span><span class="s0">,</span><span class="s1">&quot;args&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;extendedTrace&quot;</span><span class="s0">,</span><span class="s1">&quot;stringTemplate&quot;</span><span class="s0">,</span><span class="s1">&quot;merge&quot;</span><span class="s0">,</span><span class="s1">&quot;Array&quot;</span><span class="s0">,</span><span class="s1">&quot;isArray&quot;</span><span class="s0">,</span><span class="s1">&quot;builder&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;literalTemplate&quot;</span><span class="s0">,</span><span class="s1">&quot;set&quot;</span><span class="s0">,</span><span class="s1">&quot;ast&quot;</span><span class="s0">,</span><span class="s1">&quot;fn&quot;</span><span class="s0">,</span><span class="s1">&quot;rootStack&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;stack&quot;</span><span class="s0">,</span><span class="s1">&quot;split&quot;</span><span class="s0">,</span><span class="s1">&quot;slice&quot;</span><span class="s0">,</span><span class="s1">&quot;join&quot;</span><span class="s0">,</span><span class="s1">&quot;arg&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../src/builder.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { merge, validate } from </span><span class="s3">\&quot;</span><span class="s1">./options.ts</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import type {</span><span class="s3">\n  </span><span class="s1">TemplateOpts,</span><span class="s3">\n  </span><span class="s1">PublicOpts,</span><span class="s3">\n  </span><span class="s1">PublicReplacements,</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./options.ts</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import type { Formatter } from </span><span class="s3">\&quot;</span><span class="s1">./formatters.ts</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">import stringTemplate from </span><span class="s3">\&quot;</span><span class="s1">./string.ts</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import literalTemplate from </span><span class="s3">\&quot;</span><span class="s1">./literal.ts</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export type TemplateBuilder&lt;T&gt; = {</span><span class="s3">\n  </span><span class="s1">// Build a new builder, merging the given options with the previous ones.</span><span class="s3">\n  </span><span class="s1">(opts: PublicOpts): TemplateBuilder&lt;T&gt;;</span><span class="s3">\n\n  </span><span class="s1">// Building from a string produces an AST builder function by default.</span><span class="s3">\n  </span><span class="s1">(tpl: string, opts?: PublicOpts): (replacements?: PublicReplacements) =&gt; T;</span><span class="s3">\n\n  </span><span class="s1">// Building from a template literal produces an AST builder function by default.</span><span class="s3">\n  </span><span class="s1">(</span><span class="s3">\n    </span><span class="s1">tpl: TemplateStringsArray,</span><span class="s3">\n    </span><span class="s1">...args: Array&lt;unknown&gt;</span><span class="s3">\n  </span><span class="s1">): (replacements?: PublicReplacements) =&gt; T;</span><span class="s3">\n\n  </span><span class="s1">// Allow users to explicitly create templates that produce ASTs, skipping</span><span class="s3">\n  </span><span class="s1">// the need for an intermediate function.</span><span class="s3">\n  </span><span class="s1">ast: {</span><span class="s3">\n    </span><span class="s1">(tpl: string, opts?: PublicOpts): T;</span><span class="s3">\n    </span><span class="s1">(tpl: TemplateStringsArray, ...args: Array&lt;unknown&gt;): T;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// Prebuild the options that will be used when parsing a `.ast` template.</span><span class="s3">\n</span><span class="s1">// These do not use a pattern because there is no way for users to pass in</span><span class="s3">\n</span><span class="s1">// replacement patterns to begin with, and disabling pattern matching means</span><span class="s3">\n</span><span class="s1">// users have more flexibility in what type of content they have in their</span><span class="s3">\n</span><span class="s1">// template JS.</span><span class="s3">\n</span><span class="s1">const NO_PLACEHOLDER: TemplateOpts = validate({</span><span class="s3">\n  </span><span class="s1">placeholderPattern: false,</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export default function createTemplateBuilder&lt;T&gt;(</span><span class="s3">\n  </span><span class="s1">formatter: Formatter&lt;T&gt;,</span><span class="s3">\n  </span><span class="s1">defaultOpts?: TemplateOpts,</span><span class="s3">\n</span><span class="s1">): TemplateBuilder&lt;T&gt; {</span><span class="s3">\n  </span><span class="s1">const templateFnCache = new WeakMap();</span><span class="s3">\n  </span><span class="s1">const templateAstCache = new WeakMap();</span><span class="s3">\n  </span><span class="s1">const cachedOpts = defaultOpts || validate(null);</span><span class="s3">\n\n  </span><span class="s1">return Object.assign(</span><span class="s3">\n    </span><span class="s1">((tpl, ...args) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (typeof tpl === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">if (args.length &gt; 1) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Unexpected extra params.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return extendedTrace(</span><span class="s3">\n          </span><span class="s1">stringTemplate(formatter, tpl, merge(cachedOpts, validate(args[0]))),</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">} else if (Array.isArray(tpl)) {</span><span class="s3">\n        </span><span class="s1">let builder = templateFnCache.get(tpl);</span><span class="s3">\n        </span><span class="s1">if (!builder) {</span><span class="s3">\n          </span><span class="s1">builder = literalTemplate(formatter, tpl, cachedOpts);</span><span class="s3">\n          </span><span class="s1">templateFnCache.set(tpl, builder);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return extendedTrace(builder(args));</span><span class="s3">\n      </span><span class="s1">} else if (typeof tpl === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; tpl) {</span><span class="s3">\n        </span><span class="s1">if (args.length &gt; 0) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Unexpected extra params.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return createTemplateBuilder(</span><span class="s3">\n          </span><span class="s1">formatter,</span><span class="s3">\n          </span><span class="s1">merge(cachedOpts, validate(tpl)),</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">throw new Error(`Unexpected template param ${typeof tpl}`);</span><span class="s3">\n    </span><span class="s1">}) as TemplateBuilder&lt;T&gt;,</span><span class="s3">\n    </span><span class="s1">{</span><span class="s3">\n      </span><span class="s1">ast: (tpl: string | Array&lt;string&gt;, ...args: Array&lt;unknown&gt;) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (typeof tpl === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">if (args.length &gt; 1) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Unexpected extra params.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">return stringTemplate(</span><span class="s3">\n            </span><span class="s1">formatter,</span><span class="s3">\n            </span><span class="s1">tpl,</span><span class="s3">\n            </span><span class="s1">merge(merge(cachedOpts, validate(args[0])), NO_PLACEHOLDER),</span><span class="s3">\n          </span><span class="s1">)();</span><span class="s3">\n        </span><span class="s1">} else if (Array.isArray(tpl)) {</span><span class="s3">\n          </span><span class="s1">let builder = templateAstCache.get(tpl);</span><span class="s3">\n          </span><span class="s1">if (!builder) {</span><span class="s3">\n            </span><span class="s1">builder = literalTemplate(</span><span class="s3">\n              </span><span class="s1">formatter,</span><span class="s3">\n              </span><span class="s1">tpl,</span><span class="s3">\n              </span><span class="s1">merge(cachedOpts, NO_PLACEHOLDER),</span><span class="s3">\n            </span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">templateAstCache.set(tpl, builder);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">return builder(args)();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">throw new Error(`Unexpected template param ${typeof tpl}`);</span><span class="s3">\n      </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function extendedTrace&lt;Arg, Result&gt;(</span><span class="s3">\n  </span><span class="s1">fn: (_: Arg) =&gt; Result,</span><span class="s3">\n</span><span class="s1">): (_: Arg) =&gt; Result {</span><span class="s3">\n  </span><span class="s1">// Since we lazy parse the template, we get the current stack so we have the</span><span class="s3">\n  </span><span class="s1">// original stack to append if it errors when parsing</span><span class="s3">\n  </span><span class="s1">let rootStack = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">// error stack gets populated in IE only on throw</span><span class="s3">\n    </span><span class="s1">// (https://msdn.microsoft.com/en-us/library/hh699850(v=vs.94).aspx)</span><span class="s3">\n    </span><span class="s1">throw new Error();</span><span class="s3">\n  </span><span class="s1">} catch (error) {</span><span class="s3">\n    </span><span class="s1">if (error.stack) {</span><span class="s3">\n      </span><span class="s1">// error.stack does not exists in IE &lt;= 9</span><span class="s3">\n      </span><span class="s1">// We slice off the top 3 items in the stack to remove the call to</span><span class="s3">\n      </span><span class="s1">// 'extendedTrace', and the anonymous builder function, with the final</span><span class="s3">\n      </span><span class="s1">// stripped line being the error message itself since we threw it</span><span class="s3">\n      </span><span class="s1">// in the first place and it doesn't matter.</span><span class="s3">\n      </span><span class="s1">rootStack = error.stack.split(</span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">).slice(3).join(</span><span class="s3">\&quot;\\</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return (arg: Arg) =&gt; {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">return fn(arg);</span><span class="s3">\n    </span><span class="s1">} catch (err) {</span><span class="s3">\n      </span><span class="s1">err.stack += `</span><span class="s3">\\</span><span class="s1">n    =============</span><span class="s3">\\</span><span class="s1">n${rootStack}`;</span><span class="s3">\n      </span><span class="s1">throw err;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">}</span></pre>
</body>
</html>
<html>
<head>
<title>doc.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #cf8e6d;}
.s2 { color: #bcbec4;}
.s3 { color: #6aab73;}
.s4 { color: #2aacb8;}
.s5 { color: #7a7e85;}
.s6 { color: #42c3d4;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
doc.js</font>
</center></td></tr></table>
<pre><span class="s0">(</span><span class="s1">function </span><span class="s0">(</span><span class="s2">factory</span><span class="s0">) {</span>
  <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">exports </span><span class="s0">=== </span><span class="s3">&quot;object&quot; </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">module </span><span class="s0">=== </span><span class="s3">&quot;object&quot;</span><span class="s0">) {</span>
    <span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s2">factory</span><span class="s0">();</span>
  <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">define </span><span class="s0">=== </span><span class="s3">&quot;function&quot; </span><span class="s0">&amp;&amp; </span><span class="s2">define</span><span class="s0">.</span><span class="s2">amd</span><span class="s0">) {</span>
    <span class="s2">define</span><span class="s0">(</span><span class="s2">factory</span><span class="s0">);</span>
  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
    <span class="s1">var </span><span class="s2">root </span><span class="s0">=</span>
      <span class="s1">typeof </span><span class="s2">globalThis </span><span class="s0">!== </span><span class="s3">&quot;undefined&quot;</span>
        <span class="s0">? </span><span class="s2">globalThis</span>
        <span class="s0">: </span><span class="s1">typeof </span><span class="s2">global </span><span class="s0">!== </span><span class="s3">&quot;undefined&quot;</span>
        <span class="s0">? </span><span class="s2">global</span>
        <span class="s0">: </span><span class="s1">typeof </span><span class="s2">self </span><span class="s0">!== </span><span class="s3">&quot;undefined&quot;</span>
        <span class="s0">? </span><span class="s2">self</span>
        <span class="s0">: </span><span class="s1">this </span><span class="s0">|| {};</span>
    <span class="s2">root</span><span class="s0">.</span><span class="s2">doc </span><span class="s0">= </span><span class="s2">factory</span><span class="s0">();</span>
  <span class="s0">}</span>
<span class="s0">})(</span><span class="s1">function</span><span class="s0">() {</span>
  <span class="s3">&quot;use strict&quot;</span><span class="s0">;</span>
  <span class="s1">var </span><span class="s2">__getOwnPropNames </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertyNames</span><span class="s0">;</span>
  <span class="s1">var </span><span class="s2">__commonJS </span><span class="s0">= (</span><span class="s2">cb</span><span class="s0">, </span><span class="s2">mod</span><span class="s0">) =&gt; </span><span class="s1">function </span><span class="s2">__require</span><span class="s0">() {</span>
    <span class="s1">return </span><span class="s2">mod </span><span class="s0">|| (</span><span class="s4">0</span><span class="s0">, </span><span class="s2">cb</span><span class="s0">[</span><span class="s2">__getOwnPropNames</span><span class="s0">(</span><span class="s2">cb</span><span class="s0">)[</span><span class="s4">0</span><span class="s0">]])((</span><span class="s2">mod </span><span class="s0">= { </span><span class="s2">exports</span><span class="s0">: {} }).</span><span class="s2">exports</span><span class="s0">, </span><span class="s2">mod</span><span class="s0">), </span><span class="s2">mod</span><span class="s0">.</span><span class="s2">exports</span><span class="s0">;</span>
  <span class="s0">};</span>

  <span class="s5">// dist/_doc.js.umd.js</span>
  <span class="s1">var </span><span class="s2">require_doc_js_umd </span><span class="s0">= </span><span class="s2">__commonJS</span><span class="s0">({</span>
    <span class="s3">&quot;dist/_doc.js.umd.js&quot;</span><span class="s0">(</span><span class="s2">exports</span><span class="s0">, </span><span class="s2">module</span><span class="s0">) {</span>
      <span class="s1">var </span><span class="s2">__create </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">create</span><span class="s0">;</span>
      <span class="s1">var </span><span class="s2">__defProp </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">defineProperty</span><span class="s0">;</span>
      <span class="s1">var </span><span class="s2">__getOwnPropDesc </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s0">;</span>
      <span class="s1">var </span><span class="s2">__getOwnPropNames2 </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertyNames</span><span class="s0">;</span>
      <span class="s1">var </span><span class="s2">__getProtoOf </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getPrototypeOf</span><span class="s0">;</span>
      <span class="s1">var </span><span class="s2">__hasOwnProp </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">hasOwnProperty</span><span class="s0">;</span>
      <span class="s1">var </span><span class="s2">__esm </span><span class="s0">= (</span><span class="s2">fn</span><span class="s0">, </span><span class="s2">res</span><span class="s0">) =&gt; </span><span class="s1">function </span><span class="s2">__init</span><span class="s0">() {</span>
        <span class="s1">return </span><span class="s2">fn </span><span class="s0">&amp;&amp; (</span><span class="s2">res </span><span class="s0">= (</span><span class="s4">0</span><span class="s0">, </span><span class="s2">fn</span><span class="s0">[</span><span class="s2">__getOwnPropNames2</span><span class="s0">(</span><span class="s2">fn</span><span class="s0">)[</span><span class="s4">0</span><span class="s0">]])(</span><span class="s2">fn </span><span class="s0">= </span><span class="s4">0</span><span class="s0">)), </span><span class="s2">res</span><span class="s0">;</span>
      <span class="s0">};</span>
      <span class="s1">var </span><span class="s2">__commonJS2 </span><span class="s0">= (</span><span class="s2">cb</span><span class="s0">, </span><span class="s2">mod</span><span class="s0">) =&gt; </span><span class="s1">function </span><span class="s2">__require</span><span class="s0">() {</span>
        <span class="s1">return </span><span class="s2">mod </span><span class="s0">|| (</span><span class="s4">0</span><span class="s0">, </span><span class="s2">cb</span><span class="s0">[</span><span class="s2">__getOwnPropNames2</span><span class="s0">(</span><span class="s2">cb</span><span class="s0">)[</span><span class="s4">0</span><span class="s0">]])((</span><span class="s2">mod </span><span class="s0">= {</span>
          <span class="s2">exports</span><span class="s0">: {}</span>
        <span class="s0">}).</span><span class="s2">exports</span><span class="s0">, </span><span class="s2">mod</span><span class="s0">), </span><span class="s2">mod</span><span class="s0">.</span><span class="s2">exports</span><span class="s0">;</span>
      <span class="s0">};</span>
      <span class="s1">var </span><span class="s2">__export </span><span class="s0">= (</span><span class="s2">target</span><span class="s0">, </span><span class="s2">all</span><span class="s0">) =&gt; {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">name </span><span class="s1">in </span><span class="s2">all</span><span class="s0">)</span>
          <span class="s2">__defProp</span><span class="s0">(</span><span class="s2">target</span><span class="s0">, </span><span class="s2">name</span><span class="s0">, {</span>
            <span class="s2">get</span><span class="s0">: </span><span class="s2">all</span><span class="s0">[</span><span class="s2">name</span><span class="s0">],</span>
            <span class="s2">enumerable</span><span class="s0">: </span><span class="s1">true</span>
          <span class="s0">});</span>
      <span class="s0">};</span>
      <span class="s1">var </span><span class="s2">__copyProps </span><span class="s0">= (</span><span class="s2">to</span><span class="s0">, </span><span class="s2">from</span><span class="s0">, </span><span class="s2">except</span><span class="s0">, </span><span class="s2">desc</span><span class="s0">) =&gt; {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">from </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">from </span><span class="s0">=== </span><span class="s3">&quot;object&quot; </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">from </span><span class="s0">=== </span><span class="s3">&quot;function&quot;</span><span class="s0">) {</span>
          <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s2">key of __getOwnPropNames2</span><span class="s0">(</span><span class="s2">from</span><span class="s0">))</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s2">__hasOwnProp</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">to</span><span class="s0">, </span><span class="s2">key</span><span class="s0">) &amp;&amp; </span><span class="s2">key </span><span class="s0">!== </span><span class="s2">except</span><span class="s0">)</span>
              <span class="s2">__defProp</span><span class="s0">(</span><span class="s2">to</span><span class="s0">, </span><span class="s2">key</span><span class="s0">, {</span>
                <span class="s2">get</span><span class="s0">: () =&gt; </span><span class="s2">from</span><span class="s0">[</span><span class="s2">key</span><span class="s0">],</span>
                <span class="s2">enumerable</span><span class="s0">: !(</span><span class="s2">desc </span><span class="s0">= </span><span class="s2">__getOwnPropDesc</span><span class="s0">(</span><span class="s2">from</span><span class="s0">, </span><span class="s2">key</span><span class="s0">)) || </span><span class="s2">desc</span><span class="s0">.</span><span class="s2">enumerable</span>
              <span class="s0">});</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">to</span><span class="s0">;</span>
      <span class="s0">};</span>
      <span class="s1">var </span><span class="s2">__toESM </span><span class="s0">= (</span><span class="s2">mod</span><span class="s0">, </span><span class="s2">isNodeMode</span><span class="s0">, </span><span class="s2">target</span><span class="s0">) =&gt; (</span><span class="s2">target </span><span class="s0">= </span><span class="s2">mod </span><span class="s0">!= </span><span class="s1">null </span><span class="s0">? </span><span class="s2">__create</span><span class="s0">(</span><span class="s2">__getProtoOf</span><span class="s0">(</span><span class="s2">mod</span><span class="s0">)) : {}, </span><span class="s2">__copyProps</span><span class="s0">(</span><span class="s2">isNodeMode </span><span class="s0">|| !</span><span class="s2">mod </span><span class="s0">|| !</span><span class="s2">mod</span><span class="s0">.</span><span class="s2">__esModule </span><span class="s0">? </span><span class="s2">__defProp</span><span class="s0">(</span><span class="s2">target</span><span class="s0">, </span><span class="s3">&quot;default&quot;</span><span class="s0">, {</span>
        <span class="s2">value</span><span class="s0">: </span><span class="s2">mod</span><span class="s0">,</span>
        <span class="s2">enumerable</span><span class="s0">: </span><span class="s1">true</span>
      <span class="s0">}) : </span><span class="s2">target</span><span class="s0">, </span><span class="s2">mod</span><span class="s0">));</span>
      <span class="s1">var </span><span class="s2">__toCommonJS </span><span class="s0">= (</span><span class="s2">mod</span><span class="s0">) =&gt; </span><span class="s2">__copyProps</span><span class="s0">(</span><span class="s2">__defProp</span><span class="s0">({}, </span><span class="s3">&quot;__esModule&quot;</span><span class="s0">, {</span>
        <span class="s2">value</span><span class="s0">: </span><span class="s1">true</span>
      <span class="s0">}), </span><span class="s2">mod</span><span class="s0">);</span>
      <span class="s1">var </span><span class="s2">init_define_process </span><span class="s0">= </span><span class="s2">__esm</span><span class="s0">({</span>
        <span class="s3">&quot;&lt;define:process&gt;&quot;</span><span class="s0">() {</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s1">var </span><span class="s2">require_doc_builders </span><span class="s0">= </span><span class="s2">__commonJS2</span><span class="s0">({</span>
        <span class="s3">&quot;src/document/doc-builders.js&quot;</span><span class="s0">(</span><span class="s2">exports2</span><span class="s0">, </span><span class="s2">module2</span><span class="s0">) {</span>
          <span class="s3">&quot;use strict&quot;</span><span class="s0">;</span>
          <span class="s2">init_define_process</span><span class="s0">();</span>
          <span class="s1">function </span><span class="s2">concat</span><span class="s0">(</span><span class="s2">parts</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">false</span><span class="s0">) {</span>
              <span class="s1">for </span><span class="s0">(</span><span class="s1">const </span><span class="s2">part of parts</span><span class="s0">) {</span>
                <span class="s2">assertDoc</span><span class="s0">(</span><span class="s2">part</span><span class="s0">);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;concat&quot;</span><span class="s0">,</span>
              <span class="s2">parts</span>
            <span class="s0">};</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">indent</span><span class="s0">(</span><span class="s2">contents</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">false</span><span class="s0">) {</span>
              <span class="s2">assertDoc</span><span class="s0">(</span><span class="s2">contents</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;indent&quot;</span><span class="s0">,</span>
              <span class="s2">contents</span>
            <span class="s0">};</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">align</span><span class="s0">(</span><span class="s2">widthOrString</span><span class="s0">, </span><span class="s2">contents</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">false</span><span class="s0">) {</span>
              <span class="s2">assertDoc</span><span class="s0">(</span><span class="s2">contents</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;align&quot;</span><span class="s0">,</span>
              <span class="s2">contents</span><span class="s0">,</span>
              <span class="s2">n</span><span class="s0">: </span><span class="s2">widthOrString</span>
            <span class="s0">};</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">group</span><span class="s0">(</span><span class="s2">contents</span><span class="s0">) {</span>
            <span class="s1">let </span><span class="s2">opts </span><span class="s0">= </span><span class="s2">arguments</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">1 </span><span class="s0">&amp;&amp; </span><span class="s2">arguments</span><span class="s0">[</span><span class="s4">1</span><span class="s0">] !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s2">arguments</span><span class="s0">[</span><span class="s4">1</span><span class="s0">] : {};</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">false</span><span class="s0">) {</span>
              <span class="s2">assertDoc</span><span class="s0">(</span><span class="s2">contents</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;group&quot;</span><span class="s0">,</span>
              <span class="s2">id</span><span class="s0">: </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">id</span><span class="s0">,</span>
              <span class="s2">contents</span><span class="s0">,</span>
              <span class="s1">break</span><span class="s0">: </span><span class="s2">Boolean</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">shouldBreak</span><span class="s0">),</span>
              <span class="s2">expandedStates</span><span class="s0">: </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">expandedStates</span>
            <span class="s0">};</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">dedentToRoot</span><span class="s0">(</span><span class="s2">contents</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">align</span><span class="s0">(</span><span class="s2">Number</span><span class="s0">.</span><span class="s2">NEGATIVE_INFINITY</span><span class="s0">, </span><span class="s2">contents</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">markAsRoot</span><span class="s0">(</span><span class="s2">contents</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">align</span><span class="s0">({</span>
              <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;root&quot;</span>
            <span class="s0">}, </span><span class="s2">contents</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">dedent</span><span class="s0">(</span><span class="s2">contents</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">align</span><span class="s0">(-</span><span class="s4">1</span><span class="s0">, </span><span class="s2">contents</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">conditionalGroup</span><span class="s0">(</span><span class="s2">states</span><span class="s0">, </span><span class="s2">opts</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">group</span><span class="s0">(</span><span class="s2">states</span><span class="s0">[</span><span class="s4">0</span><span class="s0">], </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">opts</span><span class="s0">), {}, {</span>
              <span class="s2">expandedStates</span><span class="s0">: </span><span class="s2">states</span>
            <span class="s0">}));</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">fill</span><span class="s0">(</span><span class="s2">parts</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">false</span><span class="s0">) {</span>
              <span class="s1">for </span><span class="s0">(</span><span class="s1">const </span><span class="s2">part of parts</span><span class="s0">) {</span>
                <span class="s2">assertDoc</span><span class="s0">(</span><span class="s2">part</span><span class="s0">);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;fill&quot;</span><span class="s0">,</span>
              <span class="s2">parts</span>
            <span class="s0">};</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">ifBreak</span><span class="s0">(</span><span class="s2">breakContents</span><span class="s0">, </span><span class="s2">flatContents</span><span class="s0">) {</span>
            <span class="s1">let </span><span class="s2">opts </span><span class="s0">= </span><span class="s2">arguments</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">2 </span><span class="s0">&amp;&amp; </span><span class="s2">arguments</span><span class="s0">[</span><span class="s4">2</span><span class="s0">] !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s2">arguments</span><span class="s0">[</span><span class="s4">2</span><span class="s0">] : {};</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">false</span><span class="s0">) {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">breakContents</span><span class="s0">) {</span>
                <span class="s2">assertDoc</span><span class="s0">(</span><span class="s2">breakContents</span><span class="s0">);</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">flatContents</span><span class="s0">) {</span>
                <span class="s2">assertDoc</span><span class="s0">(</span><span class="s2">flatContents</span><span class="s0">);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;if-break&quot;</span><span class="s0">,</span>
              <span class="s2">breakContents</span><span class="s0">,</span>
              <span class="s2">flatContents</span><span class="s0">,</span>
              <span class="s2">groupId</span><span class="s0">: </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">groupId</span>
            <span class="s0">};</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">indentIfBreak</span><span class="s0">(</span><span class="s2">contents</span><span class="s0">, </span><span class="s2">opts</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;indent-if-break&quot;</span><span class="s0">,</span>
              <span class="s2">contents</span><span class="s0">,</span>
              <span class="s2">groupId</span><span class="s0">: </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">groupId</span><span class="s0">,</span>
              <span class="s2">negate</span><span class="s0">: </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">negate</span>
            <span class="s0">};</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">lineSuffix</span><span class="s0">(</span><span class="s2">contents</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">false</span><span class="s0">) {</span>
              <span class="s2">assertDoc</span><span class="s0">(</span><span class="s2">contents</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;line-suffix&quot;</span><span class="s0">,</span>
              <span class="s2">contents</span>
            <span class="s0">};</span>
          <span class="s0">}</span>
          <span class="s1">var </span><span class="s2">lineSuffixBoundary </span><span class="s0">= {</span>
            <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;line-suffix-boundary&quot;</span>
          <span class="s0">};</span>
          <span class="s1">var </span><span class="s2">breakParent </span><span class="s0">= {</span>
            <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;break-parent&quot;</span>
          <span class="s0">};</span>
          <span class="s1">var </span><span class="s2">trim </span><span class="s0">= {</span>
            <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;trim&quot;</span>
          <span class="s0">};</span>
          <span class="s1">var </span><span class="s2">hardlineWithoutBreakParent </span><span class="s0">= {</span>
            <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;line&quot;</span><span class="s0">,</span>
            <span class="s2">hard</span><span class="s0">: </span><span class="s1">true</span>
          <span class="s0">};</span>
          <span class="s1">var </span><span class="s2">literallineWithoutBreakParent </span><span class="s0">= {</span>
            <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;line&quot;</span><span class="s0">,</span>
            <span class="s2">hard</span><span class="s0">: </span><span class="s1">true</span><span class="s0">,</span>
            <span class="s2">literal</span><span class="s0">: </span><span class="s1">true</span>
          <span class="s0">};</span>
          <span class="s1">var </span><span class="s2">line </span><span class="s0">= {</span>
            <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;line&quot;</span>
          <span class="s0">};</span>
          <span class="s1">var </span><span class="s2">softline </span><span class="s0">= {</span>
            <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;line&quot;</span><span class="s0">,</span>
            <span class="s2">soft</span><span class="s0">: </span><span class="s1">true</span>
          <span class="s0">};</span>
          <span class="s1">var </span><span class="s2">hardline </span><span class="s0">= </span><span class="s2">concat</span><span class="s0">([</span><span class="s2">hardlineWithoutBreakParent</span><span class="s0">, </span><span class="s2">breakParent</span><span class="s0">]);</span>
          <span class="s1">var </span><span class="s2">literalline </span><span class="s0">= </span><span class="s2">concat</span><span class="s0">([</span><span class="s2">literallineWithoutBreakParent</span><span class="s0">, </span><span class="s2">breakParent</span><span class="s0">]);</span>
          <span class="s1">var </span><span class="s2">cursor </span><span class="s0">= {</span>
            <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;cursor&quot;</span><span class="s0">,</span>
            <span class="s2">placeholder</span><span class="s0">: </span><span class="s2">Symbol</span><span class="s0">(</span><span class="s3">&quot;cursor&quot;</span><span class="s0">)</span>
          <span class="s0">};</span>
          <span class="s1">function </span><span class="s2">join</span><span class="s0">(</span><span class="s2">sep</span><span class="s0">, </span><span class="s2">arr</span><span class="s0">) {</span>
            <span class="s1">const </span><span class="s2">res </span><span class="s0">= [];</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">arr</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; </span><span class="s2">i</span><span class="s0">++) {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">i </span><span class="s0">!== </span><span class="s4">0</span><span class="s0">) {</span>
                <span class="s2">res</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">sep</span><span class="s0">);</span>
              <span class="s0">}</span>
              <span class="s2">res</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">arr</span><span class="s0">[</span><span class="s2">i</span><span class="s0">]);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">concat</span><span class="s0">(</span><span class="s2">res</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">addAlignmentToDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, </span><span class="s2">size</span><span class="s0">, </span><span class="s2">tabWidth</span><span class="s0">) {</span>
            <span class="s1">let </span><span class="s2">aligned </span><span class="s0">= </span><span class="s2">doc</span><span class="s0">;</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">size </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">) {</span>
              <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">Math</span><span class="s0">.</span><span class="s2">floor</span><span class="s0">(</span><span class="s2">size </span><span class="s0">/ </span><span class="s2">tabWidth</span><span class="s0">); ++</span><span class="s2">i</span><span class="s0">) {</span>
                <span class="s2">aligned </span><span class="s0">= </span><span class="s2">indent</span><span class="s0">(</span><span class="s2">aligned</span><span class="s0">);</span>
              <span class="s0">}</span>
              <span class="s2">aligned </span><span class="s0">= </span><span class="s2">align</span><span class="s0">(</span><span class="s2">size </span><span class="s0">% </span><span class="s2">tabWidth</span><span class="s0">, </span><span class="s2">aligned</span><span class="s0">);</span>
              <span class="s2">aligned </span><span class="s0">= </span><span class="s2">align</span><span class="s0">(</span><span class="s2">Number</span><span class="s0">.</span><span class="s2">NEGATIVE_INFINITY</span><span class="s0">, </span><span class="s2">aligned</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">aligned</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">label</span><span class="s0">(</span><span class="s2">label2</span><span class="s0">, </span><span class="s2">contents</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;label&quot;</span><span class="s0">,</span>
              <span class="s2">label</span><span class="s0">: </span><span class="s2">label2</span><span class="s0">,</span>
              <span class="s2">contents</span>
            <span class="s0">};</span>
          <span class="s0">}</span>
          <span class="s2">module2</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= {</span>
            <span class="s2">concat</span><span class="s0">,</span>
            <span class="s2">join</span><span class="s0">,</span>
            <span class="s2">line</span><span class="s0">,</span>
            <span class="s2">softline</span><span class="s0">,</span>
            <span class="s2">hardline</span><span class="s0">,</span>
            <span class="s2">literalline</span><span class="s0">,</span>
            <span class="s2">group</span><span class="s0">,</span>
            <span class="s2">conditionalGroup</span><span class="s0">,</span>
            <span class="s2">fill</span><span class="s0">,</span>
            <span class="s2">lineSuffix</span><span class="s0">,</span>
            <span class="s2">lineSuffixBoundary</span><span class="s0">,</span>
            <span class="s2">cursor</span><span class="s0">,</span>
            <span class="s2">breakParent</span><span class="s0">,</span>
            <span class="s2">ifBreak</span><span class="s0">,</span>
            <span class="s2">trim</span><span class="s0">,</span>
            <span class="s2">indent</span><span class="s0">,</span>
            <span class="s2">indentIfBreak</span><span class="s0">,</span>
            <span class="s2">align</span><span class="s0">,</span>
            <span class="s2">addAlignmentToDoc</span><span class="s0">,</span>
            <span class="s2">markAsRoot</span><span class="s0">,</span>
            <span class="s2">dedentToRoot</span><span class="s0">,</span>
            <span class="s2">dedent</span><span class="s0">,</span>
            <span class="s2">hardlineWithoutBreakParent</span><span class="s0">,</span>
            <span class="s2">literallineWithoutBreakParent</span><span class="s0">,</span>
            <span class="s2">label</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s1">var </span><span class="s2">require_end_of_line </span><span class="s0">= </span><span class="s2">__commonJS2</span><span class="s0">({</span>
        <span class="s3">&quot;src/common/end-of-line.js&quot;</span><span class="s0">(</span><span class="s2">exports2</span><span class="s0">, </span><span class="s2">module2</span><span class="s0">) {</span>
          <span class="s3">&quot;use strict&quot;</span><span class="s0">;</span>
          <span class="s2">init_define_process</span><span class="s0">();</span>
          <span class="s1">function </span><span class="s2">guessEndOfLine</span><span class="s0">(</span><span class="s2">text</span><span class="s0">) {</span>
            <span class="s1">const </span><span class="s2">index </span><span class="s0">= </span><span class="s2">text</span><span class="s0">.</span><span class="s2">indexOf</span><span class="s0">(</span><span class="s3">&quot;</span><span class="s1">\r</span><span class="s3">&quot;</span><span class="s0">);</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">index </span><span class="s0">&gt;= </span><span class="s4">0</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s2">text</span><span class="s0">.</span><span class="s2">charAt</span><span class="s0">(</span><span class="s2">index </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">) === </span><span class="s3">&quot;</span><span class="s1">\n</span><span class="s3">&quot; </span><span class="s0">? </span><span class="s3">&quot;crlf&quot; </span><span class="s0">: </span><span class="s3">&quot;cr&quot;</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s3">&quot;lf&quot;</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">convertEndOfLineToChars</span><span class="s0">(</span><span class="s2">value</span><span class="s0">) {</span>
            <span class="s1">switch </span><span class="s0">(</span><span class="s2">value</span><span class="s0">) {</span>
              <span class="s1">case </span><span class="s3">&quot;cr&quot;</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s3">&quot;</span><span class="s1">\r</span><span class="s3">&quot;</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s3">&quot;crlf&quot;</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s3">&quot;</span><span class="s1">\r\n</span><span class="s3">&quot;</span><span class="s0">;</span>
              <span class="s1">default</span><span class="s0">:</span>
                <span class="s1">return </span><span class="s3">&quot;</span><span class="s1">\n</span><span class="s3">&quot;</span><span class="s0">;</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">countEndOfLineChars</span><span class="s0">(</span><span class="s2">text</span><span class="s0">, </span><span class="s2">eol</span><span class="s0">) {</span>
            <span class="s1">let </span><span class="s2">regex</span><span class="s0">;</span>
            <span class="s1">switch </span><span class="s0">(</span><span class="s2">eol</span><span class="s0">) {</span>
              <span class="s1">case </span><span class="s3">&quot;</span><span class="s1">\n</span><span class="s3">&quot;</span><span class="s0">:</span>
                <span class="s2">regex </span><span class="s0">= </span><span class="s6">/\n/g</span><span class="s0">;</span>
                <span class="s1">break</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s3">&quot;</span><span class="s1">\r</span><span class="s3">&quot;</span><span class="s0">:</span>
                <span class="s2">regex </span><span class="s0">= </span><span class="s6">/\r/g</span><span class="s0">;</span>
                <span class="s1">break</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s3">&quot;</span><span class="s1">\r\n</span><span class="s3">&quot;</span><span class="s0">:</span>
                <span class="s2">regex </span><span class="s0">= </span><span class="s6">/\r\n/g</span><span class="s0">;</span>
                <span class="s1">break</span><span class="s0">;</span>
              <span class="s1">default</span><span class="s0">:</span>
                <span class="s1">throw new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">`Unexpected &quot;eol&quot; </span><span class="s2">$</span><span class="s0">{</span><span class="s2">JSON</span><span class="s0">.</span><span class="s2">stringify</span><span class="s0">(</span><span class="s2">eol</span><span class="s0">)}</span><span class="s3">.`</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">const </span><span class="s2">endOfLines </span><span class="s0">= </span><span class="s2">text</span><span class="s0">.</span><span class="s2">match</span><span class="s0">(</span><span class="s2">regex</span><span class="s0">);</span>
            <span class="s1">return </span><span class="s2">endOfLines </span><span class="s0">? </span><span class="s2">endOfLines</span><span class="s0">.</span><span class="s2">length </span><span class="s0">: </span><span class="s4">0</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">normalizeEndOfLine</span><span class="s0">(</span><span class="s2">text</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">text</span><span class="s0">.</span><span class="s2">replace</span><span class="s0">(</span><span class="s6">/\r\n?/g</span><span class="s0">, </span><span class="s3">&quot;</span><span class="s1">\n</span><span class="s3">&quot;</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s2">module2</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= {</span>
            <span class="s2">guessEndOfLine</span><span class="s0">,</span>
            <span class="s2">convertEndOfLineToChars</span><span class="s0">,</span>
            <span class="s2">countEndOfLineChars</span><span class="s0">,</span>
            <span class="s2">normalizeEndOfLine</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s1">var </span><span class="s2">require_get_last </span><span class="s0">= </span><span class="s2">__commonJS2</span><span class="s0">({</span>
        <span class="s3">&quot;src/utils/get-last.js&quot;</span><span class="s0">(</span><span class="s2">exports2</span><span class="s0">, </span><span class="s2">module2</span><span class="s0">) {</span>
          <span class="s3">&quot;use strict&quot;</span><span class="s0">;</span>
          <span class="s2">init_define_process</span><span class="s0">();</span>
          <span class="s1">var </span><span class="s2">getLast </span><span class="s0">= (</span><span class="s2">arr</span><span class="s0">) =&gt; </span><span class="s2">arr</span><span class="s0">[</span><span class="s2">arr</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- </span><span class="s4">1</span><span class="s0">];</span>
          <span class="s2">module2</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s2">getLast</span><span class="s0">;</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s1">function </span><span class="s2">ansiRegex</span><span class="s0">() {</span>
        <span class="s1">let </span><span class="s0">{</span>
          <span class="s2">onlyFirst </span><span class="s0">= </span><span class="s1">false</span>
        <span class="s0">} = </span><span class="s2">arguments</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; </span><span class="s2">arguments</span><span class="s0">[</span><span class="s4">0</span><span class="s0">] !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s2">arguments</span><span class="s0">[</span><span class="s4">0</span><span class="s0">] : {};</span>
        <span class="s1">const </span><span class="s2">pattern </span><span class="s0">= [</span><span class="s3">&quot;[</span><span class="s1">\\</span><span class="s3">u001B</span><span class="s1">\\</span><span class="s3">u009B][[</span><span class="s1">\\</span><span class="s3">]()#;?]*(?:(?:(?:(?:;[-a-zA-Z</span><span class="s1">\\</span><span class="s3">d</span><span class="s1">\\</span><span class="s3">/#&amp;.:=?%@~_]+)*|[a-zA-Z</span><span class="s1">\\</span><span class="s3">d]+(?:;[-a-zA-Z</span><span class="s1">\\</span><span class="s3">d</span><span class="s1">\\</span><span class="s3">/#&amp;.:=?%@~_]*)*)?</span><span class="s1">\\</span><span class="s3">u0007)&quot;</span><span class="s0">, </span><span class="s3">&quot;(?:(?:</span><span class="s1">\\</span><span class="s3">d{1,4}(?:;</span><span class="s1">\\</span><span class="s3">d{0,4})*)?[</span><span class="s1">\\</span><span class="s3">dA-PR-TZcf-ntqry=&gt;&lt;~]))&quot;</span><span class="s0">].</span><span class="s2">join</span><span class="s0">(</span><span class="s3">&quot;|&quot;</span><span class="s0">);</span>
        <span class="s1">return new </span><span class="s2">RegExp</span><span class="s0">(</span><span class="s2">pattern</span><span class="s0">, </span><span class="s2">onlyFirst </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: </span><span class="s3">&quot;g&quot;</span><span class="s0">);</span>
      <span class="s0">}</span>
      <span class="s1">var </span><span class="s2">init_ansi_regex </span><span class="s0">= </span><span class="s2">__esm</span><span class="s0">({</span>
        <span class="s3">&quot;node_modules/strip-ansi/node_modules/ansi-regex/index.js&quot;</span><span class="s0">() {</span>
          <span class="s2">init_define_process</span><span class="s0">();</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s1">function </span><span class="s2">stripAnsi</span><span class="s0">(</span><span class="s2">string</span><span class="s0">) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">string </span><span class="s0">!== </span><span class="s3">&quot;string&quot;</span><span class="s0">) {</span>
          <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">`Expected a </span><span class="s1">\`</span><span class="s3">string</span><span class="s1">\`</span><span class="s3">, got </span><span class="s1">\`</span><span class="s2">$</span><span class="s0">{</span><span class="s1">typeof </span><span class="s2">string</span><span class="s0">}</span><span class="s1">\`</span><span class="s3">`</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">string</span><span class="s0">.</span><span class="s2">replace</span><span class="s0">(</span><span class="s2">ansiRegex</span><span class="s0">(), </span><span class="s3">&quot;&quot;</span><span class="s0">);</span>
      <span class="s0">}</span>
      <span class="s1">var </span><span class="s2">init_strip_ansi </span><span class="s0">= </span><span class="s2">__esm</span><span class="s0">({</span>
        <span class="s3">&quot;node_modules/strip-ansi/index.js&quot;</span><span class="s0">() {</span>
          <span class="s2">init_define_process</span><span class="s0">();</span>
          <span class="s2">init_ansi_regex</span><span class="s0">();</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s1">function </span><span class="s2">isFullwidthCodePoint</span><span class="s0">(</span><span class="s2">codePoint</span><span class="s0">) {</span>
        <span class="s1">if </span><span class="s0">(!</span><span class="s2">Number</span><span class="s0">.</span><span class="s2">isInteger</span><span class="s0">(</span><span class="s2">codePoint</span><span class="s0">)) {</span>
          <span class="s1">return false</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">codePoint </span><span class="s0">&gt;= </span><span class="s4">4352 </span><span class="s0">&amp;&amp; (</span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">4447 </span><span class="s0">|| </span><span class="s2">codePoint </span><span class="s0">=== </span><span class="s4">9001 </span><span class="s0">|| </span><span class="s2">codePoint </span><span class="s0">=== </span><span class="s4">9002 </span><span class="s0">|| </span><span class="s4">11904 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">12871 </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">!== </span><span class="s4">12351 </span><span class="s0">|| </span><span class="s4">12880 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">19903 </span><span class="s0">|| </span><span class="s4">19968 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">42182 </span><span class="s0">|| </span><span class="s4">43360 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">43388 </span><span class="s0">|| </span><span class="s4">44032 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">55203 </span><span class="s0">|| </span><span class="s4">63744 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">64255 </span><span class="s0">|| </span><span class="s4">65040 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">65049 </span><span class="s0">|| </span><span class="s4">65072 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">65131 </span><span class="s0">|| </span><span class="s4">65281 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">65376 </span><span class="s0">|| </span><span class="s4">65504 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">65510 </span><span class="s0">|| </span><span class="s4">110592 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">110593 </span><span class="s0">|| </span><span class="s4">127488 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">127569 </span><span class="s0">|| </span><span class="s4">131072 </span><span class="s0">&lt;= </span><span class="s2">codePoint </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">262141</span><span class="s0">);</span>
      <span class="s0">}</span>
      <span class="s1">var </span><span class="s2">init_is_fullwidth_code_point </span><span class="s0">= </span><span class="s2">__esm</span><span class="s0">({</span>
        <span class="s3">&quot;node_modules/is-fullwidth-code-point/index.js&quot;</span><span class="s0">() {</span>
          <span class="s2">init_define_process</span><span class="s0">();</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s1">var </span><span class="s2">require_emoji_regex </span><span class="s0">= </span><span class="s2">__commonJS2</span><span class="s0">({</span>
        <span class="s3">&quot;node_modules/emoji-regex/index.js&quot;</span><span class="s0">(</span><span class="s2">exports2</span><span class="s0">, </span><span class="s2">module2</span><span class="s0">) {</span>
          <span class="s3">&quot;use strict&quot;</span><span class="s0">;</span>
          <span class="s2">init_define_process</span><span class="s0">();</span>
          <span class="s2">module2</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s1">function</span><span class="s0">() {</span>
            <span class="s1">return </span><span class="s6">/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g</span><span class="s0">;</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s1">var </span><span class="s2">string_width_exports </span><span class="s0">= {};</span>
      <span class="s2">__export</span><span class="s0">(</span><span class="s2">string_width_exports</span><span class="s0">, {</span>
        <span class="s1">default</span><span class="s0">: () =&gt; </span><span class="s2">stringWidth</span>
      <span class="s0">});</span>
      <span class="s1">function </span><span class="s2">stringWidth</span><span class="s0">(</span><span class="s2">string</span><span class="s0">) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">string </span><span class="s0">!== </span><span class="s3">&quot;string&quot; </span><span class="s0">|| </span><span class="s2">string</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) {</span>
          <span class="s1">return </span><span class="s4">0</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s2">string </span><span class="s0">= </span><span class="s2">stripAnsi</span><span class="s0">(</span><span class="s2">string</span><span class="s0">);</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">string</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) {</span>
          <span class="s1">return </span><span class="s4">0</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s2">string </span><span class="s0">= </span><span class="s2">string</span><span class="s0">.</span><span class="s2">replace</span><span class="s0">((</span><span class="s4">0</span><span class="s0">, </span><span class="s2">import_emoji_regex</span><span class="s0">.</span><span class="s2">default</span><span class="s0">)(), </span><span class="s3">&quot;  &quot;</span><span class="s0">);</span>
        <span class="s1">let </span><span class="s2">width </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s2">index </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">index </span><span class="s0">&lt; </span><span class="s2">string</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; </span><span class="s2">index</span><span class="s0">++) {</span>
          <span class="s1">const </span><span class="s2">codePoint </span><span class="s0">= </span><span class="s2">string</span><span class="s0">.</span><span class="s2">codePointAt</span><span class="s0">(</span><span class="s2">index</span><span class="s0">);</span>
          <span class="s1">if </span><span class="s0">(</span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">31 </span><span class="s0">|| </span><span class="s2">codePoint </span><span class="s0">&gt;= </span><span class="s4">127 </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">159</span><span class="s0">) {</span>
            <span class="s1">continue</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(</span><span class="s2">codePoint </span><span class="s0">&gt;= </span><span class="s4">768 </span><span class="s0">&amp;&amp; </span><span class="s2">codePoint </span><span class="s0">&lt;= </span><span class="s4">879</span><span class="s0">) {</span>
            <span class="s1">continue</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">if </span><span class="s0">(</span><span class="s2">codePoint </span><span class="s0">&gt; </span><span class="s4">65535</span><span class="s0">) {</span>
            <span class="s2">index</span><span class="s0">++;</span>
          <span class="s0">}</span>
          <span class="s2">width </span><span class="s0">+= </span><span class="s2">isFullwidthCodePoint</span><span class="s0">(</span><span class="s2">codePoint</span><span class="s0">) ? </span><span class="s4">2 </span><span class="s0">: </span><span class="s4">1</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">width</span><span class="s0">;</span>
      <span class="s0">}</span>
      <span class="s1">var </span><span class="s2">import_emoji_regex</span><span class="s0">;</span>
      <span class="s1">var </span><span class="s2">init_string_width </span><span class="s0">= </span><span class="s2">__esm</span><span class="s0">({</span>
        <span class="s3">&quot;node_modules/string-width/index.js&quot;</span><span class="s0">() {</span>
          <span class="s2">init_define_process</span><span class="s0">();</span>
          <span class="s2">init_strip_ansi</span><span class="s0">();</span>
          <span class="s2">init_is_fullwidth_code_point</span><span class="s0">();</span>
          <span class="s2">import_emoji_regex </span><span class="s0">= </span><span class="s2">__toESM</span><span class="s0">(</span><span class="s2">require_emoji_regex</span><span class="s0">());</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s1">var </span><span class="s2">require_get_string_width </span><span class="s0">= </span><span class="s2">__commonJS2</span><span class="s0">({</span>
        <span class="s3">&quot;src/utils/get-string-width.js&quot;</span><span class="s0">(</span><span class="s2">exports2</span><span class="s0">, </span><span class="s2">module2</span><span class="s0">) {</span>
          <span class="s3">&quot;use strict&quot;</span><span class="s0">;</span>
          <span class="s2">init_define_process</span><span class="s0">();</span>
          <span class="s1">var </span><span class="s2">stringWidth2 </span><span class="s0">= (</span><span class="s2">init_string_width</span><span class="s0">(), </span><span class="s2">__toCommonJS</span><span class="s0">(</span><span class="s2">string_width_exports</span><span class="s0">)).</span><span class="s2">default</span><span class="s0">;</span>
          <span class="s1">var </span><span class="s2">notAsciiRegex </span><span class="s0">= </span><span class="s6">/[^\x20-\x7F]/</span><span class="s0">;</span>
          <span class="s1">function </span><span class="s2">getStringWidth</span><span class="s0">(</span><span class="s2">text</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s2">text</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s2">notAsciiRegex</span><span class="s0">.</span><span class="s2">test</span><span class="s0">(</span><span class="s2">text</span><span class="s0">)) {</span>
              <span class="s1">return </span><span class="s2">text</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">stringWidth2</span><span class="s0">(</span><span class="s2">text</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s2">module2</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s2">getStringWidth</span><span class="s0">;</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s1">var </span><span class="s2">require_doc_utils </span><span class="s0">= </span><span class="s2">__commonJS2</span><span class="s0">({</span>
        <span class="s3">&quot;src/document/doc-utils.js&quot;</span><span class="s0">(</span><span class="s2">exports2</span><span class="s0">, </span><span class="s2">module2</span><span class="s0">) {</span>
          <span class="s3">&quot;use strict&quot;</span><span class="s0">;</span>
          <span class="s2">init_define_process</span><span class="s0">();</span>
          <span class="s1">var </span><span class="s2">getLast </span><span class="s0">= </span><span class="s2">require_get_last</span><span class="s0">();</span>
          <span class="s1">var </span><span class="s0">{</span>
            <span class="s2">literalline</span><span class="s0">,</span>
            <span class="s2">join</span>
          <span class="s0">} = </span><span class="s2">require_doc_builders</span><span class="s0">();</span>
          <span class="s1">var </span><span class="s2">isConcat </span><span class="s0">= (</span><span class="s2">doc</span><span class="s0">) =&gt; </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) || </span><span class="s2">doc </span><span class="s0">&amp;&amp; </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;concat&quot;</span><span class="s0">;</span>
          <span class="s1">var </span><span class="s2">getDocParts </span><span class="s0">= (</span><span class="s2">doc</span><span class="s0">) =&gt; {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">)) {</span>
              <span class="s1">return </span><span class="s2">doc</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">!== </span><span class="s3">&quot;concat&quot; </span><span class="s0">&amp;&amp; </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">!== </span><span class="s3">&quot;fill&quot;</span><span class="s0">) {</span>
              <span class="s1">throw new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">&quot;Expect doc type to be `concat` or `fill`.&quot;</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">parts</span><span class="s0">;</span>
          <span class="s0">};</span>
          <span class="s1">var </span><span class="s2">traverseDocOnExitStackMarker </span><span class="s0">= {};</span>
          <span class="s1">function </span><span class="s2">traverseDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, </span><span class="s2">onEnter</span><span class="s0">, </span><span class="s2">onExit</span><span class="s0">, </span><span class="s2">shouldTraverseConditionalGroups</span><span class="s0">) {</span>
            <span class="s1">const </span><span class="s2">docsStack </span><span class="s0">= [</span><span class="s2">doc</span><span class="s0">];</span>
            <span class="s1">while </span><span class="s0">(</span><span class="s2">docsStack</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">) {</span>
              <span class="s1">const </span><span class="s2">doc2 </span><span class="s0">= </span><span class="s2">docsStack</span><span class="s0">.</span><span class="s2">pop</span><span class="s0">();</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2 </span><span class="s0">=== </span><span class="s2">traverseDocOnExitStackMarker</span><span class="s0">) {</span>
                <span class="s2">onExit</span><span class="s0">(</span><span class="s2">docsStack</span><span class="s0">.</span><span class="s2">pop</span><span class="s0">());</span>
                <span class="s1">continue</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">onExit</span><span class="s0">) {</span>
                <span class="s2">docsStack</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">, </span><span class="s2">traverseDocOnExitStackMarker</span><span class="s0">);</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(!</span><span class="s2">onEnter </span><span class="s0">|| </span><span class="s2">onEnter</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">) !== </span><span class="s1">false</span><span class="s0">) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">isConcat</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">) || </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;fill&quot;</span><span class="s0">) {</span>
                  <span class="s1">const </span><span class="s2">parts </span><span class="s0">= </span><span class="s2">getDocParts</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">);</span>
                  <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s2">ic </span><span class="s0">= </span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length</span><span class="s0">, </span><span class="s2">i </span><span class="s0">= </span><span class="s2">ic </span><span class="s0">- </span><span class="s4">1</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&gt;= </span><span class="s4">0</span><span class="s0">; --</span><span class="s2">i</span><span class="s0">) {</span>
                    <span class="s2">docsStack</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">parts</span><span class="s0">[</span><span class="s2">i</span><span class="s0">]);</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;if-break&quot;</span><span class="s0">) {</span>
                  <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">flatContents</span><span class="s0">) {</span>
                    <span class="s2">docsStack</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">flatContents</span><span class="s0">);</span>
                  <span class="s0">}</span>
                  <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">breakContents</span><span class="s0">) {</span>
                    <span class="s2">docsStack</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">breakContents</span><span class="s0">);</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;group&quot; </span><span class="s0">&amp;&amp; </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">) {</span>
                  <span class="s1">if </span><span class="s0">(</span><span class="s2">shouldTraverseConditionalGroups</span><span class="s0">) {</span>
                    <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s2">ic </span><span class="s0">= </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">.</span><span class="s2">length</span><span class="s0">, </span><span class="s2">i </span><span class="s0">= </span><span class="s2">ic </span><span class="s0">- </span><span class="s4">1</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&gt;= </span><span class="s4">0</span><span class="s0">; --</span><span class="s2">i</span><span class="s0">) {</span>
                      <span class="s2">docsStack</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">[</span><span class="s2">i</span><span class="s0">]);</span>
                    <span class="s0">}</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s2">docsStack</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">);</span>
                  <span class="s0">}</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">) {</span>
                  <span class="s2">docsStack</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">mapDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, </span><span class="s2">cb</span><span class="s0">) {</span>
            <span class="s1">const </span><span class="s2">mapped </span><span class="s0">= </span><span class="s5">/* @__PURE__ */ </span><span class="s1">new </span><span class="s2">Map</span><span class="s0">();</span>
            <span class="s1">return </span><span class="s2">rec</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">);</span>
            <span class="s1">function </span><span class="s2">rec</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">) {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">mapped</span><span class="s0">.</span><span class="s2">has</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">)) {</span>
                <span class="s1">return </span><span class="s2">mapped</span><span class="s0">.</span><span class="s2">get</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">);</span>
              <span class="s0">}</span>
              <span class="s1">const </span><span class="s2">result </span><span class="s0">= </span><span class="s2">process2</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">);</span>
              <span class="s2">mapped</span><span class="s0">.</span><span class="s2">set</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">, </span><span class="s2">result</span><span class="s0">);</span>
              <span class="s1">return </span><span class="s2">result</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s2">process2</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">) {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">)) {</span>
                <span class="s1">return </span><span class="s2">cb</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">map</span><span class="s0">(</span><span class="s2">rec</span><span class="s0">));</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;concat&quot; </span><span class="s0">|| </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;fill&quot;</span><span class="s0">) {</span>
                <span class="s1">const </span><span class="s2">parts </span><span class="s0">= </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">map</span><span class="s0">(</span><span class="s2">rec</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s2">cb</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">doc2</span><span class="s0">), {}, {</span>
                  <span class="s2">parts</span>
                <span class="s0">}));</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;if-break&quot;</span><span class="s0">) {</span>
                <span class="s1">const </span><span class="s2">breakContents </span><span class="s0">= </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">breakContents </span><span class="s0">&amp;&amp; </span><span class="s2">rec</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">breakContents</span><span class="s0">);</span>
                <span class="s1">const </span><span class="s2">flatContents </span><span class="s0">= </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">flatContents </span><span class="s0">&amp;&amp; </span><span class="s2">rec</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">flatContents</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s2">cb</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">doc2</span><span class="s0">), {}, {</span>
                  <span class="s2">breakContents</span><span class="s0">,</span>
                  <span class="s2">flatContents</span>
                <span class="s0">}));</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;group&quot; </span><span class="s0">&amp;&amp; </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">) {</span>
                <span class="s1">const </span><span class="s2">expandedStates </span><span class="s0">= </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">.</span><span class="s2">map</span><span class="s0">(</span><span class="s2">rec</span><span class="s0">);</span>
                <span class="s1">const </span><span class="s2">contents </span><span class="s0">= </span><span class="s2">expandedStates</span><span class="s0">[</span><span class="s4">0</span><span class="s0">];</span>
                <span class="s1">return </span><span class="s2">cb</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">doc2</span><span class="s0">), {}, {</span>
                  <span class="s2">contents</span><span class="s0">,</span>
                  <span class="s2">expandedStates</span>
                <span class="s0">}));</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">) {</span>
                <span class="s1">const </span><span class="s2">contents </span><span class="s0">= </span><span class="s2">rec</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s2">cb</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">doc2</span><span class="s0">), {}, {</span>
                  <span class="s2">contents</span>
                <span class="s0">}));</span>
              <span class="s0">}</span>
              <span class="s1">return </span><span class="s2">cb</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">);</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">findInDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, </span><span class="s2">fn</span><span class="s0">, </span><span class="s2">defaultValue</span><span class="s0">) {</span>
            <span class="s1">let </span><span class="s2">result </span><span class="s0">= </span><span class="s2">defaultValue</span><span class="s0">;</span>
            <span class="s1">let </span><span class="s2">hasStopped </span><span class="s0">= </span><span class="s1">false</span><span class="s0">;</span>
            <span class="s1">function </span><span class="s2">findInDocOnEnterFn</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">) {</span>
              <span class="s1">const </span><span class="s2">maybeResult </span><span class="s0">= </span><span class="s2">fn</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">);</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">maybeResult </span><span class="s0">!== </span><span class="s1">void </span><span class="s4">0</span><span class="s0">) {</span>
                <span class="s2">hasStopped </span><span class="s0">= </span><span class="s1">true</span><span class="s0">;</span>
                <span class="s2">result </span><span class="s0">= </span><span class="s2">maybeResult</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">hasStopped</span><span class="s0">) {</span>
                <span class="s1">return false</span><span class="s0">;</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s2">traverseDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, </span><span class="s2">findInDocOnEnterFn</span><span class="s0">);</span>
            <span class="s1">return </span><span class="s2">result</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">willBreakFn</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;group&quot; </span><span class="s0">&amp;&amp; </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">break</span><span class="s0">) {</span>
              <span class="s1">return true</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;line&quot; </span><span class="s0">&amp;&amp; </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">hard</span><span class="s0">) {</span>
              <span class="s1">return true</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;break-parent&quot;</span><span class="s0">) {</span>
              <span class="s1">return true</span><span class="s0">;</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">willBreak</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">findInDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, </span><span class="s2">willBreakFn</span><span class="s0">, </span><span class="s1">false</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">breakParentGroup</span><span class="s0">(</span><span class="s2">groupStack</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">groupStack</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">) {</span>
              <span class="s1">const </span><span class="s2">parentGroup </span><span class="s0">= </span><span class="s2">getLast</span><span class="s0">(</span><span class="s2">groupStack</span><span class="s0">);</span>
              <span class="s1">if </span><span class="s0">(!</span><span class="s2">parentGroup</span><span class="s0">.</span><span class="s2">expandedStates </span><span class="s0">&amp;&amp; !</span><span class="s2">parentGroup</span><span class="s0">.</span><span class="s2">break</span><span class="s0">) {</span>
                <span class="s2">parentGroup</span><span class="s0">.</span><span class="s2">break </span><span class="s0">= </span><span class="s3">&quot;propagated&quot;</span><span class="s0">;</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">return null</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">propagateBreaks</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">const </span><span class="s2">alreadyVisitedSet </span><span class="s0">= </span><span class="s5">/* @__PURE__ */ </span><span class="s1">new </span><span class="s2">Set</span><span class="s0">();</span>
            <span class="s1">const </span><span class="s2">groupStack </span><span class="s0">= [];</span>
            <span class="s1">function </span><span class="s2">propagateBreaksOnEnterFn</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">) {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;break-parent&quot;</span><span class="s0">) {</span>
                <span class="s2">breakParentGroup</span><span class="s0">(</span><span class="s2">groupStack</span><span class="s0">);</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;group&quot;</span><span class="s0">) {</span>
                <span class="s2">groupStack</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">alreadyVisitedSet</span><span class="s0">.</span><span class="s2">has</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">)) {</span>
                  <span class="s1">return false</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s2">alreadyVisitedSet</span><span class="s0">.</span><span class="s2">add</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s2">propagateBreaksOnExitFn</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">) {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;group&quot;</span><span class="s0">) {</span>
                <span class="s1">const </span><span class="s2">group </span><span class="s0">= </span><span class="s2">groupStack</span><span class="s0">.</span><span class="s2">pop</span><span class="s0">();</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">group</span><span class="s0">.</span><span class="s2">break</span><span class="s0">) {</span>
                  <span class="s2">breakParentGroup</span><span class="s0">(</span><span class="s2">groupStack</span><span class="s0">);</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s2">traverseDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, </span><span class="s2">propagateBreaksOnEnterFn</span><span class="s0">, </span><span class="s2">propagateBreaksOnExitFn</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">removeLinesFn</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;line&quot; </span><span class="s0">&amp;&amp; !</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">hard</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">soft </span><span class="s0">? </span><span class="s3">&quot;&quot; </span><span class="s0">: </span><span class="s3">&quot; &quot;</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;if-break&quot;</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">flatContents </span><span class="s0">|| </span><span class="s3">&quot;&quot;</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">doc</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">removeLines</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">mapDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, </span><span class="s2">removeLinesFn</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s1">var </span><span class="s2">isHardline </span><span class="s0">= (</span><span class="s2">doc</span><span class="s0">, </span><span class="s2">nextDoc</span><span class="s0">) =&gt; </span><span class="s2">doc </span><span class="s0">&amp;&amp; </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;line&quot; </span><span class="s0">&amp;&amp; </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">hard </span><span class="s0">&amp;&amp; </span><span class="s2">nextDoc </span><span class="s0">&amp;&amp; </span><span class="s2">nextDoc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;break-parent&quot;</span><span class="s0">;</span>
          <span class="s1">function </span><span class="s2">stripDocTrailingHardlineFromDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s2">doc</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s2">doc</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">isConcat</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) || </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;fill&quot;</span><span class="s0">) {</span>
              <span class="s1">const </span><span class="s2">parts </span><span class="s0">= </span><span class="s2">getDocParts</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">);</span>
              <span class="s1">while </span><span class="s0">(</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">1 </span><span class="s0">&amp;&amp; </span><span class="s2">isHardline</span><span class="s0">(</span><span class="s2">...parts</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">(-</span><span class="s4">2</span><span class="s0">))) {</span>
                <span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">-= </span><span class="s4">2</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">) {</span>
                <span class="s1">const </span><span class="s2">lastPart </span><span class="s0">= </span><span class="s2">stripDocTrailingHardlineFromDoc</span><span class="s0">(</span><span class="s2">getLast</span><span class="s0">(</span><span class="s2">parts</span><span class="s0">));</span>
                <span class="s2">parts</span><span class="s0">[</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- </span><span class="s4">1</span><span class="s0">] = </span><span class="s2">lastPart</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">return </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) ? </span><span class="s2">parts </span><span class="s0">: </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">doc</span><span class="s0">), {}, {</span>
                <span class="s2">parts</span>
              <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s1">switch </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type</span><span class="s0">) {</span>
              <span class="s1">case </span><span class="s3">&quot;align&quot;</span><span class="s0">:</span>
              <span class="s1">case </span><span class="s3">&quot;indent&quot;</span><span class="s0">:</span>
              <span class="s1">case </span><span class="s3">&quot;indent-if-break&quot;</span><span class="s0">:</span>
              <span class="s1">case </span><span class="s3">&quot;group&quot;</span><span class="s0">:</span>
              <span class="s1">case </span><span class="s3">&quot;line-suffix&quot;</span><span class="s0">:</span>
              <span class="s1">case </span><span class="s3">&quot;label&quot;</span><span class="s0">: {</span>
                <span class="s1">const </span><span class="s2">contents </span><span class="s0">= </span><span class="s2">stripDocTrailingHardlineFromDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">doc</span><span class="s0">), {}, {</span>
                  <span class="s2">contents</span>
                <span class="s0">});</span>
              <span class="s0">}</span>
              <span class="s1">case </span><span class="s3">&quot;if-break&quot;</span><span class="s0">: {</span>
                <span class="s1">const </span><span class="s2">breakContents </span><span class="s0">= </span><span class="s2">stripDocTrailingHardlineFromDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">breakContents</span><span class="s0">);</span>
                <span class="s1">const </span><span class="s2">flatContents </span><span class="s0">= </span><span class="s2">stripDocTrailingHardlineFromDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">flatContents</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">doc</span><span class="s0">), {}, {</span>
                  <span class="s2">breakContents</span><span class="s0">,</span>
                  <span class="s2">flatContents</span>
                <span class="s0">});</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">doc</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">stripTrailingHardline</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">stripDocTrailingHardlineFromDoc</span><span class="s0">(</span><span class="s2">cleanDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">));</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">cleanDocFn</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">switch </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type</span><span class="s0">) {</span>
              <span class="s1">case </span><span class="s3">&quot;fill&quot;</span><span class="s0">:</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">every</span><span class="s0">((</span><span class="s2">part</span><span class="s0">) =&gt; </span><span class="s2">part </span><span class="s0">=== </span><span class="s3">&quot;&quot;</span><span class="s0">)) {</span>
                  <span class="s1">return </span><span class="s3">&quot;&quot;</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">break</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s3">&quot;group&quot;</span><span class="s0">:</span>
                <span class="s1">if </span><span class="s0">(!</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents </span><span class="s0">&amp;&amp; !</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">id </span><span class="s0">&amp;&amp; !</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">break </span><span class="s0">&amp;&amp; !</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">) {</span>
                  <span class="s1">return </span><span class="s3">&quot;&quot;</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;group&quot; </span><span class="s0">&amp;&amp; </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">.</span><span class="s2">id </span><span class="s0">=== </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">id </span><span class="s0">&amp;&amp; </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">.</span><span class="s2">break </span><span class="s0">=== </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">break </span><span class="s0">&amp;&amp; </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">.</span><span class="s2">expandedStates </span><span class="s0">=== </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">) {</span>
                  <span class="s1">return </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">break</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s3">&quot;align&quot;</span><span class="s0">:</span>
              <span class="s1">case </span><span class="s3">&quot;indent&quot;</span><span class="s0">:</span>
              <span class="s1">case </span><span class="s3">&quot;indent-if-break&quot;</span><span class="s0">:</span>
              <span class="s1">case </span><span class="s3">&quot;line-suffix&quot;</span><span class="s0">:</span>
                <span class="s1">if </span><span class="s0">(!</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">) {</span>
                  <span class="s1">return </span><span class="s3">&quot;&quot;</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">break</span><span class="s0">;</span>
              <span class="s1">case </span><span class="s3">&quot;if-break&quot;</span><span class="s0">:</span>
                <span class="s1">if </span><span class="s0">(!</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">flatContents </span><span class="s0">&amp;&amp; !</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">breakContents</span><span class="s0">) {</span>
                  <span class="s1">return </span><span class="s3">&quot;&quot;</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">break</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s2">isConcat</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">)) {</span>
              <span class="s1">return </span><span class="s2">doc</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">const </span><span class="s2">parts </span><span class="s0">= [];</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">const </span><span class="s2">part of getDocParts</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">)) {</span>
              <span class="s1">if </span><span class="s0">(!</span><span class="s2">part</span><span class="s0">) {</span>
                <span class="s1">continue</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">const </span><span class="s0">[</span><span class="s2">currentPart</span><span class="s0">, </span><span class="s2">...restParts</span><span class="s0">] = </span><span class="s2">isConcat</span><span class="s0">(</span><span class="s2">part</span><span class="s0">) ? </span><span class="s2">getDocParts</span><span class="s0">(</span><span class="s2">part</span><span class="s0">) : [</span><span class="s2">part</span><span class="s0">];</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">currentPart </span><span class="s0">=== </span><span class="s3">&quot;string&quot; </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">getLast</span><span class="s0">(</span><span class="s2">parts</span><span class="s0">) === </span><span class="s3">&quot;string&quot;</span><span class="s0">) {</span>
                <span class="s2">parts</span><span class="s0">[</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- </span><span class="s4">1</span><span class="s0">] += </span><span class="s2">currentPart</span><span class="s0">;</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s2">parts</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">currentPart</span><span class="s0">);</span>
              <span class="s0">}</span>
              <span class="s2">parts</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">...restParts</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s3">&quot;&quot;</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">1</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s2">parts</span><span class="s0">[</span><span class="s4">0</span><span class="s0">];</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) ? </span><span class="s2">parts </span><span class="s0">: </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">doc</span><span class="s0">), {}, {</span>
              <span class="s2">parts</span>
            <span class="s0">});</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">cleanDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">mapDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, (</span><span class="s2">currentDoc</span><span class="s0">) =&gt; </span><span class="s2">cleanDocFn</span><span class="s0">(</span><span class="s2">currentDoc</span><span class="s0">));</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">normalizeParts</span><span class="s0">(</span><span class="s2">parts</span><span class="s0">) {</span>
            <span class="s1">const </span><span class="s2">newParts </span><span class="s0">= [];</span>
            <span class="s1">const </span><span class="s2">restParts </span><span class="s0">= </span><span class="s2">parts</span><span class="s0">.</span><span class="s2">filter</span><span class="s0">(</span><span class="s2">Boolean</span><span class="s0">);</span>
            <span class="s1">while </span><span class="s0">(</span><span class="s2">restParts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">) {</span>
              <span class="s1">const </span><span class="s2">part </span><span class="s0">= </span><span class="s2">restParts</span><span class="s0">.</span><span class="s2">shift</span><span class="s0">();</span>
              <span class="s1">if </span><span class="s0">(!</span><span class="s2">part</span><span class="s0">) {</span>
                <span class="s1">continue</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">isConcat</span><span class="s0">(</span><span class="s2">part</span><span class="s0">)) {</span>
                <span class="s2">restParts</span><span class="s0">.</span><span class="s2">unshift</span><span class="s0">(</span><span class="s2">...getDocParts</span><span class="s0">(</span><span class="s2">part</span><span class="s0">));</span>
                <span class="s1">continue</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">newParts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">getLast</span><span class="s0">(</span><span class="s2">newParts</span><span class="s0">) === </span><span class="s3">&quot;string&quot; </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">part </span><span class="s0">=== </span><span class="s3">&quot;string&quot;</span><span class="s0">) {</span>
                <span class="s2">newParts</span><span class="s0">[</span><span class="s2">newParts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- </span><span class="s4">1</span><span class="s0">] += </span><span class="s2">part</span><span class="s0">;</span>
                <span class="s1">continue</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s2">newParts</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">part</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">newParts</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">normalizeDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">mapDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, (</span><span class="s2">currentDoc</span><span class="s0">) =&gt; {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">currentDoc</span><span class="s0">)) {</span>
                <span class="s1">return </span><span class="s2">normalizeParts</span><span class="s0">(</span><span class="s2">currentDoc</span><span class="s0">);</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(!</span><span class="s2">currentDoc</span><span class="s0">.</span><span class="s2">parts</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s2">currentDoc</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">return </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">currentDoc</span><span class="s0">), {}, {</span>
                <span class="s2">parts</span><span class="s0">: </span><span class="s2">normalizeParts</span><span class="s0">(</span><span class="s2">currentDoc</span><span class="s0">.</span><span class="s2">parts</span><span class="s0">)</span>
              <span class="s0">});</span>
            <span class="s0">});</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">replaceEndOfLine</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">mapDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, (</span><span class="s2">currentDoc</span><span class="s0">) =&gt; </span><span class="s1">typeof </span><span class="s2">currentDoc </span><span class="s0">=== </span><span class="s3">&quot;string&quot; </span><span class="s0">&amp;&amp; </span><span class="s2">currentDoc</span><span class="s0">.</span><span class="s2">includes</span><span class="s0">(</span><span class="s3">&quot;</span><span class="s1">\n</span><span class="s3">&quot;</span><span class="s0">) ? </span><span class="s2">replaceTextEndOfLine</span><span class="s0">(</span><span class="s2">currentDoc</span><span class="s0">) : </span><span class="s2">currentDoc</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">replaceTextEndOfLine</span><span class="s0">(</span><span class="s2">text</span><span class="s0">) {</span>
            <span class="s1">let </span><span class="s2">replacement </span><span class="s0">= </span><span class="s2">arguments</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">1 </span><span class="s0">&amp;&amp; </span><span class="s2">arguments</span><span class="s0">[</span><span class="s4">1</span><span class="s0">] !== </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">? </span><span class="s2">arguments</span><span class="s0">[</span><span class="s4">1</span><span class="s0">] : </span><span class="s2">literalline</span><span class="s0">;</span>
            <span class="s1">return </span><span class="s2">join</span><span class="s0">(</span><span class="s2">replacement</span><span class="s0">, </span><span class="s2">text</span><span class="s0">.</span><span class="s2">split</span><span class="s0">(</span><span class="s3">&quot;</span><span class="s1">\n</span><span class="s3">&quot;</span><span class="s0">)).</span><span class="s2">parts</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">canBreakFn</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;line&quot;</span><span class="s0">) {</span>
              <span class="s1">return true</span><span class="s0">;</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">canBreak</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">findInDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, </span><span class="s2">canBreakFn</span><span class="s0">, </span><span class="s1">false</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s2">module2</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= {</span>
            <span class="s2">isConcat</span><span class="s0">,</span>
            <span class="s2">getDocParts</span><span class="s0">,</span>
            <span class="s2">willBreak</span><span class="s0">,</span>
            <span class="s2">traverseDoc</span><span class="s0">,</span>
            <span class="s2">findInDoc</span><span class="s0">,</span>
            <span class="s2">mapDoc</span><span class="s0">,</span>
            <span class="s2">propagateBreaks</span><span class="s0">,</span>
            <span class="s2">removeLines</span><span class="s0">,</span>
            <span class="s2">stripTrailingHardline</span><span class="s0">,</span>
            <span class="s2">normalizeParts</span><span class="s0">,</span>
            <span class="s2">normalizeDoc</span><span class="s0">,</span>
            <span class="s2">cleanDoc</span><span class="s0">,</span>
            <span class="s2">replaceTextEndOfLine</span><span class="s0">,</span>
            <span class="s2">replaceEndOfLine</span><span class="s0">,</span>
            <span class="s2">canBreak</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s1">var </span><span class="s2">require_doc_printer </span><span class="s0">= </span><span class="s2">__commonJS2</span><span class="s0">({</span>
        <span class="s3">&quot;src/document/doc-printer.js&quot;</span><span class="s0">(</span><span class="s2">exports2</span><span class="s0">, </span><span class="s2">module2</span><span class="s0">) {</span>
          <span class="s3">&quot;use strict&quot;</span><span class="s0">;</span>
          <span class="s2">init_define_process</span><span class="s0">();</span>
          <span class="s1">var </span><span class="s0">{</span>
            <span class="s2">convertEndOfLineToChars</span>
          <span class="s0">} = </span><span class="s2">require_end_of_line</span><span class="s0">();</span>
          <span class="s1">var </span><span class="s2">getLast </span><span class="s0">= </span><span class="s2">require_get_last</span><span class="s0">();</span>
          <span class="s1">var </span><span class="s2">getStringWidth </span><span class="s0">= </span><span class="s2">require_get_string_width</span><span class="s0">();</span>
          <span class="s1">var </span><span class="s0">{</span>
            <span class="s2">fill</span><span class="s0">,</span>
            <span class="s2">cursor</span><span class="s0">,</span>
            <span class="s2">indent</span>
          <span class="s0">} = </span><span class="s2">require_doc_builders</span><span class="s0">();</span>
          <span class="s1">var </span><span class="s0">{</span>
            <span class="s2">isConcat</span><span class="s0">,</span>
            <span class="s2">getDocParts</span>
          <span class="s0">} = </span><span class="s2">require_doc_utils</span><span class="s0">();</span>
          <span class="s1">var </span><span class="s2">groupModeMap</span><span class="s0">;</span>
          <span class="s1">var </span><span class="s2">MODE_BREAK </span><span class="s0">= </span><span class="s4">1</span><span class="s0">;</span>
          <span class="s1">var </span><span class="s2">MODE_FLAT </span><span class="s0">= </span><span class="s4">2</span><span class="s0">;</span>
          <span class="s1">function </span><span class="s2">rootIndent</span><span class="s0">() {</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s2">value</span><span class="s0">: </span><span class="s3">&quot;&quot;</span><span class="s0">,</span>
              <span class="s2">length</span><span class="s0">: </span><span class="s4">0</span><span class="s0">,</span>
              <span class="s2">queue</span><span class="s0">: []</span>
            <span class="s0">};</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">makeIndent</span><span class="s0">(</span><span class="s2">ind</span><span class="s0">, </span><span class="s2">options</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">generateInd</span><span class="s0">(</span><span class="s2">ind</span><span class="s0">, {</span>
              <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;indent&quot;</span>
            <span class="s0">}, </span><span class="s2">options</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">makeAlign</span><span class="s0">(</span><span class="s2">indent2</span><span class="s0">, </span><span class="s2">widthOrDoc</span><span class="s0">, </span><span class="s2">options</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">widthOrDoc </span><span class="s0">=== </span><span class="s2">Number</span><span class="s0">.</span><span class="s2">NEGATIVE_INFINITY</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s2">indent2</span><span class="s0">.</span><span class="s2">root </span><span class="s0">|| </span><span class="s2">rootIndent</span><span class="s0">();</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">widthOrDoc </span><span class="s0">&lt; </span><span class="s4">0</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s2">generateInd</span><span class="s0">(</span><span class="s2">indent2</span><span class="s0">, {</span>
                <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;dedent&quot;</span>
              <span class="s0">}, </span><span class="s2">options</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s2">widthOrDoc</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s2">indent2</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">widthOrDoc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;root&quot;</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">indent2</span><span class="s0">), {}, {</span>
                <span class="s2">root</span><span class="s0">: </span><span class="s2">indent2</span>
              <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s1">const </span><span class="s2">alignType </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">widthOrDoc </span><span class="s0">=== </span><span class="s3">&quot;string&quot; </span><span class="s0">? </span><span class="s3">&quot;stringAlign&quot; </span><span class="s0">: </span><span class="s3">&quot;numberAlign&quot;</span><span class="s0">;</span>
            <span class="s1">return </span><span class="s2">generateInd</span><span class="s0">(</span><span class="s2">indent2</span><span class="s0">, {</span>
              <span class="s2">type</span><span class="s0">: </span><span class="s2">alignType</span><span class="s0">,</span>
              <span class="s2">n</span><span class="s0">: </span><span class="s2">widthOrDoc</span>
            <span class="s0">}, </span><span class="s2">options</span><span class="s0">);</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">generateInd</span><span class="s0">(</span><span class="s2">ind</span><span class="s0">, </span><span class="s2">newPart</span><span class="s0">, </span><span class="s2">options</span><span class="s0">) {</span>
            <span class="s1">const </span><span class="s2">queue </span><span class="s0">= </span><span class="s2">newPart</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;dedent&quot; </span><span class="s0">? </span><span class="s2">ind</span><span class="s0">.</span><span class="s2">queue</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">(</span><span class="s4">0</span><span class="s0">, -</span><span class="s4">1</span><span class="s0">) : [</span><span class="s2">...ind</span><span class="s0">.</span><span class="s2">queue</span><span class="s0">, </span><span class="s2">newPart</span><span class="s0">];</span>
            <span class="s1">let </span><span class="s2">value </span><span class="s0">= </span><span class="s3">&quot;&quot;</span><span class="s0">;</span>
            <span class="s1">let </span><span class="s2">length </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s1">let </span><span class="s2">lastTabs </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s1">let </span><span class="s2">lastSpaces </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s1">for </span><span class="s0">(</span><span class="s1">const </span><span class="s2">part of queue</span><span class="s0">) {</span>
              <span class="s1">switch </span><span class="s0">(</span><span class="s2">part</span><span class="s0">.</span><span class="s2">type</span><span class="s0">) {</span>
                <span class="s1">case </span><span class="s3">&quot;indent&quot;</span><span class="s0">:</span>
                  <span class="s2">flush</span><span class="s0">();</span>
                  <span class="s1">if </span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">useTabs</span><span class="s0">) {</span>
                    <span class="s2">addTabs</span><span class="s0">(</span><span class="s4">1</span><span class="s0">);</span>
                  <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s2">addSpaces</span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">tabWidth</span><span class="s0">);</span>
                  <span class="s0">}</span>
                  <span class="s1">break</span><span class="s0">;</span>
                <span class="s1">case </span><span class="s3">&quot;stringAlign&quot;</span><span class="s0">:</span>
                  <span class="s2">flush</span><span class="s0">();</span>
                  <span class="s2">value </span><span class="s0">+= </span><span class="s2">part</span><span class="s0">.</span><span class="s2">n</span><span class="s0">;</span>
                  <span class="s2">length </span><span class="s0">+= </span><span class="s2">part</span><span class="s0">.</span><span class="s2">n</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span>
                  <span class="s1">break</span><span class="s0">;</span>
                <span class="s1">case </span><span class="s3">&quot;numberAlign&quot;</span><span class="s0">:</span>
                  <span class="s2">lastTabs </span><span class="s0">+= </span><span class="s4">1</span><span class="s0">;</span>
                  <span class="s2">lastSpaces </span><span class="s0">+= </span><span class="s2">part</span><span class="s0">.</span><span class="s2">n</span><span class="s0">;</span>
                  <span class="s1">break</span><span class="s0">;</span>
                <span class="s1">default</span><span class="s0">:</span>
                  <span class="s1">throw new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">`Unexpected type '</span><span class="s2">$</span><span class="s0">{</span><span class="s2">part</span><span class="s0">.</span><span class="s2">type</span><span class="s0">}</span><span class="s3">'`</span><span class="s0">);</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s2">flushSpaces</span><span class="s0">();</span>
            <span class="s1">return </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">ind</span><span class="s0">), {}, {</span>
              <span class="s2">value</span><span class="s0">,</span>
              <span class="s2">length</span><span class="s0">,</span>
              <span class="s2">queue</span>
            <span class="s0">});</span>
            <span class="s1">function </span><span class="s2">addTabs</span><span class="s0">(</span><span class="s2">count</span><span class="s0">) {</span>
              <span class="s2">value </span><span class="s0">+= </span><span class="s3">&quot;    &quot;</span><span class="s0">.</span><span class="s2">repeat</span><span class="s0">(</span><span class="s2">count</span><span class="s0">);</span>
              <span class="s2">length </span><span class="s0">+= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">tabWidth </span><span class="s0">* </span><span class="s2">count</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s2">addSpaces</span><span class="s0">(</span><span class="s2">count</span><span class="s0">) {</span>
              <span class="s2">value </span><span class="s0">+= </span><span class="s3">&quot; &quot;</span><span class="s0">.</span><span class="s2">repeat</span><span class="s0">(</span><span class="s2">count</span><span class="s0">);</span>
              <span class="s2">length </span><span class="s0">+= </span><span class="s2">count</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s2">flush</span><span class="s0">() {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">useTabs</span><span class="s0">) {</span>
                <span class="s2">flushTabs</span><span class="s0">();</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s2">flushSpaces</span><span class="s0">();</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s2">flushTabs</span><span class="s0">() {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">lastTabs </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">) {</span>
                <span class="s2">addTabs</span><span class="s0">(</span><span class="s2">lastTabs</span><span class="s0">);</span>
              <span class="s0">}</span>
              <span class="s2">resetLast</span><span class="s0">();</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s2">flushSpaces</span><span class="s0">() {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">lastSpaces </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">) {</span>
                <span class="s2">addSpaces</span><span class="s0">(</span><span class="s2">lastSpaces</span><span class="s0">);</span>
              <span class="s0">}</span>
              <span class="s2">resetLast</span><span class="s0">();</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s2">resetLast</span><span class="s0">() {</span>
              <span class="s2">lastTabs </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
              <span class="s2">lastSpaces </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">trim</span><span class="s0">(</span><span class="s2">out</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">out</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">let </span><span class="s2">trimCount </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s1">while </span><span class="s0">(</span><span class="s2">out</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">getLast</span><span class="s0">(</span><span class="s2">out</span><span class="s0">) === </span><span class="s3">&quot;string&quot; </span><span class="s0">&amp;&amp; </span><span class="s6">/^[\t ]*$/</span><span class="s0">.</span><span class="s2">test</span><span class="s0">(</span><span class="s2">getLast</span><span class="s0">(</span><span class="s2">out</span><span class="s0">))) {</span>
              <span class="s2">trimCount </span><span class="s0">+= </span><span class="s2">out</span><span class="s0">.</span><span class="s2">pop</span><span class="s0">().</span><span class="s2">length</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">out</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">getLast</span><span class="s0">(</span><span class="s2">out</span><span class="s0">) === </span><span class="s3">&quot;string&quot;</span><span class="s0">) {</span>
              <span class="s1">const </span><span class="s2">trimmed </span><span class="s0">= </span><span class="s2">getLast</span><span class="s0">(</span><span class="s2">out</span><span class="s0">).</span><span class="s2">replace</span><span class="s0">(</span><span class="s6">/[\t ]*$/</span><span class="s0">, </span><span class="s3">&quot;&quot;</span><span class="s0">);</span>
              <span class="s2">trimCount </span><span class="s0">+= </span><span class="s2">getLast</span><span class="s0">(</span><span class="s2">out</span><span class="s0">).</span><span class="s2">length </span><span class="s0">- </span><span class="s2">trimmed</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span>
              <span class="s2">out</span><span class="s0">[</span><span class="s2">out</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- </span><span class="s4">1</span><span class="s0">] = </span><span class="s2">trimmed</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">trimCount</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">fits</span><span class="s0">(</span><span class="s2">next</span><span class="s0">, </span><span class="s2">restCommands</span><span class="s0">, </span><span class="s2">width</span><span class="s0">, </span><span class="s2">hasLineSuffix</span><span class="s0">, </span><span class="s2">mustBeFlat</span><span class="s0">) {</span>
            <span class="s1">let </span><span class="s2">restIdx </span><span class="s0">= </span><span class="s2">restCommands</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span>
            <span class="s1">const </span><span class="s2">cmds </span><span class="s0">= [</span><span class="s2">next</span><span class="s0">];</span>
            <span class="s1">const </span><span class="s2">out </span><span class="s0">= [];</span>
            <span class="s1">while </span><span class="s0">(</span><span class="s2">width </span><span class="s0">&gt;= </span><span class="s4">0</span><span class="s0">) {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">cmds</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">restIdx </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) {</span>
                  <span class="s1">return true</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">restCommands</span><span class="s0">[--</span><span class="s2">restIdx</span><span class="s0">]);</span>
                <span class="s1">continue</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">const </span><span class="s0">{</span>
                <span class="s2">mode</span><span class="s0">,</span>
                <span class="s2">doc</span>
              <span class="s0">} = </span><span class="s2">cmds</span><span class="s0">.</span><span class="s2">pop</span><span class="s0">();</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">doc </span><span class="s0">=== </span><span class="s3">&quot;string&quot;</span><span class="s0">) {</span>
                <span class="s2">out</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">);</span>
                <span class="s2">width </span><span class="s0">-= </span><span class="s2">getStringWidth</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">);</span>
              <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">isConcat</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) || </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;fill&quot;</span><span class="s0">) {</span>
                <span class="s1">const </span><span class="s2">parts </span><span class="s0">= </span><span class="s2">getDocParts</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">);</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s2">i </span><span class="s0">= </span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- </span><span class="s4">1</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&gt;= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i</span><span class="s0">--) {</span>
                  <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                    <span class="s2">mode</span><span class="s0">,</span>
                    <span class="s2">doc</span><span class="s0">: </span><span class="s2">parts</span><span class="s0">[</span><span class="s2">i</span><span class="s0">]</span>
                  <span class="s0">});</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">switch </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type</span><span class="s0">) {</span>
                  <span class="s1">case </span><span class="s3">&quot;indent&quot;</span><span class="s0">:</span>
                  <span class="s1">case </span><span class="s3">&quot;align&quot;</span><span class="s0">:</span>
                  <span class="s1">case </span><span class="s3">&quot;indent-if-break&quot;</span><span class="s0">:</span>
                  <span class="s1">case </span><span class="s3">&quot;label&quot;</span><span class="s0">:</span>
                    <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                      <span class="s2">mode</span><span class="s0">,</span>
                      <span class="s2">doc</span><span class="s0">: </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents</span>
                    <span class="s0">});</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">case </span><span class="s3">&quot;trim&quot;</span><span class="s0">:</span>
                    <span class="s2">width </span><span class="s0">+= </span><span class="s2">trim</span><span class="s0">(</span><span class="s2">out</span><span class="s0">);</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">case </span><span class="s3">&quot;group&quot;</span><span class="s0">: {</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">mustBeFlat </span><span class="s0">&amp;&amp; </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">break</span><span class="s0">) {</span>
                      <span class="s1">return false</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">const </span><span class="s2">groupMode </span><span class="s0">= </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">break </span><span class="s0">? </span><span class="s2">MODE_BREAK </span><span class="s0">: </span><span class="s2">mode</span><span class="s0">;</span>
                    <span class="s1">const </span><span class="s2">contents </span><span class="s0">= </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">expandedStates </span><span class="s0">&amp;&amp; </span><span class="s2">groupMode </span><span class="s0">=== </span><span class="s2">MODE_BREAK </span><span class="s0">? </span><span class="s2">getLast</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">) : </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">;</span>
                    <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                      <span class="s2">mode</span><span class="s0">: </span><span class="s2">groupMode</span><span class="s0">,</span>
                      <span class="s2">doc</span><span class="s0">: </span><span class="s2">contents</span>
                    <span class="s0">});</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s0">}</span>
                  <span class="s1">case </span><span class="s3">&quot;if-break&quot;</span><span class="s0">: {</span>
                    <span class="s1">const </span><span class="s2">groupMode </span><span class="s0">= </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">groupId </span><span class="s0">? </span><span class="s2">groupModeMap</span><span class="s0">[</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">groupId</span><span class="s0">] || </span><span class="s2">MODE_FLAT </span><span class="s0">: </span><span class="s2">mode</span><span class="s0">;</span>
                    <span class="s1">const </span><span class="s2">contents </span><span class="s0">= </span><span class="s2">groupMode </span><span class="s0">=== </span><span class="s2">MODE_BREAK </span><span class="s0">? </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">breakContents </span><span class="s0">: </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">flatContents</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">contents</span><span class="s0">) {</span>
                      <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                        <span class="s2">mode</span><span class="s0">,</span>
                        <span class="s2">doc</span><span class="s0">: </span><span class="s2">contents</span>
                      <span class="s0">});</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s0">}</span>
                  <span class="s1">case </span><span class="s3">&quot;line&quot;</span><span class="s0">:</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">mode </span><span class="s0">=== </span><span class="s2">MODE_BREAK </span><span class="s0">|| </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">hard</span><span class="s0">) {</span>
                      <span class="s1">return true</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(!</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">soft</span><span class="s0">) {</span>
                      <span class="s2">out</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s3">&quot; &quot;</span><span class="s0">);</span>
                      <span class="s2">width</span><span class="s0">--;</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">case </span><span class="s3">&quot;line-suffix&quot;</span><span class="s0">:</span>
                    <span class="s2">hasLineSuffix </span><span class="s0">= </span><span class="s1">true</span><span class="s0">;</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">case </span><span class="s3">&quot;line-suffix-boundary&quot;</span><span class="s0">:</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">hasLineSuffix</span><span class="s0">) {</span>
                      <span class="s1">return false</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s0">;</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">return false</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">printDocToString</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">, </span><span class="s2">options</span><span class="s0">) {</span>
            <span class="s2">groupModeMap </span><span class="s0">= {};</span>
            <span class="s1">const </span><span class="s2">width </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">printWidth</span><span class="s0">;</span>
            <span class="s1">const </span><span class="s2">newLine </span><span class="s0">= </span><span class="s2">convertEndOfLineToChars</span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">endOfLine</span><span class="s0">);</span>
            <span class="s1">let </span><span class="s2">pos </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
            <span class="s1">const </span><span class="s2">cmds </span><span class="s0">= [{</span>
              <span class="s2">ind</span><span class="s0">: </span><span class="s2">rootIndent</span><span class="s0">(),</span>
              <span class="s2">mode</span><span class="s0">: </span><span class="s2">MODE_BREAK</span><span class="s0">,</span>
              <span class="s2">doc</span>
            <span class="s0">}];</span>
            <span class="s1">const </span><span class="s2">out </span><span class="s0">= [];</span>
            <span class="s1">let </span><span class="s2">shouldRemeasure </span><span class="s0">= </span><span class="s1">false</span><span class="s0">;</span>
            <span class="s1">const </span><span class="s2">lineSuffix </span><span class="s0">= [];</span>
            <span class="s1">while </span><span class="s0">(</span><span class="s2">cmds</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">) {</span>
              <span class="s1">const </span><span class="s0">{</span>
                <span class="s2">ind</span><span class="s0">,</span>
                <span class="s2">mode</span><span class="s0">,</span>
                <span class="s2">doc</span><span class="s0">: </span><span class="s2">doc2</span>
              <span class="s0">} = </span><span class="s2">cmds</span><span class="s0">.</span><span class="s2">pop</span><span class="s0">();</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">doc2 </span><span class="s0">=== </span><span class="s3">&quot;string&quot;</span><span class="s0">) {</span>
                <span class="s1">const </span><span class="s2">formatted </span><span class="s0">= </span><span class="s2">newLine </span><span class="s0">!== </span><span class="s3">&quot;</span><span class="s1">\n</span><span class="s3">&quot; </span><span class="s0">? </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">replace</span><span class="s0">(</span><span class="s6">/\n/g</span><span class="s0">, </span><span class="s2">newLine</span><span class="s0">) : </span><span class="s2">doc2</span><span class="s0">;</span>
                <span class="s2">out</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">formatted</span><span class="s0">);</span>
                <span class="s2">pos </span><span class="s0">+= </span><span class="s2">getStringWidth</span><span class="s0">(</span><span class="s2">formatted</span><span class="s0">);</span>
              <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">isConcat</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">)) {</span>
                <span class="s1">const </span><span class="s2">parts </span><span class="s0">= </span><span class="s2">getDocParts</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">);</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s2">i </span><span class="s0">= </span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- </span><span class="s4">1</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&gt;= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i</span><span class="s0">--) {</span>
                  <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                    <span class="s2">ind</span><span class="s0">,</span>
                    <span class="s2">mode</span><span class="s0">,</span>
                    <span class="s2">doc</span><span class="s0">: </span><span class="s2">parts</span><span class="s0">[</span><span class="s2">i</span><span class="s0">]</span>
                  <span class="s0">});</span>
                <span class="s0">}</span>
              <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s1">switch </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type</span><span class="s0">) {</span>
                  <span class="s1">case </span><span class="s3">&quot;cursor&quot;</span><span class="s0">:</span>
                    <span class="s2">out</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">cursor</span><span class="s0">.</span><span class="s2">placeholder</span><span class="s0">);</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">case </span><span class="s3">&quot;indent&quot;</span><span class="s0">:</span>
                    <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                      <span class="s2">ind</span><span class="s0">: </span><span class="s2">makeIndent</span><span class="s0">(</span><span class="s2">ind</span><span class="s0">, </span><span class="s2">options</span><span class="s0">),</span>
                      <span class="s2">mode</span><span class="s0">,</span>
                      <span class="s2">doc</span><span class="s0">: </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span>
                    <span class="s0">});</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">case </span><span class="s3">&quot;align&quot;</span><span class="s0">:</span>
                    <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                      <span class="s2">ind</span><span class="s0">: </span><span class="s2">makeAlign</span><span class="s0">(</span><span class="s2">ind</span><span class="s0">, </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">n</span><span class="s0">, </span><span class="s2">options</span><span class="s0">),</span>
                      <span class="s2">mode</span><span class="s0">,</span>
                      <span class="s2">doc</span><span class="s0">: </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span>
                    <span class="s0">});</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">case </span><span class="s3">&quot;trim&quot;</span><span class="s0">:</span>
                    <span class="s2">pos </span><span class="s0">-= </span><span class="s2">trim</span><span class="s0">(</span><span class="s2">out</span><span class="s0">);</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">case </span><span class="s3">&quot;group&quot;</span><span class="s0">:</span>
                    <span class="s1">switch </span><span class="s0">(</span><span class="s2">mode</span><span class="s0">) {</span>
                      <span class="s1">case </span><span class="s2">MODE_FLAT</span><span class="s0">:</span>
                        <span class="s1">if </span><span class="s0">(!</span><span class="s2">shouldRemeasure</span><span class="s0">) {</span>
                          <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                            <span class="s2">ind</span><span class="s0">,</span>
                            <span class="s2">mode</span><span class="s0">: </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">break </span><span class="s0">? </span><span class="s2">MODE_BREAK </span><span class="s0">: </span><span class="s2">MODE_FLAT</span><span class="s0">,</span>
                            <span class="s2">doc</span><span class="s0">: </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span>
                          <span class="s0">});</span>
                          <span class="s1">break</span><span class="s0">;</span>
                        <span class="s0">}</span>
                      <span class="s1">case </span><span class="s2">MODE_BREAK</span><span class="s0">: {</span>
                        <span class="s2">shouldRemeasure </span><span class="s0">= </span><span class="s1">false</span><span class="s0">;</span>
                        <span class="s1">const </span><span class="s2">next </span><span class="s0">= {</span>
                          <span class="s2">ind</span><span class="s0">,</span>
                          <span class="s2">mode</span><span class="s0">: </span><span class="s2">MODE_FLAT</span><span class="s0">,</span>
                          <span class="s2">doc</span><span class="s0">: </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span>
                        <span class="s0">};</span>
                        <span class="s1">const </span><span class="s2">rem </span><span class="s0">= </span><span class="s2">width </span><span class="s0">- </span><span class="s2">pos</span><span class="s0">;</span>
                        <span class="s1">const </span><span class="s2">hasLineSuffix </span><span class="s0">= </span><span class="s2">lineSuffix</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">;</span>
                        <span class="s1">if </span><span class="s0">(!</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">break </span><span class="s0">&amp;&amp; </span><span class="s2">fits</span><span class="s0">(</span><span class="s2">next</span><span class="s0">, </span><span class="s2">cmds</span><span class="s0">, </span><span class="s2">rem</span><span class="s0">, </span><span class="s2">hasLineSuffix</span><span class="s0">)) {</span>
                          <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">next</span><span class="s0">);</span>
                        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                          <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">) {</span>
                            <span class="s1">const </span><span class="s2">mostExpanded </span><span class="s0">= </span><span class="s2">getLast</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">);</span>
                            <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">break</span><span class="s0">) {</span>
                              <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                                <span class="s2">ind</span><span class="s0">,</span>
                                <span class="s2">mode</span><span class="s0">: </span><span class="s2">MODE_BREAK</span><span class="s0">,</span>
                                <span class="s2">doc</span><span class="s0">: </span><span class="s2">mostExpanded</span>
                              <span class="s0">});</span>
                              <span class="s1">break</span><span class="s0">;</span>
                            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                              <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s2">i </span><span class="s0">= </span><span class="s4">1</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">.</span><span class="s2">length </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">; </span><span class="s2">i</span><span class="s0">++) {</span>
                                <span class="s1">if </span><span class="s0">(</span><span class="s2">i </span><span class="s0">&gt;= </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">.</span><span class="s2">length</span><span class="s0">) {</span>
                                  <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                                    <span class="s2">ind</span><span class="s0">,</span>
                                    <span class="s2">mode</span><span class="s0">: </span><span class="s2">MODE_BREAK</span><span class="s0">,</span>
                                    <span class="s2">doc</span><span class="s0">: </span><span class="s2">mostExpanded</span>
                                  <span class="s0">});</span>
                                  <span class="s1">break</span><span class="s0">;</span>
                                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                                  <span class="s1">const </span><span class="s2">state </span><span class="s0">= </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">[</span><span class="s2">i</span><span class="s0">];</span>
                                  <span class="s1">const </span><span class="s2">cmd </span><span class="s0">= {</span>
                                    <span class="s2">ind</span><span class="s0">,</span>
                                    <span class="s2">mode</span><span class="s0">: </span><span class="s2">MODE_FLAT</span><span class="s0">,</span>
                                    <span class="s2">doc</span><span class="s0">: </span><span class="s2">state</span>
                                  <span class="s0">};</span>
                                  <span class="s1">if </span><span class="s0">(</span><span class="s2">fits</span><span class="s0">(</span><span class="s2">cmd</span><span class="s0">, </span><span class="s2">cmds</span><span class="s0">, </span><span class="s2">rem</span><span class="s0">, </span><span class="s2">hasLineSuffix</span><span class="s0">)) {</span>
                                    <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">cmd</span><span class="s0">);</span>
                                    <span class="s1">break</span><span class="s0">;</span>
                                  <span class="s0">}</span>
                                <span class="s0">}</span>
                              <span class="s0">}</span>
                            <span class="s0">}</span>
                          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                            <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                              <span class="s2">ind</span><span class="s0">,</span>
                              <span class="s2">mode</span><span class="s0">: </span><span class="s2">MODE_BREAK</span><span class="s0">,</span>
                              <span class="s2">doc</span><span class="s0">: </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span>
                            <span class="s0">});</span>
                          <span class="s0">}</span>
                        <span class="s0">}</span>
                        <span class="s1">break</span><span class="s0">;</span>
                      <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">id</span><span class="s0">) {</span>
                      <span class="s2">groupModeMap</span><span class="s0">[</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">id</span><span class="s0">] = </span><span class="s2">getLast</span><span class="s0">(</span><span class="s2">cmds</span><span class="s0">).</span><span class="s2">mode</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">case </span><span class="s3">&quot;fill&quot;</span><span class="s0">: {</span>
                    <span class="s1">const </span><span class="s2">rem </span><span class="s0">= </span><span class="s2">width </span><span class="s0">- </span><span class="s2">pos</span><span class="s0">;</span>
                    <span class="s1">const </span><span class="s0">{</span>
                      <span class="s2">parts</span>
                    <span class="s0">} = </span><span class="s2">doc2</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) {</span>
                      <span class="s1">break</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">const </span><span class="s0">[</span><span class="s2">content</span><span class="s0">, </span><span class="s2">whitespace</span><span class="s0">] = </span><span class="s2">parts</span><span class="s0">;</span>
                    <span class="s1">const </span><span class="s2">contentFlatCmd </span><span class="s0">= {</span>
                      <span class="s2">ind</span><span class="s0">,</span>
                      <span class="s2">mode</span><span class="s0">: </span><span class="s2">MODE_FLAT</span><span class="s0">,</span>
                      <span class="s2">doc</span><span class="s0">: </span><span class="s2">content</span>
                    <span class="s0">};</span>
                    <span class="s1">const </span><span class="s2">contentBreakCmd </span><span class="s0">= {</span>
                      <span class="s2">ind</span><span class="s0">,</span>
                      <span class="s2">mode</span><span class="s0">: </span><span class="s2">MODE_BREAK</span><span class="s0">,</span>
                      <span class="s2">doc</span><span class="s0">: </span><span class="s2">content</span>
                    <span class="s0">};</span>
                    <span class="s1">const </span><span class="s2">contentFits </span><span class="s0">= </span><span class="s2">fits</span><span class="s0">(</span><span class="s2">contentFlatCmd</span><span class="s0">, [], </span><span class="s2">rem</span><span class="s0">, </span><span class="s2">lineSuffix</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">1</span><span class="s0">) {</span>
                      <span class="s1">if </span><span class="s0">(</span><span class="s2">contentFits</span><span class="s0">) {</span>
                        <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">contentFlatCmd</span><span class="s0">);</span>
                      <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">contentBreakCmd</span><span class="s0">);</span>
                      <span class="s0">}</span>
                      <span class="s1">break</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">const </span><span class="s2">whitespaceFlatCmd </span><span class="s0">= {</span>
                      <span class="s2">ind</span><span class="s0">,</span>
                      <span class="s2">mode</span><span class="s0">: </span><span class="s2">MODE_FLAT</span><span class="s0">,</span>
                      <span class="s2">doc</span><span class="s0">: </span><span class="s2">whitespace</span>
                    <span class="s0">};</span>
                    <span class="s1">const </span><span class="s2">whitespaceBreakCmd </span><span class="s0">= {</span>
                      <span class="s2">ind</span><span class="s0">,</span>
                      <span class="s2">mode</span><span class="s0">: </span><span class="s2">MODE_BREAK</span><span class="s0">,</span>
                      <span class="s2">doc</span><span class="s0">: </span><span class="s2">whitespace</span>
                    <span class="s0">};</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">2</span><span class="s0">) {</span>
                      <span class="s1">if </span><span class="s0">(</span><span class="s2">contentFits</span><span class="s0">) {</span>
                        <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">whitespaceFlatCmd</span><span class="s0">, </span><span class="s2">contentFlatCmd</span><span class="s0">);</span>
                      <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                        <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">whitespaceBreakCmd</span><span class="s0">, </span><span class="s2">contentBreakCmd</span><span class="s0">);</span>
                      <span class="s0">}</span>
                      <span class="s1">break</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s2">parts</span><span class="s0">.</span><span class="s2">splice</span><span class="s0">(</span><span class="s4">0</span><span class="s0">, </span><span class="s4">2</span><span class="s0">);</span>
                    <span class="s1">const </span><span class="s2">remainingCmd </span><span class="s0">= {</span>
                      <span class="s2">ind</span><span class="s0">,</span>
                      <span class="s2">mode</span><span class="s0">,</span>
                      <span class="s2">doc</span><span class="s0">: </span><span class="s2">fill</span><span class="s0">(</span><span class="s2">parts</span><span class="s0">)</span>
                    <span class="s0">};</span>
                    <span class="s1">const </span><span class="s2">secondContent </span><span class="s0">= </span><span class="s2">parts</span><span class="s0">[</span><span class="s4">0</span><span class="s0">];</span>
                    <span class="s1">const </span><span class="s2">firstAndSecondContentFlatCmd </span><span class="s0">= {</span>
                      <span class="s2">ind</span><span class="s0">,</span>
                      <span class="s2">mode</span><span class="s0">: </span><span class="s2">MODE_FLAT</span><span class="s0">,</span>
                      <span class="s2">doc</span><span class="s0">: [</span><span class="s2">content</span><span class="s0">, </span><span class="s2">whitespace</span><span class="s0">, </span><span class="s2">secondContent</span><span class="s0">]</span>
                    <span class="s0">};</span>
                    <span class="s1">const </span><span class="s2">firstAndSecondContentFits </span><span class="s0">= </span><span class="s2">fits</span><span class="s0">(</span><span class="s2">firstAndSecondContentFlatCmd</span><span class="s0">, [], </span><span class="s2">rem</span><span class="s0">, </span><span class="s2">lineSuffix</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">firstAndSecondContentFits</span><span class="s0">) {</span>
                      <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">remainingCmd</span><span class="s0">, </span><span class="s2">whitespaceFlatCmd</span><span class="s0">, </span><span class="s2">contentFlatCmd</span><span class="s0">);</span>
                    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">contentFits</span><span class="s0">) {</span>
                      <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">remainingCmd</span><span class="s0">, </span><span class="s2">whitespaceBreakCmd</span><span class="s0">, </span><span class="s2">contentFlatCmd</span><span class="s0">);</span>
                    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                      <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">remainingCmd</span><span class="s0">, </span><span class="s2">whitespaceBreakCmd</span><span class="s0">, </span><span class="s2">contentBreakCmd</span><span class="s0">);</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s0">}</span>
                  <span class="s1">case </span><span class="s3">&quot;if-break&quot;</span><span class="s0">:</span>
                  <span class="s1">case </span><span class="s3">&quot;indent-if-break&quot;</span><span class="s0">: {</span>
                    <span class="s1">const </span><span class="s2">groupMode </span><span class="s0">= </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">groupId </span><span class="s0">? </span><span class="s2">groupModeMap</span><span class="s0">[</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">groupId</span><span class="s0">] : </span><span class="s2">mode</span><span class="s0">;</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">groupMode </span><span class="s0">=== </span><span class="s2">MODE_BREAK</span><span class="s0">) {</span>
                      <span class="s1">const </span><span class="s2">breakContents </span><span class="s0">= </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;if-break&quot; </span><span class="s0">? </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">breakContents </span><span class="s0">: </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">negate </span><span class="s0">? </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents </span><span class="s0">: </span><span class="s2">indent</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">);</span>
                      <span class="s1">if </span><span class="s0">(</span><span class="s2">breakContents</span><span class="s0">) {</span>
                        <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                          <span class="s2">ind</span><span class="s0">,</span>
                          <span class="s2">mode</span><span class="s0">,</span>
                          <span class="s2">doc</span><span class="s0">: </span><span class="s2">breakContents</span>
                        <span class="s0">});</span>
                      <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">groupMode </span><span class="s0">=== </span><span class="s2">MODE_FLAT</span><span class="s0">) {</span>
                      <span class="s1">const </span><span class="s2">flatContents </span><span class="s0">= </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;if-break&quot; </span><span class="s0">? </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">flatContents </span><span class="s0">: </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">negate </span><span class="s0">? </span><span class="s2">indent</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">) : </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">;</span>
                      <span class="s1">if </span><span class="s0">(</span><span class="s2">flatContents</span><span class="s0">) {</span>
                        <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                          <span class="s2">ind</span><span class="s0">,</span>
                          <span class="s2">mode</span><span class="s0">,</span>
                          <span class="s2">doc</span><span class="s0">: </span><span class="s2">flatContents</span>
                        <span class="s0">});</span>
                      <span class="s0">}</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s0">}</span>
                  <span class="s1">case </span><span class="s3">&quot;line-suffix&quot;</span><span class="s0">:</span>
                    <span class="s2">lineSuffix</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                      <span class="s2">ind</span><span class="s0">,</span>
                      <span class="s2">mode</span><span class="s0">,</span>
                      <span class="s2">doc</span><span class="s0">: </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span>
                    <span class="s0">});</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">case </span><span class="s3">&quot;line-suffix-boundary&quot;</span><span class="s0">:</span>
                    <span class="s1">if </span><span class="s0">(</span><span class="s2">lineSuffix</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">) {</span>
                      <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                        <span class="s2">ind</span><span class="s0">,</span>
                        <span class="s2">mode</span><span class="s0">,</span>
                        <span class="s2">doc</span><span class="s0">: {</span>
                          <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;line&quot;</span><span class="s0">,</span>
                          <span class="s2">hard</span><span class="s0">: </span><span class="s1">true</span>
                        <span class="s0">}</span>
                      <span class="s0">});</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">case </span><span class="s3">&quot;line&quot;</span><span class="s0">:</span>
                    <span class="s1">switch </span><span class="s0">(</span><span class="s2">mode</span><span class="s0">) {</span>
                      <span class="s1">case </span><span class="s2">MODE_FLAT</span><span class="s0">:</span>
                        <span class="s1">if </span><span class="s0">(!</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">hard</span><span class="s0">) {</span>
                          <span class="s1">if </span><span class="s0">(!</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">soft</span><span class="s0">) {</span>
                            <span class="s2">out</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s3">&quot; &quot;</span><span class="s0">);</span>
                            <span class="s2">pos </span><span class="s0">+= </span><span class="s4">1</span><span class="s0">;</span>
                          <span class="s0">}</span>
                          <span class="s1">break</span><span class="s0">;</span>
                        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                          <span class="s2">shouldRemeasure </span><span class="s0">= </span><span class="s1">true</span><span class="s0">;</span>
                        <span class="s0">}</span>
                      <span class="s1">case </span><span class="s2">MODE_BREAK</span><span class="s0">:</span>
                        <span class="s1">if </span><span class="s0">(</span><span class="s2">lineSuffix</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">) {</span>
                          <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                            <span class="s2">ind</span><span class="s0">,</span>
                            <span class="s2">mode</span><span class="s0">,</span>
                            <span class="s2">doc</span><span class="s0">: </span><span class="s2">doc2</span>
                          <span class="s0">}, </span><span class="s2">...lineSuffix</span><span class="s0">.</span><span class="s2">reverse</span><span class="s0">());</span>
                          <span class="s2">lineSuffix</span><span class="s0">.</span><span class="s2">length </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
                          <span class="s1">break</span><span class="s0">;</span>
                        <span class="s0">}</span>
                        <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">literal</span><span class="s0">) {</span>
                          <span class="s1">if </span><span class="s0">(</span><span class="s2">ind</span><span class="s0">.</span><span class="s2">root</span><span class="s0">) {</span>
                            <span class="s2">out</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">newLine</span><span class="s0">, </span><span class="s2">ind</span><span class="s0">.</span><span class="s2">root</span><span class="s0">.</span><span class="s2">value</span><span class="s0">);</span>
                            <span class="s2">pos </span><span class="s0">= </span><span class="s2">ind</span><span class="s0">.</span><span class="s2">root</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span>
                          <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                            <span class="s2">out</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">newLine</span><span class="s0">);</span>
                            <span class="s2">pos </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
                          <span class="s0">}</span>
                        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                          <span class="s2">pos </span><span class="s0">-= </span><span class="s2">trim</span><span class="s0">(</span><span class="s2">out</span><span class="s0">);</span>
                          <span class="s2">out</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">newLine </span><span class="s0">+ </span><span class="s2">ind</span><span class="s0">.</span><span class="s2">value</span><span class="s0">);</span>
                          <span class="s2">pos </span><span class="s0">= </span><span class="s2">ind</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span>
                        <span class="s0">}</span>
                        <span class="s1">break</span><span class="s0">;</span>
                    <span class="s0">}</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">case </span><span class="s3">&quot;label&quot;</span><span class="s0">:</span>
                    <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({</span>
                      <span class="s2">ind</span><span class="s0">,</span>
                      <span class="s2">mode</span><span class="s0">,</span>
                      <span class="s2">doc</span><span class="s0">: </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span>
                    <span class="s0">});</span>
                    <span class="s1">break</span><span class="s0">;</span>
                  <span class="s1">default</span><span class="s0">:</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">cmds</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0 </span><span class="s0">&amp;&amp; </span><span class="s2">lineSuffix</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">) {</span>
                <span class="s2">cmds</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">...lineSuffix</span><span class="s0">.</span><span class="s2">reverse</span><span class="s0">());</span>
                <span class="s2">lineSuffix</span><span class="s0">.</span><span class="s2">length </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
            <span class="s1">const </span><span class="s2">cursorPlaceholderIndex </span><span class="s0">= </span><span class="s2">out</span><span class="s0">.</span><span class="s2">indexOf</span><span class="s0">(</span><span class="s2">cursor</span><span class="s0">.</span><span class="s2">placeholder</span><span class="s0">);</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">cursorPlaceholderIndex </span><span class="s0">!== -</span><span class="s4">1</span><span class="s0">) {</span>
              <span class="s1">const </span><span class="s2">otherCursorPlaceholderIndex </span><span class="s0">= </span><span class="s2">out</span><span class="s0">.</span><span class="s2">indexOf</span><span class="s0">(</span><span class="s2">cursor</span><span class="s0">.</span><span class="s2">placeholder</span><span class="s0">, </span><span class="s2">cursorPlaceholderIndex </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">);</span>
              <span class="s1">const </span><span class="s2">beforeCursor </span><span class="s0">= </span><span class="s2">out</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">(</span><span class="s4">0</span><span class="s0">, </span><span class="s2">cursorPlaceholderIndex</span><span class="s0">).</span><span class="s2">join</span><span class="s0">(</span><span class="s3">&quot;&quot;</span><span class="s0">);</span>
              <span class="s1">const </span><span class="s2">aroundCursor </span><span class="s0">= </span><span class="s2">out</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">(</span><span class="s2">cursorPlaceholderIndex </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">, </span><span class="s2">otherCursorPlaceholderIndex</span><span class="s0">).</span><span class="s2">join</span><span class="s0">(</span><span class="s3">&quot;&quot;</span><span class="s0">);</span>
              <span class="s1">const </span><span class="s2">afterCursor </span><span class="s0">= </span><span class="s2">out</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">(</span><span class="s2">otherCursorPlaceholderIndex </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">).</span><span class="s2">join</span><span class="s0">(</span><span class="s3">&quot;&quot;</span><span class="s0">);</span>
              <span class="s1">return </span><span class="s0">{</span>
                <span class="s2">formatted</span><span class="s0">: </span><span class="s2">beforeCursor </span><span class="s0">+ </span><span class="s2">aroundCursor </span><span class="s0">+ </span><span class="s2">afterCursor</span><span class="s0">,</span>
                <span class="s2">cursorNodeStart</span><span class="s0">: </span><span class="s2">beforeCursor</span><span class="s0">.</span><span class="s2">length</span><span class="s0">,</span>
                <span class="s2">cursorNodeText</span><span class="s0">: </span><span class="s2">aroundCursor</span>
              <span class="s0">};</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">{</span>
              <span class="s2">formatted</span><span class="s0">: </span><span class="s2">out</span><span class="s0">.</span><span class="s2">join</span><span class="s0">(</span><span class="s3">&quot;&quot;</span><span class="s0">)</span>
            <span class="s0">};</span>
          <span class="s0">}</span>
          <span class="s2">module2</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= {</span>
            <span class="s2">printDocToString</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s1">var </span><span class="s2">require_doc_debug </span><span class="s0">= </span><span class="s2">__commonJS2</span><span class="s0">({</span>
        <span class="s3">&quot;src/document/doc-debug.js&quot;</span><span class="s0">(</span><span class="s2">exports2</span><span class="s0">, </span><span class="s2">module2</span><span class="s0">) {</span>
          <span class="s3">&quot;use strict&quot;</span><span class="s0">;</span>
          <span class="s2">init_define_process</span><span class="s0">();</span>
          <span class="s1">var </span><span class="s0">{</span>
            <span class="s2">isConcat</span><span class="s0">,</span>
            <span class="s2">getDocParts</span>
          <span class="s0">} = </span><span class="s2">require_doc_utils</span><span class="s0">();</span>
          <span class="s1">function </span><span class="s2">flattenDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s2">doc</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s3">&quot;&quot;</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">isConcat</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">)) {</span>
              <span class="s1">const </span><span class="s2">res </span><span class="s0">= [];</span>
              <span class="s1">for </span><span class="s0">(</span><span class="s1">const </span><span class="s2">part of getDocParts</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">)) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">isConcat</span><span class="s0">(</span><span class="s2">part</span><span class="s0">)) {</span>
                  <span class="s2">res</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">...flattenDoc</span><span class="s0">(</span><span class="s2">part</span><span class="s0">).</span><span class="s2">parts</span><span class="s0">);</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                  <span class="s1">const </span><span class="s2">flattened </span><span class="s0">= </span><span class="s2">flattenDoc</span><span class="s0">(</span><span class="s2">part</span><span class="s0">);</span>
                  <span class="s1">if </span><span class="s0">(</span><span class="s2">flattened </span><span class="s0">!== </span><span class="s3">&quot;&quot;</span><span class="s0">) {</span>
                    <span class="s2">res</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">flattened</span><span class="s0">);</span>
                  <span class="s0">}</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
              <span class="s1">return </span><span class="s0">{</span>
                <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;concat&quot;</span><span class="s0">,</span>
                <span class="s2">parts</span><span class="s0">: </span><span class="s2">res</span>
              <span class="s0">};</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;if-break&quot;</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">doc</span><span class="s0">), {}, {</span>
                <span class="s2">breakContents</span><span class="s0">: </span><span class="s2">flattenDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">breakContents</span><span class="s0">),</span>
                <span class="s2">flatContents</span><span class="s0">: </span><span class="s2">flattenDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">flatContents</span><span class="s0">)</span>
              <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;group&quot;</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">doc</span><span class="s0">), {}, {</span>
                <span class="s2">contents</span><span class="s0">: </span><span class="s2">flattenDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">),</span>
                <span class="s2">expandedStates</span><span class="s0">: </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">expandedStates </span><span class="s0">&amp;&amp; </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">.</span><span class="s2">map</span><span class="s0">(</span><span class="s2">flattenDoc</span><span class="s0">)</span>
              <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;fill&quot;</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s0">{</span>
                <span class="s2">type</span><span class="s0">: </span><span class="s3">&quot;fill&quot;</span><span class="s0">,</span>
                <span class="s2">parts</span><span class="s0">: </span><span class="s2">doc</span><span class="s0">.</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">map</span><span class="s0">(</span><span class="s2">flattenDoc</span><span class="s0">)</span>
              <span class="s0">};</span>
            <span class="s0">}</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">) {</span>
              <span class="s1">return </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">assign</span><span class="s0">({}, </span><span class="s2">doc</span><span class="s0">), {}, {</span>
                <span class="s2">contents</span><span class="s0">: </span><span class="s2">flattenDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">)</span>
              <span class="s0">});</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">doc</span><span class="s0">;</span>
          <span class="s0">}</span>
          <span class="s1">function </span><span class="s2">printDocToDebug</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">) {</span>
            <span class="s1">const </span><span class="s2">printedSymbols </span><span class="s0">= </span><span class="s5">/* @__PURE__ */ </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">create</span><span class="s0">(</span><span class="s1">null</span><span class="s0">);</span>
            <span class="s1">const </span><span class="s2">usedKeysForSymbols </span><span class="s0">= </span><span class="s5">/* @__PURE__ */ </span><span class="s1">new </span><span class="s2">Set</span><span class="s0">();</span>
            <span class="s1">return </span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">flattenDoc</span><span class="s0">(</span><span class="s2">doc</span><span class="s0">));</span>
            <span class="s1">function </span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">, </span><span class="s2">index</span><span class="s0">, </span><span class="s2">parentParts</span><span class="s0">) {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">doc2 </span><span class="s0">=== </span><span class="s3">&quot;string&quot;</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s2">JSON</span><span class="s0">.</span><span class="s2">stringify</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">);</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">isConcat</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">)) {</span>
                <span class="s1">const </span><span class="s2">printed </span><span class="s0">= </span><span class="s2">getDocParts</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">).</span><span class="s2">map</span><span class="s0">(</span><span class="s2">printDoc</span><span class="s0">).</span><span class="s2">filter</span><span class="s0">(</span><span class="s2">Boolean</span><span class="s0">);</span>
                <span class="s1">return </span><span class="s2">printed</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">1 </span><span class="s0">? </span><span class="s2">printed</span><span class="s0">[</span><span class="s4">0</span><span class="s0">] : </span><span class="s3">`[</span><span class="s2">$</span><span class="s0">{</span><span class="s2">printed</span><span class="s0">.</span><span class="s2">join</span><span class="s0">(</span><span class="s3">&quot;, &quot;</span><span class="s0">)}</span><span class="s3">]`</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;line&quot;</span><span class="s0">) {</span>
                <span class="s1">const </span><span class="s2">withBreakParent </span><span class="s0">= </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">parentParts</span><span class="s0">) &amp;&amp; </span><span class="s2">parentParts</span><span class="s0">[</span><span class="s2">index </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">] &amp;&amp; </span><span class="s2">parentParts</span><span class="s0">[</span><span class="s2">index </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">].</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;break-parent&quot;</span><span class="s0">;</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">literal</span><span class="s0">) {</span>
                  <span class="s1">return </span><span class="s2">withBreakParent </span><span class="s0">? </span><span class="s3">&quot;literalline&quot; </span><span class="s0">: </span><span class="s3">&quot;literallineWithoutBreakParent&quot;</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">hard</span><span class="s0">) {</span>
                  <span class="s1">return </span><span class="s2">withBreakParent </span><span class="s0">? </span><span class="s3">&quot;hardline&quot; </span><span class="s0">: </span><span class="s3">&quot;hardlineWithoutBreakParent&quot;</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">soft</span><span class="s0">) {</span>
                  <span class="s1">return </span><span class="s3">&quot;softline&quot;</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s3">&quot;line&quot;</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;break-parent&quot;</span><span class="s0">) {</span>
                <span class="s1">const </span><span class="s2">afterHardline </span><span class="s0">= </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">parentParts</span><span class="s0">) &amp;&amp; </span><span class="s2">parentParts</span><span class="s0">[</span><span class="s2">index </span><span class="s0">- </span><span class="s4">1</span><span class="s0">] &amp;&amp; </span><span class="s2">parentParts</span><span class="s0">[</span><span class="s2">index </span><span class="s0">- </span><span class="s4">1</span><span class="s0">].</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;line&quot; </span><span class="s0">&amp;&amp; </span><span class="s2">parentParts</span><span class="s0">[</span><span class="s2">index </span><span class="s0">- </span><span class="s4">1</span><span class="s0">].</span><span class="s2">hard</span><span class="s0">;</span>
                <span class="s1">return </span><span class="s2">afterHardline </span><span class="s0">? </span><span class="s1">void </span><span class="s4">0 </span><span class="s0">: </span><span class="s3">&quot;breakParent&quot;</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;trim&quot;</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s3">&quot;trim&quot;</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;indent&quot;</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s3">&quot;indent(&quot; </span><span class="s0">+ </span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">) + </span><span class="s3">&quot;)&quot;</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;align&quot;</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">n </span><span class="s0">=== </span><span class="s2">Number</span><span class="s0">.</span><span class="s2">NEGATIVE_INFINITY </span><span class="s0">? </span><span class="s3">&quot;dedentToRoot(&quot; </span><span class="s0">+ </span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">) + </span><span class="s3">&quot;)&quot; </span><span class="s0">: </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">n </span><span class="s0">&lt; </span><span class="s4">0 </span><span class="s0">? </span><span class="s3">&quot;dedent(&quot; </span><span class="s0">+ </span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">) + </span><span class="s3">&quot;)&quot; </span><span class="s0">: </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">n</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;root&quot; </span><span class="s0">? </span><span class="s3">&quot;markAsRoot(&quot; </span><span class="s0">+ </span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">) + </span><span class="s3">&quot;)&quot; </span><span class="s0">: </span><span class="s3">&quot;align(&quot; </span><span class="s0">+ </span><span class="s2">JSON</span><span class="s0">.</span><span class="s2">stringify</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">n</span><span class="s0">) + </span><span class="s3">&quot;, &quot; </span><span class="s0">+ </span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">) + </span><span class="s3">&quot;)&quot;</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;if-break&quot;</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s3">&quot;ifBreak(&quot; </span><span class="s0">+ </span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">breakContents</span><span class="s0">) + (</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">flatContents </span><span class="s0">? </span><span class="s3">&quot;, &quot; </span><span class="s0">+ </span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">flatContents</span><span class="s0">) : </span><span class="s3">&quot;&quot;</span><span class="s0">) + (</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">groupId </span><span class="s0">? (!</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">flatContents </span><span class="s0">? </span><span class="s3">', &quot;&quot;' </span><span class="s0">: </span><span class="s3">&quot;&quot;</span><span class="s0">) + </span><span class="s3">`, { groupId: </span><span class="s2">$</span><span class="s0">{</span><span class="s2">printGroupId</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">groupId</span><span class="s0">)} </span><span class="s3">}` </span><span class="s0">: </span><span class="s3">&quot;&quot;</span><span class="s0">) + </span><span class="s3">&quot;)&quot;</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;indent-if-break&quot;</span><span class="s0">) {</span>
                <span class="s1">const </span><span class="s2">optionsParts </span><span class="s0">= [];</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">negate</span><span class="s0">) {</span>
                  <span class="s2">optionsParts</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s3">&quot;negate: true&quot;</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">groupId</span><span class="s0">) {</span>
                  <span class="s2">optionsParts</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s3">`groupId: </span><span class="s2">$</span><span class="s0">{</span><span class="s2">printGroupId</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">groupId</span><span class="s0">)}</span><span class="s3">`</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">const </span><span class="s2">options </span><span class="s0">= </span><span class="s2">optionsParts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">? </span><span class="s3">`, { </span><span class="s2">$</span><span class="s0">{</span><span class="s2">optionsParts</span><span class="s0">.</span><span class="s2">join</span><span class="s0">(</span><span class="s3">&quot;, &quot;</span><span class="s0">)} </span><span class="s3">}` </span><span class="s0">: </span><span class="s3">&quot;&quot;</span><span class="s0">;</span>
                <span class="s1">return </span><span class="s3">`indentIfBreak(</span><span class="s2">$</span><span class="s0">{</span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">)}</span><span class="s2">$</span><span class="s0">{</span><span class="s2">options</span><span class="s0">}</span><span class="s3">)`</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;group&quot;</span><span class="s0">) {</span>
                <span class="s1">const </span><span class="s2">optionsParts </span><span class="s0">= [];</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">break </span><span class="s0">&amp;&amp; </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">break </span><span class="s0">!== </span><span class="s3">&quot;propagated&quot;</span><span class="s0">) {</span>
                  <span class="s2">optionsParts</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s3">&quot;shouldBreak: true&quot;</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">id</span><span class="s0">) {</span>
                  <span class="s2">optionsParts</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s3">`id: </span><span class="s2">$</span><span class="s0">{</span><span class="s2">printGroupId</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">id</span><span class="s0">)}</span><span class="s3">`</span><span class="s0">);</span>
                <span class="s0">}</span>
                <span class="s1">const </span><span class="s2">options </span><span class="s0">= </span><span class="s2">optionsParts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">? </span><span class="s3">`, { </span><span class="s2">$</span><span class="s0">{</span><span class="s2">optionsParts</span><span class="s0">.</span><span class="s2">join</span><span class="s0">(</span><span class="s3">&quot;, &quot;</span><span class="s0">)} </span><span class="s3">}` </span><span class="s0">: </span><span class="s3">&quot;&quot;</span><span class="s0">;</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">) {</span>
                  <span class="s1">return </span><span class="s3">`conditionalGroup([</span><span class="s2">$</span><span class="s0">{</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">expandedStates</span><span class="s0">.</span><span class="s2">map</span><span class="s0">((</span><span class="s2">part</span><span class="s0">) =&gt; </span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">part</span><span class="s0">)).</span><span class="s2">join</span><span class="s0">(</span><span class="s3">&quot;,&quot;</span><span class="s0">)}</span><span class="s3">]</span><span class="s2">$</span><span class="s0">{</span><span class="s2">options</span><span class="s0">}</span><span class="s3">)`</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s3">`group(</span><span class="s2">$</span><span class="s0">{</span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">)}</span><span class="s2">$</span><span class="s0">{</span><span class="s2">options</span><span class="s0">}</span><span class="s3">)`</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;fill&quot;</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s3">`fill([</span><span class="s2">$</span><span class="s0">{</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">map</span><span class="s0">((</span><span class="s2">part</span><span class="s0">) =&gt; </span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">part</span><span class="s0">)).</span><span class="s2">join</span><span class="s0">(</span><span class="s3">&quot;, &quot;</span><span class="s0">)}</span><span class="s3">])`</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;line-suffix&quot;</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s3">&quot;lineSuffix(&quot; </span><span class="s0">+ </span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">) + </span><span class="s3">&quot;)&quot;</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;line-suffix-boundary&quot;</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s3">&quot;lineSuffixBoundary&quot;</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type </span><span class="s0">=== </span><span class="s3">&quot;label&quot;</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s3">`label(</span><span class="s2">$</span><span class="s0">{</span><span class="s2">JSON</span><span class="s0">.</span><span class="s2">stringify</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">label</span><span class="s0">)}</span><span class="s3">, </span><span class="s2">$</span><span class="s0">{</span><span class="s2">printDoc</span><span class="s0">(</span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">contents</span><span class="s0">)}</span><span class="s3">)`</span><span class="s0">;</span>
              <span class="s0">}</span>
              <span class="s1">throw new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">&quot;Unknown doc type &quot; </span><span class="s0">+ </span><span class="s2">doc2</span><span class="s0">.</span><span class="s2">type</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">function </span><span class="s2">printGroupId</span><span class="s0">(</span><span class="s2">id</span><span class="s0">) {</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">id </span><span class="s0">!== </span><span class="s3">&quot;symbol&quot;</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s2">JSON</span><span class="s0">.</span><span class="s2">stringify</span><span class="s0">(</span><span class="s2">String</span><span class="s0">(</span><span class="s2">id</span><span class="s0">));</span>
              <span class="s0">}</span>
              <span class="s1">if </span><span class="s0">(</span><span class="s2">id </span><span class="s1">in </span><span class="s2">printedSymbols</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s2">printedSymbols</span><span class="s0">[</span><span class="s2">id</span><span class="s0">];</span>
              <span class="s0">}</span>
              <span class="s1">const </span><span class="s2">prefix </span><span class="s0">= </span><span class="s2">String</span><span class="s0">(</span><span class="s2">id</span><span class="s0">).</span><span class="s2">slice</span><span class="s0">(</span><span class="s4">7</span><span class="s0">, -</span><span class="s4">1</span><span class="s0">) || </span><span class="s3">&quot;symbol&quot;</span><span class="s0">;</span>
              <span class="s1">for </span><span class="s0">(</span><span class="s1">let </span><span class="s2">counter </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; ; </span><span class="s2">counter</span><span class="s0">++) {</span>
                <span class="s1">const </span><span class="s2">key </span><span class="s0">= </span><span class="s2">prefix </span><span class="s0">+ (</span><span class="s2">counter </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">? </span><span class="s3">` #</span><span class="s2">$</span><span class="s0">{</span><span class="s2">counter</span><span class="s0">}</span><span class="s3">` </span><span class="s0">: </span><span class="s3">&quot;&quot;</span><span class="s0">);</span>
                <span class="s1">if </span><span class="s0">(!</span><span class="s2">usedKeysForSymbols</span><span class="s0">.</span><span class="s2">has</span><span class="s0">(</span><span class="s2">key</span><span class="s0">)) {</span>
                  <span class="s2">usedKeysForSymbols</span><span class="s0">.</span><span class="s2">add</span><span class="s0">(</span><span class="s2">key</span><span class="s0">);</span>
                  <span class="s1">return </span><span class="s2">printedSymbols</span><span class="s0">[</span><span class="s2">id</span><span class="s0">] = </span><span class="s3">`Symbol.for(</span><span class="s2">$</span><span class="s0">{</span><span class="s2">JSON</span><span class="s0">.</span><span class="s2">stringify</span><span class="s0">(</span><span class="s2">key</span><span class="s0">)}</span><span class="s3">)`</span><span class="s0">;</span>
                <span class="s0">}</span>
              <span class="s0">}</span>
            <span class="s0">}</span>
          <span class="s0">}</span>
          <span class="s2">module2</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= {</span>
            <span class="s2">printDocToDebug</span>
          <span class="s0">};</span>
        <span class="s0">}</span>
      <span class="s0">});</span>
      <span class="s2">init_define_process</span><span class="s0">();</span>
      <span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= {</span>
        <span class="s2">builders</span><span class="s0">: </span><span class="s2">require_doc_builders</span><span class="s0">(),</span>
        <span class="s2">printer</span><span class="s0">: </span><span class="s2">require_doc_printer</span><span class="s0">(),</span>
        <span class="s2">utils</span><span class="s0">: </span><span class="s2">require_doc_utils</span><span class="s0">(),</span>
        <span class="s2">debug</span><span class="s0">: </span><span class="s2">require_doc_debug</span><span class="s0">()</span>
      <span class="s0">};</span>
    <span class="s0">}</span>
  <span class="s0">});</span>
  <span class="s1">return </span><span class="s2">require_doc_js_umd</span><span class="s0">();</span>
<span class="s0">});</span></pre>
</body>
</html>
<html>
<head>
<title>00a2864fd12727d1c7505f2bed2592d175538f8b657771813e4da79c9285fbba.json</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #cf8e6d;}
.s3 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
00a2864fd12727d1c7505f2bed2592d175538f8b657771813e4da79c9285fbba.json</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;ast&quot;</span><span class="s0">:</span><span class="s2">null</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">:</span><span class="s1">&quot;export default {</span><span class="s2">\n  </span><span class="s1">name: </span><span class="s2">\&quot;</span><span class="s1">Notice</span><span class="s2">\&quot;</span><span class="s1">,</span><span class="s2">\n  </span><span class="s1">data() {</span><span class="s2">\n    </span><span class="s1">return {</span><span class="s2">\n      </span><span class="s1">tableData: [],</span><span class="s2">\n      </span><span class="s1">// 所有的数据</span><span class="s2">\n      </span><span class="s1">pageNum: 1,</span><span class="s2">\n      </span><span class="s1">// 当前的页码</span><span class="s2">\n      </span><span class="s1">pageSize: 10,</span><span class="s2">\n      </span><span class="s1">// 每页显示的个数</span><span class="s2">\n      </span><span class="s1">total: 0,</span><span class="s2">\n      </span><span class="s1">title: null,</span><span class="s2">\n      </span><span class="s1">fromVisible: false,</span><span class="s2">\n      </span><span class="s1">form: {},</span><span class="s2">\n      </span><span class="s1">user: JSON.parse(localStorage.getItem('xm-user') || '{}'),</span><span class="s2">\n      </span><span class="s1">rules: {</span><span class="s2">\n        </span><span class="s1">title: [{</span><span class="s2">\n          </span><span class="s1">required: true,</span><span class="s2">\n          </span><span class="s1">message: '请输入标题',</span><span class="s2">\n          </span><span class="s1">trigger: 'blur'</span><span class="s2">\n        </span><span class="s1">}],</span><span class="s2">\n        </span><span class="s1">content: [{</span><span class="s2">\n          </span><span class="s1">required: true,</span><span class="s2">\n          </span><span class="s1">message: '请输入内容',</span><span class="s2">\n          </span><span class="s1">trigger: 'blur'</span><span class="s2">\n        </span><span class="s1">}]</span><span class="s2">\n      </span><span class="s1">},</span><span class="s2">\n      </span><span class="s1">ids: []</span><span class="s2">\n    </span><span class="s1">};</span><span class="s2">\n  </span><span class="s1">},</span><span class="s2">\n  </span><span class="s1">created() {</span><span class="s2">\n    </span><span class="s1">this.load(1);</span><span class="s2">\n  </span><span class="s1">},</span><span class="s2">\n  </span><span class="s1">methods: {</span><span class="s2">\n    </span><span class="s1">handleAdd() {</span><span class="s2">\n      </span><span class="s1">// 新增数据</span><span class="s2">\n      </span><span class="s1">this.form = {}; // 新增数据的时候清空数据</span><span class="s2">\n      </span><span class="s1">this.fromVisible = true; // 打开弹窗</span><span class="s2">\n    </span><span class="s1">},</span><span class="s2">\n\n    </span><span class="s1">handleEdit(row) {</span><span class="s2">\n      </span><span class="s1">// 编辑数据</span><span class="s2">\n      </span><span class="s1">this.form = JSON.parse(JSON.stringify(row)); // 给form对象赋值  注意要深拷贝数据</span><span class="s2">\n      </span><span class="s1">this.fromVisible = true; // 打开弹窗</span><span class="s2">\n    </span><span class="s1">},</span><span class="s2">\n\n    </span><span class="s1">save() {</span><span class="s2">\n      </span><span class="s1">// 保存按钮触发的逻辑  它会触发新增或者更新</span><span class="s2">\n      </span><span class="s1">this.$refs.formRef.validate(valid =&gt; {</span><span class="s2">\n        </span><span class="s1">if (valid) {</span><span class="s2">\n          </span><span class="s1">this.$request({</span><span class="s2">\n            </span><span class="s1">url: this.form.id ? '/notice/update' : '/notice/add',</span><span class="s2">\n            </span><span class="s1">method: this.form.id ? 'PUT' : 'POST',</span><span class="s2">\n            </span><span class="s1">data: this.form</span><span class="s2">\n          </span><span class="s1">}).then(res =&gt; {</span><span class="s2">\n            </span><span class="s1">if (res.code === '200') {</span><span class="s2">\n              </span><span class="s1">// 表示成功保存</span><span class="s2">\n              </span><span class="s1">this.$message.success('保存成功');</span><span class="s2">\n              </span><span class="s1">this.load(1);</span><span class="s2">\n              </span><span class="s1">this.fromVisible = false;</span><span class="s2">\n            </span><span class="s1">} else {</span><span class="s2">\n              </span><span class="s1">this.$message.error(res.msg); // 弹出错误的信息</span><span class="s2">\n            </span><span class="s1">}</span><span class="s2">\n          </span><span class="s1">});</span><span class="s2">\n        </span><span class="s1">}</span><span class="s2">\n      </span><span class="s1">});</span><span class="s2">\n    </span><span class="s1">},</span><span class="s2">\n\n    </span><span class="s1">del(id) {</span><span class="s2">\n      </span><span class="s1">// 单个删除</span><span class="s2">\n      </span><span class="s1">this.$confirm('您确定删除吗？', '确认删除', {</span><span class="s2">\n        </span><span class="s1">type: </span><span class="s2">\&quot;</span><span class="s1">warning</span><span class="s2">\&quot;\n      </span><span class="s1">}).then(response =&gt; {</span><span class="s2">\n        </span><span class="s1">this.$request.delete('/notice/delete/' + id).then(res =&gt; {</span><span class="s2">\n          </span><span class="s1">if (res.code === '200') {</span><span class="s2">\n            </span><span class="s1">// 表示操作成功</span><span class="s2">\n            </span><span class="s1">this.$message.success('操作成功');</span><span class="s2">\n            </span><span class="s1">this.load(1);</span><span class="s2">\n          </span><span class="s1">} else {</span><span class="s2">\n            </span><span class="s1">this.$message.error(res.msg); // 弹出错误的信息</span><span class="s2">\n          </span><span class="s1">}</span><span class="s2">\n        </span><span class="s1">});</span><span class="s2">\n      </span><span class="s1">}).catch(() =&gt; {});</span><span class="s2">\n    </span><span class="s1">},</span><span class="s2">\n    </span><span class="s1">handleSelectionChange(rows) {</span><span class="s2">\n      </span><span class="s1">// 当前选中的所有的行数据</span><span class="s2">\n      </span><span class="s1">this.ids = rows.map(v =&gt; v.id); //  [1,2]</span><span class="s2">\n    </span><span class="s1">},</span><span class="s2">\n\n    </span><span class="s1">delBatch() {</span><span class="s2">\n      </span><span class="s1">// 批量删除</span><span class="s2">\n      </span><span class="s1">if (!this.ids.length) {</span><span class="s2">\n        </span><span class="s1">this.$message.warning('请选择数据');</span><span class="s2">\n        </span><span class="s1">return;</span><span class="s2">\n      </span><span class="s1">}</span><span class="s2">\n      </span><span class="s1">this.$confirm('您确定批量删除这些数据吗？', '确认删除', {</span><span class="s2">\n        </span><span class="s1">type: </span><span class="s2">\&quot;</span><span class="s1">warning</span><span class="s2">\&quot;\n      </span><span class="s1">}).then(response =&gt; {</span><span class="s2">\n        </span><span class="s1">this.$request.delete('/notice/delete/batch', {</span><span class="s2">\n          </span><span class="s1">data: this.ids</span><span class="s2">\n        </span><span class="s1">}).then(res =&gt; {</span><span class="s2">\n          </span><span class="s1">if (res.code === '200') {</span><span class="s2">\n            </span><span class="s1">// 表示操作成功</span><span class="s2">\n            </span><span class="s1">this.$message.success('操作成功');</span><span class="s2">\n            </span><span class="s1">this.load(1);</span><span class="s2">\n          </span><span class="s1">} else {</span><span class="s2">\n            </span><span class="s1">this.$message.error(res.msg); // 弹出错误的信息</span><span class="s2">\n          </span><span class="s1">}</span><span class="s2">\n        </span><span class="s1">});</span><span class="s2">\n      </span><span class="s1">}).catch(() =&gt; {});</span><span class="s2">\n    </span><span class="s1">},</span><span class="s2">\n    </span><span class="s1">load(pageNum) {</span><span class="s2">\n      </span><span class="s1">// 分页查询</span><span class="s2">\n      </span><span class="s1">if (pageNum) this.pageNum = pageNum;</span><span class="s2">\n      </span><span class="s1">this.$request.get('/notice/selectPage', {</span><span class="s2">\n        </span><span class="s1">params: {</span><span class="s2">\n          </span><span class="s1">pageNum: this.pageNum,</span><span class="s2">\n          </span><span class="s1">pageSize: this.pageSize,</span><span class="s2">\n          </span><span class="s1">title: this.title</span><span class="s2">\n        </span><span class="s1">}</span><span class="s2">\n      </span><span class="s1">}).then(res =&gt; {</span><span class="s2">\n        </span><span class="s1">this.tableData = res.data?.list;</span><span class="s2">\n        </span><span class="s1">this.total = res.data?.total;</span><span class="s2">\n      </span><span class="s1">});</span><span class="s2">\n    </span><span class="s1">},</span><span class="s2">\n    </span><span class="s1">reset() {</span><span class="s2">\n      </span><span class="s1">this.title = null;</span><span class="s2">\n      </span><span class="s1">this.load(1);</span><span class="s2">\n    </span><span class="s1">},</span><span class="s2">\n    </span><span class="s1">handleCurrentChange(pageNum) {</span><span class="s2">\n      </span><span class="s1">this.load(pageNum);</span><span class="s2">\n    </span><span class="s1">}</span><span class="s2">\n  </span><span class="s1">}</span><span class="s2">\n</span><span class="s1">};&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">:{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s3">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;data&quot;</span><span class="s0">,</span><span class="s1">&quot;tableData&quot;</span><span class="s0">,</span><span class="s1">&quot;pageNum&quot;</span><span class="s0">,</span><span class="s1">&quot;pageSize&quot;</span><span class="s0">,</span><span class="s1">&quot;total&quot;</span><span class="s0">,</span><span class="s1">&quot;title&quot;</span><span class="s0">,</span><span class="s1">&quot;fromVisible&quot;</span><span class="s0">,</span><span class="s1">&quot;form&quot;</span><span class="s0">,</span><span class="s1">&quot;user&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;localStorage&quot;</span><span class="s0">,</span><span class="s1">&quot;getItem&quot;</span><span class="s0">,</span><span class="s1">&quot;rules&quot;</span><span class="s0">,</span><span class="s1">&quot;required&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;trigger&quot;</span><span class="s0">,</span><span class="s1">&quot;content&quot;</span><span class="s0">,</span><span class="s1">&quot;ids&quot;</span><span class="s0">,</span><span class="s1">&quot;created&quot;</span><span class="s0">,</span><span class="s1">&quot;load&quot;</span><span class="s0">,</span><span class="s1">&quot;methods&quot;</span><span class="s0">,</span><span class="s1">&quot;handleAdd&quot;</span><span class="s0">,</span><span class="s1">&quot;handleEdit&quot;</span><span class="s0">,</span><span class="s1">&quot;row&quot;</span><span class="s0">,</span><span class="s1">&quot;stringify&quot;</span><span class="s0">,</span><span class="s1">&quot;save&quot;</span><span class="s0">,</span><span class="s1">&quot;$refs&quot;</span><span class="s0">,</span><span class="s1">&quot;formRef&quot;</span><span class="s0">,</span><span class="s1">&quot;validate&quot;</span><span class="s0">,</span><span class="s1">&quot;valid&quot;</span><span class="s0">,</span><span class="s1">&quot;$request&quot;</span><span class="s0">,</span><span class="s1">&quot;url&quot;</span><span class="s0">,</span><span class="s1">&quot;id&quot;</span><span class="s0">,</span><span class="s1">&quot;method&quot;</span><span class="s0">,</span><span class="s1">&quot;then&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">,</span><span class="s1">&quot;$message&quot;</span><span class="s0">,</span><span class="s1">&quot;success&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;msg&quot;</span><span class="s0">,</span><span class="s1">&quot;del&quot;</span><span class="s0">,</span><span class="s1">&quot;$confirm&quot;</span><span class="s0">,</span><span class="s1">&quot;type&quot;</span><span class="s0">,</span><span class="s1">&quot;response&quot;</span><span class="s0">,</span><span class="s1">&quot;delete&quot;</span><span class="s0">,</span><span class="s1">&quot;catch&quot;</span><span class="s0">,</span><span class="s1">&quot;handleSelectionChange&quot;</span><span class="s0">,</span><span class="s1">&quot;rows&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">,</span><span class="s1">&quot;v&quot;</span><span class="s0">,</span><span class="s1">&quot;delBatch&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;warning&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;params&quot;</span><span class="s0">,</span><span class="s1">&quot;list&quot;</span><span class="s0">,</span><span class="s1">&quot;reset&quot;</span><span class="s0">,</span><span class="s1">&quot;handleCurrentChange&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;src/views/manager/Notice.vue&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;&lt;template&gt;</span><span class="s2">\r\n  </span><span class="s1">&lt;div&gt;</span><span class="s2">\r\n    </span><span class="s1">&lt;div class=</span><span class="s2">\&quot;</span><span class="s1">search</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;el-input placeholder=</span><span class="s2">\&quot;</span><span class="s1">请输入标题查询</span><span class="s2">\&quot; </span><span class="s1">style=</span><span class="s2">\&quot;</span><span class="s1">width: 200px</span><span class="s2">\&quot; </span><span class="s1">v-model=</span><span class="s2">\&quot;</span><span class="s1">title</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/el-input&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;el-button type=</span><span class="s2">\&quot;</span><span class="s1">info</span><span class="s2">\&quot; </span><span class="s1">plain style=</span><span class="s2">\&quot;</span><span class="s1">margin-left: 10px</span><span class="s2">\&quot; </span><span class="s1">@click=</span><span class="s2">\&quot;</span><span class="s1">load(1)</span><span class="s2">\&quot;</span><span class="s1">&gt;查询&lt;/el-button&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;el-button type=</span><span class="s2">\&quot;</span><span class="s1">warning</span><span class="s2">\&quot; </span><span class="s1">plain style=</span><span class="s2">\&quot;</span><span class="s1">margin-left: 10px</span><span class="s2">\&quot; </span><span class="s1">@click=</span><span class="s2">\&quot;</span><span class="s1">reset</span><span class="s2">\&quot;</span><span class="s1">&gt;重置&lt;/el-button&gt;</span><span class="s2">\r\n    </span><span class="s1">&lt;/div&gt;</span><span class="s2">\r\n\r\n    </span><span class="s1">&lt;div class=</span><span class="s2">\&quot;</span><span class="s1">operation</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;el-button type=</span><span class="s2">\&quot;</span><span class="s1">primary</span><span class="s2">\&quot; </span><span class="s1">plain @click=</span><span class="s2">\&quot;</span><span class="s1">handleAdd</span><span class="s2">\&quot;</span><span class="s1">&gt;新增&lt;/el-button&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;el-button type=</span><span class="s2">\&quot;</span><span class="s1">danger</span><span class="s2">\&quot; </span><span class="s1">plain @click=</span><span class="s2">\&quot;</span><span class="s1">delBatch</span><span class="s2">\&quot;</span><span class="s1">&gt;批量删除&lt;/el-button&gt;</span><span class="s2">\r\n    </span><span class="s1">&lt;/div&gt;</span><span class="s2">\r\n\r\n    </span><span class="s1">&lt;div class=</span><span class="s2">\&quot;</span><span class="s1">table</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;el-table :data=</span><span class="s2">\&quot;</span><span class="s1">tableData</span><span class="s2">\&quot; </span><span class="s1">stripe  @selection-change=</span><span class="s2">\&quot;</span><span class="s1">handleSelectionChange</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-table-column type=</span><span class="s2">\&quot;</span><span class="s1">selection</span><span class="s2">\&quot; </span><span class="s1">width=</span><span class="s2">\&quot;</span><span class="s1">55</span><span class="s2">\&quot; </span><span class="s1">align=</span><span class="s2">\&quot;</span><span class="s1">center</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/el-table-column&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-table-column prop=</span><span class="s2">\&quot;</span><span class="s1">id</span><span class="s2">\&quot; </span><span class="s1">label=</span><span class="s2">\&quot;</span><span class="s1">序号</span><span class="s2">\&quot; </span><span class="s1">width=</span><span class="s2">\&quot;</span><span class="s1">80</span><span class="s2">\&quot; </span><span class="s1">align=</span><span class="s2">\&quot;</span><span class="s1">center</span><span class="s2">\&quot; </span><span class="s1">sortable&gt;&lt;/el-table-column&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-table-column prop=</span><span class="s2">\&quot;</span><span class="s1">title</span><span class="s2">\&quot; </span><span class="s1">label=</span><span class="s2">\&quot;</span><span class="s1">标题</span><span class="s2">\&quot; </span><span class="s1">show-overflow-tooltip&gt;&lt;/el-table-column&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-table-column prop=</span><span class="s2">\&quot;</span><span class="s1">content</span><span class="s2">\&quot; </span><span class="s1">label=</span><span class="s2">\&quot;</span><span class="s1">内容</span><span class="s2">\&quot; </span><span class="s1">show-overflow-tooltip&gt;&lt;/el-table-column&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-table-column prop=</span><span class="s2">\&quot;</span><span class="s1">time</span><span class="s2">\&quot; </span><span class="s1">label=</span><span class="s2">\&quot;</span><span class="s1">创建时间</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/el-table-column&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-table-column prop=</span><span class="s2">\&quot;</span><span class="s1">user</span><span class="s2">\&quot; </span><span class="s1">label=</span><span class="s2">\&quot;</span><span class="s1">创建人</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/el-table-column&gt;</span><span class="s2">\r\n\r\n        </span><span class="s1">&lt;el-table-column label=</span><span class="s2">\&quot;</span><span class="s1">操作</span><span class="s2">\&quot; </span><span class="s1">width=</span><span class="s2">\&quot;</span><span class="s1">180</span><span class="s2">\&quot; </span><span class="s1">align=</span><span class="s2">\&quot;</span><span class="s1">center</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;template v-slot=</span><span class="s2">\&quot;</span><span class="s1">scope</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n            </span><span class="s1">&lt;el-button plain type=</span><span class="s2">\&quot;</span><span class="s1">primary</span><span class="s2">\&quot; </span><span class="s1">@click=</span><span class="s2">\&quot;</span><span class="s1">handleEdit(scope.row)</span><span class="s2">\&quot; </span><span class="s1">size=</span><span class="s2">\&quot;</span><span class="s1">mini</span><span class="s2">\&quot;</span><span class="s1">&gt;编辑&lt;/el-button&gt;</span><span class="s2">\r\n            </span><span class="s1">&lt;el-button plain type=</span><span class="s2">\&quot;</span><span class="s1">danger</span><span class="s2">\&quot; </span><span class="s1">size=</span><span class="s2">\&quot;</span><span class="s1">mini</span><span class="s2">\&quot; </span><span class="s1">@click=del(scope.row.id)&gt;删除&lt;/el-button&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;/template&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/el-table-column&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;/el-table&gt;</span><span class="s2">\r\n\r\n      </span><span class="s1">&lt;div class=</span><span class="s2">\&quot;</span><span class="s1">pagination</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-pagination</span><span class="s2">\r\n            </span><span class="s1">background</span><span class="s2">\r\n            </span><span class="s1">@current-change=</span><span class="s2">\&quot;</span><span class="s1">handleCurrentChange</span><span class="s2">\&quot;\r\n            </span><span class="s1">:current-page=</span><span class="s2">\&quot;</span><span class="s1">pageNum</span><span class="s2">\&quot;\r\n            </span><span class="s1">:page-sizes=</span><span class="s2">\&quot;</span><span class="s1">[5, 10, 20]</span><span class="s2">\&quot;\r\n            </span><span class="s1">:page-size=</span><span class="s2">\&quot;</span><span class="s1">pageSize</span><span class="s2">\&quot;\r\n            </span><span class="s1">layout=</span><span class="s2">\&quot;</span><span class="s1">total, prev, pager, next</span><span class="s2">\&quot;\r\n            </span><span class="s1">:total=</span><span class="s2">\&quot;</span><span class="s1">total</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/el-pagination&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;/div&gt;</span><span class="s2">\r\n    </span><span class="s1">&lt;/div&gt;</span><span class="s2">\r\n\r\n\r\n    </span><span class="s1">&lt;el-dialog title=</span><span class="s2">\&quot;</span><span class="s1">信息</span><span class="s2">\&quot; </span><span class="s1">:visible.sync=</span><span class="s2">\&quot;</span><span class="s1">fromVisible</span><span class="s2">\&quot; </span><span class="s1">width=</span><span class="s2">\&quot;</span><span class="s1">40%</span><span class="s2">\&quot; </span><span class="s1">:close-on-click-modal=</span><span class="s2">\&quot;</span><span class="s1">false</span><span class="s2">\&quot; </span><span class="s1">destroy-on-close&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;el-form label-width=</span><span class="s2">\&quot;</span><span class="s1">100px</span><span class="s2">\&quot; </span><span class="s1">style=</span><span class="s2">\&quot;</span><span class="s1">padding-right: 50px</span><span class="s2">\&quot; </span><span class="s1">:model=</span><span class="s2">\&quot;</span><span class="s1">form</span><span class="s2">\&quot; </span><span class="s1">:rules=</span><span class="s2">\&quot;</span><span class="s1">rules</span><span class="s2">\&quot; </span><span class="s1">ref=</span><span class="s2">\&quot;</span><span class="s1">formRef</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-form-item prop=</span><span class="s2">\&quot;</span><span class="s1">title</span><span class="s2">\&quot; </span><span class="s1">label=</span><span class="s2">\&quot;</span><span class="s1">标题</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;el-input v-model=</span><span class="s2">\&quot;</span><span class="s1">form.title</span><span class="s2">\&quot; </span><span class="s1">autocomplete=</span><span class="s2">\&quot;</span><span class="s1">off</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/el-input&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/el-form-item&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-form-item prop=</span><span class="s2">\&quot;</span><span class="s1">content</span><span class="s2">\&quot; </span><span class="s1">label=</span><span class="s2">\&quot;</span><span class="s1">内容</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;el-input type=</span><span class="s2">\&quot;</span><span class="s1">textarea</span><span class="s2">\&quot; </span><span class="s1">:rows=</span><span class="s2">\&quot;</span><span class="s1">5</span><span class="s2">\&quot; </span><span class="s1">v-model=</span><span class="s2">\&quot;</span><span class="s1">form.content</span><span class="s2">\&quot; </span><span class="s1">autocomplete=</span><span class="s2">\&quot;</span><span class="s1">off</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/el-input&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/el-form-item&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;/el-form&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;div slot=</span><span class="s2">\&quot;</span><span class="s1">footer</span><span class="s2">\&quot; </span><span class="s1">class=</span><span class="s2">\&quot;</span><span class="s1">dialog-footer</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-button @click=</span><span class="s2">\&quot;</span><span class="s1">fromVisible = false</span><span class="s2">\&quot;</span><span class="s1">&gt;取 消&lt;/el-button&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-button type=</span><span class="s2">\&quot;</span><span class="s1">primary</span><span class="s2">\&quot; </span><span class="s1">@click=</span><span class="s2">\&quot;</span><span class="s1">save</span><span class="s2">\&quot;</span><span class="s1">&gt;确 定&lt;/el-button&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;/div&gt;</span><span class="s2">\r\n    </span><span class="s1">&lt;/el-dialog&gt;</span><span class="s2">\r\n\r\n\r\n  </span><span class="s1">&lt;/div&gt;</span><span class="s2">\r\n</span><span class="s1">&lt;/template&gt;</span><span class="s2">\r\n\r\n</span><span class="s1">&lt;script&gt;</span><span class="s2">\r\n</span><span class="s1">export default {</span><span class="s2">\r\n  </span><span class="s1">name: </span><span class="s2">\&quot;</span><span class="s1">Notice</span><span class="s2">\&quot;</span><span class="s1">,</span><span class="s2">\r\n  </span><span class="s1">data() {</span><span class="s2">\r\n    </span><span class="s1">return {</span><span class="s2">\r\n      </span><span class="s1">tableData: [],  // 所有的数据</span><span class="s2">\r\n      </span><span class="s1">pageNum: 1,   // 当前的页码</span><span class="s2">\r\n      </span><span class="s1">pageSize: 10,  // 每页显示的个数</span><span class="s2">\r\n      </span><span class="s1">total: 0,</span><span class="s2">\r\n      </span><span class="s1">title: null,</span><span class="s2">\r\n      </span><span class="s1">fromVisible: false,</span><span class="s2">\r\n      </span><span class="s1">form: {},</span><span class="s2">\r\n      </span><span class="s1">user: JSON.parse(localStorage.getItem('xm-user') || '{}'),</span><span class="s2">\r\n      </span><span class="s1">rules: {</span><span class="s2">\r\n        </span><span class="s1">title: [</span><span class="s2">\r\n          </span><span class="s1">{required: true, message: '请输入标题', trigger: 'blur'},</span><span class="s2">\r\n        </span><span class="s1">],</span><span class="s2">\r\n        </span><span class="s1">content: [</span><span class="s2">\r\n          </span><span class="s1">{required: true, message: '请输入内容', trigger: 'blur'},</span><span class="s2">\r\n        </span><span class="s1">]</span><span class="s2">\r\n      </span><span class="s1">},</span><span class="s2">\r\n      </span><span class="s1">ids: []</span><span class="s2">\r\n    </span><span class="s1">}</span><span class="s2">\r\n  </span><span class="s1">},</span><span class="s2">\r\n  </span><span class="s1">created() {</span><span class="s2">\r\n    </span><span class="s1">this.load(1)</span><span class="s2">\r\n  </span><span class="s1">},</span><span class="s2">\r\n  </span><span class="s1">methods: {</span><span class="s2">\r\n    </span><span class="s1">handleAdd() {   // 新增数据</span><span class="s2">\r\n      </span><span class="s1">this.form = {}  // 新增数据的时候清空数据</span><span class="s2">\r\n      </span><span class="s1">this.fromVisible = true   // 打开弹窗</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n    </span><span class="s1">handleEdit(row) {   // 编辑数据</span><span class="s2">\r\n      </span><span class="s1">this.form = JSON.parse(JSON.stringify(row))  // 给form对象赋值  注意要深拷贝数据</span><span class="s2">\r\n      </span><span class="s1">this.fromVisible = true   // 打开弹窗</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n    </span><span class="s1">save() {   // 保存按钮触发的逻辑  它会触发新增或者更新</span><span class="s2">\r\n      </span><span class="s1">this.$refs.formRef.validate((valid) =&gt; {</span><span class="s2">\r\n        </span><span class="s1">if (valid) {</span><span class="s2">\r\n          </span><span class="s1">this.$request({</span><span class="s2">\r\n            </span><span class="s1">url: this.form.id ? '/notice/update' : '/notice/add',</span><span class="s2">\r\n            </span><span class="s1">method: this.form.id ? 'PUT' : 'POST',</span><span class="s2">\r\n            </span><span class="s1">data: this.form</span><span class="s2">\r\n          </span><span class="s1">}).then(res =&gt; {</span><span class="s2">\r\n            </span><span class="s1">if (res.code === '200') {  // 表示成功保存</span><span class="s2">\r\n              </span><span class="s1">this.$message.success('保存成功')</span><span class="s2">\r\n              </span><span class="s1">this.load(1)</span><span class="s2">\r\n              </span><span class="s1">this.fromVisible = false</span><span class="s2">\r\n            </span><span class="s1">} else {</span><span class="s2">\r\n              </span><span class="s1">this.$message.error(res.msg)  // 弹出错误的信息</span><span class="s2">\r\n            </span><span class="s1">}</span><span class="s2">\r\n          </span><span class="s1">})</span><span class="s2">\r\n        </span><span class="s1">}</span><span class="s2">\r\n      </span><span class="s1">})</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n    </span><span class="s1">del(id) {   // 单个删除</span><span class="s2">\r\n      </span><span class="s1">this.$confirm('您确定删除吗？', '确认删除', {type: </span><span class="s2">\&quot;</span><span class="s1">warning</span><span class="s2">\&quot;</span><span class="s1">}).then(response =&gt; {</span><span class="s2">\r\n        </span><span class="s1">this.$request.delete('/notice/delete/' + id).then(res =&gt; {</span><span class="s2">\r\n          </span><span class="s1">if (res.code === '200') {   // 表示操作成功</span><span class="s2">\r\n            </span><span class="s1">this.$message.success('操作成功')</span><span class="s2">\r\n            </span><span class="s1">this.load(1)</span><span class="s2">\r\n          </span><span class="s1">} else {</span><span class="s2">\r\n            </span><span class="s1">this.$message.error(res.msg)  // 弹出错误的信息</span><span class="s2">\r\n          </span><span class="s1">}</span><span class="s2">\r\n        </span><span class="s1">})</span><span class="s2">\r\n      </span><span class="s1">}).catch(() =&gt; {</span><span class="s2">\r\n      </span><span class="s1">})</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n    </span><span class="s1">handleSelectionChange(rows) {   // 当前选中的所有的行数据</span><span class="s2">\r\n      </span><span class="s1">this.ids = rows.map(v =&gt; v.id)   //  [1,2]</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n    </span><span class="s1">delBatch() {   // 批量删除</span><span class="s2">\r\n      </span><span class="s1">if (!this.ids.length) {</span><span class="s2">\r\n        </span><span class="s1">this.$message.warning('请选择数据')</span><span class="s2">\r\n        </span><span class="s1">return</span><span class="s2">\r\n      </span><span class="s1">}</span><span class="s2">\r\n      </span><span class="s1">this.$confirm('您确定批量删除这些数据吗？', '确认删除', {type: </span><span class="s2">\&quot;</span><span class="s1">warning</span><span class="s2">\&quot;</span><span class="s1">}).then(response =&gt; {</span><span class="s2">\r\n        </span><span class="s1">this.$request.delete('/notice/delete/batch', {data: this.ids}).then(res =&gt; {</span><span class="s2">\r\n          </span><span class="s1">if (res.code === '200') {   // 表示操作成功</span><span class="s2">\r\n            </span><span class="s1">this.$message.success('操作成功')</span><span class="s2">\r\n            </span><span class="s1">this.load(1)</span><span class="s2">\r\n          </span><span class="s1">} else {</span><span class="s2">\r\n            </span><span class="s1">this.$message.error(res.msg)  // 弹出错误的信息</span><span class="s2">\r\n          </span><span class="s1">}</span><span class="s2">\r\n        </span><span class="s1">})</span><span class="s2">\r\n      </span><span class="s1">}).catch(() =&gt; {</span><span class="s2">\r\n      </span><span class="s1">})</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n    </span><span class="s1">load(pageNum) {  // 分页查询</span><span class="s2">\r\n      </span><span class="s1">if (pageNum) this.pageNum = pageNum</span><span class="s2">\r\n      </span><span class="s1">this.$request.get('/notice/selectPage', {</span><span class="s2">\r\n        </span><span class="s1">params: {</span><span class="s2">\r\n          </span><span class="s1">pageNum: this.pageNum,</span><span class="s2">\r\n          </span><span class="s1">pageSize: this.pageSize,</span><span class="s2">\r\n          </span><span class="s1">title: this.title,</span><span class="s2">\r\n        </span><span class="s1">}</span><span class="s2">\r\n      </span><span class="s1">}).then(res =&gt; {</span><span class="s2">\r\n        </span><span class="s1">this.tableData = res.data?.list</span><span class="s2">\r\n        </span><span class="s1">this.total = res.data?.total</span><span class="s2">\r\n      </span><span class="s1">})</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n    </span><span class="s1">reset() {</span><span class="s2">\r\n      </span><span class="s1">this.title = null</span><span class="s2">\r\n      </span><span class="s1">this.load(1)</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n    </span><span class="s1">handleCurrentChange(pageNum) {</span><span class="s2">\r\n      </span><span class="s1">this.load(pageNum)</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n  </span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">&lt;/script&gt;</span><span class="s2">\r\n\r\n</span><span class="s1">&lt;style scoped&gt;</span><span class="s2">\r\n\r\n</span><span class="s1">&lt;/style&gt;</span><span class="s2">\r\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">},</span><span class="s1">&quot;metadata&quot;</span><span class="s0">:{},</span><span class="s1">&quot;sourceType&quot;</span><span class="s0">:</span><span class="s1">&quot;module&quot;</span><span class="s0">,</span><span class="s1">&quot;externalDependencies&quot;</span><span class="s0">:[]}</span></pre>
</body>
</html>
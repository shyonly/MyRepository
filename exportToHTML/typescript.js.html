<html>
<head>
<title>typescript.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cf8e6d;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #6aab73;}
.s4 { color: #7a7e85;}
.s5 { color: #5f826b; font-style: italic;}
.s6 { color: #67a37c; font-style: italic;}
.s7 { color: #2aacb8;}
.s8 { color: #42c3d4;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
typescript.js</font>
</center></td></tr></table>
<pre><span class="s0">const </span><span class="s1">IDENT_RE </span><span class="s2">= </span><span class="s3">'[A-Za-z$_][0-9A-Za-z$_]*'</span><span class="s2">;</span>
<span class="s0">const </span><span class="s1">KEYWORDS </span><span class="s2">= [</span>
  <span class="s3">&quot;as&quot;</span><span class="s2">, </span><span class="s4">// for exports</span>
  <span class="s3">&quot;in&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;of&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;if&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;for&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;while&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;finally&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;var&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;new&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;function&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;do&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;return&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;void&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;else&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;break&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;catch&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;instanceof&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;with&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;throw&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;case&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;default&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;try&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;switch&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;continue&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;typeof&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;delete&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;let&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;yield&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;const&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;class&quot;</span><span class="s2">,</span>
  <span class="s4">// JS handles these with a special rule</span>
  <span class="s4">// &quot;get&quot;,</span>
  <span class="s4">// &quot;set&quot;,</span>
  <span class="s3">&quot;debugger&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;async&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;await&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;static&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;import&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;from&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;export&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;extends&quot;</span>
<span class="s2">];</span>
<span class="s0">const </span><span class="s1">LITERALS </span><span class="s2">= [</span>
  <span class="s3">&quot;true&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;false&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;null&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;undefined&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;NaN&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Infinity&quot;</span>
<span class="s2">];</span>

<span class="s0">const </span><span class="s1">TYPES </span><span class="s2">= [</span>
  <span class="s3">&quot;Intl&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;DataView&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Number&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Math&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Date&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;String&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;RegExp&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Object&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Function&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Boolean&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Error&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Symbol&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Set&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Map&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;WeakSet&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;WeakMap&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Proxy&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Reflect&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;JSON&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Promise&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Float64Array&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Int16Array&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Int32Array&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Int8Array&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Uint16Array&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Uint32Array&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Float32Array&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Array&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Uint8Array&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;Uint8ClampedArray&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;ArrayBuffer&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;BigInt64Array&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;BigUint64Array&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;BigInt&quot;</span>
<span class="s2">];</span>

<span class="s0">const </span><span class="s1">ERROR_TYPES </span><span class="s2">= [</span>
  <span class="s3">&quot;EvalError&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;InternalError&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;RangeError&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;ReferenceError&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;SyntaxError&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;TypeError&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;URIError&quot;</span>
<span class="s2">];</span>

<span class="s0">const </span><span class="s1">BUILT_IN_GLOBALS </span><span class="s2">= [</span>
  <span class="s3">&quot;setInterval&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;setTimeout&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;clearInterval&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;clearTimeout&quot;</span><span class="s2">,</span>

  <span class="s3">&quot;require&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;exports&quot;</span><span class="s2">,</span>

  <span class="s3">&quot;eval&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;isFinite&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;isNaN&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;parseFloat&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;parseInt&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;decodeURI&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;decodeURIComponent&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;encodeURI&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;encodeURIComponent&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;escape&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;unescape&quot;</span>
<span class="s2">];</span>

<span class="s0">const </span><span class="s1">BUILT_IN_VARIABLES </span><span class="s2">= [</span>
  <span class="s3">&quot;arguments&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;this&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;super&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;console&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;window&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;document&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;localStorage&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;module&quot;</span><span class="s2">,</span>
  <span class="s3">&quot;global&quot; </span><span class="s4">// Node.js</span>
<span class="s2">];</span>

<span class="s0">const </span><span class="s1">BUILT_INS </span><span class="s2">= [].</span><span class="s1">concat</span><span class="s2">(</span>
  <span class="s1">BUILT_IN_GLOBALS</span><span class="s2">,</span>
  <span class="s1">BUILT_IN_VARIABLES</span><span class="s2">,</span>
  <span class="s1">TYPES</span><span class="s2">,</span>
  <span class="s1">ERROR_TYPES</span>
<span class="s2">);</span>

<span class="s5">/**</span>
 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{string} value</span>
 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{RegExp}</span>
 <span class="s5">* */</span>

<span class="s5">/**</span>
 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{RegExp | string } re</span>
 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{string}</span>
 <span class="s5">*/</span>
<span class="s0">function </span><span class="s1">source</span><span class="s2">(</span><span class="s1">re</span><span class="s2">) {</span>
  <span class="s0">if </span><span class="s2">(!</span><span class="s1">re</span><span class="s2">) </span><span class="s0">return null</span><span class="s2">;</span>
  <span class="s0">if </span><span class="s2">(</span><span class="s0">typeof </span><span class="s1">re </span><span class="s2">=== </span><span class="s3">&quot;string&quot;</span><span class="s2">) </span><span class="s0">return </span><span class="s1">re</span><span class="s2">;</span>

  <span class="s0">return </span><span class="s1">re</span><span class="s2">.</span><span class="s1">source</span><span class="s2">;</span>
<span class="s2">}</span>

<span class="s5">/**</span>
 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{RegExp | string } re</span>
 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{string}</span>
 <span class="s5">*/</span>
<span class="s0">function </span><span class="s1">lookahead</span><span class="s2">(</span><span class="s1">re</span><span class="s2">) {</span>
  <span class="s0">return </span><span class="s1">concat</span><span class="s2">(</span><span class="s3">'(?='</span><span class="s2">, </span><span class="s1">re</span><span class="s2">, </span><span class="s3">')'</span><span class="s2">);</span>
<span class="s2">}</span>

<span class="s5">/**</span>
 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{...(RegExp | string) } args</span>
 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{string}</span>
 <span class="s5">*/</span>
<span class="s0">function </span><span class="s1">concat</span><span class="s2">(</span><span class="s1">...args</span><span class="s2">) {</span>
  <span class="s0">const </span><span class="s1">joined </span><span class="s2">= </span><span class="s1">args</span><span class="s2">.</span><span class="s1">map</span><span class="s2">((</span><span class="s1">x</span><span class="s2">) =&gt; </span><span class="s1">source</span><span class="s2">(</span><span class="s1">x</span><span class="s2">)).</span><span class="s1">join</span><span class="s2">(</span><span class="s3">&quot;&quot;</span><span class="s2">);</span>
  <span class="s0">return </span><span class="s1">joined</span><span class="s2">;</span>
<span class="s2">}</span>

<span class="s4">/* 
Language: JavaScript 
Description: JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions. 
Category: common, scripting 
Website: https://developer.mozilla.org/en-US/docs/Web/JavaScript 
*/</span>

<span class="s5">/** </span><span class="s6">@type </span><span class="s5">LanguageFn */</span>
<span class="s0">function </span><span class="s1">javascript</span><span class="s2">(</span><span class="s1">hljs</span><span class="s2">) {</span>
  <span class="s5">/**</span>
   <span class="s5">* Takes a string like &quot;&lt;Booger&quot; and checks to see</span>
   <span class="s5">* if we can find a matching &quot;&lt;/Booger&quot; later in the</span>
   <span class="s5">* content.</span>
   <span class="s5">* </span><span class="s6">@param </span><span class="s5">{RegExpMatchArray} match</span>
   <span class="s5">* </span><span class="s6">@param </span><span class="s5">{{after:number}} param1</span>
   <span class="s5">*/</span>
  <span class="s0">const </span><span class="s1">hasClosingTag </span><span class="s2">= (</span><span class="s1">match</span><span class="s2">, { </span><span class="s1">after </span><span class="s2">}) =&gt; {</span>
    <span class="s0">const </span><span class="s1">tag </span><span class="s2">= </span><span class="s3">&quot;&lt;/&quot; </span><span class="s2">+ </span><span class="s1">match</span><span class="s2">[</span><span class="s7">0</span><span class="s2">].</span><span class="s1">slice</span><span class="s2">(</span><span class="s7">1</span><span class="s2">);</span>
    <span class="s0">const </span><span class="s1">pos </span><span class="s2">= </span><span class="s1">match</span><span class="s2">.</span><span class="s1">input</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">tag</span><span class="s2">, </span><span class="s1">after</span><span class="s2">);</span>
    <span class="s0">return </span><span class="s1">pos </span><span class="s2">!== -</span><span class="s7">1</span><span class="s2">;</span>
  <span class="s2">};</span>

  <span class="s0">const </span><span class="s1">IDENT_RE$1 </span><span class="s2">= </span><span class="s1">IDENT_RE</span><span class="s2">;</span>
  <span class="s0">const </span><span class="s1">FRAGMENT </span><span class="s2">= {</span>
    <span class="s1">begin</span><span class="s2">: </span><span class="s3">'&lt;&gt;'</span><span class="s2">,</span>
    <span class="s1">end</span><span class="s2">: </span><span class="s3">'&lt;/&gt;'</span>
  <span class="s2">};</span>
  <span class="s0">const </span><span class="s1">XML_TAG </span><span class="s2">= {</span>
    <span class="s1">begin</span><span class="s2">: </span><span class="s8">/&lt;[A-Za-z0-9\\._:-]+/</span><span class="s2">,</span>
    <span class="s1">end</span><span class="s2">: </span><span class="s8">/\/[A-Za-z0-9\\._:-]+&gt;|\/&gt;/</span><span class="s2">,</span>
    <span class="s5">/**</span>
     <span class="s5">* </span><span class="s6">@param </span><span class="s5">{RegExpMatchArray} match</span>
     <span class="s5">* </span><span class="s6">@param </span><span class="s5">{CallbackResponse} response</span>
     <span class="s5">*/</span>
    <span class="s1">isTrulyOpeningTag</span><span class="s2">: (</span><span class="s1">match</span><span class="s2">, </span><span class="s1">response</span><span class="s2">) =&gt; {</span>
      <span class="s0">const </span><span class="s1">afterMatchIndex </span><span class="s2">= </span><span class="s1">match</span><span class="s2">[</span><span class="s7">0</span><span class="s2">].</span><span class="s1">length </span><span class="s2">+ </span><span class="s1">match</span><span class="s2">.</span><span class="s1">index</span><span class="s2">;</span>
      <span class="s0">const </span><span class="s1">nextChar </span><span class="s2">= </span><span class="s1">match</span><span class="s2">.</span><span class="s1">input</span><span class="s2">[</span><span class="s1">afterMatchIndex</span><span class="s2">];</span>
      <span class="s4">// nested type?</span>
      <span class="s4">// HTML should not include another raw `&lt;` inside a tag</span>
      <span class="s4">// But a type might: `&lt;Array&lt;Array&lt;number&gt;&gt;`, etc.</span>
      <span class="s0">if </span><span class="s2">(</span><span class="s1">nextChar </span><span class="s2">=== </span><span class="s3">&quot;&lt;&quot;</span><span class="s2">) {</span>
        <span class="s1">response</span><span class="s2">.</span><span class="s1">ignoreMatch</span><span class="s2">();</span>
        <span class="s0">return</span><span class="s2">;</span>
      <span class="s2">}</span>
      <span class="s4">// &lt;something&gt;</span>
      <span class="s4">// This is now either a tag or a type.</span>
      <span class="s0">if </span><span class="s2">(</span><span class="s1">nextChar </span><span class="s2">=== </span><span class="s3">&quot;&gt;&quot;</span><span class="s2">) {</span>
        <span class="s4">// if we cannot find a matching closing tag, then we</span>
        <span class="s4">// will ignore it</span>
        <span class="s0">if </span><span class="s2">(!</span><span class="s1">hasClosingTag</span><span class="s2">(</span><span class="s1">match</span><span class="s2">, { </span><span class="s1">after</span><span class="s2">: </span><span class="s1">afterMatchIndex </span><span class="s2">})) {</span>
          <span class="s1">response</span><span class="s2">.</span><span class="s1">ignoreMatch</span><span class="s2">();</span>
        <span class="s2">}</span>
      <span class="s2">}</span>
    <span class="s2">}</span>
  <span class="s2">};</span>
  <span class="s0">const </span><span class="s1">KEYWORDS$1 </span><span class="s2">= {</span>
    <span class="s1">$pattern</span><span class="s2">: </span><span class="s1">IDENT_RE</span><span class="s2">,</span>
    <span class="s1">keyword</span><span class="s2">: </span><span class="s1">KEYWORDS</span><span class="s2">,</span>
    <span class="s1">literal</span><span class="s2">: </span><span class="s1">LITERALS</span><span class="s2">,</span>
    <span class="s1">built_in</span><span class="s2">: </span><span class="s1">BUILT_INS</span>
  <span class="s2">};</span>

  <span class="s4">// https://tc39.es/ecma262/#sec-literals-numeric-literals</span>
  <span class="s0">const </span><span class="s1">decimalDigits </span><span class="s2">= </span><span class="s3">'[0-9](_?[0-9])*'</span><span class="s2">;</span>
  <span class="s0">const </span><span class="s1">frac </span><span class="s2">= </span><span class="s3">`</span><span class="s0">\\</span><span class="s3">.(</span><span class="s1">$</span><span class="s2">{</span><span class="s1">decimalDigits</span><span class="s2">}</span><span class="s3">)`</span><span class="s2">;</span>
  <span class="s4">// DecimalIntegerLiteral, including Annex B NonOctalDecimalIntegerLiteral</span>
  <span class="s4">// https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals</span>
  <span class="s0">const </span><span class="s1">decimalInteger </span><span class="s2">= </span><span class="s3">`0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*`</span><span class="s2">;</span>
  <span class="s0">const </span><span class="s1">NUMBER </span><span class="s2">= {</span>
    <span class="s1">className</span><span class="s2">: </span><span class="s3">'number'</span><span class="s2">,</span>
    <span class="s1">variants</span><span class="s2">: [</span>
      <span class="s4">// DecimalLiteral</span>
      <span class="s2">{ </span><span class="s1">begin</span><span class="s2">: </span><span class="s3">`(</span><span class="s0">\\</span><span class="s3">b(</span><span class="s1">$</span><span class="s2">{</span><span class="s1">decimalInteger</span><span class="s2">}</span><span class="s3">)((</span><span class="s1">$</span><span class="s2">{</span><span class="s1">frac</span><span class="s2">}</span><span class="s3">)|</span><span class="s0">\\</span><span class="s3">.)?|(</span><span class="s1">$</span><span class="s2">{</span><span class="s1">frac</span><span class="s2">}</span><span class="s3">))` </span><span class="s2">+</span>
        <span class="s3">`[eE][+-]?(</span><span class="s1">$</span><span class="s2">{</span><span class="s1">decimalDigits</span><span class="s2">}</span><span class="s3">)</span><span class="s0">\\</span><span class="s3">b` </span><span class="s2">},</span>
      <span class="s2">{ </span><span class="s1">begin</span><span class="s2">: </span><span class="s3">`</span><span class="s0">\\</span><span class="s3">b(</span><span class="s1">$</span><span class="s2">{</span><span class="s1">decimalInteger</span><span class="s2">}</span><span class="s3">)</span><span class="s0">\\</span><span class="s3">b((</span><span class="s1">$</span><span class="s2">{</span><span class="s1">frac</span><span class="s2">}</span><span class="s3">)</span><span class="s0">\\</span><span class="s3">b|</span><span class="s0">\\</span><span class="s3">.)?|(</span><span class="s1">$</span><span class="s2">{</span><span class="s1">frac</span><span class="s2">}</span><span class="s3">)</span><span class="s0">\\</span><span class="s3">b` </span><span class="s2">},</span>

      <span class="s4">// DecimalBigIntegerLiteral</span>
      <span class="s2">{ </span><span class="s1">begin</span><span class="s2">: </span><span class="s3">`</span><span class="s0">\\</span><span class="s3">b(0|[1-9](_?[0-9])*)n</span><span class="s0">\\</span><span class="s3">b` </span><span class="s2">},</span>

      <span class="s4">// NonDecimalIntegerLiteral</span>
      <span class="s2">{ </span><span class="s1">begin</span><span class="s2">: </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?</span><span class="s0">\\</span><span class="s3">b&quot; </span><span class="s2">},</span>
      <span class="s2">{ </span><span class="s1">begin</span><span class="s2">: </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">b0[bB][0-1](_?[0-1])*n?</span><span class="s0">\\</span><span class="s3">b&quot; </span><span class="s2">},</span>
      <span class="s2">{ </span><span class="s1">begin</span><span class="s2">: </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">b0[oO][0-7](_?[0-7])*n?</span><span class="s0">\\</span><span class="s3">b&quot; </span><span class="s2">},</span>

      <span class="s4">// LegacyOctalIntegerLiteral (does not include underscore separators)</span>
      <span class="s4">// https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals</span>
      <span class="s2">{ </span><span class="s1">begin</span><span class="s2">: </span><span class="s3">&quot;</span><span class="s0">\\</span><span class="s3">b0[0-7]+n?</span><span class="s0">\\</span><span class="s3">b&quot; </span><span class="s2">},</span>
    <span class="s2">],</span>
    <span class="s1">relevance</span><span class="s2">: </span><span class="s7">0</span>
  <span class="s2">};</span>

  <span class="s0">const </span><span class="s1">SUBST </span><span class="s2">= {</span>
    <span class="s1">className</span><span class="s2">: </span><span class="s3">'subst'</span><span class="s2">,</span>
    <span class="s1">begin</span><span class="s2">: </span><span class="s3">'</span><span class="s0">\\</span><span class="s3">$</span><span class="s0">\\</span><span class="s3">{'</span><span class="s2">,</span>
    <span class="s1">end</span><span class="s2">: </span><span class="s3">'</span><span class="s0">\\</span><span class="s3">}'</span><span class="s2">,</span>
    <span class="s1">keywords</span><span class="s2">: </span><span class="s1">KEYWORDS$1</span><span class="s2">,</span>
    <span class="s1">contains</span><span class="s2">: [] </span><span class="s4">// defined later</span>
  <span class="s2">};</span>
  <span class="s0">const </span><span class="s1">HTML_TEMPLATE </span><span class="s2">= {</span>
    <span class="s1">begin</span><span class="s2">: </span><span class="s3">'html`'</span><span class="s2">,</span>
    <span class="s1">end</span><span class="s2">: </span><span class="s3">''</span><span class="s2">,</span>
    <span class="s1">starts</span><span class="s2">: {</span>
      <span class="s1">end</span><span class="s2">: </span><span class="s3">'`'</span><span class="s2">,</span>
      <span class="s1">returnEnd</span><span class="s2">: </span><span class="s0">false</span><span class="s2">,</span>
      <span class="s1">contains</span><span class="s2">: [</span>
        <span class="s1">hljs</span><span class="s2">.</span><span class="s1">BACKSLASH_ESCAPE</span><span class="s2">,</span>
        <span class="s1">SUBST</span>
      <span class="s2">],</span>
      <span class="s1">subLanguage</span><span class="s2">: </span><span class="s3">'xml'</span>
    <span class="s2">}</span>
  <span class="s2">};</span>
  <span class="s0">const </span><span class="s1">CSS_TEMPLATE </span><span class="s2">= {</span>
    <span class="s1">begin</span><span class="s2">: </span><span class="s3">'css`'</span><span class="s2">,</span>
    <span class="s1">end</span><span class="s2">: </span><span class="s3">''</span><span class="s2">,</span>
    <span class="s1">starts</span><span class="s2">: {</span>
      <span class="s1">end</span><span class="s2">: </span><span class="s3">'`'</span><span class="s2">,</span>
      <span class="s1">returnEnd</span><span class="s2">: </span><span class="s0">false</span><span class="s2">,</span>
      <span class="s1">contains</span><span class="s2">: [</span>
        <span class="s1">hljs</span><span class="s2">.</span><span class="s1">BACKSLASH_ESCAPE</span><span class="s2">,</span>
        <span class="s1">SUBST</span>
      <span class="s2">],</span>
      <span class="s1">subLanguage</span><span class="s2">: </span><span class="s3">'css'</span>
    <span class="s2">}</span>
  <span class="s2">};</span>
  <span class="s0">const </span><span class="s1">TEMPLATE_STRING </span><span class="s2">= {</span>
    <span class="s1">className</span><span class="s2">: </span><span class="s3">'string'</span><span class="s2">,</span>
    <span class="s1">begin</span><span class="s2">: </span><span class="s3">'`'</span><span class="s2">,</span>
    <span class="s1">end</span><span class="s2">: </span><span class="s3">'`'</span><span class="s2">,</span>
    <span class="s1">contains</span><span class="s2">: [</span>
      <span class="s1">hljs</span><span class="s2">.</span><span class="s1">BACKSLASH_ESCAPE</span><span class="s2">,</span>
      <span class="s1">SUBST</span>
    <span class="s2">]</span>
  <span class="s2">};</span>
  <span class="s0">const </span><span class="s1">JSDOC_COMMENT </span><span class="s2">= </span><span class="s1">hljs</span><span class="s2">.</span><span class="s1">COMMENT</span><span class="s2">(</span>
    <span class="s8">/\/\*\*(?!\/)/</span><span class="s2">,</span>
    <span class="s3">'</span><span class="s0">\\</span><span class="s3">*/'</span><span class="s2">,</span>
    <span class="s2">{</span>
      <span class="s1">relevance</span><span class="s2">: </span><span class="s7">0</span><span class="s2">,</span>
      <span class="s1">contains</span><span class="s2">: [</span>
        <span class="s2">{</span>
          <span class="s1">className</span><span class="s2">: </span><span class="s3">'doctag'</span><span class="s2">,</span>
          <span class="s1">begin</span><span class="s2">: </span><span class="s3">'@[A-Za-z]+'</span><span class="s2">,</span>
          <span class="s1">contains</span><span class="s2">: [</span>
            <span class="s2">{</span>
              <span class="s1">className</span><span class="s2">: </span><span class="s3">'type'</span><span class="s2">,</span>
              <span class="s1">begin</span><span class="s2">: </span><span class="s3">'</span><span class="s0">\\</span><span class="s3">{'</span><span class="s2">,</span>
              <span class="s1">end</span><span class="s2">: </span><span class="s3">'</span><span class="s0">\\</span><span class="s3">}'</span><span class="s2">,</span>
              <span class="s1">relevance</span><span class="s2">: </span><span class="s7">0</span>
            <span class="s2">},</span>
            <span class="s2">{</span>
              <span class="s1">className</span><span class="s2">: </span><span class="s3">'variable'</span><span class="s2">,</span>
              <span class="s1">begin</span><span class="s2">: </span><span class="s1">IDENT_RE$1 </span><span class="s2">+ </span><span class="s3">'(?=</span><span class="s0">\\</span><span class="s3">s*(-)|$)'</span><span class="s2">,</span>
              <span class="s1">endsParent</span><span class="s2">: </span><span class="s0">true</span><span class="s2">,</span>
              <span class="s1">relevance</span><span class="s2">: </span><span class="s7">0</span>
            <span class="s2">},</span>
            <span class="s4">// eat spaces (not newlines) so we can find</span>
            <span class="s4">// types or variables</span>
            <span class="s2">{</span>
              <span class="s1">begin</span><span class="s2">: </span><span class="s8">/(?=[^\n])\s/</span><span class="s2">,</span>
              <span class="s1">relevance</span><span class="s2">: </span><span class="s7">0</span>
            <span class="s2">}</span>
          <span class="s2">]</span>
        <span class="s2">}</span>
      <span class="s2">]</span>
    <span class="s2">}</span>
  <span class="s2">);</span>
  <span class="s0">const </span><span class="s1">COMMENT </span><span class="s2">= {</span>
    <span class="s1">className</span><span class="s2">: </span><span class="s3">&quot;comment&quot;</span><span class="s2">,</span>
    <span class="s1">variants</span><span class="s2">: [</span>
      <span class="s1">JSDOC_COMMENT</span><span class="s2">,</span>
      <span class="s1">hljs</span><span class="s2">.</span><span class="s1">C_BLOCK_COMMENT_MODE</span><span class="s2">,</span>
      <span class="s1">hljs</span><span class="s2">.</span><span class="s1">C_LINE_COMMENT_MODE</span>
    <span class="s2">]</span>
  <span class="s2">};</span>
  <span class="s0">const </span><span class="s1">SUBST_INTERNALS </span><span class="s2">= [</span>
    <span class="s1">hljs</span><span class="s2">.</span><span class="s1">APOS_STRING_MODE</span><span class="s2">,</span>
    <span class="s1">hljs</span><span class="s2">.</span><span class="s1">QUOTE_STRING_MODE</span><span class="s2">,</span>
    <span class="s1">HTML_TEMPLATE</span><span class="s2">,</span>
    <span class="s1">CSS_TEMPLATE</span><span class="s2">,</span>
    <span class="s1">TEMPLATE_STRING</span><span class="s2">,</span>
    <span class="s1">NUMBER</span><span class="s2">,</span>
    <span class="s1">hljs</span><span class="s2">.</span><span class="s1">REGEXP_MODE</span>
  <span class="s2">];</span>
  <span class="s1">SUBST</span><span class="s2">.</span><span class="s1">contains </span><span class="s2">= </span><span class="s1">SUBST_INTERNALS</span>
    <span class="s2">.</span><span class="s1">concat</span><span class="s2">({</span>
      <span class="s4">// we need to pair up {} inside our subst to prevent</span>
      <span class="s4">// it from ending too early by matching another }</span>
      <span class="s1">begin</span><span class="s2">: </span><span class="s8">/\{/</span><span class="s2">,</span>
      <span class="s1">end</span><span class="s2">: </span><span class="s8">/\}/</span><span class="s2">,</span>
      <span class="s1">keywords</span><span class="s2">: </span><span class="s1">KEYWORDS$1</span><span class="s2">,</span>
      <span class="s1">contains</span><span class="s2">: [</span>
        <span class="s3">&quot;self&quot;</span>
      <span class="s2">].</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">SUBST_INTERNALS</span><span class="s2">)</span>
    <span class="s2">});</span>
  <span class="s0">const </span><span class="s1">SUBST_AND_COMMENTS </span><span class="s2">= [].</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">COMMENT</span><span class="s2">, </span><span class="s1">SUBST</span><span class="s2">.</span><span class="s1">contains</span><span class="s2">);</span>
  <span class="s0">const </span><span class="s1">PARAMS_CONTAINS </span><span class="s2">= </span><span class="s1">SUBST_AND_COMMENTS</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">([</span>
    <span class="s4">// eat recursive parens in sub expressions</span>
    <span class="s2">{</span>
      <span class="s1">begin</span><span class="s2">: </span><span class="s8">/\(/</span><span class="s2">,</span>
      <span class="s1">end</span><span class="s2">: </span><span class="s8">/\)/</span><span class="s2">,</span>
      <span class="s1">keywords</span><span class="s2">: </span><span class="s1">KEYWORDS$1</span><span class="s2">,</span>
      <span class="s1">contains</span><span class="s2">: [</span><span class="s3">&quot;self&quot;</span><span class="s2">].</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">SUBST_AND_COMMENTS</span><span class="s2">)</span>
    <span class="s2">}</span>
  <span class="s2">]);</span>
  <span class="s0">const </span><span class="s1">PARAMS </span><span class="s2">= {</span>
    <span class="s1">className</span><span class="s2">: </span><span class="s3">'params'</span><span class="s2">,</span>
    <span class="s1">begin</span><span class="s2">: </span><span class="s8">/\(/</span><span class="s2">,</span>
    <span class="s1">end</span><span class="s2">: </span><span class="s8">/\)/</span><span class="s2">,</span>
    <span class="s1">excludeBegin</span><span class="s2">: </span><span class="s0">true</span><span class="s2">,</span>
    <span class="s1">excludeEnd</span><span class="s2">: </span><span class="s0">true</span><span class="s2">,</span>
    <span class="s1">keywords</span><span class="s2">: </span><span class="s1">KEYWORDS$1</span><span class="s2">,</span>
    <span class="s1">contains</span><span class="s2">: </span><span class="s1">PARAMS_CONTAINS</span>
  <span class="s2">};</span>

  <span class="s0">return </span><span class="s2">{</span>
    <span class="s1">name</span><span class="s2">: </span><span class="s3">'Javascript'</span><span class="s2">,</span>
    <span class="s1">aliases</span><span class="s2">: [</span><span class="s3">'js'</span><span class="s2">, </span><span class="s3">'jsx'</span><span class="s2">, </span><span class="s3">'mjs'</span><span class="s2">, </span><span class="s3">'cjs'</span><span class="s2">],</span>
    <span class="s1">keywords</span><span class="s2">: </span><span class="s1">KEYWORDS$1</span><span class="s2">,</span>
    <span class="s4">// this will be extended by TypeScript</span>
    <span class="s1">exports</span><span class="s2">: { </span><span class="s1">PARAMS_CONTAINS </span><span class="s2">},</span>
    <span class="s1">illegal</span><span class="s2">: </span><span class="s8">/#(?![$_A-z])/</span><span class="s2">,</span>
    <span class="s1">contains</span><span class="s2">: [</span>
      <span class="s1">hljs</span><span class="s2">.</span><span class="s1">SHEBANG</span><span class="s2">({</span>
        <span class="s1">label</span><span class="s2">: </span><span class="s3">&quot;shebang&quot;</span><span class="s2">,</span>
        <span class="s1">binary</span><span class="s2">: </span><span class="s3">&quot;node&quot;</span><span class="s2">,</span>
        <span class="s1">relevance</span><span class="s2">: </span><span class="s7">5</span>
      <span class="s2">}),</span>
      <span class="s2">{</span>
        <span class="s1">label</span><span class="s2">: </span><span class="s3">&quot;use_strict&quot;</span><span class="s2">,</span>
        <span class="s1">className</span><span class="s2">: </span><span class="s3">'meta'</span><span class="s2">,</span>
        <span class="s1">relevance</span><span class="s2">: </span><span class="s7">10</span><span class="s2">,</span>
        <span class="s1">begin</span><span class="s2">: </span><span class="s8">/^\s*['&quot;]use (strict|asm)['&quot;]/</span>
      <span class="s2">},</span>
      <span class="s1">hljs</span><span class="s2">.</span><span class="s1">APOS_STRING_MODE</span><span class="s2">,</span>
      <span class="s1">hljs</span><span class="s2">.</span><span class="s1">QUOTE_STRING_MODE</span><span class="s2">,</span>
      <span class="s1">HTML_TEMPLATE</span><span class="s2">,</span>
      <span class="s1">CSS_TEMPLATE</span><span class="s2">,</span>
      <span class="s1">TEMPLATE_STRING</span><span class="s2">,</span>
      <span class="s1">COMMENT</span><span class="s2">,</span>
      <span class="s1">NUMBER</span><span class="s2">,</span>
      <span class="s2">{ </span><span class="s4">// object attr container</span>
        <span class="s1">begin</span><span class="s2">: </span><span class="s1">concat</span><span class="s2">(</span><span class="s8">/[{,\n]\s*/</span><span class="s2">,</span>
          <span class="s4">// we need to look ahead to make sure that we actually have an</span>
          <span class="s4">// attribute coming up so we don't steal a comma from a potential</span>
          <span class="s4">// &quot;value&quot; container</span>
          <span class="s4">//</span>
          <span class="s4">// NOTE: this might not work how you think.  We don't actually always</span>
          <span class="s4">// enter this mode and stay.  Instead it might merely match `,</span>
          <span class="s4">// &lt;comments up next&gt;` and then immediately end after the , because it</span>
          <span class="s4">// fails to find any actual attrs. But this still does the job because</span>
          <span class="s4">// it prevents the value contain rule from grabbing this instead and</span>
          <span class="s4">// prevening this rule from firing when we actually DO have keys.</span>
          <span class="s1">lookahead</span><span class="s2">(</span><span class="s1">concat</span><span class="s2">(</span>
            <span class="s4">// we also need to allow for multiple possible comments inbetween</span>
            <span class="s4">// the first key:value pairing</span>
            <span class="s8">/(((\/\/.*$)|(\/\*(\*[^/]|[^*])*\*\/))\s*)*/</span><span class="s2">,</span>
            <span class="s1">IDENT_RE$1 </span><span class="s2">+ </span><span class="s3">'</span><span class="s0">\\</span><span class="s3">s*:'</span><span class="s2">))),</span>
        <span class="s1">relevance</span><span class="s2">: </span><span class="s7">0</span><span class="s2">,</span>
        <span class="s1">contains</span><span class="s2">: [</span>
          <span class="s2">{</span>
            <span class="s1">className</span><span class="s2">: </span><span class="s3">'attr'</span><span class="s2">,</span>
            <span class="s1">begin</span><span class="s2">: </span><span class="s1">IDENT_RE$1 </span><span class="s2">+ </span><span class="s1">lookahead</span><span class="s2">(</span><span class="s3">'</span><span class="s0">\\</span><span class="s3">s*:'</span><span class="s2">),</span>
            <span class="s1">relevance</span><span class="s2">: </span><span class="s7">0</span>
          <span class="s2">}</span>
        <span class="s2">]</span>
      <span class="s2">},</span>
      <span class="s2">{ </span><span class="s4">// &quot;value&quot; container</span>
        <span class="s1">begin</span><span class="s2">: </span><span class="s3">'(' </span><span class="s2">+ </span><span class="s1">hljs</span><span class="s2">.</span><span class="s1">RE_STARTERS_RE </span><span class="s2">+ </span><span class="s3">'|</span><span class="s0">\\</span><span class="s3">b(case|return|throw)</span><span class="s0">\\</span><span class="s3">b)</span><span class="s0">\\</span><span class="s3">s*'</span><span class="s2">,</span>
        <span class="s1">keywords</span><span class="s2">: </span><span class="s3">'return throw case'</span><span class="s2">,</span>
        <span class="s1">contains</span><span class="s2">: [</span>
          <span class="s1">COMMENT</span><span class="s2">,</span>
          <span class="s1">hljs</span><span class="s2">.</span><span class="s1">REGEXP_MODE</span><span class="s2">,</span>
          <span class="s2">{</span>
            <span class="s1">className</span><span class="s2">: </span><span class="s3">'function'</span><span class="s2">,</span>
            <span class="s4">// we have to count the parens to make sure we actually have the</span>
            <span class="s4">// correct bounding ( ) before the =&gt;.  There could be any number of</span>
            <span class="s4">// sub-expressions inside also surrounded by parens.</span>
            <span class="s1">begin</span><span class="s2">: </span><span class="s3">'(</span><span class="s0">\\</span><span class="s3">(' </span><span class="s2">+</span>
            <span class="s3">'[^()]*(</span><span class="s0">\\</span><span class="s3">(' </span><span class="s2">+</span>
            <span class="s3">'[^()]*(</span><span class="s0">\\</span><span class="s3">(' </span><span class="s2">+</span>
            <span class="s3">'[^()]*' </span><span class="s2">+</span>
            <span class="s3">'</span><span class="s0">\\</span><span class="s3">)[^()]*)*' </span><span class="s2">+</span>
            <span class="s3">'</span><span class="s0">\\</span><span class="s3">)[^()]*)*' </span><span class="s2">+</span>
            <span class="s3">'</span><span class="s0">\\</span><span class="s3">)|' </span><span class="s2">+ </span><span class="s1">hljs</span><span class="s2">.</span><span class="s1">UNDERSCORE_IDENT_RE </span><span class="s2">+ </span><span class="s3">')</span><span class="s0">\\</span><span class="s3">s*=&gt;'</span><span class="s2">,</span>
            <span class="s1">returnBegin</span><span class="s2">: </span><span class="s0">true</span><span class="s2">,</span>
            <span class="s1">end</span><span class="s2">: </span><span class="s3">'</span><span class="s0">\\</span><span class="s3">s*=&gt;'</span><span class="s2">,</span>
            <span class="s1">contains</span><span class="s2">: [</span>
              <span class="s2">{</span>
                <span class="s1">className</span><span class="s2">: </span><span class="s3">'params'</span><span class="s2">,</span>
                <span class="s1">variants</span><span class="s2">: [</span>
                  <span class="s2">{</span>
                    <span class="s1">begin</span><span class="s2">: </span><span class="s1">hljs</span><span class="s2">.</span><span class="s1">UNDERSCORE_IDENT_RE</span><span class="s2">,</span>
                    <span class="s1">relevance</span><span class="s2">: </span><span class="s7">0</span>
                  <span class="s2">},</span>
                  <span class="s2">{</span>
                    <span class="s1">className</span><span class="s2">: </span><span class="s0">null</span><span class="s2">,</span>
                    <span class="s1">begin</span><span class="s2">: </span><span class="s8">/\(\s*\)/</span><span class="s2">,</span>
                    <span class="s1">skip</span><span class="s2">: </span><span class="s0">true</span>
                  <span class="s2">},</span>
                  <span class="s2">{</span>
                    <span class="s1">begin</span><span class="s2">: </span><span class="s8">/\(/</span><span class="s2">,</span>
                    <span class="s1">end</span><span class="s2">: </span><span class="s8">/\)/</span><span class="s2">,</span>
                    <span class="s1">excludeBegin</span><span class="s2">: </span><span class="s0">true</span><span class="s2">,</span>
                    <span class="s1">excludeEnd</span><span class="s2">: </span><span class="s0">true</span><span class="s2">,</span>
                    <span class="s1">keywords</span><span class="s2">: </span><span class="s1">KEYWORDS$1</span><span class="s2">,</span>
                    <span class="s1">contains</span><span class="s2">: </span><span class="s1">PARAMS_CONTAINS</span>
                  <span class="s2">}</span>
                <span class="s2">]</span>
              <span class="s2">}</span>
            <span class="s2">]</span>
          <span class="s2">},</span>
          <span class="s2">{ </span><span class="s4">// could be a comma delimited list of params to a function call</span>
            <span class="s1">begin</span><span class="s2">: </span><span class="s8">/,/</span><span class="s2">, </span><span class="s1">relevance</span><span class="s2">: </span><span class="s7">0</span>
          <span class="s2">},</span>
          <span class="s2">{</span>
            <span class="s1">className</span><span class="s2">: </span><span class="s3">''</span><span class="s2">,</span>
            <span class="s1">begin</span><span class="s2">: </span><span class="s8">/\s/</span><span class="s2">,</span>
            <span class="s1">end</span><span class="s2">: </span><span class="s8">/\s*/</span><span class="s2">,</span>
            <span class="s1">skip</span><span class="s2">: </span><span class="s0">true</span>
          <span class="s2">},</span>
          <span class="s2">{ </span><span class="s4">// JSX</span>
            <span class="s1">variants</span><span class="s2">: [</span>
              <span class="s2">{ </span><span class="s1">begin</span><span class="s2">: </span><span class="s1">FRAGMENT</span><span class="s2">.</span><span class="s1">begin</span><span class="s2">, </span><span class="s1">end</span><span class="s2">: </span><span class="s1">FRAGMENT</span><span class="s2">.</span><span class="s1">end </span><span class="s2">},</span>
              <span class="s2">{</span>
                <span class="s1">begin</span><span class="s2">: </span><span class="s1">XML_TAG</span><span class="s2">.</span><span class="s1">begin</span><span class="s2">,</span>
                <span class="s4">// we carefully check the opening tag to see if it truly</span>
                <span class="s4">// is a tag and not a false positive</span>
                <span class="s3">'on:begin'</span><span class="s2">: </span><span class="s1">XML_TAG</span><span class="s2">.</span><span class="s1">isTrulyOpeningTag</span><span class="s2">,</span>
                <span class="s1">end</span><span class="s2">: </span><span class="s1">XML_TAG</span><span class="s2">.</span><span class="s1">end</span>
              <span class="s2">}</span>
            <span class="s2">],</span>
            <span class="s1">subLanguage</span><span class="s2">: </span><span class="s3">'xml'</span><span class="s2">,</span>
            <span class="s1">contains</span><span class="s2">: [</span>
              <span class="s2">{</span>
                <span class="s1">begin</span><span class="s2">: </span><span class="s1">XML_TAG</span><span class="s2">.</span><span class="s1">begin</span><span class="s2">,</span>
                <span class="s1">end</span><span class="s2">: </span><span class="s1">XML_TAG</span><span class="s2">.</span><span class="s1">end</span><span class="s2">,</span>
                <span class="s1">skip</span><span class="s2">: </span><span class="s0">true</span><span class="s2">,</span>
                <span class="s1">contains</span><span class="s2">: [</span><span class="s3">'self'</span><span class="s2">]</span>
              <span class="s2">}</span>
            <span class="s2">]</span>
          <span class="s2">}</span>
        <span class="s2">],</span>
        <span class="s1">relevance</span><span class="s2">: </span><span class="s7">0</span>
      <span class="s2">},</span>
      <span class="s2">{</span>
        <span class="s1">className</span><span class="s2">: </span><span class="s3">'function'</span><span class="s2">,</span>
        <span class="s1">beginKeywords</span><span class="s2">: </span><span class="s3">'function'</span><span class="s2">,</span>
        <span class="s1">end</span><span class="s2">: </span><span class="s8">/[{;]/</span><span class="s2">,</span>
        <span class="s1">excludeEnd</span><span class="s2">: </span><span class="s0">true</span><span class="s2">,</span>
        <span class="s1">keywords</span><span class="s2">: </span><span class="s1">KEYWORDS$1</span><span class="s2">,</span>
        <span class="s1">contains</span><span class="s2">: [</span>
          <span class="s3">'self'</span><span class="s2">,</span>
          <span class="s1">hljs</span><span class="s2">.</span><span class="s1">inherit</span><span class="s2">(</span><span class="s1">hljs</span><span class="s2">.</span><span class="s1">TITLE_MODE</span><span class="s2">, { </span><span class="s1">begin</span><span class="s2">: </span><span class="s1">IDENT_RE$1 </span><span class="s2">}),</span>
          <span class="s1">PARAMS</span>
        <span class="s2">],</span>
        <span class="s1">illegal</span><span class="s2">: </span><span class="s8">/%/</span>
      <span class="s2">},</span>
      <span class="s2">{</span>
        <span class="s4">// prevent this from getting swallowed up by function</span>
        <span class="s4">// since they appear &quot;function like&quot;</span>
        <span class="s1">beginKeywords</span><span class="s2">: </span><span class="s3">&quot;while if switch catch for&quot;</span>
      <span class="s2">},</span>
      <span class="s2">{</span>
        <span class="s1">className</span><span class="s2">: </span><span class="s3">'function'</span><span class="s2">,</span>
        <span class="s4">// we have to count the parens to make sure we actually have the correct</span>
        <span class="s4">// bounding ( ).  There could be any number of sub-expressions inside</span>
        <span class="s4">// also surrounded by parens.</span>
        <span class="s1">begin</span><span class="s2">: </span><span class="s1">hljs</span><span class="s2">.</span><span class="s1">UNDERSCORE_IDENT_RE </span><span class="s2">+</span>
          <span class="s3">'</span><span class="s0">\\</span><span class="s3">(' </span><span class="s2">+ </span><span class="s4">// first parens</span>
          <span class="s3">'[^()]*(</span><span class="s0">\\</span><span class="s3">(' </span><span class="s2">+</span>
            <span class="s3">'[^()]*(</span><span class="s0">\\</span><span class="s3">(' </span><span class="s2">+</span>
              <span class="s3">'[^()]*' </span><span class="s2">+</span>
            <span class="s3">'</span><span class="s0">\\</span><span class="s3">)[^()]*)*' </span><span class="s2">+</span>
          <span class="s3">'</span><span class="s0">\\</span><span class="s3">)[^()]*)*' </span><span class="s2">+</span>
          <span class="s3">'</span><span class="s0">\\</span><span class="s3">)</span><span class="s0">\\</span><span class="s3">s*</span><span class="s0">\\</span><span class="s3">{'</span><span class="s2">, </span><span class="s4">// end parens</span>
        <span class="s1">returnBegin</span><span class="s2">:</span><span class="s0">true</span><span class="s2">,</span>
        <span class="s1">contains</span><span class="s2">: [</span>
          <span class="s1">PARAMS</span><span class="s2">,</span>
          <span class="s1">hljs</span><span class="s2">.</span><span class="s1">inherit</span><span class="s2">(</span><span class="s1">hljs</span><span class="s2">.</span><span class="s1">TITLE_MODE</span><span class="s2">, { </span><span class="s1">begin</span><span class="s2">: </span><span class="s1">IDENT_RE$1 </span><span class="s2">}),</span>
        <span class="s2">]</span>
      <span class="s2">},</span>
      <span class="s4">// hack: prevents detection of keywords in some circumstances</span>
      <span class="s4">// .keyword()</span>
      <span class="s4">// $keyword = x</span>
      <span class="s2">{</span>
        <span class="s1">variants</span><span class="s2">: [</span>
          <span class="s2">{ </span><span class="s1">begin</span><span class="s2">: </span><span class="s3">'</span><span class="s0">\\</span><span class="s3">.' </span><span class="s2">+ </span><span class="s1">IDENT_RE$1 </span><span class="s2">},</span>
          <span class="s2">{ </span><span class="s1">begin</span><span class="s2">: </span><span class="s3">'</span><span class="s0">\\</span><span class="s3">$' </span><span class="s2">+ </span><span class="s1">IDENT_RE$1 </span><span class="s2">}</span>
        <span class="s2">],</span>
        <span class="s1">relevance</span><span class="s2">: </span><span class="s7">0</span>
      <span class="s2">},</span>
      <span class="s2">{ </span><span class="s4">// ES6 class</span>
        <span class="s1">className</span><span class="s2">: </span><span class="s3">'class'</span><span class="s2">,</span>
        <span class="s1">beginKeywords</span><span class="s2">: </span><span class="s3">'class'</span><span class="s2">,</span>
        <span class="s1">end</span><span class="s2">: </span><span class="s8">/[{;=]/</span><span class="s2">,</span>
        <span class="s1">excludeEnd</span><span class="s2">: </span><span class="s0">true</span><span class="s2">,</span>
        <span class="s1">illegal</span><span class="s2">: </span><span class="s8">/[:&quot;[\]]/</span><span class="s2">,</span>
        <span class="s1">contains</span><span class="s2">: [</span>
          <span class="s2">{ </span><span class="s1">beginKeywords</span><span class="s2">: </span><span class="s3">'extends' </span><span class="s2">},</span>
          <span class="s1">hljs</span><span class="s2">.</span><span class="s1">UNDERSCORE_TITLE_MODE</span>
        <span class="s2">]</span>
      <span class="s2">},</span>
      <span class="s2">{</span>
        <span class="s1">begin</span><span class="s2">: </span><span class="s8">/\b(?=constructor)/</span><span class="s2">,</span>
        <span class="s1">end</span><span class="s2">: </span><span class="s8">/[{;]/</span><span class="s2">,</span>
        <span class="s1">excludeEnd</span><span class="s2">: </span><span class="s0">true</span><span class="s2">,</span>
        <span class="s1">contains</span><span class="s2">: [</span>
          <span class="s1">hljs</span><span class="s2">.</span><span class="s1">inherit</span><span class="s2">(</span><span class="s1">hljs</span><span class="s2">.</span><span class="s1">TITLE_MODE</span><span class="s2">, { </span><span class="s1">begin</span><span class="s2">: </span><span class="s1">IDENT_RE$1 </span><span class="s2">}),</span>
          <span class="s3">'self'</span><span class="s2">,</span>
          <span class="s1">PARAMS</span>
        <span class="s2">]</span>
      <span class="s2">},</span>
      <span class="s2">{</span>
        <span class="s1">begin</span><span class="s2">: </span><span class="s3">'(get|set)</span><span class="s0">\\</span><span class="s3">s+(?=' </span><span class="s2">+ </span><span class="s1">IDENT_RE$1 </span><span class="s2">+ </span><span class="s3">'</span><span class="s0">\\</span><span class="s3">()'</span><span class="s2">,</span>
        <span class="s1">end</span><span class="s2">: </span><span class="s8">/\{/</span><span class="s2">,</span>
        <span class="s1">keywords</span><span class="s2">: </span><span class="s3">&quot;get set&quot;</span><span class="s2">,</span>
        <span class="s1">contains</span><span class="s2">: [</span>
          <span class="s1">hljs</span><span class="s2">.</span><span class="s1">inherit</span><span class="s2">(</span><span class="s1">hljs</span><span class="s2">.</span><span class="s1">TITLE_MODE</span><span class="s2">, { </span><span class="s1">begin</span><span class="s2">: </span><span class="s1">IDENT_RE$1 </span><span class="s2">}),</span>
          <span class="s2">{ </span><span class="s1">begin</span><span class="s2">: </span><span class="s8">/\(\)/ </span><span class="s2">}, </span><span class="s4">// eat to avoid empty params</span>
          <span class="s1">PARAMS</span>
        <span class="s2">]</span>
      <span class="s2">},</span>
      <span class="s2">{</span>
        <span class="s1">begin</span><span class="s2">: </span><span class="s8">/\$[(.]/ </span><span class="s4">// relevance booster for a pattern common to JS libs: `$(something)` and `$.something`</span>
      <span class="s2">}</span>
    <span class="s2">]</span>
  <span class="s2">};</span>
<span class="s2">}</span>

<span class="s4">/* 
Language: TypeScript 
Author: Panu Horsmalahti &lt;panu.horsmalahti@iki.fi&gt; 
Contributors: Ike Ku &lt;dempfi@yahoo.com&gt; 
Description: TypeScript is a strict superset of JavaScript 
Website: https://www.typescriptlang.org 
Category: common, scripting 
*/</span>

<span class="s5">/** </span><span class="s6">@type </span><span class="s5">LanguageFn */</span>
<span class="s0">function </span><span class="s1">typescript</span><span class="s2">(</span><span class="s1">hljs</span><span class="s2">) {</span>
  <span class="s0">const </span><span class="s1">IDENT_RE$1 </span><span class="s2">= </span><span class="s1">IDENT_RE</span><span class="s2">;</span>
  <span class="s0">const </span><span class="s1">NAMESPACE </span><span class="s2">= {</span>
    <span class="s1">beginKeywords</span><span class="s2">: </span><span class="s3">'namespace'</span><span class="s2">, </span><span class="s1">end</span><span class="s2">: </span><span class="s8">/\{/</span><span class="s2">, </span><span class="s1">excludeEnd</span><span class="s2">: </span><span class="s0">true</span>
  <span class="s2">};</span>
  <span class="s0">const </span><span class="s1">INTERFACE </span><span class="s2">= {</span>
    <span class="s1">beginKeywords</span><span class="s2">: </span><span class="s3">'interface'</span><span class="s2">, </span><span class="s1">end</span><span class="s2">: </span><span class="s8">/\{/</span><span class="s2">, </span><span class="s1">excludeEnd</span><span class="s2">: </span><span class="s0">true</span><span class="s2">,</span>
    <span class="s1">keywords</span><span class="s2">: </span><span class="s3">'interface extends'</span>
  <span class="s2">};</span>
  <span class="s0">const </span><span class="s1">USE_STRICT </span><span class="s2">= {</span>
    <span class="s1">className</span><span class="s2">: </span><span class="s3">'meta'</span><span class="s2">,</span>
    <span class="s1">relevance</span><span class="s2">: </span><span class="s7">10</span><span class="s2">,</span>
    <span class="s1">begin</span><span class="s2">: </span><span class="s8">/^\s*['&quot;]use strict['&quot;]/</span>
  <span class="s2">};</span>
  <span class="s0">const </span><span class="s1">TYPES </span><span class="s2">= [</span>
    <span class="s3">&quot;any&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;void&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;number&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;boolean&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;string&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;object&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;never&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;enum&quot;</span>
  <span class="s2">];</span>
  <span class="s0">const </span><span class="s1">TS_SPECIFIC_KEYWORDS </span><span class="s2">= [</span>
    <span class="s3">&quot;type&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;namespace&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;typedef&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;interface&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;public&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;private&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;protected&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;implements&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;declare&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;abstract&quot;</span><span class="s2">,</span>
    <span class="s3">&quot;readonly&quot;</span>
  <span class="s2">];</span>
  <span class="s0">const </span><span class="s1">KEYWORDS$1 </span><span class="s2">= {</span>
    <span class="s1">$pattern</span><span class="s2">: </span><span class="s1">IDENT_RE</span><span class="s2">,</span>
    <span class="s1">keyword</span><span class="s2">: </span><span class="s1">KEYWORDS</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">TS_SPECIFIC_KEYWORDS</span><span class="s2">),</span>
    <span class="s1">literal</span><span class="s2">: </span><span class="s1">LITERALS</span><span class="s2">,</span>
    <span class="s1">built_in</span><span class="s2">: </span><span class="s1">BUILT_INS</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">(</span><span class="s1">TYPES</span><span class="s2">)</span>
  <span class="s2">};</span>
  <span class="s0">const </span><span class="s1">DECORATOR </span><span class="s2">= {</span>
    <span class="s1">className</span><span class="s2">: </span><span class="s3">'meta'</span><span class="s2">,</span>
    <span class="s1">begin</span><span class="s2">: </span><span class="s3">'@' </span><span class="s2">+ </span><span class="s1">IDENT_RE$1</span><span class="s2">,</span>
  <span class="s2">};</span>

  <span class="s0">const </span><span class="s1">swapMode </span><span class="s2">= (</span><span class="s1">mode</span><span class="s2">, </span><span class="s1">label</span><span class="s2">, </span><span class="s1">replacement</span><span class="s2">) =&gt; {</span>
    <span class="s0">const </span><span class="s1">indx </span><span class="s2">= </span><span class="s1">mode</span><span class="s2">.</span><span class="s1">contains</span><span class="s2">.</span><span class="s1">findIndex</span><span class="s2">(</span><span class="s1">m </span><span class="s2">=&gt; </span><span class="s1">m</span><span class="s2">.</span><span class="s1">label </span><span class="s2">=== </span><span class="s1">label</span><span class="s2">);</span>
    <span class="s0">if </span><span class="s2">(</span><span class="s1">indx </span><span class="s2">=== -</span><span class="s7">1</span><span class="s2">) { </span><span class="s0">throw new </span><span class="s1">Error</span><span class="s2">(</span><span class="s3">&quot;can not find mode to replace&quot;</span><span class="s2">); }</span>
    <span class="s1">mode</span><span class="s2">.</span><span class="s1">contains</span><span class="s2">.</span><span class="s1">splice</span><span class="s2">(</span><span class="s1">indx</span><span class="s2">, </span><span class="s7">1</span><span class="s2">, </span><span class="s1">replacement</span><span class="s2">);</span>
  <span class="s2">};</span>

  <span class="s0">const </span><span class="s1">tsLanguage </span><span class="s2">= </span><span class="s1">javascript</span><span class="s2">(</span><span class="s1">hljs</span><span class="s2">);</span>

  <span class="s4">// this should update anywhere keywords is used since</span>
  <span class="s4">// it will be the same actual JS object</span>
  <span class="s1">Object</span><span class="s2">.</span><span class="s1">assign</span><span class="s2">(</span><span class="s1">tsLanguage</span><span class="s2">.</span><span class="s1">keywords</span><span class="s2">, </span><span class="s1">KEYWORDS$1</span><span class="s2">);</span>

  <span class="s1">tsLanguage</span><span class="s2">.</span><span class="s1">exports</span><span class="s2">.</span><span class="s1">PARAMS_CONTAINS</span><span class="s2">.</span><span class="s1">push</span><span class="s2">(</span><span class="s1">DECORATOR</span><span class="s2">);</span>
  <span class="s1">tsLanguage</span><span class="s2">.</span><span class="s1">contains </span><span class="s2">= </span><span class="s1">tsLanguage</span><span class="s2">.</span><span class="s1">contains</span><span class="s2">.</span><span class="s1">concat</span><span class="s2">([</span>
    <span class="s1">DECORATOR</span><span class="s2">,</span>
    <span class="s1">NAMESPACE</span><span class="s2">,</span>
    <span class="s1">INTERFACE</span><span class="s2">,</span>
  <span class="s2">]);</span>

  <span class="s4">// TS gets a simpler shebang rule than JS</span>
  <span class="s1">swapMode</span><span class="s2">(</span><span class="s1">tsLanguage</span><span class="s2">, </span><span class="s3">&quot;shebang&quot;</span><span class="s2">, </span><span class="s1">hljs</span><span class="s2">.</span><span class="s1">SHEBANG</span><span class="s2">());</span>
  <span class="s4">// JS use strict rule purposely excludes `asm` which makes no sense</span>
  <span class="s1">swapMode</span><span class="s2">(</span><span class="s1">tsLanguage</span><span class="s2">, </span><span class="s3">&quot;use_strict&quot;</span><span class="s2">, </span><span class="s1">USE_STRICT</span><span class="s2">);</span>

  <span class="s0">const </span><span class="s1">functionDeclaration </span><span class="s2">= </span><span class="s1">tsLanguage</span><span class="s2">.</span><span class="s1">contains</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s1">m </span><span class="s2">=&gt; </span><span class="s1">m</span><span class="s2">.</span><span class="s1">className </span><span class="s2">=== </span><span class="s3">&quot;function&quot;</span><span class="s2">);</span>
  <span class="s1">functionDeclaration</span><span class="s2">.</span><span class="s1">relevance </span><span class="s2">= </span><span class="s7">0</span><span class="s2">; </span><span class="s4">// () =&gt; {} is more typical in TypeScript</span>

  <span class="s1">Object</span><span class="s2">.</span><span class="s1">assign</span><span class="s2">(</span><span class="s1">tsLanguage</span><span class="s2">, {</span>
    <span class="s1">name</span><span class="s2">: </span><span class="s3">'TypeScript'</span><span class="s2">,</span>
    <span class="s1">aliases</span><span class="s2">: [</span><span class="s3">'ts'</span><span class="s2">, </span><span class="s3">'tsx'</span><span class="s2">]</span>
  <span class="s2">});</span>

  <span class="s0">return </span><span class="s1">tsLanguage</span><span class="s2">;</span>
<span class="s2">}</span>

<span class="s1">module</span><span class="s2">.</span><span class="s1">exports </span><span class="s2">= </span><span class="s1">typescript</span><span class="s2">;</span>
</pre>
</body>
</html>
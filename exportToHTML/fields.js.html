<html>
<head>
<title>fields.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #6aab73;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #cf8e6d;}
.s4 { color: #2aacb8;}
.s5 { color: #7a7e85;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
fields.js</font>
</center></td></tr></table>
<pre><span class="s0">&quot;use strict&quot;</span><span class="s1">;</span>

<span class="s2">Object</span><span class="s1">.</span><span class="s2">defineProperty</span><span class="s1">(</span><span class="s2">exports</span><span class="s1">, </span><span class="s0">&quot;__esModule&quot;</span><span class="s1">, {</span>
  <span class="s2">value</span><span class="s1">: </span><span class="s3">true</span>
<span class="s1">});</span>
<span class="s2">exports</span><span class="s1">.</span><span class="s2">buildCheckInRHS </span><span class="s1">= </span><span class="s2">buildCheckInRHS</span><span class="s1">;</span>
<span class="s2">exports</span><span class="s1">.</span><span class="s2">buildFieldsInitNodes </span><span class="s1">= </span><span class="s2">buildFieldsInitNodes</span><span class="s1">;</span>
<span class="s2">exports</span><span class="s1">.</span><span class="s2">buildPrivateNamesMap </span><span class="s1">= </span><span class="s2">buildPrivateNamesMap</span><span class="s1">;</span>
<span class="s2">exports</span><span class="s1">.</span><span class="s2">buildPrivateNamesNodes </span><span class="s1">= </span><span class="s2">buildPrivateNamesNodes</span><span class="s1">;</span>
<span class="s2">exports</span><span class="s1">.</span><span class="s2">transformPrivateNamesUsage </span><span class="s1">= </span><span class="s2">transformPrivateNamesUsage</span><span class="s1">;</span>
<span class="s3">var </span><span class="s2">_core </span><span class="s1">= </span><span class="s2">require</span><span class="s1">(</span><span class="s0">&quot;@babel/core&quot;</span><span class="s1">);</span>
<span class="s3">var </span><span class="s2">_helperReplaceSupers </span><span class="s1">= </span><span class="s2">require</span><span class="s1">(</span><span class="s0">&quot;@babel/helper-replace-supers&quot;</span><span class="s1">);</span>
<span class="s3">var </span><span class="s2">_helperEnvironmentVisitor </span><span class="s1">= </span><span class="s2">require</span><span class="s1">(</span><span class="s0">&quot;@babel/helper-environment-visitor&quot;</span><span class="s1">);</span>
<span class="s3">var </span><span class="s2">_helperMemberExpressionToFunctions </span><span class="s1">= </span><span class="s2">require</span><span class="s1">(</span><span class="s0">&quot;@babel/helper-member-expression-to-functions&quot;</span><span class="s1">);</span>
<span class="s3">var </span><span class="s2">_helperOptimiseCallExpression </span><span class="s1">= </span><span class="s2">require</span><span class="s1">(</span><span class="s0">&quot;@babel/helper-optimise-call-expression&quot;</span><span class="s1">);</span>
<span class="s3">var </span><span class="s2">_helperAnnotateAsPure </span><span class="s1">= </span><span class="s2">require</span><span class="s1">(</span><span class="s0">&quot;@babel/helper-annotate-as-pure&quot;</span><span class="s1">);</span>
<span class="s3">var </span><span class="s2">_helperSkipTransparentExpressionWrappers </span><span class="s1">= </span><span class="s2">require</span><span class="s1">(</span><span class="s0">&quot;@babel/helper-skip-transparent-expression-wrappers&quot;</span><span class="s1">);</span>
<span class="s3">var </span><span class="s2">ts </span><span class="s1">= </span><span class="s2">require</span><span class="s1">(</span><span class="s0">&quot;./typescript.js&quot;</span><span class="s1">);</span>
<span class="s3">function </span><span class="s2">buildPrivateNamesMap</span><span class="s1">(</span><span class="s2">props</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s2">privateNamesMap </span><span class="s1">= </span><span class="s3">new </span><span class="s2">Map</span><span class="s1">();</span>
  <span class="s3">for </span><span class="s1">(</span><span class="s3">const </span><span class="s2">prop of props</span><span class="s1">) {</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">isPrivate</span><span class="s1">()) {</span>
      <span class="s3">const </span><span class="s1">{</span>
        <span class="s2">name</span>
      <span class="s1">} = </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">;</span>
      <span class="s3">const </span><span class="s2">update </span><span class="s1">= </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s2">name</span><span class="s1">) ? </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">name</span><span class="s1">) : {</span>
        <span class="s2">id</span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">generateUidIdentifier</span><span class="s1">(</span><span class="s2">name</span><span class="s1">),</span>
        <span class="s3">static</span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">static</span><span class="s1">,</span>
        <span class="s2">method</span><span class="s1">: !</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">isProperty</span><span class="s1">()</span>
      <span class="s1">};</span>
      <span class="s3">if </span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">isClassPrivateMethod</span><span class="s1">()) {</span>
        <span class="s3">if </span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">kind </span><span class="s1">=== </span><span class="s0">&quot;get&quot;</span><span class="s1">) {</span>
          <span class="s2">update</span><span class="s1">.</span><span class="s2">getId </span><span class="s1">= </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">generateUidIdentifier</span><span class="s1">(</span><span class="s0">`get_</span><span class="s2">$</span><span class="s1">{</span><span class="s2">name</span><span class="s1">}</span><span class="s0">`</span><span class="s1">);</span>
        <span class="s1">} </span><span class="s3">else if </span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">kind </span><span class="s1">=== </span><span class="s0">&quot;set&quot;</span><span class="s1">) {</span>
          <span class="s2">update</span><span class="s1">.</span><span class="s2">setId </span><span class="s1">= </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">generateUidIdentifier</span><span class="s1">(</span><span class="s0">`set_</span><span class="s2">$</span><span class="s1">{</span><span class="s2">name</span><span class="s1">}</span><span class="s0">`</span><span class="s1">);</span>
        <span class="s1">} </span><span class="s3">else if </span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">kind </span><span class="s1">=== </span><span class="s0">&quot;method&quot;</span><span class="s1">) {</span>
          <span class="s2">update</span><span class="s1">.</span><span class="s2">methodId </span><span class="s1">= </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">generateUidIdentifier</span><span class="s1">(</span><span class="s2">name</span><span class="s1">);</span>
        <span class="s1">}</span>
      <span class="s1">}</span>
      <span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">name</span><span class="s1">, </span><span class="s2">update</span><span class="s1">);</span>
    <span class="s1">}</span>
  <span class="s1">}</span>
  <span class="s3">return </span><span class="s2">privateNamesMap</span><span class="s1">;</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildPrivateNamesNodes</span><span class="s1">(</span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">privateFieldsAsProperties</span><span class="s1">, </span><span class="s2">privateFieldsAsSymbols</span><span class="s1">, </span><span class="s2">state</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s2">initNodes </span><span class="s1">= [];</span>
  <span class="s3">for </span><span class="s1">(</span><span class="s3">const </span><span class="s1">[</span><span class="s2">name</span><span class="s1">, </span><span class="s2">value</span><span class="s1">] </span><span class="s2">of privateNamesMap</span><span class="s1">) {</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s3">static</span><span class="s1">: </span><span class="s2">isStatic</span><span class="s1">,</span>
      <span class="s2">method</span><span class="s1">: </span><span class="s2">isMethod</span><span class="s1">,</span>
      <span class="s2">getId</span><span class="s1">,</span>
      <span class="s2">setId</span>
    <span class="s1">} = </span><span class="s2">value</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s2">isAccessor </span><span class="s1">= </span><span class="s2">getId </span><span class="s1">|| </span><span class="s2">setId</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s2">id </span><span class="s1">= </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">value</span><span class="s1">.</span><span class="s2">id</span><span class="s1">);</span>
    <span class="s3">let </span><span class="s2">init</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">privateFieldsAsProperties</span><span class="s1">) {</span>
      <span class="s2">init </span><span class="s1">= </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">state</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateFieldLooseKey&quot;</span><span class="s1">), [</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">stringLiteral</span><span class="s1">(</span><span class="s2">name</span><span class="s1">)]);</span>
    <span class="s1">} </span><span class="s3">else if </span><span class="s1">(</span><span class="s2">privateFieldsAsSymbols</span><span class="s1">) {</span>
      <span class="s2">init </span><span class="s1">= </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">identifier</span><span class="s1">(</span><span class="s0">&quot;Symbol&quot;</span><span class="s1">), [</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">stringLiteral</span><span class="s1">(</span><span class="s2">name</span><span class="s1">)]);</span>
    <span class="s1">} </span><span class="s3">else if </span><span class="s1">(!</span><span class="s2">isStatic</span><span class="s1">) {</span>
      <span class="s2">init </span><span class="s1">= </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">newExpression</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">identifier</span><span class="s1">(!</span><span class="s2">isMethod </span><span class="s1">|| </span><span class="s2">isAccessor </span><span class="s1">? </span><span class="s0">&quot;WeakMap&quot; </span><span class="s1">: </span><span class="s0">&quot;WeakSet&quot;</span><span class="s1">), []);</span>
    <span class="s1">}</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">init</span><span class="s1">) {</span>
      <span class="s1">(</span><span class="s4">0</span><span class="s1">, </span><span class="s2">_helperAnnotateAsPure</span><span class="s1">.</span><span class="s2">default</span><span class="s1">)(</span><span class="s2">init</span><span class="s1">);</span>
      <span class="s2">initNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`var </span><span class="s2">$</span><span class="s1">{</span><span class="s2">id</span><span class="s1">} </span><span class="s0">= </span><span class="s2">$</span><span class="s1">{</span><span class="s2">init</span><span class="s1">}</span><span class="s0">`</span><span class="s1">);</span>
    <span class="s1">}</span>
  <span class="s1">}</span>
  <span class="s3">return </span><span class="s2">initNodes</span><span class="s1">;</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">privateNameVisitorFactory</span><span class="s1">(</span><span class="s2">visitor</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s2">nestedVisitor </span><span class="s1">= </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">traverse</span><span class="s1">.</span><span class="s2">visitors</span><span class="s1">.</span><span class="s2">merge</span><span class="s1">([</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s1">({}, </span><span class="s2">visitor</span><span class="s1">), </span><span class="s2">_helperEnvironmentVisitor</span><span class="s1">.</span><span class="s2">default</span><span class="s1">]);</span>
  <span class="s3">const </span><span class="s2">privateNameVisitor </span><span class="s1">= </span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s1">({}, </span><span class="s2">visitor</span><span class="s1">, {</span>
    <span class="s2">Class</span><span class="s1">(</span><span class="s2">path</span><span class="s1">) {</span>
      <span class="s3">const </span><span class="s1">{</span>
        <span class="s2">privateNamesMap</span>
      <span class="s1">} = </span><span class="s3">this</span><span class="s1">;</span>
      <span class="s3">const </span><span class="s2">body </span><span class="s1">= </span><span class="s2">path</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s0">&quot;body.body&quot;</span><span class="s1">);</span>
      <span class="s3">const </span><span class="s2">visiblePrivateNames </span><span class="s1">= </span><span class="s3">new </span><span class="s2">Map</span><span class="s1">(</span><span class="s2">privateNamesMap</span><span class="s1">);</span>
      <span class="s3">const </span><span class="s2">redeclared </span><span class="s1">= [];</span>
      <span class="s3">for </span><span class="s1">(</span><span class="s3">const </span><span class="s2">prop of body</span><span class="s1">) {</span>
        <span class="s3">if </span><span class="s1">(!</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">isPrivate</span><span class="s1">()) </span><span class="s3">continue</span><span class="s1">;</span>
        <span class="s3">const </span><span class="s1">{</span>
          <span class="s2">name</span>
        <span class="s1">} = </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">;</span>
        <span class="s2">visiblePrivateNames</span><span class="s1">.</span><span class="s2">delete</span><span class="s1">(</span><span class="s2">name</span><span class="s1">);</span>
        <span class="s2">redeclared</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">name</span><span class="s1">);</span>
      <span class="s1">}</span>
      <span class="s3">if </span><span class="s1">(!</span><span class="s2">redeclared</span><span class="s1">.</span><span class="s2">length</span><span class="s1">) {</span>
        <span class="s3">return</span><span class="s1">;</span>
      <span class="s1">}</span>
      <span class="s2">path</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s0">&quot;body&quot;</span><span class="s1">).</span><span class="s2">traverse</span><span class="s1">(</span><span class="s2">nestedVisitor</span><span class="s1">, </span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s1">({}, </span><span class="s3">this</span><span class="s1">, {</span>
        <span class="s2">redeclared</span>
      <span class="s1">}));</span>
      <span class="s2">path</span><span class="s1">.</span><span class="s2">traverse</span><span class="s1">(</span><span class="s2">privateNameVisitor</span><span class="s1">, </span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s1">({}, </span><span class="s3">this</span><span class="s1">, {</span>
        <span class="s2">privateNamesMap</span><span class="s1">: </span><span class="s2">visiblePrivateNames</span>
      <span class="s1">}));</span>
      <span class="s2">path</span><span class="s1">.</span><span class="s2">skipKey</span><span class="s1">(</span><span class="s0">&quot;body&quot;</span><span class="s1">);</span>
    <span class="s1">}</span>
  <span class="s1">});</span>
  <span class="s3">return </span><span class="s2">privateNameVisitor</span><span class="s1">;</span>
<span class="s1">}</span>
<span class="s3">const </span><span class="s2">privateNameVisitor </span><span class="s1">= </span><span class="s2">privateNameVisitorFactory</span><span class="s1">({</span>
  <span class="s2">PrivateName</span><span class="s1">(</span><span class="s2">path</span><span class="s1">, {</span>
    <span class="s2">noDocumentAll</span>
  <span class="s1">}) {</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">privateNamesMap</span><span class="s1">,</span>
      <span class="s2">redeclared</span>
    <span class="s1">} = </span><span class="s3">this</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">node</span><span class="s1">,</span>
      <span class="s2">parentPath</span>
    <span class="s1">} = </span><span class="s2">path</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(!</span><span class="s2">parentPath</span><span class="s1">.</span><span class="s2">isMemberExpression</span><span class="s1">({</span>
      <span class="s2">property</span><span class="s1">: </span><span class="s2">node</span>
    <span class="s1">}) &amp;&amp; !</span><span class="s2">parentPath</span><span class="s1">.</span><span class="s2">isOptionalMemberExpression</span><span class="s1">({</span>
      <span class="s2">property</span><span class="s1">: </span><span class="s2">node</span>
    <span class="s1">})) {</span>
      <span class="s3">return</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">name</span>
    <span class="s1">} = </span><span class="s2">node</span><span class="s1">.</span><span class="s2">id</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(!</span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s2">name</span><span class="s1">)) </span><span class="s3">return</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">redeclared </span><span class="s1">&amp;&amp; </span><span class="s2">redeclared</span><span class="s1">.</span><span class="s2">includes</span><span class="s1">(</span><span class="s2">name</span><span class="s1">)) </span><span class="s3">return</span><span class="s1">;</span>
    <span class="s3">this</span><span class="s1">.</span><span class="s2">handle</span><span class="s1">(</span><span class="s2">parentPath</span><span class="s1">, </span><span class="s2">noDocumentAll</span><span class="s1">);</span>
  <span class="s1">}</span>
<span class="s1">});</span>
<span class="s3">function </span><span class="s2">unshadow</span><span class="s1">(</span><span class="s2">name</span><span class="s1">, </span><span class="s2">scope</span><span class="s1">, </span><span class="s2">innerBinding</span><span class="s1">) {</span>
  <span class="s3">while </span><span class="s1">((</span><span class="s2">_scope </span><span class="s1">= </span><span class="s2">scope</span><span class="s1">) != </span><span class="s3">null </span><span class="s1">&amp;&amp; </span><span class="s2">_scope</span><span class="s1">.</span><span class="s2">hasBinding</span><span class="s1">(</span><span class="s2">name</span><span class="s1">) &amp;&amp; !</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">bindingIdentifierEquals</span><span class="s1">(</span><span class="s2">name</span><span class="s1">, </span><span class="s2">innerBinding</span><span class="s1">)) {</span>
    <span class="s3">var </span><span class="s2">_scope</span><span class="s1">;</span>
    <span class="s2">scope</span><span class="s1">.</span><span class="s2">rename</span><span class="s1">(</span><span class="s2">name</span><span class="s1">);</span>
    <span class="s2">scope </span><span class="s1">= </span><span class="s2">scope</span><span class="s1">.</span><span class="s2">parent</span><span class="s1">;</span>
  <span class="s1">}</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildCheckInRHS</span><span class="s1">(</span><span class="s2">rhs</span><span class="s1">, </span><span class="s2">file</span><span class="s1">, </span><span class="s2">inRHSIsObject</span><span class="s1">) {</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">inRHSIsObject </span><span class="s1">|| !(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">availableHelper </span><span class="s1">!= </span><span class="s3">null </span><span class="s1">&amp;&amp; </span><span class="s2">file</span><span class="s1">.</span><span class="s2">availableHelper</span><span class="s1">(</span><span class="s0">&quot;checkInRHS&quot;</span><span class="s1">))) </span><span class="s3">return </span><span class="s2">rhs</span><span class="s1">;</span>
  <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;checkInRHS&quot;</span><span class="s1">), [</span><span class="s2">rhs</span><span class="s1">]);</span>
<span class="s1">}</span>
<span class="s3">const </span><span class="s2">privateInVisitor </span><span class="s1">= </span><span class="s2">privateNameVisitorFactory</span><span class="s1">({</span>
  <span class="s2">BinaryExpression</span><span class="s1">(</span><span class="s2">path</span><span class="s1">, {</span>
    <span class="s2">file</span>
  <span class="s1">}) {</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">operator</span><span class="s1">,</span>
      <span class="s2">left</span><span class="s1">,</span>
      <span class="s2">right</span>
    <span class="s1">} = </span><span class="s2">path</span><span class="s1">.</span><span class="s2">node</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">operator </span><span class="s1">!== </span><span class="s0">&quot;in&quot;</span><span class="s1">) </span><span class="s3">return</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(!</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">isPrivateName</span><span class="s1">(</span><span class="s2">left</span><span class="s1">)) </span><span class="s3">return</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">privateFieldsAsProperties</span><span class="s1">,</span>
      <span class="s2">privateNamesMap</span><span class="s1">,</span>
      <span class="s2">redeclared</span>
    <span class="s1">} = </span><span class="s3">this</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">name</span>
    <span class="s1">} = </span><span class="s2">left</span><span class="s1">.</span><span class="s2">id</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(!</span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s2">name</span><span class="s1">)) </span><span class="s3">return</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">redeclared </span><span class="s1">&amp;&amp; </span><span class="s2">redeclared</span><span class="s1">.</span><span class="s2">includes</span><span class="s1">(</span><span class="s2">name</span><span class="s1">)) </span><span class="s3">return</span><span class="s1">;</span>
    <span class="s2">unshadow</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.</span><span class="s2">classRef</span><span class="s1">.</span><span class="s2">name</span><span class="s1">, </span><span class="s2">path</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">, </span><span class="s3">this</span><span class="s1">.</span><span class="s2">innerBinding</span><span class="s1">);</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">privateFieldsAsProperties</span><span class="s1">) {</span>
      <span class="s3">const </span><span class="s1">{</span>
        <span class="s2">id</span>
      <span class="s1">} = </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">name</span><span class="s1">);</span>
      <span class="s2">path</span><span class="s1">.</span><span class="s2">replaceWith</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">expression</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span>
        <span class="s0">Object.prototype.hasOwnProperty.call(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">buildCheckInRHS</span><span class="s1">(</span><span class="s2">right</span><span class="s1">, </span><span class="s2">file</span><span class="s1">)}</span><span class="s0">, </span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)}</span><span class="s0">) 
      `</span><span class="s1">);</span>
      <span class="s3">return</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">id</span><span class="s1">,</span>
      <span class="s3">static</span><span class="s1">: </span><span class="s2">isStatic</span>
    <span class="s1">} = </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">name</span><span class="s1">);</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">isStatic</span><span class="s1">) {</span>
      <span class="s2">path</span><span class="s1">.</span><span class="s2">replaceWith</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">expression</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span><span class="s2">$</span><span class="s1">{</span><span class="s2">buildCheckInRHS</span><span class="s1">(</span><span class="s2">right</span><span class="s1">, </span><span class="s2">file</span><span class="s1">)} </span><span class="s0">=== </span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.</span><span class="s2">classRef</span><span class="s1">)}</span><span class="s0">`</span><span class="s1">);</span>
      <span class="s3">return</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s2">path</span><span class="s1">.</span><span class="s2">replaceWith</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">expression</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)}</span><span class="s0">.has(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">buildCheckInRHS</span><span class="s1">(</span><span class="s2">right</span><span class="s1">, </span><span class="s2">file</span><span class="s1">)}</span><span class="s0">)`</span><span class="s1">);</span>
  <span class="s1">}</span>
<span class="s1">});</span>
<span class="s3">const </span><span class="s2">privateNameHandlerSpec </span><span class="s1">= {</span>
  <span class="s2">memoise</span><span class="s1">(</span><span class="s2">member</span><span class="s1">, </span><span class="s2">count</span><span class="s1">) {</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">scope</span>
    <span class="s1">} = </span><span class="s2">member</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">object</span>
    <span class="s1">} = </span><span class="s2">member</span><span class="s1">.</span><span class="s2">node</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s2">memo </span><span class="s1">= </span><span class="s2">scope</span><span class="s1">.</span><span class="s2">maybeGenerateMemoised</span><span class="s1">(</span><span class="s2">object</span><span class="s1">);</span>
    <span class="s3">if </span><span class="s1">(!</span><span class="s2">memo</span><span class="s1">) {</span>
      <span class="s3">return</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s3">this</span><span class="s1">.</span><span class="s2">memoiser</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">object</span><span class="s1">, </span><span class="s2">memo</span><span class="s1">, </span><span class="s2">count</span><span class="s1">);</span>
  <span class="s1">},</span>
  <span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">) {</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">object</span>
    <span class="s1">} = </span><span class="s2">member</span><span class="s1">.</span><span class="s2">node</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s3">this</span><span class="s1">.</span><span class="s2">memoiser</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s2">object</span><span class="s1">)) {</span>
      <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.</span><span class="s2">memoiser</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">object</span><span class="s1">));</span>
    <span class="s1">}</span>
    <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">object</span><span class="s1">);</span>
  <span class="s1">},</span>
  <span class="s2">get</span><span class="s1">(</span><span class="s2">member</span><span class="s1">) {</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">classRef</span><span class="s1">,</span>
      <span class="s2">privateNamesMap</span><span class="s1">,</span>
      <span class="s2">file</span><span class="s1">,</span>
      <span class="s2">innerBinding</span>
    <span class="s1">} = </span><span class="s3">this</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">name</span>
    <span class="s1">} = </span><span class="s2">member</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">property</span><span class="s1">.</span><span class="s2">id</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">id</span><span class="s1">,</span>
      <span class="s3">static</span><span class="s1">: </span><span class="s2">isStatic</span><span class="s1">,</span>
      <span class="s2">method</span><span class="s1">: </span><span class="s2">isMethod</span><span class="s1">,</span>
      <span class="s2">methodId</span><span class="s1">,</span>
      <span class="s2">getId</span><span class="s1">,</span>
      <span class="s2">setId</span>
    <span class="s1">} = </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">name</span><span class="s1">);</span>
    <span class="s3">const </span><span class="s2">isAccessor </span><span class="s1">= </span><span class="s2">getId </span><span class="s1">|| </span><span class="s2">setId</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">isStatic</span><span class="s1">) {</span>
      <span class="s3">const </span><span class="s2">helperName </span><span class="s1">= </span><span class="s2">isMethod </span><span class="s1">&amp;&amp; !</span><span class="s2">isAccessor </span><span class="s1">? </span><span class="s0">&quot;classStaticPrivateMethodGet&quot; </span><span class="s1">: </span><span class="s0">&quot;classStaticPrivateFieldSpecGet&quot;</span><span class="s1">;</span>
      <span class="s2">unshadow</span><span class="s1">(</span><span class="s2">classRef</span><span class="s1">.</span><span class="s2">name</span><span class="s1">, </span><span class="s2">member</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">, </span><span class="s2">innerBinding</span><span class="s1">);</span>
      <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s2">helperName</span><span class="s1">), [</span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">classRef</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)]);</span>
    <span class="s1">}</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">isMethod</span><span class="s1">) {</span>
      <span class="s3">if </span><span class="s1">(</span><span class="s2">isAccessor</span><span class="s1">) {</span>
        <span class="s3">if </span><span class="s1">(!</span><span class="s2">getId </span><span class="s1">&amp;&amp; </span><span class="s2">setId</span><span class="s1">) {</span>
          <span class="s3">if </span><span class="s1">(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">availableHelper</span><span class="s1">(</span><span class="s0">&quot;writeOnlyError&quot;</span><span class="s1">)) {</span>
            <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">sequenceExpression</span><span class="s1">([</span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;writeOnlyError&quot;</span><span class="s1">), [</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">stringLiteral</span><span class="s1">(</span><span class="s0">`#</span><span class="s2">$</span><span class="s1">{</span><span class="s2">name</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)])]);</span>
          <span class="s1">}</span>
          <span class="s2">console</span><span class="s1">.</span><span class="s2">warn</span><span class="s1">(</span><span class="s0">`@babel/helpers is outdated, update it to silence this warning.`</span><span class="s1">);</span>
        <span class="s1">}</span>
        <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateFieldGet&quot;</span><span class="s1">), [</span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)]);</span>
      <span class="s1">}</span>
      <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateMethodGet&quot;</span><span class="s1">), [</span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">methodId</span><span class="s1">)]);</span>
    <span class="s1">}</span>
    <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateFieldGet&quot;</span><span class="s1">), [</span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)]);</span>
  <span class="s1">},</span>
  <span class="s2">boundGet</span><span class="s1">(</span><span class="s2">member</span><span class="s1">) {</span>
    <span class="s3">this</span><span class="s1">.</span><span class="s2">memoise</span><span class="s1">(</span><span class="s2">member</span><span class="s1">, </span><span class="s4">1</span><span class="s1">);</span>
    <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">memberExpression</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">identifier</span><span class="s1">(</span><span class="s0">&quot;bind&quot;</span><span class="s1">)), [</span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">)]);</span>
  <span class="s1">},</span>
  <span class="s2">set</span><span class="s1">(</span><span class="s2">member</span><span class="s1">, </span><span class="s2">value</span><span class="s1">) {</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">classRef</span><span class="s1">,</span>
      <span class="s2">privateNamesMap</span><span class="s1">,</span>
      <span class="s2">file</span>
    <span class="s1">} = </span><span class="s3">this</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">name</span>
    <span class="s1">} = </span><span class="s2">member</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">property</span><span class="s1">.</span><span class="s2">id</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">id</span><span class="s1">,</span>
      <span class="s3">static</span><span class="s1">: </span><span class="s2">isStatic</span><span class="s1">,</span>
      <span class="s2">method</span><span class="s1">: </span><span class="s2">isMethod</span><span class="s1">,</span>
      <span class="s2">setId</span><span class="s1">,</span>
      <span class="s2">getId</span>
    <span class="s1">} = </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">name</span><span class="s1">);</span>
    <span class="s3">const </span><span class="s2">isAccessor </span><span class="s1">= </span><span class="s2">getId </span><span class="s1">|| </span><span class="s2">setId</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">isStatic</span><span class="s1">) {</span>
      <span class="s3">const </span><span class="s2">helperName </span><span class="s1">= </span><span class="s2">isMethod </span><span class="s1">&amp;&amp; !</span><span class="s2">isAccessor </span><span class="s1">? </span><span class="s0">&quot;classStaticPrivateMethodSet&quot; </span><span class="s1">: </span><span class="s0">&quot;classStaticPrivateFieldSpecSet&quot;</span><span class="s1">;</span>
      <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s2">helperName</span><span class="s1">), [</span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">classRef</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">), </span><span class="s2">value</span><span class="s1">]);</span>
    <span class="s1">}</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">isMethod</span><span class="s1">) {</span>
      <span class="s3">if </span><span class="s1">(</span><span class="s2">setId</span><span class="s1">) {</span>
        <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateFieldSet&quot;</span><span class="s1">), [</span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">), </span><span class="s2">value</span><span class="s1">]);</span>
      <span class="s1">}</span>
      <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">sequenceExpression</span><span class="s1">([</span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">value</span><span class="s1">, </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;readOnlyError&quot;</span><span class="s1">), [</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">stringLiteral</span><span class="s1">(</span><span class="s0">`#</span><span class="s2">$</span><span class="s1">{</span><span class="s2">name</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)])]);</span>
    <span class="s1">}</span>
    <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateFieldSet&quot;</span><span class="s1">), [</span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">), </span><span class="s2">value</span><span class="s1">]);</span>
  <span class="s1">},</span>
  <span class="s2">destructureSet</span><span class="s1">(</span><span class="s2">member</span><span class="s1">) {</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">classRef</span><span class="s1">,</span>
      <span class="s2">privateNamesMap</span><span class="s1">,</span>
      <span class="s2">file</span>
    <span class="s1">} = </span><span class="s3">this</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">name</span>
    <span class="s1">} = </span><span class="s2">member</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">property</span><span class="s1">.</span><span class="s2">id</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">id</span><span class="s1">,</span>
      <span class="s3">static</span><span class="s1">: </span><span class="s2">isStatic</span>
    <span class="s1">} = </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">name</span><span class="s1">);</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">isStatic</span><span class="s1">) {</span>
      <span class="s3">try </span><span class="s1">{</span>
        <span class="s3">var </span><span class="s2">helper </span><span class="s1">= </span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;classStaticPrivateFieldDestructureSet&quot;</span><span class="s1">);</span>
      <span class="s1">} </span><span class="s3">catch </span><span class="s1">(</span><span class="s2">_unused</span><span class="s1">) {</span>
        <span class="s3">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;Babel can not transpile `[C.#p] = [0]` with @babel/helpers &lt; 7.13.10, </span><span class="s3">\n</span><span class="s0">&quot; </span><span class="s1">+ </span><span class="s0">&quot;please update @babel/helpers to the latest version.&quot;</span><span class="s1">);</span>
      <span class="s1">}</span>
      <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">memberExpression</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">helper</span><span class="s1">, [</span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">classRef</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)]), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">identifier</span><span class="s1">(</span><span class="s0">&quot;value&quot;</span><span class="s1">));</span>
    <span class="s1">}</span>
    <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">memberExpression</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateFieldDestructureSet&quot;</span><span class="s1">), [</span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)]), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">identifier</span><span class="s1">(</span><span class="s0">&quot;value&quot;</span><span class="s1">));</span>
  <span class="s1">},</span>
  <span class="s2">call</span><span class="s1">(</span><span class="s2">member</span><span class="s1">, </span><span class="s2">args</span><span class="s1">) {</span>
    <span class="s3">this</span><span class="s1">.</span><span class="s2">memoise</span><span class="s1">(</span><span class="s2">member</span><span class="s1">, </span><span class="s4">1</span><span class="s1">);</span>
    <span class="s3">return </span><span class="s1">(</span><span class="s4">0</span><span class="s1">, </span><span class="s2">_helperOptimiseCallExpression</span><span class="s1">.</span><span class="s2">default</span><span class="s1">)(</span><span class="s3">this</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">args</span><span class="s1">, </span><span class="s3">false</span><span class="s1">);</span>
  <span class="s1">},</span>
  <span class="s2">optionalCall</span><span class="s1">(</span><span class="s2">member</span><span class="s1">, </span><span class="s2">args</span><span class="s1">) {</span>
    <span class="s3">this</span><span class="s1">.</span><span class="s2">memoise</span><span class="s1">(</span><span class="s2">member</span><span class="s1">, </span><span class="s4">1</span><span class="s1">);</span>
    <span class="s3">return </span><span class="s1">(</span><span class="s4">0</span><span class="s1">, </span><span class="s2">_helperOptimiseCallExpression</span><span class="s1">.</span><span class="s2">default</span><span class="s1">)(</span><span class="s3">this</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s3">this</span><span class="s1">.</span><span class="s2">receiver</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">args</span><span class="s1">, </span><span class="s3">true</span><span class="s1">);</span>
  <span class="s1">},</span>
  <span class="s3">delete</span><span class="s1">() {</span>
    <span class="s3">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;Internal Babel error: deleting private elements is a parsing error.&quot;</span><span class="s1">);</span>
  <span class="s1">}</span>
<span class="s1">};</span>
<span class="s3">const </span><span class="s2">privateNameHandlerLoose </span><span class="s1">= {</span>
  <span class="s2">get</span><span class="s1">(</span><span class="s2">member</span><span class="s1">) {</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">privateNamesMap</span><span class="s1">,</span>
      <span class="s2">file</span>
    <span class="s1">} = </span><span class="s3">this</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">object</span>
    <span class="s1">} = </span><span class="s2">member</span><span class="s1">.</span><span class="s2">node</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">name</span>
    <span class="s1">} = </span><span class="s2">member</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">property</span><span class="s1">.</span><span class="s2">id</span><span class="s1">;</span>
    <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">expression</span><span class="s0">`BASE(REF, PROP)[PROP]`</span><span class="s1">({</span>
      <span class="s2">BASE</span><span class="s1">: </span><span class="s2">file</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateFieldLooseBase&quot;</span><span class="s1">),</span>
      <span class="s2">REF</span><span class="s1">: </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">object</span><span class="s1">),</span>
      <span class="s2">PROP</span><span class="s1">: </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">name</span><span class="s1">).</span><span class="s2">id</span><span class="s1">)</span>
    <span class="s1">});</span>
  <span class="s1">},</span>
  <span class="s2">set</span><span class="s1">() {</span>
    <span class="s3">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;private name handler with loose = true don't need set()&quot;</span><span class="s1">);</span>
  <span class="s1">},</span>
  <span class="s2">boundGet</span><span class="s1">(</span><span class="s2">member</span><span class="s1">) {</span>
    <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">memberExpression</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">identifier</span><span class="s1">(</span><span class="s0">&quot;bind&quot;</span><span class="s1">)), [</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">member</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">object</span><span class="s1">)]);</span>
  <span class="s1">},</span>
  <span class="s2">simpleSet</span><span class="s1">(</span><span class="s2">member</span><span class="s1">) {</span>
    <span class="s3">return this</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">member</span><span class="s1">);</span>
  <span class="s1">},</span>
  <span class="s2">destructureSet</span><span class="s1">(</span><span class="s2">member</span><span class="s1">) {</span>
    <span class="s3">return this</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">member</span><span class="s1">);</span>
  <span class="s1">},</span>
  <span class="s2">call</span><span class="s1">(</span><span class="s2">member</span><span class="s1">, </span><span class="s2">args</span><span class="s1">) {</span>
    <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">args</span><span class="s1">);</span>
  <span class="s1">},</span>
  <span class="s2">optionalCall</span><span class="s1">(</span><span class="s2">member</span><span class="s1">, </span><span class="s2">args</span><span class="s1">) {</span>
    <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">optionalCallExpression</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">member</span><span class="s1">), </span><span class="s2">args</span><span class="s1">, </span><span class="s3">true</span><span class="s1">);</span>
  <span class="s1">},</span>
  <span class="s3">delete</span><span class="s1">() {</span>
    <span class="s3">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;Internal Babel error: deleting private elements is a parsing error.&quot;</span><span class="s1">);</span>
  <span class="s1">}</span>
<span class="s1">};</span>
<span class="s3">function </span><span class="s2">transformPrivateNamesUsage</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">path</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, {</span>
  <span class="s2">privateFieldsAsProperties</span><span class="s1">,</span>
  <span class="s2">noDocumentAll</span><span class="s1">,</span>
  <span class="s2">innerBinding</span>
<span class="s1">}, </span><span class="s2">state</span><span class="s1">) {</span>
  <span class="s3">if </span><span class="s1">(!</span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">size</span><span class="s1">) </span><span class="s3">return</span><span class="s1">;</span>
  <span class="s3">const </span><span class="s2">body </span><span class="s1">= </span><span class="s2">path</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s0">&quot;body&quot;</span><span class="s1">);</span>
  <span class="s3">const </span><span class="s2">handler </span><span class="s1">= </span><span class="s2">privateFieldsAsProperties </span><span class="s1">? </span><span class="s2">privateNameHandlerLoose </span><span class="s1">: </span><span class="s2">privateNameHandlerSpec</span><span class="s1">;</span>
  <span class="s1">(</span><span class="s4">0</span><span class="s1">, </span><span class="s2">_helperMemberExpressionToFunctions</span><span class="s1">.</span><span class="s2">default</span><span class="s1">)(</span><span class="s2">body</span><span class="s1">, </span><span class="s2">privateNameVisitor</span><span class="s1">, </span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s1">({</span>
    <span class="s2">privateNamesMap</span><span class="s1">,</span>
    <span class="s2">classRef</span><span class="s1">: </span><span class="s2">ref</span><span class="s1">,</span>
    <span class="s2">file</span><span class="s1">: </span><span class="s2">state</span>
  <span class="s1">}, </span><span class="s2">handler</span><span class="s1">, {</span>
    <span class="s2">noDocumentAll</span><span class="s1">,</span>
    <span class="s2">innerBinding</span>
  <span class="s1">}));</span>
  <span class="s2">body</span><span class="s1">.</span><span class="s2">traverse</span><span class="s1">(</span><span class="s2">privateInVisitor</span><span class="s1">, {</span>
    <span class="s2">privateNamesMap</span><span class="s1">,</span>
    <span class="s2">classRef</span><span class="s1">: </span><span class="s2">ref</span><span class="s1">,</span>
    <span class="s2">file</span><span class="s1">: </span><span class="s2">state</span><span class="s1">,</span>
    <span class="s2">privateFieldsAsProperties</span><span class="s1">,</span>
    <span class="s2">innerBinding</span>
  <span class="s1">});</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildPrivateFieldInitLoose</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s1">{</span>
    <span class="s2">id</span>
  <span class="s1">} = </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">);</span>
  <span class="s3">const </span><span class="s2">value </span><span class="s1">= </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">value </span><span class="s1">|| </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">();</span>
  <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span>
      <span class="s0">Object.defineProperty(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">ref</span><span class="s1">}</span><span class="s0">, </span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)}</span><span class="s0">, { 
        // configurable is false by default 
        // enumerable is false by default 
        writable: true, 
        value: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">value</span><span class="s1">}</span>
      <span class="s0">}); 
    `</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildPrivateInstanceFieldInitSpec</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">state</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s1">{</span>
    <span class="s2">id</span>
  <span class="s1">} = </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">);</span>
  <span class="s3">const </span><span class="s2">value </span><span class="s1">= </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">value </span><span class="s1">|| </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">();</span>
  <span class="s1">{</span>
    <span class="s3">if </span><span class="s1">(!</span><span class="s2">state</span><span class="s1">.</span><span class="s2">availableHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateFieldInitSpec&quot;</span><span class="s1">)) {</span>
      <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)}</span><span class="s0">.set(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">ref</span><span class="s1">}</span><span class="s0">, { 
          // configurable is always false for private elements 
          // enumerable is always false for private elements 
          writable: true, 
          value: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">value</span><span class="s1">}</span><span class="s0">, 
        })`</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
    <span class="s1">}</span>
  <span class="s1">}</span>
  <span class="s3">const </span><span class="s2">helper </span><span class="s1">= </span><span class="s2">state</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateFieldInitSpec&quot;</span><span class="s1">);</span>
  <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span><span class="s2">$</span><span class="s1">{</span><span class="s2">helper</span><span class="s1">}</span><span class="s0">( 
      </span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">thisExpression</span><span class="s1">()}</span><span class="s0">, 
      </span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)}</span><span class="s0">, 
      { 
        writable: true, 
        value: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">value</span><span class="s1">}</span>
      <span class="s0">}, 
    )`</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildPrivateStaticFieldInitSpec</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s2">privateName </span><span class="s1">= </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">);</span>
  <span class="s3">const </span><span class="s1">{</span>
    <span class="s2">id</span><span class="s1">,</span>
    <span class="s2">getId</span><span class="s1">,</span>
    <span class="s2">setId</span><span class="s1">,</span>
    <span class="s2">initAdded</span>
  <span class="s1">} = </span><span class="s2">privateName</span><span class="s1">;</span>
  <span class="s3">const </span><span class="s2">isAccessor </span><span class="s1">= </span><span class="s2">getId </span><span class="s1">|| </span><span class="s2">setId</span><span class="s1">;</span>
  <span class="s3">if </span><span class="s1">(!</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">isProperty</span><span class="s1">() &amp;&amp; (</span><span class="s2">initAdded </span><span class="s1">|| !</span><span class="s2">isAccessor</span><span class="s1">)) </span><span class="s3">return</span><span class="s1">;</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">isAccessor</span><span class="s1">) {</span>
    <span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">, </span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s1">({}, </span><span class="s2">privateName</span><span class="s1">, {</span>
      <span class="s2">initAdded</span><span class="s1">: </span><span class="s3">true</span>
    <span class="s1">}));</span>
    <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span>
        <span class="s0">var </span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)} </span><span class="s0">= { 
          // configurable is false by default 
          // enumerable is false by default 
          // writable is false by default 
          get: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">getId </span><span class="s1">? </span><span class="s2">getId</span><span class="s1">.</span><span class="s2">name </span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">()}</span><span class="s0">, 
          set: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">setId </span><span class="s1">? </span><span class="s2">setId</span><span class="s1">.</span><span class="s2">name </span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">()}</span>
        <span class="s0">} 
      `</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
  <span class="s1">}</span>
  <span class="s3">const </span><span class="s2">value </span><span class="s1">= </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">value </span><span class="s1">|| </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">();</span>
  <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span>
      <span class="s0">var </span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)} </span><span class="s0">= { 
        // configurable is false by default 
        // enumerable is false by default 
        writable: true, 
        value: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">value</span><span class="s1">}</span>
      <span class="s0">}; 
    `</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildPrivateMethodInitLoose</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s2">privateName </span><span class="s1">= </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">);</span>
  <span class="s3">const </span><span class="s1">{</span>
    <span class="s2">methodId</span><span class="s1">,</span>
    <span class="s2">id</span><span class="s1">,</span>
    <span class="s2">getId</span><span class="s1">,</span>
    <span class="s2">setId</span><span class="s1">,</span>
    <span class="s2">initAdded</span>
  <span class="s1">} = </span><span class="s2">privateName</span><span class="s1">;</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">initAdded</span><span class="s1">) </span><span class="s3">return</span><span class="s1">;</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">methodId</span><span class="s1">) {</span>
    <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span>
        <span class="s0">Object.defineProperty(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">ref</span><span class="s1">}</span><span class="s0">, </span><span class="s2">$</span><span class="s1">{</span><span class="s2">id</span><span class="s1">}</span><span class="s0">, { 
          // configurable is false by default 
          // enumerable is false by default 
          // writable is false by default 
          value: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">methodId</span><span class="s1">.</span><span class="s2">name</span><span class="s1">}</span>
        <span class="s0">}); 
      `</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
  <span class="s1">}</span>
  <span class="s3">const </span><span class="s2">isAccessor </span><span class="s1">= </span><span class="s2">getId </span><span class="s1">|| </span><span class="s2">setId</span><span class="s1">;</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">isAccessor</span><span class="s1">) {</span>
    <span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">, </span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s1">({}, </span><span class="s2">privateName</span><span class="s1">, {</span>
      <span class="s2">initAdded</span><span class="s1">: </span><span class="s3">true</span>
    <span class="s1">}));</span>
    <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span>
        <span class="s0">Object.defineProperty(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">ref</span><span class="s1">}</span><span class="s0">, </span><span class="s2">$</span><span class="s1">{</span><span class="s2">id</span><span class="s1">}</span><span class="s0">, { 
          // configurable is false by default 
          // enumerable is false by default 
          // writable is false by default 
          get: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">getId </span><span class="s1">? </span><span class="s2">getId</span><span class="s1">.</span><span class="s2">name </span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">()}</span><span class="s0">, 
          set: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">setId </span><span class="s1">? </span><span class="s2">setId</span><span class="s1">.</span><span class="s2">name </span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">()}</span>
        <span class="s0">}); 
      `</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
  <span class="s1">}</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildPrivateInstanceMethodInitSpec</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">state</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s2">privateName </span><span class="s1">= </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">);</span>
  <span class="s3">const </span><span class="s1">{</span>
    <span class="s2">getId</span><span class="s1">,</span>
    <span class="s2">setId</span><span class="s1">,</span>
    <span class="s2">initAdded</span>
  <span class="s1">} = </span><span class="s2">privateName</span><span class="s1">;</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">initAdded</span><span class="s1">) </span><span class="s3">return</span><span class="s1">;</span>
  <span class="s3">const </span><span class="s2">isAccessor </span><span class="s1">= </span><span class="s2">getId </span><span class="s1">|| </span><span class="s2">setId</span><span class="s1">;</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">isAccessor</span><span class="s1">) {</span>
    <span class="s3">return </span><span class="s2">buildPrivateAccessorInitialization</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">state</span><span class="s1">);</span>
  <span class="s1">}</span>
  <span class="s3">return </span><span class="s2">buildPrivateInstanceMethodInitialization</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">state</span><span class="s1">);</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildPrivateAccessorInitialization</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">state</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s2">privateName </span><span class="s1">= </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">);</span>
  <span class="s3">const </span><span class="s1">{</span>
    <span class="s2">id</span><span class="s1">,</span>
    <span class="s2">getId</span><span class="s1">,</span>
    <span class="s2">setId</span>
  <span class="s1">} = </span><span class="s2">privateName</span><span class="s1">;</span>
  <span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">, </span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s1">({}, </span><span class="s2">privateName</span><span class="s1">, {</span>
    <span class="s2">initAdded</span><span class="s1">: </span><span class="s3">true</span>
  <span class="s1">}));</span>
  <span class="s1">{</span>
    <span class="s3">if </span><span class="s1">(!</span><span class="s2">state</span><span class="s1">.</span><span class="s2">availableHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateFieldInitSpec&quot;</span><span class="s1">)) {</span>
      <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span>
          <span class="s2">$</span><span class="s1">{</span><span class="s2">id</span><span class="s1">}</span><span class="s0">.set(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">ref</span><span class="s1">}</span><span class="s0">, { 
            get: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">getId </span><span class="s1">? </span><span class="s2">getId</span><span class="s1">.</span><span class="s2">name </span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">()}</span><span class="s0">, 
            set: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">setId </span><span class="s1">? </span><span class="s2">setId</span><span class="s1">.</span><span class="s2">name </span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">()}</span>
          <span class="s0">}); 
        `</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
    <span class="s1">}</span>
  <span class="s1">}</span>
  <span class="s3">const </span><span class="s2">helper </span><span class="s1">= </span><span class="s2">state</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateFieldInitSpec&quot;</span><span class="s1">);</span>
  <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span><span class="s2">$</span><span class="s1">{</span><span class="s2">helper</span><span class="s1">}</span><span class="s0">( 
      </span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">thisExpression</span><span class="s1">()}</span><span class="s0">, 
      </span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)}</span><span class="s0">, 
      { 
        get: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">getId </span><span class="s1">? </span><span class="s2">getId</span><span class="s1">.</span><span class="s2">name </span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">()}</span><span class="s0">, 
        set: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">setId </span><span class="s1">? </span><span class="s2">setId</span><span class="s1">.</span><span class="s2">name </span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">()}</span>
      <span class="s0">}, 
    )`</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildPrivateInstanceMethodInitialization</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">state</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s2">privateName </span><span class="s1">= </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">);</span>
  <span class="s3">const </span><span class="s1">{</span>
    <span class="s2">id</span>
  <span class="s1">} = </span><span class="s2">privateName</span><span class="s1">;</span>
  <span class="s1">{</span>
    <span class="s3">if </span><span class="s1">(!</span><span class="s2">state</span><span class="s1">.</span><span class="s2">availableHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateMethodInitSpec&quot;</span><span class="s1">)) {</span>
      <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span><span class="s2">$</span><span class="s1">{</span><span class="s2">id</span><span class="s1">}</span><span class="s0">.add(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">ref</span><span class="s1">}</span><span class="s0">)`</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
    <span class="s1">}</span>
  <span class="s1">}</span>
  <span class="s3">const </span><span class="s2">helper </span><span class="s1">= </span><span class="s2">state</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;classPrivateMethodInitSpec&quot;</span><span class="s1">);</span>
  <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span><span class="s2">$</span><span class="s1">{</span><span class="s2">helper</span><span class="s1">}</span><span class="s0">( 
      </span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">thisExpression</span><span class="s1">()}</span><span class="s0">, 
      </span><span class="s2">$</span><span class="s1">{</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">id</span><span class="s1">)}</span>
    <span class="s0">)`</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildPublicFieldInitLoose</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s1">{</span>
    <span class="s2">key</span><span class="s1">,</span>
    <span class="s2">computed</span>
  <span class="s1">} = </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">;</span>
  <span class="s3">const </span><span class="s2">value </span><span class="s1">= </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">value </span><span class="s1">|| </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">();</span>
  <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">expressionStatement</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">assignmentExpression</span><span class="s1">(</span><span class="s0">&quot;=&quot;</span><span class="s1">, </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">memberExpression</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">key</span><span class="s1">, </span><span class="s2">computed </span><span class="s1">|| </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">isLiteral</span><span class="s1">(</span><span class="s2">key</span><span class="s1">)), </span><span class="s2">value</span><span class="s1">)), </span><span class="s2">prop</span><span class="s1">);</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildPublicFieldInitSpec</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">state</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s1">{</span>
    <span class="s2">key</span><span class="s1">,</span>
    <span class="s2">computed</span>
  <span class="s1">} = </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">;</span>
  <span class="s3">const </span><span class="s2">value </span><span class="s1">= </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">value </span><span class="s1">|| </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">();</span>
  <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">expressionStatement</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">callExpression</span><span class="s1">(</span><span class="s2">state</span><span class="s1">.</span><span class="s2">addHelper</span><span class="s1">(</span><span class="s0">&quot;defineProperty&quot;</span><span class="s1">), [</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">computed </span><span class="s1">|| </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">isLiteral</span><span class="s1">(</span><span class="s2">key</span><span class="s1">) ? </span><span class="s2">key </span><span class="s1">: </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">stringLiteral</span><span class="s1">(</span><span class="s2">key</span><span class="s1">.</span><span class="s2">name</span><span class="s1">), </span><span class="s2">value</span><span class="s1">])), </span><span class="s2">prop</span><span class="s1">);</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildPrivateStaticMethodInitLoose</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">state</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s2">privateName </span><span class="s1">= </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">);</span>
  <span class="s3">const </span><span class="s1">{</span>
    <span class="s2">id</span><span class="s1">,</span>
    <span class="s2">methodId</span><span class="s1">,</span>
    <span class="s2">getId</span><span class="s1">,</span>
    <span class="s2">setId</span><span class="s1">,</span>
    <span class="s2">initAdded</span>
  <span class="s1">} = </span><span class="s2">privateName</span><span class="s1">;</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">initAdded</span><span class="s1">) </span><span class="s3">return</span><span class="s1">;</span>
  <span class="s3">const </span><span class="s2">isAccessor </span><span class="s1">= </span><span class="s2">getId </span><span class="s1">|| </span><span class="s2">setId</span><span class="s1">;</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">isAccessor</span><span class="s1">) {</span>
    <span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">, </span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s1">({}, </span><span class="s2">privateName</span><span class="s1">, {</span>
      <span class="s2">initAdded</span><span class="s1">: </span><span class="s3">true</span>
    <span class="s1">}));</span>
    <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span>
        <span class="s0">Object.defineProperty(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">ref</span><span class="s1">}</span><span class="s0">, </span><span class="s2">$</span><span class="s1">{</span><span class="s2">id</span><span class="s1">}</span><span class="s0">, { 
          // configurable is false by default 
          // enumerable is false by default 
          // writable is false by default 
          get: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">getId </span><span class="s1">? </span><span class="s2">getId</span><span class="s1">.</span><span class="s2">name </span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">()}</span><span class="s0">, 
          set: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">setId </span><span class="s1">? </span><span class="s2">setId</span><span class="s1">.</span><span class="s2">name </span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">()}</span>
        <span class="s0">}) 
      `</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
  <span class="s1">}</span>
  <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`</span>
      <span class="s0">Object.defineProperty(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">ref</span><span class="s1">}</span><span class="s0">, </span><span class="s2">$</span><span class="s1">{</span><span class="s2">id</span><span class="s1">}</span><span class="s0">, { 
        // configurable is false by default 
        // enumerable is false by default 
        // writable is false by default 
        value: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">methodId</span><span class="s1">.</span><span class="s2">name</span><span class="s1">}</span>
      <span class="s0">}); 
    `</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">);</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildPrivateMethodDeclaration</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">privateFieldsAsProperties </span><span class="s1">= </span><span class="s3">false</span><span class="s1">) {</span>
  <span class="s3">const </span><span class="s2">privateName </span><span class="s1">= </span><span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">);</span>
  <span class="s3">const </span><span class="s1">{</span>
    <span class="s2">id</span><span class="s1">,</span>
    <span class="s2">methodId</span><span class="s1">,</span>
    <span class="s2">getId</span><span class="s1">,</span>
    <span class="s2">setId</span><span class="s1">,</span>
    <span class="s2">getterDeclared</span><span class="s1">,</span>
    <span class="s2">setterDeclared</span><span class="s1">,</span>
    <span class="s3">static</span><span class="s1">: </span><span class="s2">isStatic</span>
  <span class="s1">} = </span><span class="s2">privateName</span><span class="s1">;</span>
  <span class="s3">const </span><span class="s1">{</span>
    <span class="s2">params</span><span class="s1">,</span>
    <span class="s2">body</span><span class="s1">,</span>
    <span class="s2">generator</span><span class="s1">,</span>
    <span class="s2">async</span>
  <span class="s1">} = </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">;</span>
  <span class="s3">const </span><span class="s2">isGetter </span><span class="s1">= </span><span class="s2">getId </span><span class="s1">&amp;&amp; !</span><span class="s2">getterDeclared </span><span class="s1">&amp;&amp; </span><span class="s2">params</span><span class="s1">.</span><span class="s2">length </span><span class="s1">=== </span><span class="s4">0</span><span class="s1">;</span>
  <span class="s3">const </span><span class="s2">isSetter </span><span class="s1">= </span><span class="s2">setId </span><span class="s1">&amp;&amp; !</span><span class="s2">setterDeclared </span><span class="s1">&amp;&amp; </span><span class="s2">params</span><span class="s1">.</span><span class="s2">length </span><span class="s1">&gt; </span><span class="s4">0</span><span class="s1">;</span>
  <span class="s3">let </span><span class="s2">declId </span><span class="s1">= </span><span class="s2">methodId</span><span class="s1">;</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">isGetter</span><span class="s1">) {</span>
    <span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">, </span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s1">({}, </span><span class="s2">privateName</span><span class="s1">, {</span>
      <span class="s2">getterDeclared</span><span class="s1">: </span><span class="s3">true</span>
    <span class="s1">}));</span>
    <span class="s2">declId </span><span class="s1">= </span><span class="s2">getId</span><span class="s1">;</span>
  <span class="s1">} </span><span class="s3">else if </span><span class="s1">(</span><span class="s2">isSetter</span><span class="s1">) {</span>
    <span class="s2">privateNamesMap</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">key</span><span class="s1">.</span><span class="s2">id</span><span class="s1">.</span><span class="s2">name</span><span class="s1">, </span><span class="s2">Object</span><span class="s1">.</span><span class="s2">assign</span><span class="s1">({}, </span><span class="s2">privateName</span><span class="s1">, {</span>
      <span class="s2">setterDeclared</span><span class="s1">: </span><span class="s3">true</span>
    <span class="s1">}));</span>
    <span class="s2">declId </span><span class="s1">= </span><span class="s2">setId</span><span class="s1">;</span>
  <span class="s1">} </span><span class="s3">else if </span><span class="s1">(</span><span class="s2">isStatic </span><span class="s1">&amp;&amp; !</span><span class="s2">privateFieldsAsProperties</span><span class="s1">) {</span>
    <span class="s2">declId </span><span class="s1">= </span><span class="s2">id</span><span class="s1">;</span>
  <span class="s1">}</span>
  <span class="s3">return </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">functionDeclaration</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">declId</span><span class="s1">), </span><span class="s2">params</span><span class="s1">, </span><span class="s2">body</span><span class="s1">, </span><span class="s2">generator</span><span class="s1">, </span><span class="s2">async</span><span class="s1">), </span><span class="s2">prop</span><span class="s1">);</span>
<span class="s1">}</span>
<span class="s3">const </span><span class="s2">thisContextVisitor </span><span class="s1">= </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">traverse</span><span class="s1">.</span><span class="s2">visitors</span><span class="s1">.</span><span class="s2">merge</span><span class="s1">([{</span>
  <span class="s2">UnaryExpression</span><span class="s1">(</span><span class="s2">path</span><span class="s1">) {</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">node</span>
    <span class="s1">} = </span><span class="s2">path</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">node</span><span class="s1">.</span><span class="s2">operator </span><span class="s1">=== </span><span class="s0">&quot;delete&quot;</span><span class="s1">) {</span>
      <span class="s3">const </span><span class="s2">argument </span><span class="s1">= (</span><span class="s4">0</span><span class="s1">, </span><span class="s2">_helperSkipTransparentExpressionWrappers</span><span class="s1">.</span><span class="s2">skipTransparentExprWrapperNodes</span><span class="s1">)(</span><span class="s2">node</span><span class="s1">.</span><span class="s2">argument</span><span class="s1">);</span>
      <span class="s3">if </span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">isThisExpression</span><span class="s1">(</span><span class="s2">argument</span><span class="s1">)) {</span>
        <span class="s2">path</span><span class="s1">.</span><span class="s2">replaceWith</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">booleanLiteral</span><span class="s1">(</span><span class="s3">true</span><span class="s1">));</span>
      <span class="s1">}</span>
    <span class="s1">}</span>
  <span class="s1">},</span>
  <span class="s2">ThisExpression</span><span class="s1">(</span><span class="s2">path</span><span class="s1">, </span><span class="s2">state</span><span class="s1">) {</span>
    <span class="s2">state</span><span class="s1">.</span><span class="s2">needsClassRef </span><span class="s1">= </span><span class="s3">true</span><span class="s1">;</span>
    <span class="s2">path</span><span class="s1">.</span><span class="s2">replaceWith</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">state</span><span class="s1">.</span><span class="s2">classRef</span><span class="s1">));</span>
  <span class="s1">},</span>
  <span class="s2">MetaProperty</span><span class="s1">(</span><span class="s2">path</span><span class="s1">) {</span>
    <span class="s3">const </span><span class="s1">{</span>
      <span class="s2">node</span><span class="s1">,</span>
      <span class="s2">scope</span>
    <span class="s1">} = </span><span class="s2">path</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">node</span><span class="s1">.</span><span class="s2">meta</span><span class="s1">.</span><span class="s2">name </span><span class="s1">=== </span><span class="s0">&quot;new&quot; </span><span class="s1">&amp;&amp; </span><span class="s2">node</span><span class="s1">.</span><span class="s2">property</span><span class="s1">.</span><span class="s2">name </span><span class="s1">=== </span><span class="s0">&quot;target&quot;</span><span class="s1">) {</span>
      <span class="s2">path</span><span class="s1">.</span><span class="s2">replaceWith</span><span class="s1">(</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">buildUndefinedNode</span><span class="s1">());</span>
    <span class="s1">}</span>
  <span class="s1">}</span>
<span class="s1">}, </span><span class="s2">_helperEnvironmentVisitor</span><span class="s1">.</span><span class="s2">default</span><span class="s1">]);</span>
<span class="s3">const </span><span class="s2">innerReferencesVisitor </span><span class="s1">= {</span>
  <span class="s2">ReferencedIdentifier</span><span class="s1">(</span><span class="s2">path</span><span class="s1">, </span><span class="s2">state</span><span class="s1">) {</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">path</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">bindingIdentifierEquals</span><span class="s1">(</span><span class="s2">path</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">name</span><span class="s1">, </span><span class="s2">state</span><span class="s1">.</span><span class="s2">innerBinding</span><span class="s1">)) {</span>
      <span class="s2">state</span><span class="s1">.</span><span class="s2">needsClassRef </span><span class="s1">= </span><span class="s3">true</span><span class="s1">;</span>
      <span class="s2">path</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">name </span><span class="s1">= </span><span class="s2">state</span><span class="s1">.</span><span class="s2">classRef</span><span class="s1">.</span><span class="s2">name</span><span class="s1">;</span>
    <span class="s1">}</span>
  <span class="s1">}</span>
<span class="s1">};</span>
<span class="s3">function </span><span class="s2">replaceThisContext</span><span class="s1">(</span><span class="s2">path</span><span class="s1">, </span><span class="s2">ref</span><span class="s1">, </span><span class="s2">innerBindingRef</span><span class="s1">) {</span>
  <span class="s3">var </span><span class="s2">_state$classRef</span><span class="s1">;</span>
  <span class="s3">const </span><span class="s2">state </span><span class="s1">= {</span>
    <span class="s2">classRef</span><span class="s1">: </span><span class="s2">ref</span><span class="s1">,</span>
    <span class="s2">needsClassRef</span><span class="s1">: </span><span class="s3">false</span><span class="s1">,</span>
    <span class="s2">innerBinding</span><span class="s1">: </span><span class="s2">innerBindingRef</span>
  <span class="s1">};</span>
  <span class="s3">if </span><span class="s1">(!</span><span class="s2">path</span><span class="s1">.</span><span class="s2">isMethod</span><span class="s1">()) {</span>
    <span class="s2">path</span><span class="s1">.</span><span class="s2">traverse</span><span class="s1">(</span><span class="s2">thisContextVisitor</span><span class="s1">, </span><span class="s2">state</span><span class="s1">);</span>
  <span class="s1">}</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">innerBindingRef </span><span class="s1">!= </span><span class="s3">null </span><span class="s1">&amp;&amp; (</span><span class="s2">_state$classRef </span><span class="s1">= </span><span class="s2">state</span><span class="s1">.</span><span class="s2">classRef</span><span class="s1">) != </span><span class="s3">null </span><span class="s1">&amp;&amp; </span><span class="s2">_state$classRef</span><span class="s1">.</span><span class="s2">name </span><span class="s1">&amp;&amp; </span><span class="s2">state</span><span class="s1">.</span><span class="s2">classRef</span><span class="s1">.</span><span class="s2">name </span><span class="s1">!== </span><span class="s2">innerBindingRef</span><span class="s1">.</span><span class="s2">name</span><span class="s1">) {</span>
    <span class="s2">path</span><span class="s1">.</span><span class="s2">traverse</span><span class="s1">(</span><span class="s2">innerReferencesVisitor</span><span class="s1">, </span><span class="s2">state</span><span class="s1">);</span>
  <span class="s1">}</span>
  <span class="s3">return </span><span class="s2">state</span><span class="s1">.</span><span class="s2">needsClassRef</span><span class="s1">;</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">isNameOrLength</span><span class="s1">({</span>
  <span class="s2">key</span><span class="s1">,</span>
  <span class="s2">computed</span>
<span class="s1">}) {</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">key</span><span class="s1">.</span><span class="s2">type </span><span class="s1">=== </span><span class="s0">&quot;Identifier&quot;</span><span class="s1">) {</span>
    <span class="s3">return </span><span class="s1">!</span><span class="s2">computed </span><span class="s1">&amp;&amp; (</span><span class="s2">key</span><span class="s1">.</span><span class="s2">name </span><span class="s1">=== </span><span class="s0">&quot;name&quot; </span><span class="s1">|| </span><span class="s2">key</span><span class="s1">.</span><span class="s2">name </span><span class="s1">=== </span><span class="s0">&quot;length&quot;</span><span class="s1">);</span>
  <span class="s1">}</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">key</span><span class="s1">.</span><span class="s2">type </span><span class="s1">=== </span><span class="s0">&quot;StringLiteral&quot;</span><span class="s1">) {</span>
    <span class="s3">return </span><span class="s2">key</span><span class="s1">.</span><span class="s2">value </span><span class="s1">=== </span><span class="s0">&quot;name&quot; </span><span class="s1">|| </span><span class="s2">key</span><span class="s1">.</span><span class="s2">value </span><span class="s1">=== </span><span class="s0">&quot;length&quot;</span><span class="s1">;</span>
  <span class="s1">}</span>
  <span class="s3">return false</span><span class="s1">;</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">node</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">) {</span>
  <span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">inheritLeadingComments</span><span class="s1">(</span><span class="s2">node</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">);</span>
  <span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">inheritInnerComments</span><span class="s1">(</span><span class="s2">node</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">);</span>
  <span class="s3">return </span><span class="s2">node</span><span class="s1">;</span>
<span class="s1">}</span>
<span class="s3">function </span><span class="s2">buildFieldsInitNodes</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">, </span><span class="s2">superRef</span><span class="s1">, </span><span class="s2">props</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">file</span><span class="s1">, </span><span class="s2">setPublicClassFields</span><span class="s1">, </span><span class="s2">privateFieldsAsProperties</span><span class="s1">, </span><span class="s2">constantSuper</span><span class="s1">, </span><span class="s2">innerBindingRef</span><span class="s1">) {</span>
  <span class="s3">var </span><span class="s2">_ref</span><span class="s1">, </span><span class="s2">_ref2</span><span class="s1">;</span>
  <span class="s3">let </span><span class="s2">classRefFlags </span><span class="s1">= </span><span class="s4">0</span><span class="s1">;</span>
  <span class="s3">let </span><span class="s2">injectSuperRef</span><span class="s1">;</span>
  <span class="s3">const </span><span class="s2">staticNodes </span><span class="s1">= [];</span>
  <span class="s3">const </span><span class="s2">instanceNodes </span><span class="s1">= [];</span>
  <span class="s3">const </span><span class="s2">pureStaticNodes </span><span class="s1">= [];</span>
  <span class="s3">let </span><span class="s2">classBindingNode </span><span class="s1">= </span><span class="s3">null</span><span class="s1">;</span>
  <span class="s3">const </span><span class="s2">getSuperRef </span><span class="s1">= </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">isIdentifier</span><span class="s1">(</span><span class="s2">superRef</span><span class="s1">) ? () =&gt; </span><span class="s2">superRef </span><span class="s1">: () =&gt; {</span>
    <span class="s3">var </span><span class="s2">_injectSuperRef</span><span class="s1">;</span>
    <span class="s1">(</span><span class="s2">_injectSuperRef </span><span class="s1">= </span><span class="s2">injectSuperRef</span><span class="s1">) != </span><span class="s3">null </span><span class="s1">? </span><span class="s2">_injectSuperRef </span><span class="s1">: </span><span class="s2">injectSuperRef </span><span class="s1">= </span><span class="s2">props</span><span class="s1">[</span><span class="s4">0</span><span class="s1">].</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">generateUidIdentifierBasedOnNode</span><span class="s1">(</span><span class="s2">superRef</span><span class="s1">);</span>
    <span class="s3">return </span><span class="s2">injectSuperRef</span><span class="s1">;</span>
  <span class="s1">};</span>
  <span class="s3">const </span><span class="s2">classRefForInnerBinding </span><span class="s1">= (</span><span class="s2">_ref </span><span class="s1">= </span><span class="s2">ref</span><span class="s1">) != </span><span class="s3">null </span><span class="s1">? </span><span class="s2">_ref </span><span class="s1">: </span><span class="s2">props</span><span class="s1">[</span><span class="s4">0</span><span class="s1">].</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">generateUidIdentifier</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">);</span>
  <span class="s1">(</span><span class="s2">_ref2 </span><span class="s1">= </span><span class="s2">ref</span><span class="s1">) != </span><span class="s3">null </span><span class="s1">? </span><span class="s2">_ref2 </span><span class="s1">: </span><span class="s2">ref </span><span class="s1">= </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">innerBindingRef</span><span class="s1">);</span>
  <span class="s3">for </span><span class="s1">(</span><span class="s3">const </span><span class="s2">prop of props</span><span class="s1">) {</span>
    <span class="s2">prop</span><span class="s1">.</span><span class="s2">isClassProperty</span><span class="s1">() &amp;&amp; </span><span class="s2">ts</span><span class="s1">.</span><span class="s2">assertFieldTransformed</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">);</span>
    <span class="s3">const </span><span class="s2">isStatic </span><span class="s1">= !(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">isStaticBlock </span><span class="s1">!= </span><span class="s3">null </span><span class="s1">&amp;&amp; </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">isStaticBlock</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">)) &amp;&amp; </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">static</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s2">isInstance </span><span class="s1">= !</span><span class="s2">isStatic</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s2">isPrivate </span><span class="s1">= </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">isPrivate</span><span class="s1">();</span>
    <span class="s3">const </span><span class="s2">isPublic </span><span class="s1">= !</span><span class="s2">isPrivate</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s2">isField </span><span class="s1">= </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">isProperty</span><span class="s1">();</span>
    <span class="s3">const </span><span class="s2">isMethod </span><span class="s1">= !</span><span class="s2">isField</span><span class="s1">;</span>
    <span class="s3">const </span><span class="s2">isStaticBlock </span><span class="s1">= </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">isStaticBlock </span><span class="s1">== </span><span class="s3">null </span><span class="s1">? </span><span class="s3">void </span><span class="s4">0 </span><span class="s1">: </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">isStaticBlock</span><span class="s1">();</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">isStatic</span><span class="s1">) </span><span class="s2">classRefFlags </span><span class="s1">|= </span><span class="s4">1</span><span class="s1">;</span>
    <span class="s3">if </span><span class="s1">(</span><span class="s2">isStatic </span><span class="s1">|| </span><span class="s2">isMethod </span><span class="s1">&amp;&amp; </span><span class="s2">isPrivate </span><span class="s1">|| </span><span class="s2">isStaticBlock</span><span class="s1">) {</span>
      <span class="s3">new </span><span class="s2">_helperReplaceSupers</span><span class="s1">.</span><span class="s2">default</span><span class="s1">({</span>
        <span class="s2">methodPath</span><span class="s1">: </span><span class="s2">prop</span><span class="s1">,</span>
        <span class="s2">constantSuper</span><span class="s1">,</span>
        <span class="s2">file</span><span class="s1">: </span><span class="s2">file</span><span class="s1">,</span>
        <span class="s2">refToPreserve</span><span class="s1">: </span><span class="s2">innerBindingRef</span><span class="s1">,</span>
        <span class="s2">getSuperRef</span><span class="s1">,</span>
        <span class="s2">getObjectRef</span><span class="s1">() {</span>
          <span class="s2">classRefFlags </span><span class="s1">|= </span><span class="s4">2</span><span class="s1">;</span>
          <span class="s3">if </span><span class="s1">(</span><span class="s2">isStatic </span><span class="s1">|| </span><span class="s2">isStaticBlock</span><span class="s1">) {</span>
            <span class="s3">return </span><span class="s2">classRefForInnerBinding</span><span class="s1">;</span>
          <span class="s1">} </span><span class="s3">else </span><span class="s1">{</span>
            <span class="s3">return </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">memberExpression</span><span class="s1">(</span><span class="s2">classRefForInnerBinding</span><span class="s1">, </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">identifier</span><span class="s1">(</span><span class="s0">&quot;prototype&quot;</span><span class="s1">));</span>
          <span class="s1">}</span>
        <span class="s1">}</span>
      <span class="s1">}).</span><span class="s2">replace</span><span class="s1">();</span>
      <span class="s3">const </span><span class="s2">replaced </span><span class="s1">= </span><span class="s2">replaceThisContext</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">, </span><span class="s2">classRefForInnerBinding</span><span class="s1">, </span><span class="s2">innerBindingRef</span><span class="s1">);</span>
      <span class="s3">if </span><span class="s1">(</span><span class="s2">replaced</span><span class="s1">) {</span>
        <span class="s2">classRefFlags </span><span class="s1">|= </span><span class="s4">2</span><span class="s1">;</span>
      <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s3">switch </span><span class="s1">(</span><span class="s3">true</span><span class="s1">) {</span>
      <span class="s3">case </span><span class="s2">isStaticBlock</span><span class="s1">:</span>
        <span class="s1">{</span>
          <span class="s3">const </span><span class="s2">blockBody </span><span class="s1">= </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">body</span><span class="s1">;</span>
          <span class="s3">if </span><span class="s1">(</span><span class="s2">blockBody</span><span class="s1">.</span><span class="s2">length </span><span class="s1">=== </span><span class="s4">1 </span><span class="s1">&amp;&amp; </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">isExpressionStatement</span><span class="s1">(</span><span class="s2">blockBody</span><span class="s1">[</span><span class="s4">0</span><span class="s1">])) {</span>
            <span class="s2">staticNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">inheritPropComments</span><span class="s1">(</span><span class="s2">blockBody</span><span class="s1">[</span><span class="s4">0</span><span class="s1">], </span><span class="s2">prop</span><span class="s1">));</span>
          <span class="s1">} </span><span class="s3">else </span><span class="s1">{</span>
            <span class="s2">staticNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">inheritsComments</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">template</span><span class="s1">.</span><span class="s2">statement</span><span class="s1">.</span><span class="s2">ast</span><span class="s0">`(() =&gt; { </span><span class="s2">$</span><span class="s1">{</span><span class="s2">blockBody</span><span class="s1">} </span><span class="s0">})()`</span><span class="s1">, </span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">));</span>
          <span class="s1">}</span>
          <span class="s3">break</span><span class="s1">;</span>
        <span class="s1">}</span>
      <span class="s3">case </span><span class="s2">isStatic </span><span class="s1">&amp;&amp; </span><span class="s2">isPrivate </span><span class="s1">&amp;&amp; </span><span class="s2">isField </span><span class="s1">&amp;&amp; </span><span class="s2">privateFieldsAsProperties</span><span class="s1">:</span>
        <span class="s2">staticNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">buildPrivateFieldInitLoose</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">), </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">));</span>
        <span class="s3">break</span><span class="s1">;</span>
      <span class="s3">case </span><span class="s2">isStatic </span><span class="s1">&amp;&amp; </span><span class="s2">isPrivate </span><span class="s1">&amp;&amp; </span><span class="s2">isField </span><span class="s1">&amp;&amp; !</span><span class="s2">privateFieldsAsProperties</span><span class="s1">:</span>
        <span class="s2">staticNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">buildPrivateStaticFieldInitSpec</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">));</span>
        <span class="s3">break</span><span class="s1">;</span>
      <span class="s3">case </span><span class="s2">isStatic </span><span class="s1">&amp;&amp; </span><span class="s2">isPublic </span><span class="s1">&amp;&amp; </span><span class="s2">isField </span><span class="s1">&amp;&amp; </span><span class="s2">setPublicClassFields</span><span class="s1">:</span>
        <span class="s3">if </span><span class="s1">(!</span><span class="s2">isNameOrLength</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">)) {</span>
          <span class="s2">staticNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">buildPublicFieldInitLoose</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">), </span><span class="s2">prop</span><span class="s1">));</span>
          <span class="s3">break</span><span class="s1">;</span>
        <span class="s1">}</span>
      <span class="s3">case </span><span class="s2">isStatic </span><span class="s1">&amp;&amp; </span><span class="s2">isPublic </span><span class="s1">&amp;&amp; </span><span class="s2">isField </span><span class="s1">&amp;&amp; !</span><span class="s2">setPublicClassFields</span><span class="s1">:</span>
        <span class="s2">staticNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">buildPublicFieldInitSpec</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">), </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">file</span><span class="s1">));</span>
        <span class="s3">break</span><span class="s1">;</span>
      <span class="s3">case </span><span class="s2">isInstance </span><span class="s1">&amp;&amp; </span><span class="s2">isPrivate </span><span class="s1">&amp;&amp; </span><span class="s2">isField </span><span class="s1">&amp;&amp; </span><span class="s2">privateFieldsAsProperties</span><span class="s1">:</span>
        <span class="s2">instanceNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">buildPrivateFieldInitLoose</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">thisExpression</span><span class="s1">(), </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">));</span>
        <span class="s3">break</span><span class="s1">;</span>
      <span class="s3">case </span><span class="s2">isInstance </span><span class="s1">&amp;&amp; </span><span class="s2">isPrivate </span><span class="s1">&amp;&amp; </span><span class="s2">isField </span><span class="s1">&amp;&amp; !</span><span class="s2">privateFieldsAsProperties</span><span class="s1">:</span>
        <span class="s2">instanceNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">buildPrivateInstanceFieldInitSpec</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">thisExpression</span><span class="s1">(), </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">file</span><span class="s1">));</span>
        <span class="s3">break</span><span class="s1">;</span>
      <span class="s3">case </span><span class="s2">isInstance </span><span class="s1">&amp;&amp; </span><span class="s2">isPrivate </span><span class="s1">&amp;&amp; </span><span class="s2">isMethod </span><span class="s1">&amp;&amp; </span><span class="s2">privateFieldsAsProperties</span><span class="s1">:</span>
        <span class="s2">instanceNodes</span><span class="s1">.</span><span class="s2">unshift</span><span class="s1">(</span><span class="s2">buildPrivateMethodInitLoose</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">thisExpression</span><span class="s1">(), </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">));</span>
        <span class="s2">pureStaticNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">buildPrivateMethodDeclaration</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">privateFieldsAsProperties</span><span class="s1">));</span>
        <span class="s3">break</span><span class="s1">;</span>
      <span class="s3">case </span><span class="s2">isInstance </span><span class="s1">&amp;&amp; </span><span class="s2">isPrivate </span><span class="s1">&amp;&amp; </span><span class="s2">isMethod </span><span class="s1">&amp;&amp; !</span><span class="s2">privateFieldsAsProperties</span><span class="s1">:</span>
        <span class="s2">instanceNodes</span><span class="s1">.</span><span class="s2">unshift</span><span class="s1">(</span><span class="s2">buildPrivateInstanceMethodInitSpec</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">thisExpression</span><span class="s1">(), </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">file</span><span class="s1">));</span>
        <span class="s2">pureStaticNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">buildPrivateMethodDeclaration</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">privateFieldsAsProperties</span><span class="s1">));</span>
        <span class="s3">break</span><span class="s1">;</span>
      <span class="s3">case </span><span class="s2">isStatic </span><span class="s1">&amp;&amp; </span><span class="s2">isPrivate </span><span class="s1">&amp;&amp; </span><span class="s2">isMethod </span><span class="s1">&amp;&amp; !</span><span class="s2">privateFieldsAsProperties</span><span class="s1">:</span>
        <span class="s2">staticNodes</span><span class="s1">.</span><span class="s2">unshift</span><span class="s1">(</span><span class="s2">buildPrivateStaticFieldInitSpec</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">));</span>
        <span class="s2">pureStaticNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">buildPrivateMethodDeclaration</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">privateFieldsAsProperties</span><span class="s1">));</span>
        <span class="s3">break</span><span class="s1">;</span>
      <span class="s3">case </span><span class="s2">isStatic </span><span class="s1">&amp;&amp; </span><span class="s2">isPrivate </span><span class="s1">&amp;&amp; </span><span class="s2">isMethod </span><span class="s1">&amp;&amp; </span><span class="s2">privateFieldsAsProperties</span><span class="s1">:</span>
        <span class="s2">staticNodes</span><span class="s1">.</span><span class="s2">unshift</span><span class="s1">(</span><span class="s2">buildPrivateStaticMethodInitLoose</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">), </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">file</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">));</span>
        <span class="s2">pureStaticNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">buildPrivateMethodDeclaration</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">, </span><span class="s2">privateNamesMap</span><span class="s1">, </span><span class="s2">privateFieldsAsProperties</span><span class="s1">));</span>
        <span class="s3">break</span><span class="s1">;</span>
      <span class="s3">case </span><span class="s2">isInstance </span><span class="s1">&amp;&amp; </span><span class="s2">isPublic </span><span class="s1">&amp;&amp; </span><span class="s2">isField </span><span class="s1">&amp;&amp; </span><span class="s2">setPublicClassFields</span><span class="s1">:</span>
        <span class="s2">instanceNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">buildPublicFieldInitLoose</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">thisExpression</span><span class="s1">(), </span><span class="s2">prop</span><span class="s1">));</span>
        <span class="s3">break</span><span class="s1">;</span>
      <span class="s3">case </span><span class="s2">isInstance </span><span class="s1">&amp;&amp; </span><span class="s2">isPublic </span><span class="s1">&amp;&amp; </span><span class="s2">isField </span><span class="s1">&amp;&amp; !</span><span class="s2">setPublicClassFields</span><span class="s1">:</span>
        <span class="s2">instanceNodes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">buildPublicFieldInitSpec</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">thisExpression</span><span class="s1">(), </span><span class="s2">prop</span><span class="s1">, </span><span class="s2">file</span><span class="s1">));</span>
        <span class="s3">break</span><span class="s1">;</span>
      <span class="s3">default</span><span class="s1">:</span>
        <span class="s3">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;Unreachable.&quot;</span><span class="s1">);</span>
    <span class="s1">}</span>
  <span class="s1">}</span>
  <span class="s3">if </span><span class="s1">(</span><span class="s2">classRefFlags </span><span class="s1">&amp; </span><span class="s4">2 </span><span class="s1">&amp;&amp; </span><span class="s2">innerBindingRef </span><span class="s1">!= </span><span class="s3">null</span><span class="s1">) {</span>
    <span class="s2">classBindingNode </span><span class="s1">= </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">expressionStatement</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">assignmentExpression</span><span class="s1">(</span><span class="s0">&quot;=&quot;</span><span class="s1">, </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">classRefForInnerBinding</span><span class="s1">), </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">innerBindingRef</span><span class="s1">)));</span>
  <span class="s1">}</span>
  <span class="s3">return </span><span class="s1">{</span>
    <span class="s2">staticNodes</span><span class="s1">: </span><span class="s2">staticNodes</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">(</span><span class="s2">Boolean</span><span class="s1">),</span>
    <span class="s2">instanceNodes</span><span class="s1">: </span><span class="s2">instanceNodes</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">(</span><span class="s2">Boolean</span><span class="s1">),</span>
    <span class="s2">pureStaticNodes</span><span class="s1">: </span><span class="s2">pureStaticNodes</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">(</span><span class="s2">Boolean</span><span class="s1">),</span>
    <span class="s2">classBindingNode</span><span class="s1">,</span>
    <span class="s2">wrapClass</span><span class="s1">(</span><span class="s2">path</span><span class="s1">) {</span>
      <span class="s3">for </span><span class="s1">(</span><span class="s3">const </span><span class="s2">prop of props</span><span class="s1">) {</span>
        <span class="s2">prop</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">leadingComments </span><span class="s1">= </span><span class="s3">null</span><span class="s1">;</span>
        <span class="s2">prop</span><span class="s1">.</span><span class="s2">remove</span><span class="s1">();</span>
      <span class="s1">}</span>
      <span class="s3">if </span><span class="s1">(</span><span class="s2">injectSuperRef</span><span class="s1">) {</span>
        <span class="s2">path</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">push</span><span class="s1">({</span>
          <span class="s2">id</span><span class="s1">: </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">injectSuperRef</span><span class="s1">)</span>
        <span class="s1">});</span>
        <span class="s2">path</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s0">&quot;superClass&quot;</span><span class="s1">, </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">assignmentExpression</span><span class="s1">(</span><span class="s0">&quot;=&quot;</span><span class="s1">, </span><span class="s2">injectSuperRef</span><span class="s1">, </span><span class="s2">path</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">superClass</span><span class="s1">));</span>
      <span class="s1">}</span>
      <span class="s3">if </span><span class="s1">(</span><span class="s2">classRefFlags </span><span class="s1">!== </span><span class="s4">0</span><span class="s1">) {</span>
        <span class="s3">if </span><span class="s1">(</span><span class="s2">path</span><span class="s1">.</span><span class="s2">isClassExpression</span><span class="s1">()) {</span>
          <span class="s2">path</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">push</span><span class="s1">({</span>
            <span class="s2">id</span><span class="s1">: </span><span class="s2">ref</span>
          <span class="s1">});</span>
          <span class="s2">path</span><span class="s1">.</span><span class="s2">replaceWith</span><span class="s1">(</span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">assignmentExpression</span><span class="s1">(</span><span class="s0">&quot;=&quot;</span><span class="s1">, </span><span class="s2">_core</span><span class="s1">.</span><span class="s2">types</span><span class="s1">.</span><span class="s2">cloneNode</span><span class="s1">(</span><span class="s2">ref</span><span class="s1">), </span><span class="s2">path</span><span class="s1">.</span><span class="s2">node</span><span class="s1">));</span>
        <span class="s1">} </span><span class="s3">else </span><span class="s1">{</span>
          <span class="s3">if </span><span class="s1">(</span><span class="s2">innerBindingRef </span><span class="s1">== </span><span class="s3">null</span><span class="s1">) {</span>
            <span class="s2">path</span><span class="s1">.</span><span class="s2">node</span><span class="s1">.</span><span class="s2">id </span><span class="s1">= </span><span class="s2">ref</span><span class="s1">;</span>
          <span class="s1">}</span>
          <span class="s3">if </span><span class="s1">(</span><span class="s2">classBindingNode </span><span class="s1">!= </span><span class="s3">null</span><span class="s1">) {</span>
            <span class="s2">path</span><span class="s1">.</span><span class="s2">scope</span><span class="s1">.</span><span class="s2">push</span><span class="s1">({</span>
              <span class="s2">id</span><span class="s1">: </span><span class="s2">classRefForInnerBinding</span>
            <span class="s1">});</span>
          <span class="s1">}</span>
        <span class="s1">}</span>
      <span class="s1">}</span>
      <span class="s3">return </span><span class="s2">path</span><span class="s1">;</span>
    <span class="s1">}</span>
  <span class="s1">};</span>
<span class="s1">}</span>

<span class="s5">//# sourceMappingURL=fields.js.map</span>
</pre>
</body>
</html>
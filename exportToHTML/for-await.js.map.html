<html>
<head>
<title>for-await.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
for-await.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;_core&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;buildForAwait&quot;</span><span class="s0">,</span><span class="s1">&quot;template&quot;</span><span class="s0">,</span><span class="s1">&quot;_default&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;getAsyncIterator&quot;</span><span class="s0">,</span><span class="s1">&quot;node&quot;</span><span class="s0">,</span><span class="s1">&quot;scope&quot;</span><span class="s0">,</span><span class="s1">&quot;parent&quot;</span><span class="s0">,</span><span class="s1">&quot;stepKey&quot;</span><span class="s0">,</span><span class="s1">&quot;generateUidIdentifier&quot;</span><span class="s0">,</span><span class="s1">&quot;stepValue&quot;</span><span class="s0">,</span><span class="s1">&quot;t&quot;</span><span class="s0">,</span><span class="s1">&quot;memberExpression&quot;</span><span class="s0">,</span><span class="s1">&quot;identifier&quot;</span><span class="s0">,</span><span class="s1">&quot;left&quot;</span><span class="s0">,</span><span class="s1">&quot;declar&quot;</span><span class="s0">,</span><span class="s1">&quot;isIdentifier&quot;</span><span class="s0">,</span><span class="s1">&quot;isPattern&quot;</span><span class="s0">,</span><span class="s1">&quot;isMemberExpression&quot;</span><span class="s0">,</span><span class="s1">&quot;expressionStatement&quot;</span><span class="s0">,</span><span class="s1">&quot;assignmentExpression&quot;</span><span class="s0">,</span><span class="s1">&quot;isVariableDeclaration&quot;</span><span class="s0">,</span><span class="s1">&quot;variableDeclaration&quot;</span><span class="s0">,</span><span class="s1">&quot;kind&quot;</span><span class="s0">,</span><span class="s1">&quot;variableDeclarator&quot;</span><span class="s0">,</span><span class="s1">&quot;declarations&quot;</span><span class="s0">,</span><span class="s1">&quot;id&quot;</span><span class="s0">,</span><span class="s1">&quot;ITERATOR_HAD_ERROR_KEY&quot;</span><span class="s0">,</span><span class="s1">&quot;ITERATOR_ABRUPT_COMPLETION&quot;</span><span class="s0">,</span><span class="s1">&quot;ITERATOR_ERROR_KEY&quot;</span><span class="s0">,</span><span class="s1">&quot;ITERATOR_KEY&quot;</span><span class="s0">,</span><span class="s1">&quot;GET_ITERATOR&quot;</span><span class="s0">,</span><span class="s1">&quot;OBJECT&quot;</span><span class="s0">,</span><span class="s1">&quot;right&quot;</span><span class="s0">,</span><span class="s1">&quot;STEP_KEY&quot;</span><span class="s0">,</span><span class="s1">&quot;cloneNode&quot;</span><span class="s0">,</span><span class="s1">&quot;body&quot;</span><span class="s0">,</span><span class="s1">&quot;isLabeledParent&quot;</span><span class="s0">,</span><span class="s1">&quot;isLabeledStatement&quot;</span><span class="s0">,</span><span class="s1">&quot;tryBody&quot;</span><span class="s0">,</span><span class="s1">&quot;block&quot;</span><span class="s0">,</span><span class="s1">&quot;loop&quot;</span><span class="s0">,</span><span class="s1">&quot;labeledStatement&quot;</span><span class="s0">,</span><span class="s1">&quot;label&quot;</span><span class="s0">,</span><span class="s1">&quot;replaceParent&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../src/for-await.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { types as t, template } from </span><span class="s3">\&quot;</span><span class="s1">@babel/core</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import type { NodePath } from </span><span class="s3">\&quot;</span><span class="s1">@babel/traverse</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">const buildForAwait = template(`</span><span class="s3">\n  </span><span class="s1">async function wrapper() {</span><span class="s3">\n    </span><span class="s1">var ITERATOR_ABRUPT_COMPLETION = false;</span><span class="s3">\n    </span><span class="s1">var ITERATOR_HAD_ERROR_KEY = false;</span><span class="s3">\n    </span><span class="s1">var ITERATOR_ERROR_KEY;</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">for (</span><span class="s3">\n        </span><span class="s1">var ITERATOR_KEY = GET_ITERATOR(OBJECT), STEP_KEY;</span><span class="s3">\n        </span><span class="s1">ITERATOR_ABRUPT_COMPLETION = !(STEP_KEY = await ITERATOR_KEY.next()).done;</span><span class="s3">\n        </span><span class="s1">ITERATOR_ABRUPT_COMPLETION = false</span><span class="s3">\n      </span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} catch (err) {</span><span class="s3">\n      </span><span class="s1">ITERATOR_HAD_ERROR_KEY = true;</span><span class="s3">\n      </span><span class="s1">ITERATOR_ERROR_KEY = err;</span><span class="s3">\n    </span><span class="s1">} finally {</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">if (ITERATOR_ABRUPT_COMPLETION &amp;&amp; ITERATOR_KEY.return != null) {</span><span class="s3">\n          </span><span class="s1">await ITERATOR_KEY.return();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} finally {</span><span class="s3">\n        </span><span class="s1">if (ITERATOR_HAD_ERROR_KEY) {</span><span class="s3">\n          </span><span class="s1">throw ITERATOR_ERROR_KEY;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`);</span><span class="s3">\n\n</span><span class="s1">export default function (</span><span class="s3">\n  </span><span class="s1">path: NodePath&lt;t.ForOfStatement&gt;,</span><span class="s3">\n  </span><span class="s1">{ getAsyncIterator }: { getAsyncIterator: t.Identifier },</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">const { node, scope, parent } = path;</span><span class="s3">\n\n  </span><span class="s1">const stepKey = scope.generateUidIdentifier(</span><span class="s3">\&quot;</span><span class="s1">step</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">const stepValue = t.memberExpression(stepKey, t.identifier(</span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">const left = node.left;</span><span class="s3">\n  </span><span class="s1">let declar;</span><span class="s3">\n\n  </span><span class="s1">if (t.isIdentifier(left) || t.isPattern(left) || t.isMemberExpression(left)) {</span><span class="s3">\n    </span><span class="s1">// for await (i of test), for await ({ i } of test)</span><span class="s3">\n    </span><span class="s1">declar = t.expressionStatement(</span><span class="s3">\n      </span><span class="s1">t.assignmentExpression(</span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">, left, stepValue),</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">} else if (t.isVariableDeclaration(left)) {</span><span class="s3">\n    </span><span class="s1">// for await (let i of test)</span><span class="s3">\n    </span><span class="s1">declar = t.variableDeclaration(left.kind, [</span><span class="s3">\n      </span><span class="s1">t.variableDeclarator(left.declarations[0].id, stepValue),</span><span class="s3">\n    </span><span class="s1">]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">let template = buildForAwait({</span><span class="s3">\n    </span><span class="s1">ITERATOR_HAD_ERROR_KEY: scope.generateUidIdentifier(</span><span class="s3">\&quot;</span><span class="s1">didIteratorError</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">ITERATOR_ABRUPT_COMPLETION: scope.generateUidIdentifier(</span><span class="s3">\n      \&quot;</span><span class="s1">iteratorAbruptCompletion</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">ITERATOR_ERROR_KEY: scope.generateUidIdentifier(</span><span class="s3">\&quot;</span><span class="s1">iteratorError</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">ITERATOR_KEY: scope.generateUidIdentifier(</span><span class="s3">\&quot;</span><span class="s1">iterator</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">GET_ITERATOR: getAsyncIterator,</span><span class="s3">\n    </span><span class="s1">OBJECT: node.right,</span><span class="s3">\n    </span><span class="s1">STEP_KEY: t.cloneNode(stepKey),</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n\n  </span><span class="s1">// remove async function wrapper</span><span class="s3">\n  </span><span class="s1">// @ts-expect-error todo(flow-&gt;ts) improve type annotation for buildForAwait</span><span class="s3">\n  </span><span class="s1">template = template.body.body as t.Statement[];</span><span class="s3">\n\n  </span><span class="s1">const isLabeledParent = t.isLabeledStatement(parent);</span><span class="s3">\n  </span><span class="s1">const tryBody = (template[3] as t.TryStatement).block.body;</span><span class="s3">\n  </span><span class="s1">const loop = tryBody[0] as t.ForStatement;</span><span class="s3">\n\n  </span><span class="s1">if (isLabeledParent) {</span><span class="s3">\n    </span><span class="s1">tryBody[0] = t.labeledStatement(parent.label, loop);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">replaceParent: isLabeledParent,</span><span class="s3">\n    </span><span class="s1">node: template,</span><span class="s3">\n    </span><span class="s1">declar,</span><span class="s3">\n    </span><span class="s1">loop,</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAGA,MAAMC,aAAa,GAAG,IAAAC,cAAQ,EAAE;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC;AAEa,SAAAC,SACbC,IAAgC,EAChC;EAAEC;AAAqD,CAAC,EACxD;EACA,MAAM;IAAEC,IAAI;IAAEC,KAAK;IAAEC;EAAO,CAAC,GAAGJ,IAAI;EAEpC,MAAMK,OAAO,GAAGF,KAAK,CAACG,qBAAqB,CAAC,MAAM,CAAC;EACnD,MAAMC,SAAS,GAAGC,WAAC,CAACC,gBAAgB,CAACJ,OAAO,EAAEG,WAAC,CAACE,UAAU,CAAC,OAAO,CAAC,CAAC;EACpE,MAAMC,IAAI,GAAGT,IAAI,CAACS,IAAI;EACtB,IAAIC,MAAM;EAEV,IAAIJ,WAAC,CAACK,YAAY,CAACF,IAAI,CAAC,IAAIH,WAAC,CAACM,SAAS,CAACH,IAAI,CAAC,IAAIH,WAAC,CAACO,kBAAkB,CAACJ,IAAI,CAAC,EAAE;IAE3EC,MAAM,GAAGJ,WAAC,CAACQ,mBAAmB,CAC5BR,WAAC,CAACS,oBAAoB,CAAC,GAAG,EAAEN,IAAI,EAAEJ,SAAS,CAC7C,CAAC;EACH,CAAC,MAAM,IAAIC,WAAC,CAACU,qBAAqB,CAACP,IAAI,CAAC,EAAE;IAExCC,MAAM,GAAGJ,WAAC,CAACW,mBAAmB,CAACR,IAAI,CAACS,IAAI,EAAE,CACxCZ,WAAC,CAACa,kBAAkB,CAACV,IAAI,CAACW,YAAY,CAAC,CAAC,CAAC,CAACC,EAAE,EAAEhB,SAAS,CAAC,CACzD,CAAC;EACJ;EACA,IAAIT,QAAQ,GAAGD,aAAa,CAAC;IAC3B2B,sBAAsB,EAAErB,KAAK,CAACG,qBAAqB,CAAC,kBAAkB,CAAC;IACvEmB,0BAA0B,EAAEtB,KAAK,CAACG,qBAAqB,CACrD,0BACF,CAAC;IACDoB,kBAAkB,EAAEvB,KAAK,CAACG,qBAAqB,CAAC,eAAe,CAAC;IAChEqB,YAAY,EAAExB,KAAK,CAACG,qBAAqB,CAAC,UAAU,CAAC;IACrDsB,YAAY,EAAE3B,gBAAgB;IAC9B4B,MAAM,EAAE3B,IAAI,CAAC4B,KAAK;IAClBC,QAAQ,EAAEvB,WAAC,CAACwB,SAAS,CAAC3B,OAAO;EAC/B,CAAC,CAAC;EAIFP,QAAQ,GAAGA,QAAQ,CAACmC,IAAI,CAACA,IAAqB;EAE9C,MAAMC,eAAe,GAAG1B,WAAC,CAAC2B,kBAAkB,CAAC/B,MAAM,CAAC;EACpD,MAAMgC,OAAO,GAAItC,QAAQ,CAAC,CAAC,CAAC,CAAoBuC,KAAK,CAACJ,IAAI;EAC1D,MAAMK,IAAI,GAAGF,OAAO,CAAC,CAAC,CAAmB;EAEzC,IAAIF,eAAe,EAAE;IACnBE,OAAO,CAAC,CAAC,CAAC,GAAG5B,WAAC,CAAC+B,gBAAgB,CAACnC,MAAM,CAACoC,KAAK,EAAEF,IAAI,CAAC;EACrD;EAEA,OAAO;IACLG,aAAa,EAAEP,eAAe;IAC9BhC,IAAI,EAAEJ,QAAQ;IACdc,MAAM;IACN0B;EACF,CAAC;AACH&quot;</span><span class="s0">}</span></pre>
</body>
</html>
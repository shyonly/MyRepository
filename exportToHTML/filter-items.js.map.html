<html>
<head>
<title>filter-items.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
filter-items.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;_semver&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;_plugins&quot;</span><span class="s0">,</span><span class="s1">&quot;_utils&quot;</span><span class="s0">,</span><span class="s1">&quot;targetsSupported&quot;</span><span class="s0">,</span><span class="s1">&quot;target&quot;</span><span class="s0">,</span><span class="s1">&quot;support&quot;</span><span class="s0">,</span><span class="s1">&quot;targetEnvironments&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;keys&quot;</span><span class="s0">,</span><span class="s1">&quot;length&quot;</span><span class="s0">,</span><span class="s1">&quot;unsupportedEnvironments&quot;</span><span class="s0">,</span><span class="s1">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">&quot;environment&quot;</span><span class="s0">,</span><span class="s1">&quot;lowestImplementedVersion&quot;</span><span class="s0">,</span><span class="s1">&quot;getLowestImplementedVersion&quot;</span><span class="s0">,</span><span class="s1">&quot;lowestTargetedVersion&quot;</span><span class="s0">,</span><span class="s1">&quot;isUnreleasedVersion&quot;</span><span class="s0">,</span><span class="s1">&quot;semver&quot;</span><span class="s0">,</span><span class="s1">&quot;valid&quot;</span><span class="s0">,</span><span class="s1">&quot;toString&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;gt&quot;</span><span class="s0">,</span><span class="s1">&quot;semverify&quot;</span><span class="s0">,</span><span class="s1">&quot;isRequired&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;targets&quot;</span><span class="s0">,</span><span class="s1">&quot;compatData&quot;</span><span class="s0">,</span><span class="s1">&quot;pluginsCompatData&quot;</span><span class="s0">,</span><span class="s1">&quot;includes&quot;</span><span class="s0">,</span><span class="s1">&quot;excludes&quot;</span><span class="s0">,</span><span class="s1">&quot;has&quot;</span><span class="s0">,</span><span class="s1">&quot;filterItems&quot;</span><span class="s0">,</span><span class="s1">&quot;list&quot;</span><span class="s0">,</span><span class="s1">&quot;defaultIncludes&quot;</span><span class="s0">,</span><span class="s1">&quot;defaultExcludes&quot;</span><span class="s0">,</span><span class="s1">&quot;pluginSyntaxMap&quot;</span><span class="s0">,</span><span class="s1">&quot;result&quot;</span><span class="s0">,</span><span class="s1">&quot;Set&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;item&quot;</span><span class="s0">,</span><span class="s1">&quot;add&quot;</span><span class="s0">,</span><span class="s1">&quot;shippedProposalsSyntax&quot;</span><span class="s0">,</span><span class="s1">&quot;get&quot;</span><span class="s0">,</span><span class="s1">&quot;forEach&quot;</span><span class="s0">,</span><span class="s1">&quot;delete&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../src/filter-items.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import semver from </span><span class="s3">\&quot;</span><span class="s1">semver</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">import pluginsCompatData from </span><span class="s3">\&quot;</span><span class="s1">@babel/compat-data/plugins</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">import type { Targets } from </span><span class="s3">\&quot;</span><span class="s1">./types.ts</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n  </span><span class="s1">getLowestImplementedVersion,</span><span class="s3">\n  </span><span class="s1">isUnreleasedVersion,</span><span class="s3">\n  </span><span class="s1">semverify,</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./utils.ts</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export function targetsSupported(target: Targets, support: Targets) {</span><span class="s3">\n  </span><span class="s1">const targetEnvironments = Object.keys(target) as Array&lt;keyof Targets&gt;;</span><span class="s3">\n\n  </span><span class="s1">if (targetEnvironments.length === 0) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">const unsupportedEnvironments = targetEnvironments.filter(environment =&gt; {</span><span class="s3">\n    </span><span class="s1">const lowestImplementedVersion = getLowestImplementedVersion(</span><span class="s3">\n      </span><span class="s1">support,</span><span class="s3">\n      </span><span class="s1">environment,</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">// Feature is not implemented in that environment</span><span class="s3">\n    </span><span class="s1">if (!lowestImplementedVersion) {</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">const lowestTargetedVersion = target[environment];</span><span class="s3">\n\n    </span><span class="s1">// If targets has unreleased value as a lowest version, then don't require a plugin.</span><span class="s3">\n    </span><span class="s1">if (isUnreleasedVersion(lowestTargetedVersion, environment)) {</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Include plugin if it is supported in the unreleased environment, which wasn't specified in targets</span><span class="s3">\n    </span><span class="s1">if (isUnreleasedVersion(lowestImplementedVersion, environment)) {</span><span class="s3">\n      </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (!semver.valid(lowestTargetedVersion.toString())) {</span><span class="s3">\n      </span><span class="s1">throw new Error(</span><span class="s3">\n        </span><span class="s1">`Invalid version passed for target </span><span class="s3">\&quot;</span><span class="s1">${environment}</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">${lowestTargetedVersion}</span><span class="s3">\&quot;</span><span class="s1">. ` +</span><span class="s3">\n          \&quot;</span><span class="s1">Versions must be in semver format (major.minor.patch)</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return semver.gt(</span><span class="s3">\n      </span><span class="s1">semverify(lowestImplementedVersion),</span><span class="s3">\n      </span><span class="s1">lowestTargetedVersion.toString(),</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n\n  </span><span class="s1">return unsupportedEnvironments.length === 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function isRequired(</span><span class="s3">\n  </span><span class="s1">name: string,</span><span class="s3">\n  </span><span class="s1">targets: Targets,</span><span class="s3">\n  </span><span class="s1">{</span><span class="s3">\n    </span><span class="s1">compatData = pluginsCompatData,</span><span class="s3">\n    </span><span class="s1">includes,</span><span class="s3">\n    </span><span class="s1">excludes,</span><span class="s3">\n  </span><span class="s1">}: {</span><span class="s3">\n    </span><span class="s1">compatData?: { [feature: string]: Targets };</span><span class="s3">\n    </span><span class="s1">includes?: Set&lt;string&gt;;</span><span class="s3">\n    </span><span class="s1">excludes?: Set&lt;string&gt;;</span><span class="s3">\n  </span><span class="s1">} = {},</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">if (excludes?.has(name)) return false;</span><span class="s3">\n  </span><span class="s1">if (includes?.has(name)) return true;</span><span class="s3">\n  </span><span class="s1">return !targetsSupported(targets, compatData[name]);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function filterItems(</span><span class="s3">\n  </span><span class="s1">list: { [feature: string]: Targets },</span><span class="s3">\n  </span><span class="s1">includes: Set&lt;string&gt;,</span><span class="s3">\n  </span><span class="s1">excludes: Set&lt;string&gt;,</span><span class="s3">\n  </span><span class="s1">targets: Targets,</span><span class="s3">\n  </span><span class="s1">defaultIncludes: Array&lt;string&gt; | null,</span><span class="s3">\n  </span><span class="s1">defaultExcludes?: Array&lt;string&gt; | null,</span><span class="s3">\n  </span><span class="s1">pluginSyntaxMap?: Map&lt;string, string | null&gt;,</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n  </span><span class="s1">const result = new Set&lt;string&gt;();</span><span class="s3">\n  </span><span class="s1">const options = { compatData: list, includes, excludes };</span><span class="s3">\n\n  </span><span class="s1">for (const item in list) {</span><span class="s3">\n    </span><span class="s1">if (isRequired(item, targets, options)) {</span><span class="s3">\n      </span><span class="s1">result.add(item);</span><span class="s3">\n    </span><span class="s1">} else if (pluginSyntaxMap) {</span><span class="s3">\n      </span><span class="s1">const shippedProposalsSyntax = pluginSyntaxMap.get(item);</span><span class="s3">\n\n      </span><span class="s1">if (shippedProposalsSyntax) {</span><span class="s3">\n        </span><span class="s1">result.add(shippedProposalsSyntax);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">defaultIncludes?.forEach(item =&gt; !excludes.has(item) &amp;&amp; result.add(item));</span><span class="s3">\n  </span><span class="s1">defaultExcludes?.forEach(item =&gt; !includes.has(item) &amp;&amp; result.delete(item));</span><span class="s3">\n\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">}</span></pre>
</body>
</html>
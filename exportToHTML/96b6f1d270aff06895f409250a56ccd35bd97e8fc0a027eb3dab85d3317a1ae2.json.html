<html>
<head>
<title>96b6f1d270aff06895f409250a56ccd35bd97e8fc0a027eb3dab85d3317a1ae2.json</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #cf8e6d;}
.s3 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
96b6f1d270aff06895f409250a56ccd35bd97e8fc0a027eb3dab85d3317a1ae2.json</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;ast&quot;</span><span class="s0">:</span><span class="s2">null</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">:</span><span class="s1">&quot;import </span><span class="s2">\&quot;</span><span class="s1">core-js/modules/es.array.push.js</span><span class="s2">\&quot;</span><span class="s1">;</span><span class="s2">\n</span><span class="s1">export default {</span><span class="s2">\n  </span><span class="s1">name: </span><span class="s2">\&quot;</span><span class="s1">Password</span><span class="s2">\&quot;</span><span class="s1">,</span><span class="s2">\n  </span><span class="s1">data() {</span><span class="s2">\n    </span><span class="s1">const validatePassword = (rule, value, callback) =&gt; {</span><span class="s2">\n      </span><span class="s1">if (value === '') {</span><span class="s2">\n        </span><span class="s1">callback(new Error('请确认密码'));</span><span class="s2">\n      </span><span class="s1">} else if (value !== this.user.newPassword) {</span><span class="s2">\n        </span><span class="s1">callback(new Error('确认密码错误'));</span><span class="s2">\n      </span><span class="s1">} else {</span><span class="s2">\n        </span><span class="s1">callback();</span><span class="s2">\n      </span><span class="s1">}</span><span class="s2">\n    </span><span class="s1">};</span><span class="s2">\n    </span><span class="s1">return {</span><span class="s2">\n      </span><span class="s1">user: JSON.parse(localStorage.getItem('xm-user') || '{}'),</span><span class="s2">\n      </span><span class="s1">rules: {</span><span class="s2">\n        </span><span class="s1">password: [{</span><span class="s2">\n          </span><span class="s1">required: true,</span><span class="s2">\n          </span><span class="s1">message: '请输入原始密码',</span><span class="s2">\n          </span><span class="s1">trigger: 'blur'</span><span class="s2">\n        </span><span class="s1">}],</span><span class="s2">\n        </span><span class="s1">newPassword: [{</span><span class="s2">\n          </span><span class="s1">required: true,</span><span class="s2">\n          </span><span class="s1">message: '请输入新密码',</span><span class="s2">\n          </span><span class="s1">trigger: 'blur'</span><span class="s2">\n        </span><span class="s1">}],</span><span class="s2">\n        </span><span class="s1">confirmPassword: [{</span><span class="s2">\n          </span><span class="s1">validator: validatePassword,</span><span class="s2">\n          </span><span class="s1">required: true,</span><span class="s2">\n          </span><span class="s1">trigger: 'blur'</span><span class="s2">\n        </span><span class="s1">}]</span><span class="s2">\n      </span><span class="s1">}</span><span class="s2">\n    </span><span class="s1">};</span><span class="s2">\n  </span><span class="s1">},</span><span class="s2">\n  </span><span class="s1">created() {},</span><span class="s2">\n  </span><span class="s1">methods: {</span><span class="s2">\n    </span><span class="s1">update() {</span><span class="s2">\n      </span><span class="s1">this.$refs.formRef.validate(valid =&gt; {</span><span class="s2">\n        </span><span class="s1">if (valid) {</span><span class="s2">\n          </span><span class="s1">this.$request.put('/updatePassword', this.user).then(res =&gt; {</span><span class="s2">\n            </span><span class="s1">if (res.code === '200') {</span><span class="s2">\n              </span><span class="s1">// 成功更新</span><span class="s2">\n              </span><span class="s1">localStorage.removeItem('xm-user'); // 清除缓存的用户信息</span><span class="s2">\n              </span><span class="s1">this.$message.success('修改密码成功');</span><span class="s2">\n              </span><span class="s1">this.$router.push('/login');</span><span class="s2">\n            </span><span class="s1">} else {</span><span class="s2">\n              </span><span class="s1">this.$message.error(res.msg);</span><span class="s2">\n            </span><span class="s1">}</span><span class="s2">\n          </span><span class="s1">});</span><span class="s2">\n        </span><span class="s1">}</span><span class="s2">\n      </span><span class="s1">});</span><span class="s2">\n    </span><span class="s1">}</span><span class="s2">\n  </span><span class="s1">}</span><span class="s2">\n</span><span class="s1">};&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">:{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s3">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;data&quot;</span><span class="s0">,</span><span class="s1">&quot;validatePassword&quot;</span><span class="s0">,</span><span class="s1">&quot;rule&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;callback&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;user&quot;</span><span class="s0">,</span><span class="s1">&quot;newPassword&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;localStorage&quot;</span><span class="s0">,</span><span class="s1">&quot;getItem&quot;</span><span class="s0">,</span><span class="s1">&quot;rules&quot;</span><span class="s0">,</span><span class="s1">&quot;password&quot;</span><span class="s0">,</span><span class="s1">&quot;required&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;trigger&quot;</span><span class="s0">,</span><span class="s1">&quot;confirmPassword&quot;</span><span class="s0">,</span><span class="s1">&quot;validator&quot;</span><span class="s0">,</span><span class="s1">&quot;created&quot;</span><span class="s0">,</span><span class="s1">&quot;methods&quot;</span><span class="s0">,</span><span class="s1">&quot;update&quot;</span><span class="s0">,</span><span class="s1">&quot;$refs&quot;</span><span class="s0">,</span><span class="s1">&quot;formRef&quot;</span><span class="s0">,</span><span class="s1">&quot;validate&quot;</span><span class="s0">,</span><span class="s1">&quot;valid&quot;</span><span class="s0">,</span><span class="s1">&quot;$request&quot;</span><span class="s0">,</span><span class="s1">&quot;put&quot;</span><span class="s0">,</span><span class="s1">&quot;then&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">,</span><span class="s1">&quot;removeItem&quot;</span><span class="s0">,</span><span class="s1">&quot;$message&quot;</span><span class="s0">,</span><span class="s1">&quot;success&quot;</span><span class="s0">,</span><span class="s1">&quot;$router&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;msg&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;src/views/manager/Password.vue&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;&lt;template&gt;</span><span class="s2">\r\n  </span><span class="s1">&lt;div&gt;</span><span class="s2">\r\n    </span><span class="s1">&lt;el-card style=</span><span class="s2">\&quot;</span><span class="s1">width: 50%</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;el-form ref=</span><span class="s2">\&quot;</span><span class="s1">formRef</span><span class="s2">\&quot; </span><span class="s1">:model=</span><span class="s2">\&quot;</span><span class="s1">user</span><span class="s2">\&quot; </span><span class="s1">:rules=</span><span class="s2">\&quot;</span><span class="s1">rules</span><span class="s2">\&quot; </span><span class="s1">label-width=</span><span class="s2">\&quot;</span><span class="s1">100px</span><span class="s2">\&quot; </span><span class="s1">style=</span><span class="s2">\&quot;</span><span class="s1">padding-right: 50px</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-form-item label=</span><span class="s2">\&quot;</span><span class="s1">原始密码</span><span class="s2">\&quot; </span><span class="s1">prop=</span><span class="s2">\&quot;</span><span class="s1">password</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;el-input show-password v-model=</span><span class="s2">\&quot;</span><span class="s1">user.password</span><span class="s2">\&quot; </span><span class="s1">placeholder=</span><span class="s2">\&quot;</span><span class="s1">原始密码</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/el-input&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/el-form-item&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-form-item label=</span><span class="s2">\&quot;</span><span class="s1">新密码</span><span class="s2">\&quot; </span><span class="s1">prop=</span><span class="s2">\&quot;</span><span class="s1">newPassword</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;el-input show-password v-model=</span><span class="s2">\&quot;</span><span class="s1">user.newPassword</span><span class="s2">\&quot; </span><span class="s1">placeholder=</span><span class="s2">\&quot;</span><span class="s1">新密码</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/el-input&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/el-form-item&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-form-item label=</span><span class="s2">\&quot;</span><span class="s1">确认新密码</span><span class="s2">\&quot; </span><span class="s1">prop=</span><span class="s2">\&quot;</span><span class="s1">confirmPassword</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;el-input show-password v-model=</span><span class="s2">\&quot;</span><span class="s1">user.confirmPassword</span><span class="s2">\&quot; </span><span class="s1">placeholder=</span><span class="s2">\&quot;</span><span class="s1">确认密码</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/el-input&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/el-form-item&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;div style=</span><span class="s2">\&quot;</span><span class="s1">text-align: center; margin-bottom: 20px</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;el-button type=</span><span class="s2">\&quot;</span><span class="s1">primary</span><span class="s2">\&quot; </span><span class="s1">@click=</span><span class="s2">\&quot;</span><span class="s1">update</span><span class="s2">\&quot;</span><span class="s1">&gt;确认修改&lt;/el-button&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/div&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;/el-form&gt;</span><span class="s2">\r\n    </span><span class="s1">&lt;/el-card&gt;</span><span class="s2">\r\n  </span><span class="s1">&lt;/div&gt;</span><span class="s2">\r\n</span><span class="s1">&lt;/template&gt;</span><span class="s2">\r\n\r\n</span><span class="s1">&lt;script&gt;</span><span class="s2">\r\n</span><span class="s1">export default {</span><span class="s2">\r\n  </span><span class="s1">name: </span><span class="s2">\&quot;</span><span class="s1">Password</span><span class="s2">\&quot;</span><span class="s1">,</span><span class="s2">\r\n  </span><span class="s1">data() {</span><span class="s2">\r\n    </span><span class="s1">const validatePassword = (rule, value, callback) =&gt; {</span><span class="s2">\r\n      </span><span class="s1">if (value === '') {</span><span class="s2">\r\n        </span><span class="s1">callback(new Error('请确认密码'))</span><span class="s2">\r\n      </span><span class="s1">} else if (value !== this.user.newPassword) {</span><span class="s2">\r\n        </span><span class="s1">callback(new Error('确认密码错误'))</span><span class="s2">\r\n      </span><span class="s1">} else {</span><span class="s2">\r\n        </span><span class="s1">callback()</span><span class="s2">\r\n      </span><span class="s1">}</span><span class="s2">\r\n    </span><span class="s1">}</span><span class="s2">\r\n\r\n    </span><span class="s1">return {</span><span class="s2">\r\n      </span><span class="s1">user: JSON.parse(localStorage.getItem('xm-user') || '{}'),</span><span class="s2">\r\n      </span><span class="s1">rules: {</span><span class="s2">\r\n        </span><span class="s1">password: [</span><span class="s2">\r\n          </span><span class="s1">{ required: true, message: '请输入原始密码', trigger: 'blur' },</span><span class="s2">\r\n        </span><span class="s1">],</span><span class="s2">\r\n        </span><span class="s1">newPassword: [</span><span class="s2">\r\n          </span><span class="s1">{ required: true, message: '请输入新密码', trigger: 'blur' },</span><span class="s2">\r\n        </span><span class="s1">],</span><span class="s2">\r\n        </span><span class="s1">confirmPassword: [</span><span class="s2">\r\n          </span><span class="s1">{ validator: validatePassword, required: true, trigger: 'blur' },</span><span class="s2">\r\n        </span><span class="s1">],</span><span class="s2">\r\n      </span><span class="s1">}</span><span class="s2">\r\n    </span><span class="s1">}</span><span class="s2">\r\n  </span><span class="s1">},</span><span class="s2">\r\n  </span><span class="s1">created() {</span><span class="s2">\r\n\r\n  </span><span class="s1">},</span><span class="s2">\r\n  </span><span class="s1">methods: {</span><span class="s2">\r\n    </span><span class="s1">update() {</span><span class="s2">\r\n      </span><span class="s1">this.$refs.formRef.validate((valid) =&gt; {</span><span class="s2">\r\n        </span><span class="s1">if (valid) {</span><span class="s2">\r\n          </span><span class="s1">this.$request.put('/updatePassword', this.user).then(res =&gt; {</span><span class="s2">\r\n            </span><span class="s1">if (res.code === '200') {</span><span class="s2">\r\n              </span><span class="s1">// 成功更新</span><span class="s2">\r\n              </span><span class="s1">localStorage.removeItem('xm-user')   // 清除缓存的用户信息</span><span class="s2">\r\n              </span><span class="s1">this.$message.success('修改密码成功')</span><span class="s2">\r\n              </span><span class="s1">this.$router.push('/login')</span><span class="s2">\r\n            </span><span class="s1">} else {</span><span class="s2">\r\n              </span><span class="s1">this.$message.error(res.msg)</span><span class="s2">\r\n            </span><span class="s1">}</span><span class="s2">\r\n          </span><span class="s1">})</span><span class="s2">\r\n        </span><span class="s1">}</span><span class="s2">\r\n      </span><span class="s1">})</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n  </span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">&lt;/script&gt;</span><span class="s2">\r\n\r\n</span><span class="s1">&lt;style scoped&gt;</span><span class="s2">\r\n</span><span class="s1">/deep/.el-form-item__label {</span><span class="s2">\r\n  </span><span class="s1">font-weight: bold;</span><span class="s2">\r\n</span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">&lt;/style&gt;&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;AAsBA;EACAA,IAAA;EACAC,KAAA;IACA,MAAAC,gBAAA,GAAAA,CAAAC,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,IAAAD,KAAA;QACAC,QAAA,KAAAC,KAAA;MACA,WAAAF,KAAA,UAAAG,IAAA,CAAAC,WAAA;QACAH,QAAA,KAAAC,KAAA;MACA;QACAD,QAAA;MACA;IACA;IAEA;MACAE,IAAA,EAAAE,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,KAAA;QACAC,QAAA,GACA;UAAAC,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAT,WAAA,GACA;UAAAO,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAC,eAAA,GACA;UAAAC,SAAA,EAAAjB,gBAAA;UAAAa,QAAA;UAAAE,OAAA;QAAA;MAEA;IACA;EACA;EACAG,QAAA,GAEA;EACAC,OAAA;IACAC,OAAA;MACA,KAAAC,KAAA,CAAAC,OAAA,CAAAC,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,KAAAC,QAAA,CAAAC,GAAA,yBAAArB,IAAA,EAAAsB,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAAC,IAAA;cACA;cACApB,YAAA,CAAAqB,UAAA;cACA,KAAAC,QAAA,CAAAC,OAAA;cACA,KAAAC,OAAA,CAAAC,IAAA;YACA;cACA,KAAAH,QAAA,CAAAI,KAAA,CAAAP,GAAA,CAAAQ,GAAA;YACA;UACA;QACA;MACA;IACA;EACA;AACA&quot;</span><span class="s0">},</span><span class="s1">&quot;metadata&quot;</span><span class="s0">:{},</span><span class="s1">&quot;sourceType&quot;</span><span class="s0">:</span><span class="s1">&quot;module&quot;</span><span class="s0">,</span><span class="s1">&quot;externalDependencies&quot;</span><span class="s0">:[]}</span></pre>
</body>
</html>
<html>
<head>
<title>Manager.vue</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #d5b778;}
.s1 { color: #bcbec4;}
.s2 { color: #bababa;}
.s3 { color: #6aab73;}
.s4 { color: #7a7e85;}
.s5 { color: #cf8e6d;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
Manager.vue</font>
</center></td></tr></table>
<pre><span class="s0">&lt;template&gt;</span>
  <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;manager-container&quot;</span><span class="s0">&gt;</span>
    <span class="s4">&lt;!--  头部  --&gt;</span>
    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;manager-header&quot;</span><span class="s0">&gt;</span>
      <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;manager-header-left&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;img </span><span class="s2">src</span><span class="s3">=&quot;@/assets/imgs/logo.png&quot; </span><span class="s0">/&gt;</span>
        <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;title&quot;</span><span class="s0">&gt;</span><span class="s1">后台管理系统</span><span class="s0">&lt;/div&gt;</span>
      <span class="s0">&lt;/div&gt;</span>

      <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;manager-header-center&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;el-breadcrumb </span><span class="s2">separator-class</span><span class="s3">=&quot;el-icon-arrow-right&quot;</span><span class="s0">&gt;</span>
          <span class="s0">&lt;el-breadcrumb-item </span><span class="s2">:to</span><span class="s3">=&quot;</span><span class="s1">{ path: </span><span class="s3">'/' </span><span class="s1">}</span><span class="s3">&quot;</span><span class="s0">&gt;</span><span class="s1">首页</span><span class="s0">&lt;/el-breadcrumb-item&gt;</span>
          <span class="s0">&lt;el-breadcrumb-item </span><span class="s2">:to</span><span class="s3">=&quot;</span><span class="s1">{ path: $route.path }</span><span class="s3">&quot;</span><span class="s0">&gt;</span><span class="s1">{{ $route.meta.name }}</span><span class="s0">&lt;/el-breadcrumb-item&gt;</span>
        <span class="s0">&lt;/el-breadcrumb&gt;</span>
      <span class="s0">&lt;/div&gt;</span>

      <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;manager-header-right&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;el-dropdown </span><span class="s2">placement</span><span class="s3">=&quot;bottom&quot;</span><span class="s0">&gt;</span>
          <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;avatar&quot;</span><span class="s0">&gt;</span>
            <span class="s0">&lt;img </span><span class="s2">:src</span><span class="s3">=&quot;</span><span class="s1">user.avatar || </span><span class="s3">'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png'&quot; </span><span class="s0">/&gt;</span>
            <span class="s0">&lt;div&gt;</span><span class="s1">{{ user.name ||  '管理员' }}</span><span class="s0">&lt;/div&gt;</span>
          <span class="s0">&lt;/div&gt;</span>
          <span class="s0">&lt;el-dropdown-menu </span><span class="s2">slot</span><span class="s3">=&quot;dropdown&quot;</span><span class="s0">&gt;</span>
            <span class="s0">&lt;el-dropdown-item </span><span class="s2">@click.native</span><span class="s3">=&quot;</span><span class="s1">goToPerson</span><span class="s3">&quot;</span><span class="s0">&gt;</span><span class="s1">个人信息</span><span class="s0">&lt;/el-dropdown-item&gt;</span>
            <span class="s0">&lt;el-dropdown-item </span><span class="s2">@click.native</span><span class="s3">=&quot;</span><span class="s1">$router.push(</span><span class="s3">'/password'</span><span class="s1">)</span><span class="s3">&quot;</span><span class="s0">&gt;</span><span class="s1">修改密码</span><span class="s0">&lt;/el-dropdown-item&gt;</span>
            <span class="s0">&lt;el-dropdown-item </span><span class="s2">@click.native</span><span class="s3">=&quot;</span><span class="s1">logout</span><span class="s3">&quot;</span><span class="s0">&gt;</span><span class="s1">退出登录</span><span class="s0">&lt;/el-dropdown-item&gt;</span>
          <span class="s0">&lt;/el-dropdown-menu&gt;</span>
        <span class="s0">&lt;/el-dropdown&gt;</span>
      <span class="s0">&lt;/div&gt;</span>
    <span class="s0">&lt;/div&gt;</span>

    <span class="s4">&lt;!--  主体  --&gt;</span>
    <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;manager-main&quot;</span><span class="s0">&gt;</span>
      <span class="s4">&lt;!--  侧边栏  --&gt;</span>
      <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;manager-main-left&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;el-menu </span><span class="s2">:default-openeds</span><span class="s3">=&quot;</span><span class="s1">[</span><span class="s3">'info'</span><span class="s1">, </span><span class="s3">'user'</span><span class="s1">]</span><span class="s3">&quot; </span><span class="s2">router style</span><span class="s3">=&quot;</span><span class="s2">border</span><span class="s1">: </span><span class="s3">none&quot; </span><span class="s2">:default-active</span><span class="s3">=&quot;</span><span class="s1">$route.path</span><span class="s3">&quot;</span><span class="s0">&gt;</span>
          <span class="s0">&lt;el-menu-item </span><span class="s2">index</span><span class="s3">=&quot;/home&quot;</span><span class="s0">&gt;</span>
            <span class="s0">&lt;i </span><span class="s2">class</span><span class="s3">=&quot;el-icon-s-home&quot;</span><span class="s0">&gt;&lt;/i&gt;</span>
            <span class="s0">&lt;span </span><span class="s2">slot</span><span class="s3">=&quot;title&quot;</span><span class="s0">&gt;</span><span class="s1">系统首页</span><span class="s0">&lt;/span&gt;</span>
          <span class="s0">&lt;/el-menu-item&gt;</span>
          <span class="s0">&lt;el-submenu </span><span class="s2">index</span><span class="s3">=&quot;info&quot;</span><span class="s0">&gt;</span>
            <span class="s0">&lt;template </span><span class="s2">slot</span><span class="s3">=&quot;title&quot;</span><span class="s0">&gt;</span>
              <span class="s0">&lt;i </span><span class="s2">class</span><span class="s3">=&quot;el-icon-menu&quot;</span><span class="s0">&gt;&lt;/i&gt;&lt;span&gt;</span><span class="s1">信息管理</span><span class="s0">&lt;/span&gt;</span>
            <span class="s0">&lt;/template&gt;</span>
            <span class="s0">&lt;el-menu-item </span><span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">user.role === </span><span class="s3">'ADMIN'&quot; </span><span class="s2">index</span><span class="s3">=&quot;/notice&quot;</span><span class="s0">&gt;</span><span class="s1">公告信息</span><span class="s0">&lt;/el-menu-item&gt;</span>
            <span class="s0">&lt;el-menu-item </span><span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">user.role === </span><span class="s3">'ADMIN'&quot; </span><span class="s2">index</span><span class="s3">=&quot;/type&quot;</span><span class="s0">&gt;</span><span class="s1">分类信息</span><span class="s0">&lt;/el-menu-item&gt;</span>
            <span class="s0">&lt;el-menu-item </span><span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">user.role === </span><span class="s3">'ADMIN'&quot; </span><span class="s2">index</span><span class="s3">=&quot;/business&quot;</span><span class="s0">&gt;</span><span class="s1">商家信息</span><span class="s0">&lt;/el-menu-item&gt;</span>
            <span class="s0">&lt;el-menu-item </span><span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">user.role === </span><span class="s3">'ADMIN'&quot; </span><span class="s2">index</span><span class="s3">=&quot;/user&quot;</span><span class="s0">&gt;</span><span class="s1">用户信息</span><span class="s0">&lt;/el-menu-item&gt;</span>
            <span class="s0">&lt;el-menu-item </span><span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">user.role === </span><span class="s3">'ADMIN'</span><span class="s1">||user.role === </span><span class="s3">'BUSINESS'&quot; </span><span class="s2">index</span><span class="s3">=&quot;/goods&quot;</span><span class="s0">&gt;</span><span class="s1">商品信息</span><span class="s0">&lt;/el-menu-item&gt;</span>
            <span class="s0">&lt;el-menu-item </span><span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">user.role === </span><span class="s3">'ADMIN'&quot; </span><span class="s2">index</span><span class="s3">=&quot;/orders&quot;</span><span class="s0">&gt;</span><span class="s1">订单管理</span><span class="s0">&lt;/el-menu-item&gt;</span>
            <span class="s0">&lt;el-menu-item </span><span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">user.role === </span><span class="s3">'ADMIN'&quot; </span><span class="s2">index</span><span class="s3">=&quot;/comment&quot;</span><span class="s0">&gt;</span><span class="s1">评论管理</span><span class="s0">&lt;/el-menu-item&gt;</span>
          <span class="s0">&lt;/el-submenu&gt;</span>

          <span class="s0">&lt;el-submenu </span><span class="s2">index</span><span class="s3">=&quot;user&quot; </span><span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">user.role === </span><span class="s3">'ADMIN'&quot; </span><span class="s0">&gt;</span>
            <span class="s0">&lt;template </span><span class="s2">slot</span><span class="s3">=&quot;title&quot;</span><span class="s0">&gt;</span>
              <span class="s0">&lt;i </span><span class="s2">class</span><span class="s3">=&quot;el-icon-menu&quot;</span><span class="s0">&gt;&lt;/i&gt;&lt;span&gt;</span><span class="s1">用户管理</span><span class="s0">&lt;/span&gt;</span>
            <span class="s0">&lt;/template&gt;</span>
            <span class="s0">&lt;el-menu-item </span><span class="s2">v-if</span><span class="s3">=&quot;</span><span class="s1">user.role === </span><span class="s3">'ADMIN'&quot; </span><span class="s2">index</span><span class="s3">=&quot;/admin&quot;</span><span class="s0">&gt;</span><span class="s1">管理员信息</span><span class="s0">&lt;/el-menu-item&gt;</span>
          <span class="s0">&lt;/el-submenu&gt;</span>
        <span class="s0">&lt;/el-menu&gt;</span>
      <span class="s0">&lt;/div&gt;</span>

      <span class="s4">&lt;!--  数据表格  --&gt;</span>
      <span class="s0">&lt;div </span><span class="s2">class</span><span class="s3">=&quot;manager-main-right&quot;</span><span class="s0">&gt;</span>
        <span class="s0">&lt;router-view </span><span class="s2">@update:user</span><span class="s3">=&quot;</span><span class="s1">updateUser</span><span class="s3">&quot; </span><span class="s0">/&gt;</span>
      <span class="s0">&lt;/div&gt;</span>
    <span class="s0">&lt;/div&gt;</span>

  <span class="s0">&lt;/div&gt;</span>
<span class="s0">&lt;/template&gt;</span>

<span class="s0">&lt;script&gt;</span>
<span class="s5">export default </span><span class="s1">{</span>
  <span class="s1">name: </span><span class="s3">&quot;Manager&quot;</span><span class="s1">,</span>
  <span class="s1">data() {</span>
    <span class="s5">return </span><span class="s1">{</span>
      <span class="s1">user: JSON.parse(localStorage.getItem(</span><span class="s3">'xm-user'</span><span class="s1">) || </span><span class="s3">'{}'</span><span class="s1">),</span>
    <span class="s1">}</span>
  <span class="s1">},</span>
  <span class="s1">created() {</span>
    <span class="s5">if </span><span class="s1">(!</span><span class="s5">this</span><span class="s1">.user.id) {</span>
      <span class="s5">this</span><span class="s1">.$router.push(</span><span class="s3">'/login'</span><span class="s1">)</span>
    <span class="s1">}</span>
  <span class="s1">},</span>
  <span class="s1">methods: {</span>
    <span class="s1">updateUser() {</span>
      <span class="s5">this</span><span class="s1">.user = JSON.parse(localStorage.getItem(</span><span class="s3">'xm-user'</span><span class="s1">) || </span><span class="s3">'{}'</span><span class="s1">)   </span><span class="s4">// 重新获取下用户的最新信息</span>
    <span class="s1">},</span>
    <span class="s1">goToPerson() {</span>
      <span class="s5">if </span><span class="s1">(</span><span class="s5">this</span><span class="s1">.user.role === </span><span class="s3">'ADMIN'</span><span class="s1">) {</span>
        <span class="s5">this</span><span class="s1">.$router.push(</span><span class="s3">'/adminPerson'</span><span class="s1">)</span>
      <span class="s1">}</span>
      <span class="s5">if</span><span class="s1">(</span><span class="s5">this</span><span class="s1">.user.role===</span><span class="s3">'BUSINESS'</span><span class="s1">){</span>
        <span class="s5">this</span><span class="s1">.$router.push(</span><span class="s3">'/businessPerson'</span><span class="s1">)</span>
      <span class="s1">}</span>
      <span class="s5">if</span><span class="s1">(</span><span class="s5">this</span><span class="s1">.user.role===</span><span class="s3">'USER'</span><span class="s1">){</span>
        <span class="s5">this</span><span class="s1">.$router.push(</span><span class="s3">'/userPerson'</span><span class="s1">)</span>
      <span class="s1">}</span>
    <span class="s1">},</span>
    <span class="s1">logout() {</span>
      <span class="s1">localStorage.removeItem(</span><span class="s3">'xm-user'</span><span class="s1">)</span>
      <span class="s5">this</span><span class="s1">.$router.push(</span><span class="s3">'/login'</span><span class="s1">)</span>
    <span class="s1">}</span>
  <span class="s1">}</span>
<span class="s1">}</span>
<span class="s0">&lt;/script&gt;</span>

<span class="s0">&lt;style </span><span class="s2">scoped</span><span class="s0">&gt;</span>
<span class="s5">@import </span><span class="s3">&quot;@/assets/css/manager.css&quot;</span><span class="s1">;</span>
<span class="s0">&lt;/style&gt;</span></pre>
</body>
</html>
<html>
<head>
<title>b34804b94c22662a44d31f06501ed2d851a8593044b21ba1017287f9621c8342.json</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #cf8e6d;}
.s3 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
b34804b94c22662a44d31f06501ed2d851a8593044b21ba1017287f9621c8342.json</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;ast&quot;</span><span class="s0">:</span><span class="s2">null</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">:</span><span class="s1">&quot;export default {</span><span class="s2">\n  </span><span class="s1">name: </span><span class="s2">\&quot;</span><span class="s1">AdminPerson</span><span class="s2">\&quot;</span><span class="s1">,</span><span class="s2">\n  </span><span class="s1">data() {</span><span class="s2">\n    </span><span class="s1">return {</span><span class="s2">\n      </span><span class="s1">user: JSON.parse(localStorage.getItem('xm-user') || '{}')</span><span class="s2">\n    </span><span class="s1">};</span><span class="s2">\n  </span><span class="s1">},</span><span class="s2">\n  </span><span class="s1">created() {},</span><span class="s2">\n  </span><span class="s1">methods: {</span><span class="s2">\n    </span><span class="s1">update() {</span><span class="s2">\n      </span><span class="s1">// 保存当前的用户信息到数据库</span><span class="s2">\n      </span><span class="s1">this.$request.put('/admin/update', this.user).then(res =&gt; {</span><span class="s2">\n        </span><span class="s1">if (res.code === '200') {</span><span class="s2">\n          </span><span class="s1">// 成功更新</span><span class="s2">\n          </span><span class="s1">this.$message.success('保存成功');</span><span class="s2">\n\n          </span><span class="s1">// 更新浏览器缓存里的用户信息</span><span class="s2">\n          </span><span class="s1">localStorage.setItem('xm-user', JSON.stringify(this.user));</span><span class="s2">\n\n          </span><span class="s1">// 触发父级的数据更新</span><span class="s2">\n          </span><span class="s1">this.$emit('update:user');</span><span class="s2">\n        </span><span class="s1">} else {</span><span class="s2">\n          </span><span class="s1">this.$message.error(res.msg);</span><span class="s2">\n        </span><span class="s1">}</span><span class="s2">\n      </span><span class="s1">});</span><span class="s2">\n    </span><span class="s1">},</span><span class="s2">\n    </span><span class="s1">handleAvatarSuccess(response, file, fileList) {</span><span class="s2">\n      </span><span class="s1">// 把user的头像属性换成上传的图片的链接</span><span class="s2">\n      </span><span class="s1">this.$set(this.user, 'avatar', response.data);</span><span class="s2">\n    </span><span class="s1">}</span><span class="s2">\n  </span><span class="s1">}</span><span class="s2">\n</span><span class="s1">};&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">:{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s3">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;data&quot;</span><span class="s0">,</span><span class="s1">&quot;user&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;localStorage&quot;</span><span class="s0">,</span><span class="s1">&quot;getItem&quot;</span><span class="s0">,</span><span class="s1">&quot;created&quot;</span><span class="s0">,</span><span class="s1">&quot;methods&quot;</span><span class="s0">,</span><span class="s1">&quot;update&quot;</span><span class="s0">,</span><span class="s1">&quot;$request&quot;</span><span class="s0">,</span><span class="s1">&quot;put&quot;</span><span class="s0">,</span><span class="s1">&quot;then&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">,</span><span class="s1">&quot;$message&quot;</span><span class="s0">,</span><span class="s1">&quot;success&quot;</span><span class="s0">,</span><span class="s1">&quot;setItem&quot;</span><span class="s0">,</span><span class="s1">&quot;stringify&quot;</span><span class="s0">,</span><span class="s1">&quot;$emit&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;msg&quot;</span><span class="s0">,</span><span class="s1">&quot;handleAvatarSuccess&quot;</span><span class="s0">,</span><span class="s1">&quot;response&quot;</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">,</span><span class="s1">&quot;fileList&quot;</span><span class="s0">,</span><span class="s1">&quot;$set&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;src/views/manager/AdminPerson.vue&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;&lt;template&gt;</span><span class="s2">\r\n  </span><span class="s1">&lt;div&gt;</span><span class="s2">\r\n    </span><span class="s1">&lt;el-card style=</span><span class="s2">\&quot;</span><span class="s1">width: 50%</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;el-form :model=</span><span class="s2">\&quot;</span><span class="s1">user</span><span class="s2">\&quot; </span><span class="s1">label-width=</span><span class="s2">\&quot;</span><span class="s1">100px</span><span class="s2">\&quot; </span><span class="s1">style=</span><span class="s2">\&quot;</span><span class="s1">padding-right: 50px</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;div style=</span><span class="s2">\&quot;</span><span class="s1">margin: 15px; text-align: center</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;el-upload</span><span class="s2">\r\n              </span><span class="s1">class=</span><span class="s2">\&quot;</span><span class="s1">avatar-uploader</span><span class="s2">\&quot;\r\n              </span><span class="s1">:action=</span><span class="s2">\&quot;</span><span class="s1">$baseUrl + '/files/upload'</span><span class="s2">\&quot;\r\n              </span><span class="s1">:show-file-list=</span><span class="s2">\&quot;</span><span class="s1">false</span><span class="s2">\&quot;\r\n              </span><span class="s1">:on-success=</span><span class="s2">\&quot;</span><span class="s1">handleAvatarSuccess</span><span class="s2">\&quot;\r\n          </span><span class="s1">&gt;</span><span class="s2">\r\n            </span><span class="s1">&lt;img v-if=</span><span class="s2">\&quot;</span><span class="s1">user.avatar</span><span class="s2">\&quot; </span><span class="s1">:src=</span><span class="s2">\&quot;</span><span class="s1">user.avatar</span><span class="s2">\&quot; </span><span class="s1">class=</span><span class="s2">\&quot;</span><span class="s1">avatar</span><span class="s2">\&quot; </span><span class="s1">/&gt;</span><span class="s2">\r\n            </span><span class="s1">&lt;i v-else class=</span><span class="s2">\&quot;</span><span class="s1">el-icon-plus avatar-uploader-icon</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/i&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;/el-upload&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/div&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-form-item label=</span><span class="s2">\&quot;</span><span class="s1">用户名</span><span class="s2">\&quot; </span><span class="s1">prop=</span><span class="s2">\&quot;</span><span class="s1">username</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;el-input v-model=</span><span class="s2">\&quot;</span><span class="s1">user.username</span><span class="s2">\&quot; </span><span class="s1">placeholder=</span><span class="s2">\&quot;</span><span class="s1">用户名</span><span class="s2">\&quot; </span><span class="s1">disabled&gt;&lt;/el-input&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/el-form-item&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-form-item label=</span><span class="s2">\&quot;</span><span class="s1">姓名</span><span class="s2">\&quot; </span><span class="s1">prop=</span><span class="s2">\&quot;</span><span class="s1">name</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;el-input v-model=</span><span class="s2">\&quot;</span><span class="s1">user.name</span><span class="s2">\&quot; </span><span class="s1">placeholder=</span><span class="s2">\&quot;</span><span class="s1">姓名</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/el-input&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/el-form-item&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-form-item label=</span><span class="s2">\&quot;</span><span class="s1">电话</span><span class="s2">\&quot; </span><span class="s1">prop=</span><span class="s2">\&quot;</span><span class="s1">phone</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;el-input v-model=</span><span class="s2">\&quot;</span><span class="s1">user.phone</span><span class="s2">\&quot; </span><span class="s1">placeholder=</span><span class="s2">\&quot;</span><span class="s1">电话</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/el-input&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/el-form-item&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;el-form-item label=</span><span class="s2">\&quot;</span><span class="s1">邮箱</span><span class="s2">\&quot; </span><span class="s1">prop=</span><span class="s2">\&quot;</span><span class="s1">email</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;el-input v-model=</span><span class="s2">\&quot;</span><span class="s1">user.email</span><span class="s2">\&quot; </span><span class="s1">placeholder=</span><span class="s2">\&quot;</span><span class="s1">邮箱</span><span class="s2">\&quot;</span><span class="s1">&gt;&lt;/el-input&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/el-form-item&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;div style=</span><span class="s2">\&quot;</span><span class="s1">text-align: center; margin-bottom: 20px</span><span class="s2">\&quot;</span><span class="s1">&gt;</span><span class="s2">\r\n          </span><span class="s1">&lt;el-button type=</span><span class="s2">\&quot;</span><span class="s1">primary</span><span class="s2">\&quot; </span><span class="s1">@click=</span><span class="s2">\&quot;</span><span class="s1">update</span><span class="s2">\&quot;</span><span class="s1">&gt;保 存&lt;/el-button&gt;</span><span class="s2">\r\n        </span><span class="s1">&lt;/div&gt;</span><span class="s2">\r\n      </span><span class="s1">&lt;/el-form&gt;</span><span class="s2">\r\n    </span><span class="s1">&lt;/el-card&gt;</span><span class="s2">\r\n  </span><span class="s1">&lt;/div&gt;</span><span class="s2">\r\n</span><span class="s1">&lt;/template&gt;</span><span class="s2">\r\n\r\n</span><span class="s1">&lt;script&gt;</span><span class="s2">\r\n</span><span class="s1">export default {</span><span class="s2">\r\n  </span><span class="s1">name: </span><span class="s2">\&quot;</span><span class="s1">AdminPerson</span><span class="s2">\&quot;</span><span class="s1">,</span><span class="s2">\r\n  </span><span class="s1">data() {</span><span class="s2">\r\n    </span><span class="s1">return {</span><span class="s2">\r\n      </span><span class="s1">user: JSON.parse(localStorage.getItem('xm-user') || '{}')</span><span class="s2">\r\n    </span><span class="s1">}</span><span class="s2">\r\n  </span><span class="s1">},</span><span class="s2">\r\n  </span><span class="s1">created() {</span><span class="s2">\r\n\r\n  </span><span class="s1">},</span><span class="s2">\r\n  </span><span class="s1">methods: {</span><span class="s2">\r\n    </span><span class="s1">update() {</span><span class="s2">\r\n      </span><span class="s1">// 保存当前的用户信息到数据库</span><span class="s2">\r\n      </span><span class="s1">this.$request.put('/admin/update', this.user).then(res =&gt; {</span><span class="s2">\r\n        </span><span class="s1">if (res.code === '200') {</span><span class="s2">\r\n          </span><span class="s1">// 成功更新</span><span class="s2">\r\n          </span><span class="s1">this.$message.success('保存成功')</span><span class="s2">\r\n\r\n          </span><span class="s1">// 更新浏览器缓存里的用户信息</span><span class="s2">\r\n          </span><span class="s1">localStorage.setItem('xm-user', JSON.stringify(this.user))</span><span class="s2">\r\n\r\n          </span><span class="s1">// 触发父级的数据更新</span><span class="s2">\r\n          </span><span class="s1">this.$emit('update:user')</span><span class="s2">\r\n        </span><span class="s1">} else {</span><span class="s2">\r\n          </span><span class="s1">this.$message.error(res.msg)</span><span class="s2">\r\n        </span><span class="s1">}</span><span class="s2">\r\n      </span><span class="s1">})</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n    </span><span class="s1">handleAvatarSuccess(response, file, fileList) {</span><span class="s2">\r\n      </span><span class="s1">// 把user的头像属性换成上传的图片的链接</span><span class="s2">\r\n      </span><span class="s1">this.$set(this.user, 'avatar', response.data)</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n  </span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">&lt;/script&gt;</span><span class="s2">\r\n\r\n</span><span class="s1">&lt;style scoped&gt;</span><span class="s2">\r\n</span><span class="s1">/deep/.el-form-item__label {</span><span class="s2">\r\n  </span><span class="s1">font-weight: bold;</span><span class="s2">\r\n</span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">/deep/.el-upload {</span><span class="s2">\r\n  </span><span class="s1">border-radius: 50%;</span><span class="s2">\r\n</span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">/deep/.avatar-uploader .el-upload {</span><span class="s2">\r\n  </span><span class="s1">border: 1px dashed #d9d9d9;</span><span class="s2">\r\n  </span><span class="s1">cursor: pointer;</span><span class="s2">\r\n  </span><span class="s1">position: relative;</span><span class="s2">\r\n  </span><span class="s1">overflow: hidden;</span><span class="s2">\r\n  </span><span class="s1">border-radius: 50%;</span><span class="s2">\r\n</span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">/deep/.avatar-uploader .el-upload:hover {</span><span class="s2">\r\n  </span><span class="s1">border-color: #409EFF;</span><span class="s2">\r\n</span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">.avatar-uploader-icon {</span><span class="s2">\r\n  </span><span class="s1">font-size: 28px;</span><span class="s2">\r\n  </span><span class="s1">color: #8c939d;</span><span class="s2">\r\n  </span><span class="s1">width: 120px;</span><span class="s2">\r\n  </span><span class="s1">height: 120px;</span><span class="s2">\r\n  </span><span class="s1">line-height: 120px;</span><span class="s2">\r\n  </span><span class="s1">text-align: center;</span><span class="s2">\r\n  </span><span class="s1">border-radius: 50%;</span><span class="s2">\r\n</span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">.avatar {</span><span class="s2">\r\n  </span><span class="s1">width: 120px;</span><span class="s2">\r\n  </span><span class="s1">height: 120px;</span><span class="s2">\r\n  </span><span class="s1">display: block;</span><span class="s2">\r\n  </span><span class="s1">border-radius: 50%;</span><span class="s2">\r\n</span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">&lt;/style&gt;&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;AAoCA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;EACA;EACAC,QAAA,GAEA;EACAC,OAAA;IACAC,OAAA;MACA;MACA,KAAAC,QAAA,CAAAC,GAAA,uBAAAT,IAAA,EAAAU,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA;UACA,KAAAC,QAAA,CAAAC,OAAA;;UAEA;UACAX,YAAA,CAAAY,OAAA,YAAAd,IAAA,CAAAe,SAAA,MAAAhB,IAAA;;UAEA;UACA,KAAAiB,KAAA;QACA;UACA,KAAAJ,QAAA,CAAAK,KAAA,CAAAP,GAAA,CAAAQ,GAAA;QACA;MACA;IACA;IACAC,oBAAAC,QAAA,EAAAC,IAAA,EAAAC,QAAA;MACA;MACA,KAAAC,IAAA,MAAAxB,IAAA,YAAAqB,QAAA,CAAAtB,IAAA;IACA;EACA;AACA&quot;</span><span class="s0">},</span><span class="s1">&quot;metadata&quot;</span><span class="s0">:{},</span><span class="s1">&quot;sourceType&quot;</span><span class="s0">:</span><span class="s1">&quot;module&quot;</span><span class="s0">,</span><span class="s1">&quot;externalDependencies&quot;</span><span class="s0">:[]}</span></pre>
</body>
</html>
<html>
<head>
<title>uri.all.min.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #5f826b; font-style: italic;}
.s1 { color: #67a37c; font-style: italic;}
.s2 { color: #bcbec4;}
.s3 { color: #bcbec4;}
.s4 { color: #cf8e6d;}
.s5 { color: #6aab73;}
.s6 { color: #2aacb8;}
.s7 { color: #42c3d4;}
.s8 { color: #7a7e85;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
uri.all.min.js</font>
</center></td></tr></table>
<pre><span class="s0">/** </span><span class="s1">@license </span><span class="s0">URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */</span>
<span class="s3">!</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s5">&quot;object&quot;</span><span class="s3">==</span><span class="s4">typeof </span><span class="s2">exports</span><span class="s3">&amp;&amp;</span><span class="s5">&quot;undefined&quot;</span><span class="s3">!=</span><span class="s4">typeof </span><span class="s2">module</span><span class="s3">?</span><span class="s2">r</span><span class="s3">(</span><span class="s2">exports</span><span class="s3">):</span><span class="s5">&quot;function&quot;</span><span class="s3">==</span><span class="s4">typeof </span><span class="s2">define</span><span class="s3">&amp;&amp;</span><span class="s2">define</span><span class="s3">.</span><span class="s2">amd</span><span class="s3">?</span><span class="s2">define</span><span class="s3">([</span><span class="s5">&quot;exports&quot;</span><span class="s3">],</span><span class="s2">r</span><span class="s3">):</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">URI</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">URI</span><span class="s3">||{})}(</span><span class="s4">this</span><span class="s3">,</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s5">&quot;use strict&quot;</span><span class="s3">;</span><span class="s4">function </span><span class="s2">r</span><span class="s3">(){</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">e</span><span class="s3">=</span><span class="s2">arguments</span><span class="s3">.</span><span class="s2">length</span><span class="s3">,</span><span class="s2">r</span><span class="s3">=</span><span class="s2">Array</span><span class="s3">(</span><span class="s2">e</span><span class="s3">),</span><span class="s2">n</span><span class="s3">=</span><span class="s6">0</span><span class="s3">;</span><span class="s2">n</span><span class="s3">&lt;</span><span class="s2">e</span><span class="s3">;</span><span class="s2">n</span><span class="s3">++)</span><span class="s2">r</span><span class="s3">[</span><span class="s2">n</span><span class="s3">]=</span><span class="s2">arguments</span><span class="s3">[</span><span class="s2">n</span><span class="s3">];</span><span class="s4">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">length</span><span class="s3">&gt;</span><span class="s6">1</span><span class="s3">){</span><span class="s2">r</span><span class="s3">[</span><span class="s6">0</span><span class="s3">]=</span><span class="s2">r</span><span class="s3">[</span><span class="s6">0</span><span class="s3">].</span><span class="s2">slice</span><span class="s3">(</span><span class="s6">0</span><span class="s3">,-</span><span class="s6">1</span><span class="s3">);</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">t</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">length</span><span class="s3">-</span><span class="s6">1</span><span class="s3">,</span><span class="s2">o</span><span class="s3">=</span><span class="s6">1</span><span class="s3">;</span><span class="s2">o</span><span class="s3">&lt;</span><span class="s2">t</span><span class="s3">;++</span><span class="s2">o</span><span class="s3">)</span><span class="s2">r</span><span class="s3">[</span><span class="s2">o</span><span class="s3">]=</span><span class="s2">r</span><span class="s3">[</span><span class="s2">o</span><span class="s3">].</span><span class="s2">slice</span><span class="s3">(</span><span class="s6">1</span><span class="s3">,-</span><span class="s6">1</span><span class="s3">);</span><span class="s4">return </span><span class="s2">r</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]=</span><span class="s2">r</span><span class="s3">[</span><span class="s2">t</span><span class="s3">].</span><span class="s2">slice</span><span class="s3">(</span><span class="s6">1</span><span class="s3">),</span><span class="s2">r</span><span class="s3">.</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;&quot;</span><span class="s3">)}</span><span class="s4">return </span><span class="s2">r</span><span class="s3">[</span><span class="s6">0</span><span class="s3">]}</span><span class="s4">function </span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">return</span><span class="s5">&quot;(?:&quot;</span><span class="s3">+</span><span class="s2">e</span><span class="s3">+</span><span class="s5">&quot;)&quot;</span><span class="s3">}</span><span class="s4">function </span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">return </span><span class="s2">e</span><span class="s3">===</span><span class="s2">undefined</span><span class="s3">?</span><span class="s5">&quot;undefined&quot;</span><span class="s3">:</span><span class="s4">null</span><span class="s3">===</span><span class="s2">e</span><span class="s3">?</span><span class="s5">&quot;null&quot;</span><span class="s3">:</span><span class="s2">Object</span><span class="s3">.</span><span class="s2">prototype</span><span class="s3">.</span><span class="s2">toString</span><span class="s3">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s3">).</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot; &quot;</span><span class="s3">).</span><span class="s2">pop</span><span class="s3">().</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;]&quot;</span><span class="s3">).</span><span class="s2">shift</span><span class="s3">().</span><span class="s2">toLowerCase</span><span class="s3">()}</span><span class="s4">function </span><span class="s2">o</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">return </span><span class="s2">e</span><span class="s3">.</span><span class="s2">toUpperCase</span><span class="s3">()}</span><span class="s4">function </span><span class="s2">a</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">return </span><span class="s2">e</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">&amp;&amp;</span><span class="s4">null</span><span class="s3">!==</span><span class="s2">e</span><span class="s3">?</span><span class="s2">e </span><span class="s4">instanceof </span><span class="s2">Array</span><span class="s3">?</span><span class="s2">e</span><span class="s3">:</span><span class="s5">&quot;number&quot;</span><span class="s3">!=</span><span class="s4">typeof </span><span class="s2">e</span><span class="s3">.</span><span class="s2">length</span><span class="s3">||</span><span class="s2">e</span><span class="s3">.</span><span class="s2">split</span><span class="s3">||</span><span class="s2">e</span><span class="s3">.</span><span class="s2">setInterval</span><span class="s3">||</span><span class="s2">e</span><span class="s3">.</span><span class="s2">call</span><span class="s3">?[</span><span class="s2">e</span><span class="s3">]:</span><span class="s2">Array</span><span class="s3">.</span><span class="s2">prototype</span><span class="s3">.</span><span class="s2">slice</span><span class="s3">.</span><span class="s2">call</span><span class="s3">(</span><span class="s2">e</span><span class="s3">):[]}</span><span class="s4">function </span><span class="s2">i</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">;</span><span class="s4">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">t </span><span class="s4">in </span><span class="s2">r</span><span class="s3">)</span><span class="s2">n</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]=</span><span class="s2">r</span><span class="s3">[</span><span class="s2">t</span><span class="s3">];</span><span class="s4">return </span><span class="s2">n</span><span class="s3">}</span><span class="s4">function </span><span class="s2">u</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">var </span><span class="s2">t</span><span class="s3">=</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[0-9]&quot;</span><span class="s3">,</span><span class="s5">&quot;[A-Fa-f]&quot;</span><span class="s3">),</span><span class="s2">o</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s5">&quot;%[EFef]&quot;</span><span class="s3">+</span><span class="s2">t</span><span class="s3">+</span><span class="s5">&quot;%&quot;</span><span class="s3">+</span><span class="s2">t</span><span class="s3">+</span><span class="s2">t</span><span class="s3">+</span><span class="s5">&quot;%&quot;</span><span class="s3">+</span><span class="s2">t</span><span class="s3">+</span><span class="s2">t</span><span class="s3">)+</span><span class="s5">&quot;|&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">(</span><span class="s5">&quot;%[89A-Fa-f]&quot;</span><span class="s3">+</span><span class="s2">t</span><span class="s3">+</span><span class="s5">&quot;%&quot;</span><span class="s3">+</span><span class="s2">t</span><span class="s3">+</span><span class="s2">t</span><span class="s3">)+</span><span class="s5">&quot;|&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">(</span><span class="s5">&quot;%&quot;</span><span class="s3">+</span><span class="s2">t</span><span class="s3">+</span><span class="s2">t</span><span class="s3">)),</span><span class="s2">a</span><span class="s3">=</span><span class="s5">&quot;[</span><span class="s4">\\</span><span class="s5">!</span><span class="s4">\\</span><span class="s5">$</span><span class="s4">\\</span><span class="s5">&amp;</span><span class="s4">\\</span><span class="s5">'</span><span class="s4">\\</span><span class="s5">(</span><span class="s4">\\</span><span class="s5">)</span><span class="s4">\\</span><span class="s5">*</span><span class="s4">\\</span><span class="s5">+</span><span class="s4">\\</span><span class="s5">,</span><span class="s4">\\</span><span class="s5">;</span><span class="s4">\\</span><span class="s5">=]&quot;</span><span class="s3">,</span><span class="s2">i</span><span class="s3">=</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">/</span><span class="s4">\\</span><span class="s5">?</span><span class="s4">\\</span><span class="s5">#</span><span class="s4">\\</span><span class="s5">[</span><span class="s4">\\</span><span class="s5">]</span><span class="s4">\\</span><span class="s5">@]&quot;</span><span class="s3">,</span><span class="s2">a</span><span class="s3">),</span><span class="s2">u</span><span class="s3">=</span><span class="s2">e</span><span class="s3">?</span><span class="s5">&quot;[</span><span class="s4">\\</span><span class="s5">xA0-</span><span class="s4">\\</span><span class="s5">u200D</span><span class="s4">\\</span><span class="s5">u2010-</span><span class="s4">\\</span><span class="s5">u2029</span><span class="s4">\\</span><span class="s5">u202F-</span><span class="s4">\\</span><span class="s5">uD7FF</span><span class="s4">\\</span><span class="s5">uF900-</span><span class="s4">\\</span><span class="s5">uFDCF</span><span class="s4">\\</span><span class="s5">uFDF0-</span><span class="s4">\\</span><span class="s5">uFFEF]&quot;</span><span class="s3">:</span><span class="s5">&quot;[]&quot;</span><span class="s3">,</span><span class="s2">s</span><span class="s3">=</span><span class="s2">e</span><span class="s3">?</span><span class="s5">&quot;[</span><span class="s4">\\</span><span class="s5">uE000-</span><span class="s4">\\</span><span class="s5">uF8FF]&quot;</span><span class="s3">:</span><span class="s5">&quot;[]&quot;</span><span class="s3">,</span><span class="s2">f</span><span class="s3">=</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[A-Za-z]&quot;</span><span class="s3">,</span><span class="s5">&quot;[0-9]&quot;</span><span class="s3">,</span><span class="s5">&quot;[</span><span class="s4">\\</span><span class="s5">-</span><span class="s4">\\</span><span class="s5">.</span><span class="s4">\\</span><span class="s5">_</span><span class="s4">\\</span><span class="s5">~]&quot;</span><span class="s3">,</span><span class="s2">u</span><span class="s3">),</span><span class="s2">c</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s5">&quot;25[0-5]&quot;</span><span class="s3">)+</span><span class="s5">&quot;|&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">(</span><span class="s5">&quot;2[0-4][0-9]&quot;</span><span class="s3">)+</span><span class="s5">&quot;|&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">(</span><span class="s5">&quot;1[0-9][0-9]&quot;</span><span class="s3">)+</span><span class="s5">&quot;|&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">(</span><span class="s5">&quot;0?[1-9][0-9]&quot;</span><span class="s3">)+</span><span class="s5">&quot;|0?0?[0-9]&quot;</span><span class="s3">),</span><span class="s2">p</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">c</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">.&quot;</span><span class="s3">+</span><span class="s2">c</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">.&quot;</span><span class="s3">+</span><span class="s2">c</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">.&quot;</span><span class="s3">+</span><span class="s2">c</span><span class="s3">),</span><span class="s2">h</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">t</span><span class="s3">+</span><span class="s5">&quot;{1,4}&quot;</span><span class="s3">),</span><span class="s2">d</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">+</span><span class="s2">h</span><span class="s3">)+</span><span class="s5">&quot;|&quot;</span><span class="s3">+</span><span class="s2">p</span><span class="s3">),</span><span class="s2">l</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">)+</span><span class="s5">&quot;{6}&quot;</span><span class="s3">+</span><span class="s2">d</span><span class="s3">),</span><span class="s2">m</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">)+</span><span class="s5">&quot;{5}&quot;</span><span class="s3">+</span><span class="s2">d</span><span class="s3">),</span><span class="s2">g</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">)+</span><span class="s5">&quot;?</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">)+</span><span class="s5">&quot;{4}&quot;</span><span class="s3">+</span><span class="s2">d</span><span class="s3">),</span><span class="s2">v</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">)+</span><span class="s5">&quot;{0,1}&quot;</span><span class="s3">+</span><span class="s2">h</span><span class="s3">)+</span><span class="s5">&quot;?</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">)+</span><span class="s5">&quot;{3}&quot;</span><span class="s3">+</span><span class="s2">d</span><span class="s3">),</span><span class="s2">E</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">)+</span><span class="s5">&quot;{0,2}&quot;</span><span class="s3">+</span><span class="s2">h</span><span class="s3">)+</span><span class="s5">&quot;?</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">)+</span><span class="s5">&quot;{2}&quot;</span><span class="s3">+</span><span class="s2">d</span><span class="s3">),</span><span class="s2">C</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">)+</span><span class="s5">&quot;{0,3}&quot;</span><span class="s3">+</span><span class="s2">h</span><span class="s3">)+</span><span class="s5">&quot;?</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">+</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">+</span><span class="s2">d</span><span class="s3">),</span><span class="s2">y</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">)+</span><span class="s5">&quot;{0,4}&quot;</span><span class="s3">+</span><span class="s2">h</span><span class="s3">)+</span><span class="s5">&quot;?</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">+</span><span class="s2">d</span><span class="s3">),</span><span class="s2">S</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">)+</span><span class="s5">&quot;{0,5}&quot;</span><span class="s3">+</span><span class="s2">h</span><span class="s3">)+</span><span class="s5">&quot;?</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">+</span><span class="s2">h</span><span class="s3">),</span><span class="s2">A</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">h</span><span class="s3">+</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">)+</span><span class="s5">&quot;{0,6}&quot;</span><span class="s3">+</span><span class="s2">h</span><span class="s3">)+</span><span class="s5">&quot;?</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">:&quot;</span><span class="s3">),</span><span class="s2">D</span><span class="s3">=</span><span class="s2">n</span><span class="s3">([</span><span class="s2">l</span><span class="s3">,</span><span class="s2">m</span><span class="s3">,</span><span class="s2">g</span><span class="s3">,</span><span class="s2">v</span><span class="s3">,</span><span class="s2">E</span><span class="s3">,</span><span class="s2">C</span><span class="s3">,</span><span class="s2">y</span><span class="s3">,</span><span class="s2">S</span><span class="s3">,</span><span class="s2">A</span><span class="s3">].</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;|&quot;</span><span class="s3">)),</span><span class="s2">w</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s2">f</span><span class="s3">+</span><span class="s5">&quot;|&quot;</span><span class="s3">+</span><span class="s2">o</span><span class="s3">)+</span><span class="s5">&quot;+&quot;</span><span class="s3">);</span><span class="s4">return</span><span class="s3">{</span><span class="s2">NOT_SCHEME</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[^]&quot;</span><span class="s3">,</span><span class="s5">&quot;[A-Za-z]&quot;</span><span class="s3">,</span><span class="s5">&quot;[0-9]&quot;</span><span class="s3">,</span><span class="s5">&quot;[</span><span class="s4">\\</span><span class="s5">+</span><span class="s4">\\</span><span class="s5">-</span><span class="s4">\\</span><span class="s5">.]&quot;</span><span class="s3">),</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">NOT_USERINFO</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[^</span><span class="s4">\\</span><span class="s5">%</span><span class="s4">\\</span><span class="s5">:]&quot;</span><span class="s3">,</span><span class="s2">f</span><span class="s3">,</span><span class="s2">a</span><span class="s3">),</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">NOT_HOST</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[^</span><span class="s4">\\</span><span class="s5">%</span><span class="s4">\\</span><span class="s5">[</span><span class="s4">\\</span><span class="s5">]</span><span class="s4">\\</span><span class="s5">:]&quot;</span><span class="s3">,</span><span class="s2">f</span><span class="s3">,</span><span class="s2">a</span><span class="s3">),</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">NOT_PATH</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[^</span><span class="s4">\\</span><span class="s5">%</span><span class="s4">\\</span><span class="s5">/</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">@]&quot;</span><span class="s3">,</span><span class="s2">f</span><span class="s3">,</span><span class="s2">a</span><span class="s3">),</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">NOT_PATH_NOSCHEME</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[^</span><span class="s4">\\</span><span class="s5">%</span><span class="s4">\\</span><span class="s5">/</span><span class="s4">\\</span><span class="s5">@]&quot;</span><span class="s3">,</span><span class="s2">f</span><span class="s3">,</span><span class="s2">a</span><span class="s3">),</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">NOT_QUERY</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[^</span><span class="s4">\\</span><span class="s5">%]&quot;</span><span class="s3">,</span><span class="s2">f</span><span class="s3">,</span><span class="s2">a</span><span class="s3">,</span><span class="s5">&quot;[</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">@</span><span class="s4">\\</span><span class="s5">/</span><span class="s4">\\</span><span class="s5">?]&quot;</span><span class="s3">,</span><span class="s2">s</span><span class="s3">),</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">NOT_FRAGMENT</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[^</span><span class="s4">\\</span><span class="s5">%]&quot;</span><span class="s3">,</span><span class="s2">f</span><span class="s3">,</span><span class="s2">a</span><span class="s3">,</span><span class="s5">&quot;[</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">@</span><span class="s4">\\</span><span class="s5">/</span><span class="s4">\\</span><span class="s5">?]&quot;</span><span class="s3">),</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">ESCAPE</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[^]&quot;</span><span class="s3">,</span><span class="s2">f</span><span class="s3">,</span><span class="s2">a</span><span class="s3">),</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">UNRESERVED</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">f</span><span class="s3">,</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">OTHER_CHARS</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[^</span><span class="s4">\\</span><span class="s5">%]&quot;</span><span class="s3">,</span><span class="s2">f</span><span class="s3">,</span><span class="s2">i</span><span class="s3">),</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">PCT_ENCODED</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">o</span><span class="s3">,</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">IPV4ADDRESS</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s5">&quot;^(&quot;</span><span class="s3">+</span><span class="s2">p</span><span class="s3">+</span><span class="s5">&quot;)$&quot;</span><span class="s3">),</span><span class="s2">IPV6ADDRESS</span><span class="s3">:</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s5">&quot;^</span><span class="s4">\\</span><span class="s5">[?(&quot;</span><span class="s3">+</span><span class="s2">D</span><span class="s3">+</span><span class="s5">&quot;)&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s5">&quot;</span><span class="s4">\\</span><span class="s5">%25|</span><span class="s4">\\</span><span class="s5">%(?!&quot;</span><span class="s3">+</span><span class="s2">t</span><span class="s3">+</span><span class="s5">&quot;{2})&quot;</span><span class="s3">)+</span><span class="s5">&quot;(&quot;</span><span class="s3">+</span><span class="s2">w</span><span class="s3">+</span><span class="s5">&quot;)&quot;</span><span class="s3">)+</span><span class="s5">&quot;?</span><span class="s4">\\</span><span class="s5">]?$&quot;</span><span class="s3">)}}</span><span class="s4">function </span><span class="s2">s</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">throw new </span><span class="s2">RangeError</span><span class="s3">(</span><span class="s2">H</span><span class="s3">[</span><span class="s2">e</span><span class="s3">])}</span><span class="s4">function </span><span class="s2">f</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=[],</span><span class="s2">t</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">length</span><span class="s3">;</span><span class="s2">t</span><span class="s3">--;)</span><span class="s2">n</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]=</span><span class="s2">r</span><span class="s3">(</span><span class="s2">e</span><span class="s3">[</span><span class="s2">t</span><span class="s3">]);</span><span class="s4">return </span><span class="s2">n</span><span class="s3">}</span><span class="s4">function </span><span class="s2">c</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;@&quot;</span><span class="s3">),</span><span class="s2">t</span><span class="s3">=</span><span class="s5">&quot;&quot;</span><span class="s3">;</span><span class="s4">return </span><span class="s2">n</span><span class="s3">.</span><span class="s2">length</span><span class="s3">&gt;</span><span class="s6">1</span><span class="s3">&amp;&amp;(</span><span class="s2">t</span><span class="s3">=</span><span class="s2">n</span><span class="s3">[</span><span class="s6">0</span><span class="s3">]+</span><span class="s5">&quot;@&quot;</span><span class="s3">,</span><span class="s2">e</span><span class="s3">=</span><span class="s2">n</span><span class="s3">[</span><span class="s6">1</span><span class="s3">]),</span><span class="s2">e</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">j</span><span class="s3">,</span><span class="s5">&quot;.&quot;</span><span class="s3">),</span><span class="s2">t</span><span class="s3">+</span><span class="s2">f</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;.&quot;</span><span class="s3">),</span><span class="s2">r</span><span class="s3">).</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;.&quot;</span><span class="s3">)}</span><span class="s4">function </span><span class="s2">p</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">r</span><span class="s3">=[],</span><span class="s2">n</span><span class="s3">=</span><span class="s6">0</span><span class="s3">,</span><span class="s2">t</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">length</span><span class="s3">;</span><span class="s2">n</span><span class="s3">&lt;</span><span class="s2">t</span><span class="s3">;){</span><span class="s4">var </span><span class="s2">o</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">charCodeAt</span><span class="s3">(</span><span class="s2">n</span><span class="s3">++);</span><span class="s4">if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">&gt;=</span><span class="s6">55296</span><span class="s3">&amp;&amp;</span><span class="s2">o</span><span class="s3">&lt;=</span><span class="s6">56319</span><span class="s3">&amp;&amp;</span><span class="s2">n</span><span class="s3">&lt;</span><span class="s2">t</span><span class="s3">){</span><span class="s4">var </span><span class="s2">a</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">charCodeAt</span><span class="s3">(</span><span class="s2">n</span><span class="s3">++);</span><span class="s6">56320</span><span class="s3">==(</span><span class="s6">64512</span><span class="s3">&amp;</span><span class="s2">a</span><span class="s3">)?</span><span class="s2">r</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(((</span><span class="s6">1023</span><span class="s3">&amp;</span><span class="s2">o</span><span class="s3">)&lt;&lt;</span><span class="s6">10</span><span class="s3">)+(</span><span class="s6">1023</span><span class="s3">&amp;</span><span class="s2">a</span><span class="s3">)+</span><span class="s6">65536</span><span class="s3">):(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">o</span><span class="s3">),</span><span class="s2">n</span><span class="s3">--)}</span><span class="s4">else </span><span class="s2">r</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)}</span><span class="s4">return </span><span class="s2">r</span><span class="s3">}</span><span class="s4">function </span><span class="s2">h</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">var </span><span class="s2">r</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">charCodeAt</span><span class="s3">(</span><span class="s6">0</span><span class="s3">);</span><span class="s4">return </span><span class="s2">r</span><span class="s3">&lt;</span><span class="s6">16</span><span class="s3">?</span><span class="s5">&quot;%0&quot;</span><span class="s3">+</span><span class="s2">r</span><span class="s3">.</span><span class="s2">toString</span><span class="s3">(</span><span class="s6">16</span><span class="s3">).</span><span class="s2">toUpperCase</span><span class="s3">():</span><span class="s2">r</span><span class="s3">&lt;</span><span class="s6">128</span><span class="s3">?</span><span class="s5">&quot;%&quot;</span><span class="s3">+</span><span class="s2">r</span><span class="s3">.</span><span class="s2">toString</span><span class="s3">(</span><span class="s6">16</span><span class="s3">).</span><span class="s2">toUpperCase</span><span class="s3">():</span><span class="s2">r</span><span class="s3">&lt;</span><span class="s6">2048</span><span class="s3">?</span><span class="s5">&quot;%&quot;</span><span class="s3">+(</span><span class="s2">r</span><span class="s3">&gt;&gt;</span><span class="s6">6</span><span class="s3">|</span><span class="s6">192</span><span class="s3">).</span><span class="s2">toString</span><span class="s3">(</span><span class="s6">16</span><span class="s3">).</span><span class="s2">toUpperCase</span><span class="s3">()+</span><span class="s5">&quot;%&quot;</span><span class="s3">+(</span><span class="s6">63</span><span class="s3">&amp;</span><span class="s2">r</span><span class="s3">|</span><span class="s6">128</span><span class="s3">).</span><span class="s2">toString</span><span class="s3">(</span><span class="s6">16</span><span class="s3">).</span><span class="s2">toUpperCase</span><span class="s3">():</span><span class="s5">&quot;%&quot;</span><span class="s3">+(</span><span class="s2">r</span><span class="s3">&gt;&gt;</span><span class="s6">12</span><span class="s3">|</span><span class="s6">224</span><span class="s3">).</span><span class="s2">toString</span><span class="s3">(</span><span class="s6">16</span><span class="s3">).</span><span class="s2">toUpperCase</span><span class="s3">()+</span><span class="s5">&quot;%&quot;</span><span class="s3">+(</span><span class="s2">r</span><span class="s3">&gt;&gt;</span><span class="s6">6</span><span class="s3">&amp;</span><span class="s6">63</span><span class="s3">|</span><span class="s6">128</span><span class="s3">).</span><span class="s2">toString</span><span class="s3">(</span><span class="s6">16</span><span class="s3">).</span><span class="s2">toUpperCase</span><span class="s3">()+</span><span class="s5">&quot;%&quot;</span><span class="s3">+(</span><span class="s6">63</span><span class="s3">&amp;</span><span class="s2">r</span><span class="s3">|</span><span class="s6">128</span><span class="s3">).</span><span class="s2">toString</span><span class="s3">(</span><span class="s6">16</span><span class="s3">).</span><span class="s2">toUpperCase</span><span class="s3">()}</span><span class="s4">function </span><span class="s2">d</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">r</span><span class="s3">=</span><span class="s5">&quot;&quot;</span><span class="s3">,</span><span class="s2">n</span><span class="s3">=</span><span class="s6">0</span><span class="s3">,</span><span class="s2">t</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">length</span><span class="s3">;</span><span class="s2">n</span><span class="s3">&lt;</span><span class="s2">t</span><span class="s3">;){</span><span class="s4">var </span><span class="s2">o</span><span class="s3">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">substr</span><span class="s3">(</span><span class="s2">n</span><span class="s3">+</span><span class="s6">1</span><span class="s3">,</span><span class="s6">2</span><span class="s3">),</span><span class="s6">16</span><span class="s3">);</span><span class="s4">if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">&lt;</span><span class="s6">128</span><span class="s3">)</span><span class="s2">r</span><span class="s3">+=</span><span class="s2">String</span><span class="s3">.</span><span class="s2">fromCharCode</span><span class="s3">(</span><span class="s2">o</span><span class="s3">),</span><span class="s2">n</span><span class="s3">+=</span><span class="s6">3</span><span class="s3">;</span><span class="s4">else if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">&gt;=</span><span class="s6">194</span><span class="s3">&amp;&amp;</span><span class="s2">o</span><span class="s3">&lt;</span><span class="s6">224</span><span class="s3">){</span><span class="s4">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">-</span><span class="s2">n</span><span class="s3">&gt;=</span><span class="s6">6</span><span class="s3">){</span><span class="s4">var </span><span class="s2">a</span><span class="s3">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">substr</span><span class="s3">(</span><span class="s2">n</span><span class="s3">+</span><span class="s6">4</span><span class="s3">,</span><span class="s6">2</span><span class="s3">),</span><span class="s6">16</span><span class="s3">);</span><span class="s2">r</span><span class="s3">+=</span><span class="s2">String</span><span class="s3">.</span><span class="s2">fromCharCode</span><span class="s3">((</span><span class="s6">31</span><span class="s3">&amp;</span><span class="s2">o</span><span class="s3">)&lt;&lt;</span><span class="s6">6</span><span class="s3">|</span><span class="s6">63</span><span class="s3">&amp;</span><span class="s2">a</span><span class="s3">)}</span><span class="s4">else </span><span class="s2">r</span><span class="s3">+=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">substr</span><span class="s3">(</span><span class="s2">n</span><span class="s3">,</span><span class="s6">6</span><span class="s3">);</span><span class="s2">n</span><span class="s3">+=</span><span class="s6">6</span><span class="s3">}</span><span class="s4">else if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">&gt;=</span><span class="s6">224</span><span class="s3">){</span><span class="s4">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">-</span><span class="s2">n</span><span class="s3">&gt;=</span><span class="s6">9</span><span class="s3">){</span><span class="s4">var </span><span class="s2">i</span><span class="s3">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">substr</span><span class="s3">(</span><span class="s2">n</span><span class="s3">+</span><span class="s6">4</span><span class="s3">,</span><span class="s6">2</span><span class="s3">),</span><span class="s6">16</span><span class="s3">),</span><span class="s2">u</span><span class="s3">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">substr</span><span class="s3">(</span><span class="s2">n</span><span class="s3">+</span><span class="s6">7</span><span class="s3">,</span><span class="s6">2</span><span class="s3">),</span><span class="s6">16</span><span class="s3">);</span><span class="s2">r</span><span class="s3">+=</span><span class="s2">String</span><span class="s3">.</span><span class="s2">fromCharCode</span><span class="s3">((</span><span class="s6">15</span><span class="s3">&amp;</span><span class="s2">o</span><span class="s3">)&lt;&lt;</span><span class="s6">12</span><span class="s3">|(</span><span class="s6">63</span><span class="s3">&amp;</span><span class="s2">i</span><span class="s3">)&lt;&lt;</span><span class="s6">6</span><span class="s3">|</span><span class="s6">63</span><span class="s3">&amp;</span><span class="s2">u</span><span class="s3">)}</span><span class="s4">else </span><span class="s2">r</span><span class="s3">+=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">substr</span><span class="s3">(</span><span class="s2">n</span><span class="s3">,</span><span class="s6">9</span><span class="s3">);</span><span class="s2">n</span><span class="s3">+=</span><span class="s6">9</span><span class="s3">}</span><span class="s4">else </span><span class="s2">r</span><span class="s3">+=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">substr</span><span class="s3">(</span><span class="s2">n</span><span class="s3">,</span><span class="s6">3</span><span class="s3">),</span><span class="s2">n</span><span class="s3">+=</span><span class="s6">3</span><span class="s3">}</span><span class="s4">return </span><span class="s2">r</span><span class="s3">}</span><span class="s4">function </span><span class="s2">l</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">function </span><span class="s2">n</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">e</span><span class="s3">);</span><span class="s4">return </span><span class="s2">n</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">UNRESERVED</span><span class="s3">)?</span><span class="s2">n</span><span class="s3">:</span><span class="s2">e</span><span class="s3">}</span><span class="s4">return </span><span class="s2">e</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">&amp;&amp;(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">=</span><span class="s2">String</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">n</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">().</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">NOT_SCHEME</span><span class="s3">,</span><span class="s5">&quot;&quot;</span><span class="s3">)),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">&amp;&amp;(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">=</span><span class="s2">String</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">n</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">NOT_USERINFO</span><span class="s3">,</span><span class="s2">h</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">o</span><span class="s3">)),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">&amp;&amp;(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">=</span><span class="s2">String</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">n</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">().</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">NOT_HOST</span><span class="s3">,</span><span class="s2">h</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">o</span><span class="s3">)),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">&amp;&amp;(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">String</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">n</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">?</span><span class="s2">r</span><span class="s3">.</span><span class="s2">NOT_PATH</span><span class="s3">:</span><span class="s2">r</span><span class="s3">.</span><span class="s2">NOT_PATH_NOSCHEME</span><span class="s3">,</span><span class="s2">h</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">o</span><span class="s3">)),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">query</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">&amp;&amp;(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">query</span><span class="s3">=</span><span class="s2">String</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">query</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">n</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">NOT_QUERY</span><span class="s3">,</span><span class="s2">h</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">o</span><span class="s3">)),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">fragment</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">&amp;&amp;(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">fragment</span><span class="s3">=</span><span class="s2">String</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">fragment</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">n</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">NOT_FRAGMENT</span><span class="s3">,</span><span class="s2">h</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">o</span><span class="s3">)),</span><span class="s2">e</span><span class="s3">}</span><span class="s4">function </span><span class="s2">m</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">return </span><span class="s2">e</span><span class="s3">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s7">/^0*(.*)/</span><span class="s3">,</span><span class="s5">&quot;$1&quot;</span><span class="s3">)||</span><span class="s5">&quot;0&quot;</span><span class="s3">}</span><span class="s4">function </span><span class="s2">g</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">IPV4ADDRESS</span><span class="s3">)||[],</span><span class="s2">t</span><span class="s3">=</span><span class="s2">T</span><span class="s3">(</span><span class="s2">n</span><span class="s3">,</span><span class="s6">2</span><span class="s3">),</span><span class="s2">o</span><span class="s3">=</span><span class="s2">t</span><span class="s3">[</span><span class="s6">1</span><span class="s3">];</span><span class="s4">return </span><span class="s2">o</span><span class="s3">?</span><span class="s2">o</span><span class="s3">.</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;.&quot;</span><span class="s3">).</span><span class="s2">map</span><span class="s3">(</span><span class="s2">m</span><span class="s3">).</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;.&quot;</span><span class="s3">):</span><span class="s2">e</span><span class="s3">}</span><span class="s4">function </span><span class="s2">v</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">IPV6ADDRESS</span><span class="s3">)||[],</span><span class="s2">t</span><span class="s3">=</span><span class="s2">T</span><span class="s3">(</span><span class="s2">n</span><span class="s3">,</span><span class="s6">3</span><span class="s3">),</span><span class="s2">o</span><span class="s3">=</span><span class="s2">t</span><span class="s3">[</span><span class="s6">1</span><span class="s3">],</span><span class="s2">a</span><span class="s3">=</span><span class="s2">t</span><span class="s3">[</span><span class="s6">2</span><span class="s3">];</span><span class="s4">if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">){</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">i</span><span class="s3">=</span><span class="s2">o</span><span class="s3">.</span><span class="s2">toLowerCase</span><span class="s3">().</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;::&quot;</span><span class="s3">).</span><span class="s2">reverse</span><span class="s3">(),</span><span class="s2">u</span><span class="s3">=</span><span class="s2">T</span><span class="s3">(</span><span class="s2">i</span><span class="s3">,</span><span class="s6">2</span><span class="s3">),</span><span class="s2">s</span><span class="s3">=</span><span class="s2">u</span><span class="s3">[</span><span class="s6">0</span><span class="s3">],</span><span class="s2">f</span><span class="s3">=</span><span class="s2">u</span><span class="s3">[</span><span class="s6">1</span><span class="s3">],</span><span class="s2">c</span><span class="s3">=</span><span class="s2">f</span><span class="s3">?</span><span class="s2">f</span><span class="s3">.</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;:&quot;</span><span class="s3">).</span><span class="s2">map</span><span class="s3">(</span><span class="s2">m</span><span class="s3">):[],</span><span class="s2">p</span><span class="s3">=</span><span class="s2">s</span><span class="s3">.</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;:&quot;</span><span class="s3">).</span><span class="s2">map</span><span class="s3">(</span><span class="s2">m</span><span class="s3">),</span><span class="s2">h</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">IPV4ADDRESS</span><span class="s3">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">p</span><span class="s3">[</span><span class="s2">p</span><span class="s3">.</span><span class="s2">length</span><span class="s3">-</span><span class="s6">1</span><span class="s3">]),</span><span class="s2">d</span><span class="s3">=</span><span class="s2">h</span><span class="s3">?</span><span class="s6">7</span><span class="s3">:</span><span class="s6">8</span><span class="s3">,</span><span class="s2">l</span><span class="s3">=</span><span class="s2">p</span><span class="s3">.</span><span class="s2">length</span><span class="s3">-</span><span class="s2">d</span><span class="s3">,</span><span class="s2">v</span><span class="s3">=</span><span class="s2">Array</span><span class="s3">(</span><span class="s2">d</span><span class="s3">),</span><span class="s2">E</span><span class="s3">=</span><span class="s6">0</span><span class="s3">;</span><span class="s2">E</span><span class="s3">&lt;</span><span class="s2">d</span><span class="s3">;++</span><span class="s2">E</span><span class="s3">)</span><span class="s2">v</span><span class="s3">[</span><span class="s2">E</span><span class="s3">]=</span><span class="s2">c</span><span class="s3">[</span><span class="s2">E</span><span class="s3">]||</span><span class="s2">p</span><span class="s3">[</span><span class="s2">l</span><span class="s3">+</span><span class="s2">E</span><span class="s3">]||</span><span class="s5">&quot;&quot;</span><span class="s3">;</span><span class="s2">h</span><span class="s3">&amp;&amp;(</span><span class="s2">v</span><span class="s3">[</span><span class="s2">d</span><span class="s3">-</span><span class="s6">1</span><span class="s3">]=</span><span class="s2">g</span><span class="s3">(</span><span class="s2">v</span><span class="s3">[</span><span class="s2">d</span><span class="s3">-</span><span class="s6">1</span><span class="s3">],</span><span class="s2">r</span><span class="s3">));</span><span class="s4">var </span><span class="s2">C</span><span class="s3">=</span><span class="s2">v</span><span class="s3">.</span><span class="s2">reduce</span><span class="s3">(</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">,</span><span class="s2">n</span><span class="s3">){</span><span class="s4">if</span><span class="s3">(!</span><span class="s2">r</span><span class="s3">||</span><span class="s5">&quot;0&quot;</span><span class="s3">===</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">t</span><span class="s3">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">e</span><span class="s3">.</span><span class="s2">length</span><span class="s3">-</span><span class="s6">1</span><span class="s3">];</span><span class="s2">t</span><span class="s3">&amp;&amp;</span><span class="s2">t</span><span class="s3">.</span><span class="s2">index</span><span class="s3">+</span><span class="s2">t</span><span class="s3">.</span><span class="s2">length</span><span class="s3">===</span><span class="s2">n</span><span class="s3">?</span><span class="s2">t</span><span class="s3">.</span><span class="s2">length</span><span class="s3">++:</span><span class="s2">e</span><span class="s3">.</span><span class="s2">push</span><span class="s3">({</span><span class="s2">index</span><span class="s3">:</span><span class="s2">n</span><span class="s3">,</span><span class="s2">length</span><span class="s3">:</span><span class="s6">1</span><span class="s3">})}</span><span class="s4">return </span><span class="s2">e</span><span class="s3">},[]),</span><span class="s2">y</span><span class="s3">=</span><span class="s2">C</span><span class="s3">.</span><span class="s2">sort</span><span class="s3">(</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">return </span><span class="s2">r</span><span class="s3">.</span><span class="s2">length</span><span class="s3">-</span><span class="s2">e</span><span class="s3">.</span><span class="s2">length</span><span class="s3">})[</span><span class="s6">0</span><span class="s3">],</span><span class="s2">S</span><span class="s3">=</span><span class="s4">void </span><span class="s6">0</span><span class="s3">;</span><span class="s4">if</span><span class="s3">(</span><span class="s2">y</span><span class="s3">&amp;&amp;</span><span class="s2">y</span><span class="s3">.</span><span class="s2">length</span><span class="s3">&gt;</span><span class="s6">1</span><span class="s3">){</span><span class="s4">var </span><span class="s2">A</span><span class="s3">=</span><span class="s2">v</span><span class="s3">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s6">0</span><span class="s3">,</span><span class="s2">y</span><span class="s3">.</span><span class="s2">index</span><span class="s3">),</span><span class="s2">D</span><span class="s3">=</span><span class="s2">v</span><span class="s3">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s2">y</span><span class="s3">.</span><span class="s2">index</span><span class="s3">+</span><span class="s2">y</span><span class="s3">.</span><span class="s2">length</span><span class="s3">);</span><span class="s2">S</span><span class="s3">=</span><span class="s2">A</span><span class="s3">.</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;:&quot;</span><span class="s3">)+</span><span class="s5">&quot;::&quot;</span><span class="s3">+</span><span class="s2">D</span><span class="s3">.</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;:&quot;</span><span class="s3">)}</span><span class="s4">else </span><span class="s2">S</span><span class="s3">=</span><span class="s2">v</span><span class="s3">.</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;:&quot;</span><span class="s3">);</span><span class="s4">return </span><span class="s2">a</span><span class="s3">&amp;&amp;(</span><span class="s2">S</span><span class="s3">+=</span><span class="s5">&quot;%&quot;</span><span class="s3">+</span><span class="s2">a</span><span class="s3">),</span><span class="s2">S</span><span class="s3">}</span><span class="s4">return </span><span class="s2">e</span><span class="s3">}</span><span class="s4">function </span><span class="s2">E</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">var </span><span class="s2">r</span><span class="s3">=</span><span class="s2">arguments</span><span class="s3">.</span><span class="s2">length</span><span class="s3">&gt;</span><span class="s6">1</span><span class="s3">&amp;&amp;</span><span class="s2">arguments</span><span class="s3">[</span><span class="s6">1</span><span class="s3">]!==</span><span class="s2">undefined</span><span class="s3">?</span><span class="s2">arguments</span><span class="s3">[</span><span class="s6">1</span><span class="s3">]:{},</span><span class="s2">n</span><span class="s3">={},</span><span class="s2">t</span><span class="s3">=!</span><span class="s6">1</span><span class="s3">!==</span><span class="s2">r</span><span class="s3">.</span><span class="s2">iri</span><span class="s3">?</span><span class="s2">R</span><span class="s3">:</span><span class="s2">F</span><span class="s3">;</span><span class="s5">&quot;suffix&quot;</span><span class="s3">===</span><span class="s2">r</span><span class="s3">.</span><span class="s2">reference</span><span class="s3">&amp;&amp;(</span><span class="s2">e</span><span class="s3">=(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">?</span><span class="s2">r</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">+</span><span class="s5">&quot;:&quot;</span><span class="s3">:</span><span class="s5">&quot;&quot;</span><span class="s3">)+</span><span class="s5">&quot;//&quot;</span><span class="s3">+</span><span class="s2">e</span><span class="s3">);</span><span class="s4">var </span><span class="s2">o</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s2">K</span><span class="s3">);</span><span class="s4">if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">){</span><span class="s2">W</span><span class="s3">?(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">=</span><span class="s2">o</span><span class="s3">[</span><span class="s6">1</span><span class="s3">],</span><span class="s2">n</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">=</span><span class="s2">o</span><span class="s3">[</span><span class="s6">3</span><span class="s3">],</span><span class="s2">n</span><span class="s3">.</span><span class="s2">host</span><span class="s3">=</span><span class="s2">o</span><span class="s3">[</span><span class="s6">4</span><span class="s3">],</span><span class="s2">n</span><span class="s3">.</span><span class="s2">port</span><span class="s3">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">o</span><span class="s3">[</span><span class="s6">5</span><span class="s3">],</span><span class="s6">10</span><span class="s3">),</span><span class="s2">n</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">o</span><span class="s3">[</span><span class="s6">6</span><span class="s3">]||</span><span class="s5">&quot;&quot;</span><span class="s3">,</span><span class="s2">n</span><span class="s3">.</span><span class="s2">query</span><span class="s3">=</span><span class="s2">o</span><span class="s3">[</span><span class="s6">7</span><span class="s3">],</span><span class="s2">n</span><span class="s3">.</span><span class="s2">fragment</span><span class="s3">=</span><span class="s2">o</span><span class="s3">[</span><span class="s6">8</span><span class="s3">],</span><span class="s2">isNaN</span><span class="s3">(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">port</span><span class="s3">)&amp;&amp;(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">port</span><span class="s3">=</span><span class="s2">o</span><span class="s3">[</span><span class="s6">5</span><span class="s3">])):(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">=</span><span class="s2">o</span><span class="s3">[</span><span class="s6">1</span><span class="s3">]||</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">n</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">=-</span><span class="s6">1</span><span class="s3">!==</span><span class="s2">e</span><span class="s3">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s5">&quot;@&quot;</span><span class="s3">)?</span><span class="s2">o</span><span class="s3">[</span><span class="s6">3</span><span class="s3">]:</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">n</span><span class="s3">.</span><span class="s2">host</span><span class="s3">=-</span><span class="s6">1</span><span class="s3">!==</span><span class="s2">e</span><span class="s3">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s5">&quot;//&quot;</span><span class="s3">)?</span><span class="s2">o</span><span class="s3">[</span><span class="s6">4</span><span class="s3">]:</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">n</span><span class="s3">.</span><span class="s2">port</span><span class="s3">=</span><span class="s2">parseInt</span><span class="s3">(</span><span class="s2">o</span><span class="s3">[</span><span class="s6">5</span><span class="s3">],</span><span class="s6">10</span><span class="s3">),</span><span class="s2">n</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">o</span><span class="s3">[</span><span class="s6">6</span><span class="s3">]||</span><span class="s5">&quot;&quot;</span><span class="s3">,</span><span class="s2">n</span><span class="s3">.</span><span class="s2">query</span><span class="s3">=-</span><span class="s6">1</span><span class="s3">!==</span><span class="s2">e</span><span class="s3">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s5">&quot;?&quot;</span><span class="s3">)?</span><span class="s2">o</span><span class="s3">[</span><span class="s6">7</span><span class="s3">]:</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">n</span><span class="s3">.</span><span class="s2">fragment</span><span class="s3">=-</span><span class="s6">1</span><span class="s3">!==</span><span class="s2">e</span><span class="s3">.</span><span class="s2">indexOf</span><span class="s3">(</span><span class="s5">&quot;#&quot;</span><span class="s3">)?</span><span class="s2">o</span><span class="s3">[</span><span class="s6">8</span><span class="s3">]:</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">isNaN</span><span class="s3">(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">port</span><span class="s3">)&amp;&amp;(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">port</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s7">/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/</span><span class="s3">)?</span><span class="s2">o</span><span class="s3">[</span><span class="s6">4</span><span class="s3">]:</span><span class="s2">undefined</span><span class="s3">)),</span><span class="s2">n</span><span class="s3">.</span><span class="s2">host</span><span class="s3">&amp;&amp;(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">host</span><span class="s3">=</span><span class="s2">v</span><span class="s3">(</span><span class="s2">g</span><span class="s3">(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">host</span><span class="s3">,</span><span class="s2">t</span><span class="s3">),</span><span class="s2">t</span><span class="s3">)),</span><span class="s2">n</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">||</span><span class="s2">n</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">||</span><span class="s2">n</span><span class="s3">.</span><span class="s2">host</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">||</span><span class="s2">n</span><span class="s3">.</span><span class="s2">port</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">||</span><span class="s2">n</span><span class="s3">.</span><span class="s2">path</span><span class="s3">||</span><span class="s2">n</span><span class="s3">.</span><span class="s2">query</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">?</span><span class="s2">n</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">===</span><span class="s2">undefined</span><span class="s3">?</span><span class="s2">n</span><span class="s3">.</span><span class="s2">reference</span><span class="s3">=</span><span class="s5">&quot;relative&quot;</span><span class="s3">:</span><span class="s2">n</span><span class="s3">.</span><span class="s2">fragment</span><span class="s3">===</span><span class="s2">undefined</span><span class="s3">?</span><span class="s2">n</span><span class="s3">.</span><span class="s2">reference</span><span class="s3">=</span><span class="s5">&quot;absolute&quot;</span><span class="s3">:</span><span class="s2">n</span><span class="s3">.</span><span class="s2">reference</span><span class="s3">=</span><span class="s5">&quot;uri&quot;</span><span class="s3">:</span><span class="s2">n</span><span class="s3">.</span><span class="s2">reference</span><span class="s3">=</span><span class="s5">&quot;same-document&quot;</span><span class="s3">,</span><span class="s2">r</span><span class="s3">.</span><span class="s2">reference</span><span class="s3">&amp;&amp;</span><span class="s5">&quot;suffix&quot;</span><span class="s3">!==</span><span class="s2">r</span><span class="s3">.</span><span class="s2">reference</span><span class="s3">&amp;&amp;</span><span class="s2">r</span><span class="s3">.</span><span class="s2">reference</span><span class="s3">!==</span><span class="s2">n</span><span class="s3">.</span><span class="s2">reference</span><span class="s3">&amp;&amp;(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">error</span><span class="s3">=</span><span class="s2">n</span><span class="s3">.</span><span class="s2">error</span><span class="s3">||</span><span class="s5">&quot;URI is not a &quot;</span><span class="s3">+</span><span class="s2">r</span><span class="s3">.</span><span class="s2">reference</span><span class="s3">+</span><span class="s5">&quot; reference.&quot;</span><span class="s3">);</span><span class="s4">var </span><span class="s2">a</span><span class="s3">=</span><span class="s2">J</span><span class="s3">[(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">||</span><span class="s2">n</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">||</span><span class="s5">&quot;&quot;</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">()];</span><span class="s4">if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">unicodeSupport</span><span class="s3">||</span><span class="s2">a</span><span class="s3">&amp;&amp;</span><span class="s2">a</span><span class="s3">.</span><span class="s2">unicodeSupport</span><span class="s3">)</span><span class="s2">l</span><span class="s3">(</span><span class="s2">n</span><span class="s3">,</span><span class="s2">t</span><span class="s3">);</span><span class="s4">else</span><span class="s3">{</span><span class="s4">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">host</span><span class="s3">&amp;&amp;(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">domainHost</span><span class="s3">||</span><span class="s2">a</span><span class="s3">&amp;&amp;</span><span class="s2">a</span><span class="s3">.</span><span class="s2">domainHost</span><span class="s3">))</span><span class="s4">try</span><span class="s3">{</span><span class="s2">n</span><span class="s3">.</span><span class="s2">host</span><span class="s3">=</span><span class="s2">B</span><span class="s3">.</span><span class="s2">toASCII</span><span class="s3">(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">host</span><span class="s3">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">t</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">d</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">())}</span><span class="s4">catch</span><span class="s3">(</span><span class="s2">i</span><span class="s3">){</span><span class="s2">n</span><span class="s3">.</span><span class="s2">error</span><span class="s3">=</span><span class="s2">n</span><span class="s3">.</span><span class="s2">error</span><span class="s3">||</span><span class="s5">&quot;Host's domain name can not be converted to ASCII via punycode: &quot;</span><span class="s3">+</span><span class="s2">i</span><span class="s3">}</span><span class="s2">l</span><span class="s3">(</span><span class="s2">n</span><span class="s3">,</span><span class="s2">F</span><span class="s3">)}</span><span class="s2">a</span><span class="s3">&amp;&amp;</span><span class="s2">a</span><span class="s3">.</span><span class="s2">parse</span><span class="s3">&amp;&amp;</span><span class="s2">a</span><span class="s3">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">n</span><span class="s3">,</span><span class="s2">r</span><span class="s3">)}</span><span class="s4">else </span><span class="s2">n</span><span class="s3">.</span><span class="s2">error</span><span class="s3">=</span><span class="s2">n</span><span class="s3">.</span><span class="s2">error</span><span class="s3">||</span><span class="s5">&quot;URI can not be parsed.&quot;</span><span class="s3">;</span><span class="s4">return </span><span class="s2">n</span><span class="s3">}</span><span class="s4">function </span><span class="s2">C</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=!</span><span class="s6">1</span><span class="s3">!==</span><span class="s2">r</span><span class="s3">.</span><span class="s2">iri</span><span class="s3">?</span><span class="s2">R</span><span class="s3">:</span><span class="s2">F</span><span class="s3">,</span><span class="s2">t</span><span class="s3">=[];</span><span class="s4">return </span><span class="s2">e</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">&amp;&amp;(</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">),</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s5">&quot;@&quot;</span><span class="s3">)),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">&amp;&amp;</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">v</span><span class="s3">(</span><span class="s2">g</span><span class="s3">(</span><span class="s2">String</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">),</span><span class="s2">n</span><span class="s3">),</span><span class="s2">n</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">IPV6ADDRESS</span><span class="s3">,</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">,</span><span class="s2">n</span><span class="s3">){</span><span class="s4">return</span><span class="s5">&quot;[&quot;</span><span class="s3">+</span><span class="s2">r</span><span class="s3">+(</span><span class="s2">n</span><span class="s3">?</span><span class="s5">&quot;%25&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">:</span><span class="s5">&quot;&quot;</span><span class="s3">)+</span><span class="s5">&quot;]&quot;</span><span class="s3">})),</span><span class="s5">&quot;number&quot;</span><span class="s3">!=</span><span class="s4">typeof </span><span class="s2">e</span><span class="s3">.</span><span class="s2">port</span><span class="s3">&amp;&amp;</span><span class="s5">&quot;string&quot;</span><span class="s3">!=</span><span class="s4">typeof </span><span class="s2">e</span><span class="s3">.</span><span class="s2">port</span><span class="s3">||(</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s5">&quot;:&quot;</span><span class="s3">),</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">String</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">port</span><span class="s3">))),</span><span class="s2">t</span><span class="s3">.</span><span class="s2">length</span><span class="s3">?</span><span class="s2">t</span><span class="s3">.</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;&quot;</span><span class="s3">):</span><span class="s2">undefined</span><span class="s3">}</span><span class="s4">function </span><span class="s2">y</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">r</span><span class="s3">=[];</span><span class="s2">e</span><span class="s3">.</span><span class="s2">length</span><span class="s3">;)</span><span class="s4">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s2">X</span><span class="s3">))</span><span class="s2">e</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">X</span><span class="s3">,</span><span class="s5">&quot;&quot;</span><span class="s3">);</span><span class="s4">else if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s2">ee</span><span class="s3">))</span><span class="s2">e</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">ee</span><span class="s3">,</span><span class="s5">&quot;/&quot;</span><span class="s3">);</span><span class="s4">else if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s2">re</span><span class="s3">))</span><span class="s2">e</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">re</span><span class="s3">,</span><span class="s5">&quot;/&quot;</span><span class="s3">),</span><span class="s2">r</span><span class="s3">.</span><span class="s2">pop</span><span class="s3">();</span><span class="s4">else if</span><span class="s3">(</span><span class="s5">&quot;.&quot;</span><span class="s3">===</span><span class="s2">e</span><span class="s3">||</span><span class="s5">&quot;..&quot;</span><span class="s3">===</span><span class="s2">e</span><span class="s3">)</span><span class="s2">e</span><span class="s3">=</span><span class="s5">&quot;&quot;</span><span class="s3">;</span><span class="s4">else</span><span class="s3">{</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s2">ne</span><span class="s3">);</span><span class="s4">if</span><span class="s3">(!</span><span class="s2">n</span><span class="s3">)</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s3">(</span><span class="s5">&quot;Unexpected dot segment condition&quot;</span><span class="s3">);</span><span class="s4">var </span><span class="s2">t</span><span class="s3">=</span><span class="s2">n</span><span class="s3">[</span><span class="s6">0</span><span class="s3">];</span><span class="s2">e</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s2">t</span><span class="s3">.</span><span class="s2">length</span><span class="s3">),</span><span class="s2">r</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">t</span><span class="s3">)}</span><span class="s4">return </span><span class="s2">r</span><span class="s3">.</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;&quot;</span><span class="s3">)}</span><span class="s4">function </span><span class="s2">S</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">var </span><span class="s2">r</span><span class="s3">=</span><span class="s2">arguments</span><span class="s3">.</span><span class="s2">length</span><span class="s3">&gt;</span><span class="s6">1</span><span class="s3">&amp;&amp;</span><span class="s2">arguments</span><span class="s3">[</span><span class="s6">1</span><span class="s3">]!==</span><span class="s2">undefined</span><span class="s3">?</span><span class="s2">arguments</span><span class="s3">[</span><span class="s6">1</span><span class="s3">]:{},</span><span class="s2">n</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">iri</span><span class="s3">?</span><span class="s2">R</span><span class="s3">:</span><span class="s2">F</span><span class="s3">,</span><span class="s2">t</span><span class="s3">=[],</span><span class="s2">o</span><span class="s3">=</span><span class="s2">J</span><span class="s3">[(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">||</span><span class="s2">e</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">||</span><span class="s5">&quot;&quot;</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">()];</span><span class="s4">if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">&amp;&amp;</span><span class="s2">o</span><span class="s3">.</span><span class="s2">serialize</span><span class="s3">&amp;&amp;</span><span class="s2">o</span><span class="s3">.</span><span class="s2">serialize</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">)</span><span class="s4">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">IPV6ADDRESS</span><span class="s3">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">));</span><span class="s4">else if</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">domainHost</span><span class="s3">||</span><span class="s2">o</span><span class="s3">&amp;&amp;</span><span class="s2">o</span><span class="s3">.</span><span class="s2">domainHost</span><span class="s3">)</span><span class="s4">try</span><span class="s3">{</span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">iri</span><span class="s3">?</span><span class="s2">B</span><span class="s3">.</span><span class="s2">toUnicode</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">):</span><span class="s2">B</span><span class="s3">.</span><span class="s2">toASCII</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">d</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">())}</span><span class="s4">catch</span><span class="s3">(</span><span class="s2">u</span><span class="s3">){</span><span class="s2">e</span><span class="s3">.</span><span class="s2">error</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">error</span><span class="s3">||</span><span class="s5">&quot;Host's domain name can not be converted to &quot;</span><span class="s3">+(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">iri</span><span class="s3">?</span><span class="s5">&quot;Unicode&quot;</span><span class="s3">:</span><span class="s5">&quot;ASCII&quot;</span><span class="s3">)+</span><span class="s5">&quot; via punycode: &quot;</span><span class="s3">+</span><span class="s2">u</span><span class="s3">}</span><span class="s2">l</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">n</span><span class="s3">),</span><span class="s5">&quot;suffix&quot;</span><span class="s3">!==</span><span class="s2">r</span><span class="s3">.</span><span class="s2">reference</span><span class="s3">&amp;&amp;</span><span class="s2">e</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">&amp;&amp;(</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">),</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s5">&quot;:&quot;</span><span class="s3">));</span><span class="s4">var </span><span class="s2">a</span><span class="s3">=</span><span class="s2">C</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">);</span><span class="s4">if</span><span class="s3">(</span><span class="s2">a</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">&amp;&amp;(</span><span class="s5">&quot;suffix&quot;</span><span class="s3">!==</span><span class="s2">r</span><span class="s3">.</span><span class="s2">reference</span><span class="s3">&amp;&amp;</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s5">&quot;//&quot;</span><span class="s3">),</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">a</span><span class="s3">),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">&amp;&amp;</span><span class="s5">&quot;/&quot;</span><span class="s3">!==</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">.</span><span class="s2">charAt</span><span class="s3">(</span><span class="s6">0</span><span class="s3">)&amp;&amp;</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s5">&quot;/&quot;</span><span class="s3">)),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">){</span><span class="s4">var </span><span class="s2">i</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">;</span><span class="s2">r</span><span class="s3">.</span><span class="s2">absolutePath</span><span class="s3">||</span><span class="s2">o</span><span class="s3">&amp;&amp;</span><span class="s2">o</span><span class="s3">.</span><span class="s2">absolutePath</span><span class="s3">||(</span><span class="s2">i</span><span class="s3">=</span><span class="s2">y</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)),</span><span class="s2">a</span><span class="s3">===</span><span class="s2">undefined</span><span class="s3">&amp;&amp;(</span><span class="s2">i</span><span class="s3">=</span><span class="s2">i</span><span class="s3">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s7">/^\/\//</span><span class="s3">,</span><span class="s5">&quot;/%2F&quot;</span><span class="s3">)),</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">i</span><span class="s3">)}</span><span class="s4">return </span><span class="s2">e</span><span class="s3">.</span><span class="s2">query</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">&amp;&amp;(</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s5">&quot;?&quot;</span><span class="s3">),</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">query</span><span class="s3">)),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">fragment</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">&amp;&amp;(</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s5">&quot;#&quot;</span><span class="s3">),</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">fragment</span><span class="s3">)),</span><span class="s2">t</span><span class="s3">.</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;&quot;</span><span class="s3">)}</span><span class="s4">function </span><span class="s2">A</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">arguments</span><span class="s3">.</span><span class="s2">length</span><span class="s3">&gt;</span><span class="s6">2</span><span class="s3">&amp;&amp;</span><span class="s2">arguments</span><span class="s3">[</span><span class="s6">2</span><span class="s3">]!==</span><span class="s2">undefined</span><span class="s3">?</span><span class="s2">arguments</span><span class="s3">[</span><span class="s6">2</span><span class="s3">]:{},</span><span class="s2">t</span><span class="s3">=</span><span class="s2">arguments</span><span class="s3">[</span><span class="s6">3</span><span class="s3">],</span><span class="s2">o</span><span class="s3">={};</span><span class="s4">return </span><span class="s2">t</span><span class="s3">||(</span><span class="s2">e</span><span class="s3">=</span><span class="s2">E</span><span class="s3">(</span><span class="s2">S</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">n</span><span class="s3">),</span><span class="s2">n</span><span class="s3">),</span><span class="s2">r</span><span class="s3">=</span><span class="s2">E</span><span class="s3">(</span><span class="s2">S</span><span class="s3">(</span><span class="s2">r</span><span class="s3">,</span><span class="s2">n</span><span class="s3">),</span><span class="s2">n</span><span class="s3">)),</span><span class="s2">n</span><span class="s3">=</span><span class="s2">n</span><span class="s3">||{},!</span><span class="s2">n</span><span class="s3">.</span><span class="s2">tolerant</span><span class="s3">&amp;&amp;</span><span class="s2">r</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">?(</span><span class="s2">o</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">,</span><span class="s2">o</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">,</span><span class="s2">o</span><span class="s3">.</span><span class="s2">host</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">host</span><span class="s3">,</span><span class="s2">o</span><span class="s3">.</span><span class="s2">port</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">port</span><span class="s3">,</span><span class="s2">o</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">y</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">path</span><span class="s3">||</span><span class="s5">&quot;&quot;</span><span class="s3">),</span><span class="s2">o</span><span class="s3">.</span><span class="s2">query</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">query</span><span class="s3">):(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">||</span><span class="s2">r</span><span class="s3">.</span><span class="s2">host</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">||</span><span class="s2">r</span><span class="s3">.</span><span class="s2">port</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">?(</span><span class="s2">o</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">,</span><span class="s2">o</span><span class="s3">.</span><span class="s2">host</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">host</span><span class="s3">,</span><span class="s2">o</span><span class="s3">.</span><span class="s2">port</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">port</span><span class="s3">,</span><span class="s2">o</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">y</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">path</span><span class="s3">||</span><span class="s5">&quot;&quot;</span><span class="s3">),</span><span class="s2">o</span><span class="s3">.</span><span class="s2">query</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">query</span><span class="s3">):(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">path</span><span class="s3">?(</span><span class="s5">&quot;/&quot;</span><span class="s3">===</span><span class="s2">r</span><span class="s3">.</span><span class="s2">path</span><span class="s3">.</span><span class="s2">charAt</span><span class="s3">(</span><span class="s6">0</span><span class="s3">)?</span><span class="s2">o</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">y</span><span class="s3">(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">path</span><span class="s3">):(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">===</span><span class="s2">undefined</span><span class="s3">&amp;&amp;</span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">===</span><span class="s2">undefined</span><span class="s3">&amp;&amp;</span><span class="s2">e</span><span class="s3">.</span><span class="s2">port</span><span class="s3">===</span><span class="s2">undefined</span><span class="s3">||</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">?</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">?</span><span class="s2">o</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s6">0</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">.</span><span class="s2">lastIndexOf</span><span class="s3">(</span><span class="s5">&quot;/&quot;</span><span class="s3">)+</span><span class="s6">1</span><span class="s3">)+</span><span class="s2">r</span><span class="s3">.</span><span class="s2">path</span><span class="s3">:</span><span class="s2">o</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">path</span><span class="s3">:</span><span class="s2">o</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s5">&quot;/&quot;</span><span class="s3">+</span><span class="s2">r</span><span class="s3">.</span><span class="s2">path</span><span class="s3">,</span><span class="s2">o</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">y</span><span class="s3">(</span><span class="s2">o</span><span class="s3">.</span><span class="s2">path</span><span class="s3">)),</span><span class="s2">o</span><span class="s3">.</span><span class="s2">query</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">query</span><span class="s3">):(</span><span class="s2">o</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">,</span><span class="s2">r</span><span class="s3">.</span><span class="s2">query</span><span class="s3">!==</span><span class="s2">undefined</span><span class="s3">?</span><span class="s2">o</span><span class="s3">.</span><span class="s2">query</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">query</span><span class="s3">:</span><span class="s2">o</span><span class="s3">.</span><span class="s2">query</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">query</span><span class="s3">),</span><span class="s2">o</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">userinfo</span><span class="s3">,</span><span class="s2">o</span><span class="s3">.</span><span class="s2">host</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">,</span><span class="s2">o</span><span class="s3">.</span><span class="s2">port</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">port</span><span class="s3">),</span><span class="s2">o</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">),</span><span class="s2">o</span><span class="s3">.</span><span class="s2">fragment</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">fragment</span><span class="s3">,</span><span class="s2">o</span><span class="s3">}</span><span class="s4">function </span><span class="s2">D</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">,</span><span class="s2">n</span><span class="s3">){</span><span class="s4">var </span><span class="s2">t</span><span class="s3">=</span><span class="s2">i</span><span class="s3">({</span><span class="s2">scheme</span><span class="s3">:</span><span class="s5">&quot;null&quot;</span><span class="s3">},</span><span class="s2">n</span><span class="s3">);</span><span class="s4">return </span><span class="s2">S</span><span class="s3">(</span><span class="s2">A</span><span class="s3">(</span><span class="s2">E</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">t</span><span class="s3">),</span><span class="s2">E</span><span class="s3">(</span><span class="s2">r</span><span class="s3">,</span><span class="s2">t</span><span class="s3">),</span><span class="s2">t</span><span class="s3">,!</span><span class="s6">0</span><span class="s3">),</span><span class="s2">t</span><span class="s3">)}</span><span class="s4">function </span><span class="s2">w</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">return</span><span class="s5">&quot;string&quot;</span><span class="s3">==</span><span class="s4">typeof </span><span class="s2">e</span><span class="s3">?</span><span class="s2">e</span><span class="s3">=</span><span class="s2">S</span><span class="s3">(</span><span class="s2">E</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">),</span><span class="s2">r</span><span class="s3">):</span><span class="s5">&quot;object&quot;</span><span class="s3">===</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)&amp;&amp;(</span><span class="s2">e</span><span class="s3">=</span><span class="s2">E</span><span class="s3">(</span><span class="s2">S</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">),</span><span class="s2">r</span><span class="s3">)),</span><span class="s2">e</span><span class="s3">}</span><span class="s4">function </span><span class="s2">b</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">,</span><span class="s2">n</span><span class="s3">){</span><span class="s4">return</span><span class="s5">&quot;string&quot;</span><span class="s3">==</span><span class="s4">typeof </span><span class="s2">e</span><span class="s3">?</span><span class="s2">e</span><span class="s3">=</span><span class="s2">S</span><span class="s3">(</span><span class="s2">E</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">n</span><span class="s3">),</span><span class="s2">n</span><span class="s3">):</span><span class="s5">&quot;object&quot;</span><span class="s3">===</span><span class="s2">t</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)&amp;&amp;(</span><span class="s2">e</span><span class="s3">=</span><span class="s2">S</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">n</span><span class="s3">)),</span><span class="s5">&quot;string&quot;</span><span class="s3">==</span><span class="s4">typeof </span><span class="s2">r</span><span class="s3">?</span><span class="s2">r</span><span class="s3">=</span><span class="s2">S</span><span class="s3">(</span><span class="s2">E</span><span class="s3">(</span><span class="s2">r</span><span class="s3">,</span><span class="s2">n</span><span class="s3">),</span><span class="s2">n</span><span class="s3">):</span><span class="s5">&quot;object&quot;</span><span class="s3">===</span><span class="s2">t</span><span class="s3">(</span><span class="s2">r</span><span class="s3">)&amp;&amp;(</span><span class="s2">r</span><span class="s3">=</span><span class="s2">S</span><span class="s3">(</span><span class="s2">r</span><span class="s3">,</span><span class="s2">n</span><span class="s3">)),</span><span class="s2">e</span><span class="s3">===</span><span class="s2">r</span><span class="s3">}</span><span class="s4">function </span><span class="s2">x</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">return </span><span class="s2">e</span><span class="s3">&amp;&amp;</span><span class="s2">e</span><span class="s3">.</span><span class="s2">toString</span><span class="s3">().</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">&amp;&amp;</span><span class="s2">r</span><span class="s3">.</span><span class="s2">iri</span><span class="s3">?</span><span class="s2">R</span><span class="s3">.</span><span class="s2">ESCAPE</span><span class="s3">:</span><span class="s2">F</span><span class="s3">.</span><span class="s2">ESCAPE</span><span class="s3">,</span><span class="s2">h</span><span class="s3">)}</span><span class="s4">function </span><span class="s2">O</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">return </span><span class="s2">e</span><span class="s3">&amp;&amp;</span><span class="s2">e</span><span class="s3">.</span><span class="s2">toString</span><span class="s3">().</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">r</span><span class="s3">&amp;&amp;</span><span class="s2">r</span><span class="s3">.</span><span class="s2">iri</span><span class="s3">?</span><span class="s2">R</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">:</span><span class="s2">F</span><span class="s3">.</span><span class="s2">PCT_ENCODED</span><span class="s3">,</span><span class="s2">d</span><span class="s3">)}</span><span class="s4">function </span><span class="s2">N</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">return</span><span class="s5">&quot;boolean&quot;</span><span class="s3">==</span><span class="s4">typeof </span><span class="s2">e</span><span class="s3">.</span><span class="s2">secure</span><span class="s3">?</span><span class="s2">e</span><span class="s3">.</span><span class="s2">secure</span><span class="s3">:</span><span class="s5">&quot;wss&quot;</span><span class="s3">===</span><span class="s2">String</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">()}</span><span class="s4">function </span><span class="s2">I</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">var </span><span class="s2">r</span><span class="s3">=</span><span class="s2">d</span><span class="s3">(</span><span class="s2">e</span><span class="s3">);</span><span class="s4">return </span><span class="s2">r</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s2">he</span><span class="s3">)?</span><span class="s2">r</span><span class="s3">:</span><span class="s2">e</span><span class="s3">}</span><span class="s4">var </span><span class="s2">F</span><span class="s3">=</span><span class="s2">u</span><span class="s3">(!</span><span class="s6">1</span><span class="s3">),</span><span class="s2">R</span><span class="s3">=</span><span class="s2">u</span><span class="s3">(!</span><span class="s6">0</span><span class="s3">),</span><span class="s2">T</span><span class="s3">=</span><span class="s4">function</span><span class="s3">(){</span><span class="s4">function </span><span class="s2">e</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=[],</span><span class="s2">t</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">,</span><span class="s2">o</span><span class="s3">=!</span><span class="s6">1</span><span class="s3">,</span><span class="s2">a</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">;</span><span class="s4">try</span><span class="s3">{</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">i</span><span class="s3">,</span><span class="s2">u</span><span class="s3">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">Symbol</span><span class="s3">.</span><span class="s2">iterator</span><span class="s3">]();!(</span><span class="s2">t</span><span class="s3">=(</span><span class="s2">i</span><span class="s3">=</span><span class="s2">u</span><span class="s3">.</span><span class="s2">next</span><span class="s3">()).</span><span class="s2">done</span><span class="s3">)&amp;&amp;(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">i</span><span class="s3">.</span><span class="s2">value</span><span class="s3">),!</span><span class="s2">r</span><span class="s3">||</span><span class="s2">n</span><span class="s3">.</span><span class="s2">length</span><span class="s3">!==</span><span class="s2">r</span><span class="s3">);</span><span class="s2">t</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">);}</span><span class="s4">catch</span><span class="s3">(</span><span class="s2">s</span><span class="s3">){</span><span class="s2">o</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">,</span><span class="s2">a</span><span class="s3">=</span><span class="s2">s</span><span class="s3">}</span><span class="s4">finally</span><span class="s3">{</span><span class="s4">try</span><span class="s3">{!</span><span class="s2">t</span><span class="s3">&amp;&amp;</span><span class="s2">u</span><span class="s3">[</span><span class="s5">&quot;return&quot;</span><span class="s3">]&amp;&amp;</span><span class="s2">u</span><span class="s3">[</span><span class="s5">&quot;return&quot;</span><span class="s3">]()}</span><span class="s4">finally</span><span class="s3">{</span><span class="s4">if</span><span class="s3">(</span><span class="s2">o</span><span class="s3">)</span><span class="s4">throw </span><span class="s2">a</span><span class="s3">}}</span><span class="s4">return </span><span class="s2">n</span><span class="s3">}</span><span class="s4">return function</span><span class="s3">(</span><span class="s2">r</span><span class="s3">,</span><span class="s2">n</span><span class="s3">){</span><span class="s4">if</span><span class="s3">(</span><span class="s2">Array</span><span class="s3">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">r</span><span class="s3">))</span><span class="s4">return </span><span class="s2">r</span><span class="s3">;</span><span class="s4">if</span><span class="s3">(</span><span class="s2">Symbol</span><span class="s3">.</span><span class="s2">iterator </span><span class="s4">in </span><span class="s2">Object</span><span class="s3">(</span><span class="s2">r</span><span class="s3">))</span><span class="s4">return </span><span class="s2">e</span><span class="s3">(</span><span class="s2">r</span><span class="s3">,</span><span class="s2">n</span><span class="s3">);</span><span class="s4">throw new </span><span class="s2">TypeError</span><span class="s3">(</span><span class="s5">&quot;Invalid attempt to destructure non-iterable instance&quot;</span><span class="s3">)}}(),</span><span class="s2">_</span><span class="s3">=</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">if</span><span class="s3">(</span><span class="s2">Array</span><span class="s3">.</span><span class="s2">isArray</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)){</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">r</span><span class="s3">=</span><span class="s6">0</span><span class="s3">,</span><span class="s2">n</span><span class="s3">=</span><span class="s2">Array</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">length</span><span class="s3">);</span><span class="s2">r</span><span class="s3">&lt;</span><span class="s2">e</span><span class="s3">.</span><span class="s2">length</span><span class="s3">;</span><span class="s2">r</span><span class="s3">++)</span><span class="s2">n</span><span class="s3">[</span><span class="s2">r</span><span class="s3">]=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">r</span><span class="s3">];</span><span class="s4">return </span><span class="s2">n</span><span class="s3">}</span><span class="s4">return </span><span class="s2">Array</span><span class="s3">.</span><span class="s2">from</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)},</span><span class="s2">P</span><span class="s3">=</span><span class="s6">2147483647</span><span class="s3">,</span><span class="s2">q</span><span class="s3">=</span><span class="s7">/^xn--/</span><span class="s3">,</span><span class="s2">U</span><span class="s3">=</span><span class="s7">/[^\0-\x7E]/</span><span class="s3">,</span><span class="s2">j</span><span class="s3">=</span><span class="s7">/[\x2E\u3002\uFF0E\uFF61]/g</span><span class="s3">,</span><span class="s2">H</span><span class="s3">={</span><span class="s2">overflow</span><span class="s3">:</span><span class="s5">&quot;Overflow: input needs wider integers to process&quot;</span><span class="s3">,</span><span class="s5">&quot;not-basic&quot;</span><span class="s3">:</span><span class="s5">&quot;Illegal input &gt;= 0x80 (not a basic code point)&quot;</span><span class="s3">,</span><span class="s5">&quot;invalid-input&quot;</span><span class="s3">:</span><span class="s5">&quot;Invalid input&quot;</span><span class="s3">},</span><span class="s2">z</span><span class="s3">=</span><span class="s2">Math</span><span class="s3">.</span><span class="s2">floor</span><span class="s3">,</span><span class="s2">L</span><span class="s3">=</span><span class="s2">String</span><span class="s3">.</span><span class="s2">fromCharCode</span><span class="s3">,</span><span class="s2">$</span><span class="s3">=</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">return </span><span class="s2">String</span><span class="s3">.</span><span class="s2">fromCodePoint</span><span class="s3">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">String</span><span class="s3">,</span><span class="s2">_</span><span class="s3">(</span><span class="s2">e</span><span class="s3">))},</span><span class="s2">M</span><span class="s3">=</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">return </span><span class="s2">e</span><span class="s3">-</span><span class="s6">48</span><span class="s3">&lt;</span><span class="s6">10</span><span class="s3">?</span><span class="s2">e</span><span class="s3">-</span><span class="s6">22</span><span class="s3">:</span><span class="s2">e</span><span class="s3">-</span><span class="s6">65</span><span class="s3">&lt;</span><span class="s6">26</span><span class="s3">?</span><span class="s2">e</span><span class="s3">-</span><span class="s6">65</span><span class="s3">:</span><span class="s2">e</span><span class="s3">-</span><span class="s6">97</span><span class="s3">&lt;</span><span class="s6">26</span><span class="s3">?</span><span class="s2">e</span><span class="s3">-</span><span class="s6">97</span><span class="s3">:</span><span class="s6">36</span><span class="s3">},</span><span class="s2">V</span><span class="s3">=</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">return </span><span class="s2">e</span><span class="s3">+</span><span class="s6">22</span><span class="s3">+</span><span class="s6">75</span><span class="s3">*(</span><span class="s2">e</span><span class="s3">&lt;</span><span class="s6">26</span><span class="s3">)-((</span><span class="s6">0</span><span class="s3">!=</span><span class="s2">r</span><span class="s3">)&lt;&lt;</span><span class="s6">5</span><span class="s3">)},</span><span class="s2">k</span><span class="s3">=</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">,</span><span class="s2">n</span><span class="s3">){</span><span class="s4">var </span><span class="s2">t</span><span class="s3">=</span><span class="s6">0</span><span class="s3">;</span><span class="s4">for</span><span class="s3">(</span><span class="s2">e</span><span class="s3">=</span><span class="s2">n</span><span class="s3">?</span><span class="s2">z</span><span class="s3">(</span><span class="s2">e</span><span class="s3">/</span><span class="s6">700</span><span class="s3">):</span><span class="s2">e</span><span class="s3">&gt;&gt;</span><span class="s6">1</span><span class="s3">,</span><span class="s2">e</span><span class="s3">+=</span><span class="s2">z</span><span class="s3">(</span><span class="s2">e</span><span class="s3">/</span><span class="s2">r</span><span class="s3">);</span><span class="s2">e</span><span class="s3">&gt;</span><span class="s6">455</span><span class="s3">;</span><span class="s2">t</span><span class="s3">+=</span><span class="s6">36</span><span class="s3">)</span><span class="s2">e</span><span class="s3">=</span><span class="s2">z</span><span class="s3">(</span><span class="s2">e</span><span class="s3">/</span><span class="s6">35</span><span class="s3">);</span><span class="s4">return </span><span class="s2">z</span><span class="s3">(</span><span class="s2">t</span><span class="s3">+</span><span class="s6">36</span><span class="s3">*</span><span class="s2">e</span><span class="s3">/(</span><span class="s2">e</span><span class="s3">+</span><span class="s6">38</span><span class="s3">))},</span><span class="s2">Z</span><span class="s3">=</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">var </span><span class="s2">r</span><span class="s3">=[],</span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">length</span><span class="s3">,</span><span class="s2">t</span><span class="s3">=</span><span class="s6">0</span><span class="s3">,</span><span class="s2">o</span><span class="s3">=</span><span class="s6">128</span><span class="s3">,</span><span class="s2">a</span><span class="s3">=</span><span class="s6">72</span><span class="s3">,</span><span class="s2">i</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">lastIndexOf</span><span class="s3">(</span><span class="s5">&quot;-&quot;</span><span class="s3">);</span><span class="s2">i</span><span class="s3">&lt;</span><span class="s6">0</span><span class="s3">&amp;&amp;(</span><span class="s2">i</span><span class="s3">=</span><span class="s6">0</span><span class="s3">);</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">u</span><span class="s3">=</span><span class="s6">0</span><span class="s3">;</span><span class="s2">u</span><span class="s3">&lt;</span><span class="s2">i</span><span class="s3">;++</span><span class="s2">u</span><span class="s3">)</span><span class="s2">e</span><span class="s3">.</span><span class="s2">charCodeAt</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)&gt;=</span><span class="s6">128</span><span class="s3">&amp;&amp;</span><span class="s2">s</span><span class="s3">(</span><span class="s5">&quot;not-basic&quot;</span><span class="s3">),</span><span class="s2">r</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">charCodeAt</span><span class="s3">(</span><span class="s2">u</span><span class="s3">));</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">f</span><span class="s3">=</span><span class="s2">i</span><span class="s3">&gt;</span><span class="s6">0</span><span class="s3">?</span><span class="s2">i</span><span class="s3">+</span><span class="s6">1</span><span class="s3">:</span><span class="s6">0</span><span class="s3">;</span><span class="s2">f</span><span class="s3">&lt;</span><span class="s2">n</span><span class="s3">;){</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">c</span><span class="s3">=</span><span class="s2">t</span><span class="s3">,</span><span class="s2">p</span><span class="s3">=</span><span class="s6">1</span><span class="s3">,</span><span class="s2">h</span><span class="s3">=</span><span class="s6">36</span><span class="s3">;;</span><span class="s2">h</span><span class="s3">+=</span><span class="s6">36</span><span class="s3">){</span><span class="s2">f</span><span class="s3">&gt;=</span><span class="s2">n</span><span class="s3">&amp;&amp;</span><span class="s2">s</span><span class="s3">(</span><span class="s5">&quot;invalid-input&quot;</span><span class="s3">);</span><span class="s4">var </span><span class="s2">d</span><span class="s3">=</span><span class="s2">M</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">charCodeAt</span><span class="s3">(</span><span class="s2">f</span><span class="s3">++));(</span><span class="s2">d</span><span class="s3">&gt;=</span><span class="s6">36</span><span class="s3">||</span><span class="s2">d</span><span class="s3">&gt;</span><span class="s2">z</span><span class="s3">((</span><span class="s2">P</span><span class="s3">-</span><span class="s2">t</span><span class="s3">)/</span><span class="s2">p</span><span class="s3">))&amp;&amp;</span><span class="s2">s</span><span class="s3">(</span><span class="s5">&quot;overflow&quot;</span><span class="s3">),</span><span class="s2">t</span><span class="s3">+=</span><span class="s2">d</span><span class="s3">*</span><span class="s2">p</span><span class="s3">;</span><span class="s4">var </span><span class="s2">l</span><span class="s3">=</span><span class="s2">h</span><span class="s3">&lt;=</span><span class="s2">a</span><span class="s3">?</span><span class="s6">1</span><span class="s3">:</span><span class="s2">h</span><span class="s3">&gt;=</span><span class="s2">a</span><span class="s3">+</span><span class="s6">26</span><span class="s3">?</span><span class="s6">26</span><span class="s3">:</span><span class="s2">h</span><span class="s3">-</span><span class="s2">a</span><span class="s3">;</span><span class="s4">if</span><span class="s3">(</span><span class="s2">d</span><span class="s3">&lt;</span><span class="s2">l</span><span class="s3">)</span><span class="s4">break</span><span class="s3">;</span><span class="s4">var </span><span class="s2">m</span><span class="s3">=</span><span class="s6">36</span><span class="s3">-</span><span class="s2">l</span><span class="s3">;</span><span class="s2">p</span><span class="s3">&gt;</span><span class="s2">z</span><span class="s3">(</span><span class="s2">P</span><span class="s3">/</span><span class="s2">m</span><span class="s3">)&amp;&amp;</span><span class="s2">s</span><span class="s3">(</span><span class="s5">&quot;overflow&quot;</span><span class="s3">),</span><span class="s2">p</span><span class="s3">*=</span><span class="s2">m</span><span class="s3">}</span><span class="s4">var </span><span class="s2">g</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">length</span><span class="s3">+</span><span class="s6">1</span><span class="s3">;</span><span class="s2">a</span><span class="s3">=</span><span class="s2">k</span><span class="s3">(</span><span class="s2">t</span><span class="s3">-</span><span class="s2">c</span><span class="s3">,</span><span class="s2">g</span><span class="s3">,</span><span class="s6">0</span><span class="s3">==</span><span class="s2">c</span><span class="s3">),</span><span class="s2">z</span><span class="s3">(</span><span class="s2">t</span><span class="s3">/</span><span class="s2">g</span><span class="s3">)&gt;</span><span class="s2">P</span><span class="s3">-</span><span class="s2">o</span><span class="s3">&amp;&amp;</span><span class="s2">s</span><span class="s3">(</span><span class="s5">&quot;overflow&quot;</span><span class="s3">),</span><span class="s2">o</span><span class="s3">+=</span><span class="s2">z</span><span class="s3">(</span><span class="s2">t</span><span class="s3">/</span><span class="s2">g</span><span class="s3">),</span><span class="s2">t</span><span class="s3">%=</span><span class="s2">g</span><span class="s3">,</span><span class="s2">r</span><span class="s3">.</span><span class="s2">splice</span><span class="s3">(</span><span class="s2">t</span><span class="s3">++,</span><span class="s6">0</span><span class="s3">,</span><span class="s2">o</span><span class="s3">)}</span><span class="s4">return </span><span class="s2">String</span><span class="s3">.</span><span class="s2">fromCodePoint</span><span class="s3">.</span><span class="s2">apply</span><span class="s3">(</span><span class="s2">String</span><span class="s3">,</span><span class="s2">r</span><span class="s3">)},</span><span class="s2">G</span><span class="s3">=</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">var </span><span class="s2">r</span><span class="s3">=[];</span><span class="s2">e</span><span class="s3">=</span><span class="s2">p</span><span class="s3">(</span><span class="s2">e</span><span class="s3">);</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">length</span><span class="s3">,</span><span class="s2">t</span><span class="s3">=</span><span class="s6">128</span><span class="s3">,</span><span class="s2">o</span><span class="s3">=</span><span class="s6">0</span><span class="s3">,</span><span class="s2">a</span><span class="s3">=</span><span class="s6">72</span><span class="s3">,</span><span class="s2">i</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">,</span><span class="s2">u</span><span class="s3">=!</span><span class="s6">1</span><span class="s3">,</span><span class="s2">f</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">;</span><span class="s4">try</span><span class="s3">{</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">c</span><span class="s3">,</span><span class="s2">h</span><span class="s3">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">Symbol</span><span class="s3">.</span><span class="s2">iterator</span><span class="s3">]();!(</span><span class="s2">i</span><span class="s3">=(</span><span class="s2">c</span><span class="s3">=</span><span class="s2">h</span><span class="s3">.</span><span class="s2">next</span><span class="s3">()).</span><span class="s2">done</span><span class="s3">);</span><span class="s2">i</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">){</span><span class="s4">var </span><span class="s2">d</span><span class="s3">=</span><span class="s2">c</span><span class="s3">.</span><span class="s2">value</span><span class="s3">;</span><span class="s2">d</span><span class="s3">&lt;</span><span class="s6">128</span><span class="s3">&amp;&amp;</span><span class="s2">r</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">L</span><span class="s3">(</span><span class="s2">d</span><span class="s3">))}}</span><span class="s4">catch</span><span class="s3">(</span><span class="s2">U</span><span class="s3">){</span><span class="s2">u</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">,</span><span class="s2">f</span><span class="s3">=</span><span class="s2">U</span><span class="s3">}</span><span class="s4">finally</span><span class="s3">{</span><span class="s4">try</span><span class="s3">{!</span><span class="s2">i</span><span class="s3">&amp;&amp;</span><span class="s2">h</span><span class="s3">[</span><span class="s5">&quot;return&quot;</span><span class="s3">]&amp;&amp;</span><span class="s2">h</span><span class="s3">[</span><span class="s5">&quot;return&quot;</span><span class="s3">]()}</span><span class="s4">finally</span><span class="s3">{</span><span class="s4">if</span><span class="s3">(</span><span class="s2">u</span><span class="s3">)</span><span class="s4">throw </span><span class="s2">f</span><span class="s3">}}</span><span class="s4">var </span><span class="s2">l</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">length</span><span class="s3">,</span><span class="s2">m</span><span class="s3">=</span><span class="s2">l</span><span class="s3">;</span><span class="s4">for</span><span class="s3">(</span><span class="s2">l</span><span class="s3">&amp;&amp;</span><span class="s2">r</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s5">&quot;-&quot;</span><span class="s3">);</span><span class="s2">m</span><span class="s3">&lt;</span><span class="s2">n</span><span class="s3">;){</span><span class="s4">var </span><span class="s2">g</span><span class="s3">=</span><span class="s2">P</span><span class="s3">,</span><span class="s2">v</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">,</span><span class="s2">E</span><span class="s3">=!</span><span class="s6">1</span><span class="s3">,</span><span class="s2">C</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">;</span><span class="s4">try</span><span class="s3">{</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">y</span><span class="s3">,</span><span class="s2">S</span><span class="s3">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">Symbol</span><span class="s3">.</span><span class="s2">iterator</span><span class="s3">]();!(</span><span class="s2">v</span><span class="s3">=(</span><span class="s2">y</span><span class="s3">=</span><span class="s2">S</span><span class="s3">.</span><span class="s2">next</span><span class="s3">()).</span><span class="s2">done</span><span class="s3">);</span><span class="s2">v</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">){</span><span class="s4">var </span><span class="s2">A</span><span class="s3">=</span><span class="s2">y</span><span class="s3">.</span><span class="s2">value</span><span class="s3">;</span><span class="s2">A</span><span class="s3">&gt;=</span><span class="s2">t</span><span class="s3">&amp;&amp;</span><span class="s2">A</span><span class="s3">&lt;</span><span class="s2">g</span><span class="s3">&amp;&amp;(</span><span class="s2">g</span><span class="s3">=</span><span class="s2">A</span><span class="s3">)}}</span><span class="s4">catch</span><span class="s3">(</span><span class="s2">U</span><span class="s3">){</span><span class="s2">E</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">,</span><span class="s2">C</span><span class="s3">=</span><span class="s2">U</span><span class="s3">}</span><span class="s4">finally</span><span class="s3">{</span><span class="s4">try</span><span class="s3">{!</span><span class="s2">v</span><span class="s3">&amp;&amp;</span><span class="s2">S</span><span class="s3">[</span><span class="s5">&quot;return&quot;</span><span class="s3">]&amp;&amp;</span><span class="s2">S</span><span class="s3">[</span><span class="s5">&quot;return&quot;</span><span class="s3">]()}</span><span class="s4">finally</span><span class="s3">{</span><span class="s4">if</span><span class="s3">(</span><span class="s2">E</span><span class="s3">)</span><span class="s4">throw </span><span class="s2">C</span><span class="s3">}}</span><span class="s4">var </span><span class="s2">D</span><span class="s3">=</span><span class="s2">m</span><span class="s3">+</span><span class="s6">1</span><span class="s3">;</span><span class="s2">g</span><span class="s3">-</span><span class="s2">t</span><span class="s3">&gt;</span><span class="s2">z</span><span class="s3">((</span><span class="s2">P</span><span class="s3">-</span><span class="s2">o</span><span class="s3">)/</span><span class="s2">D</span><span class="s3">)&amp;&amp;</span><span class="s2">s</span><span class="s3">(</span><span class="s5">&quot;overflow&quot;</span><span class="s3">),</span><span class="s2">o</span><span class="s3">+=(</span><span class="s2">g</span><span class="s3">-</span><span class="s2">t</span><span class="s3">)*</span><span class="s2">D</span><span class="s3">,</span><span class="s2">t</span><span class="s3">=</span><span class="s2">g</span><span class="s3">;</span><span class="s4">var </span><span class="s2">w</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">,</span><span class="s2">b</span><span class="s3">=!</span><span class="s6">1</span><span class="s3">,</span><span class="s2">x</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">;</span><span class="s4">try</span><span class="s3">{</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">O</span><span class="s3">,</span><span class="s2">N</span><span class="s3">=</span><span class="s2">e</span><span class="s3">[</span><span class="s2">Symbol</span><span class="s3">.</span><span class="s2">iterator</span><span class="s3">]();!(</span><span class="s2">w</span><span class="s3">=(</span><span class="s2">O</span><span class="s3">=</span><span class="s2">N</span><span class="s3">.</span><span class="s2">next</span><span class="s3">()).</span><span class="s2">done</span><span class="s3">);</span><span class="s2">w</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">){</span><span class="s4">var </span><span class="s2">I</span><span class="s3">=</span><span class="s2">O</span><span class="s3">.</span><span class="s2">value</span><span class="s3">;</span><span class="s4">if</span><span class="s3">(</span><span class="s2">I</span><span class="s3">&lt;</span><span class="s2">t</span><span class="s3">&amp;&amp;++</span><span class="s2">o</span><span class="s3">&gt;</span><span class="s2">P</span><span class="s3">&amp;&amp;</span><span class="s2">s</span><span class="s3">(</span><span class="s5">&quot;overflow&quot;</span><span class="s3">),</span><span class="s2">I</span><span class="s3">==</span><span class="s2">t</span><span class="s3">){</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">F</span><span class="s3">=</span><span class="s2">o</span><span class="s3">,</span><span class="s2">R</span><span class="s3">=</span><span class="s6">36</span><span class="s3">;;</span><span class="s2">R</span><span class="s3">+=</span><span class="s6">36</span><span class="s3">){</span><span class="s4">var </span><span class="s2">T</span><span class="s3">=</span><span class="s2">R</span><span class="s3">&lt;=</span><span class="s2">a</span><span class="s3">?</span><span class="s6">1</span><span class="s3">:</span><span class="s2">R</span><span class="s3">&gt;=</span><span class="s2">a</span><span class="s3">+</span><span class="s6">26</span><span class="s3">?</span><span class="s6">26</span><span class="s3">:</span><span class="s2">R</span><span class="s3">-</span><span class="s2">a</span><span class="s3">;</span><span class="s4">if</span><span class="s3">(</span><span class="s2">F</span><span class="s3">&lt;</span><span class="s2">T</span><span class="s3">)</span><span class="s4">break</span><span class="s3">;</span><span class="s4">var </span><span class="s2">_</span><span class="s3">=</span><span class="s2">F</span><span class="s3">-</span><span class="s2">T</span><span class="s3">,</span><span class="s2">q</span><span class="s3">=</span><span class="s6">36</span><span class="s3">-</span><span class="s2">T</span><span class="s3">;</span><span class="s2">r</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">L</span><span class="s3">(</span><span class="s2">V</span><span class="s3">(</span><span class="s2">T</span><span class="s3">+</span><span class="s2">_</span><span class="s3">%</span><span class="s2">q</span><span class="s3">,</span><span class="s6">0</span><span class="s3">))),</span><span class="s2">F</span><span class="s3">=</span><span class="s2">z</span><span class="s3">(</span><span class="s2">_</span><span class="s3">/</span><span class="s2">q</span><span class="s3">)}</span><span class="s2">r</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">L</span><span class="s3">(</span><span class="s2">V</span><span class="s3">(</span><span class="s2">F</span><span class="s3">,</span><span class="s6">0</span><span class="s3">))),</span><span class="s2">a</span><span class="s3">=</span><span class="s2">k</span><span class="s3">(</span><span class="s2">o</span><span class="s3">,</span><span class="s2">D</span><span class="s3">,</span><span class="s2">m</span><span class="s3">==</span><span class="s2">l</span><span class="s3">),</span><span class="s2">o</span><span class="s3">=</span><span class="s6">0</span><span class="s3">,++</span><span class="s2">m</span><span class="s3">}}}</span><span class="s4">catch</span><span class="s3">(</span><span class="s2">U</span><span class="s3">){</span><span class="s2">b</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">,</span><span class="s2">x</span><span class="s3">=</span><span class="s2">U</span><span class="s3">}</span><span class="s4">finally</span><span class="s3">{</span><span class="s4">try</span><span class="s3">{!</span><span class="s2">w</span><span class="s3">&amp;&amp;</span><span class="s2">N</span><span class="s3">[</span><span class="s5">&quot;return&quot;</span><span class="s3">]&amp;&amp;</span><span class="s2">N</span><span class="s3">[</span><span class="s5">&quot;return&quot;</span><span class="s3">]()}</span><span class="s4">finally</span><span class="s3">{</span><span class="s4">if</span><span class="s3">(</span><span class="s2">b</span><span class="s3">)</span><span class="s4">throw </span><span class="s2">x</span><span class="s3">}}++</span><span class="s2">o</span><span class="s3">,++</span><span class="s2">t</span><span class="s3">}</span><span class="s4">return </span><span class="s2">r</span><span class="s3">.</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;&quot;</span><span class="s3">)},</span><span class="s2">Q</span><span class="s3">=</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">return </span><span class="s2">c</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">return </span><span class="s2">q</span><span class="s3">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)?</span><span class="s2">Z</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s6">4</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">()):</span><span class="s2">e</span><span class="s3">})},</span><span class="s2">Y</span><span class="s3">=</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">return </span><span class="s2">c</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">){</span><span class="s4">return </span><span class="s2">U</span><span class="s3">.</span><span class="s2">test</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)?</span><span class="s5">&quot;xn--&quot;</span><span class="s3">+</span><span class="s2">G</span><span class="s3">(</span><span class="s2">e</span><span class="s3">):</span><span class="s2">e</span><span class="s3">})},</span><span class="s2">B</span><span class="s3">={</span><span class="s2">version</span><span class="s3">:</span><span class="s5">&quot;2.1.0&quot;</span><span class="s3">,</span><span class="s2">ucs2</span><span class="s3">:{</span><span class="s2">decode</span><span class="s3">:</span><span class="s2">p</span><span class="s3">,</span><span class="s2">encode</span><span class="s3">:</span><span class="s2">$</span><span class="s3">},</span><span class="s2">decode</span><span class="s3">:</span><span class="s2">Z</span><span class="s3">,</span><span class="s2">encode</span><span class="s3">:</span><span class="s2">G</span><span class="s3">,</span><span class="s2">toASCII</span><span class="s3">:</span><span class="s2">Y</span><span class="s3">,</span><span class="s2">toUnicode</span><span class="s3">:</span><span class="s2">Q</span><span class="s3">},</span><span class="s2">J</span><span class="s3">={},</span><span class="s2">K</span><span class="s3">=</span><span class="s7">/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i</span><span class="s3">,</span><span class="s2">W</span><span class="s3">=</span><span class="s5">&quot;&quot;</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s7">/(){0}/</span><span class="s3">)[</span><span class="s6">1</span><span class="s3">]===</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">X</span><span class="s3">=</span><span class="s7">/^\.\.?\//</span><span class="s3">,</span><span class="s2">ee</span><span class="s3">=</span><span class="s7">/^\/\.(\/|$)/</span><span class="s3">,</span><span class="s2">re</span><span class="s3">=</span><span class="s7">/^\/\.\.(\/|$)/</span><span class="s3">,</span><span class="s2">ne</span><span class="s3">=</span><span class="s7">/^\/?(?:.|\n)*?(?=\/|$)/</span><span class="s3">,</span><span class="s2">te</span><span class="s3">={</span><span class="s2">scheme</span><span class="s3">:</span><span class="s5">&quot;http&quot;</span><span class="s3">,</span><span class="s2">domainHost</span><span class="s3">:!</span><span class="s6">0</span><span class="s3">,</span><span class="s2">parse</span><span class="s3">:</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">return </span><span class="s2">e</span><span class="s3">.</span><span class="s2">host</span><span class="s3">||(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">error</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">error</span><span class="s3">||</span><span class="s5">&quot;HTTP URIs must have a host.&quot;</span><span class="s3">),</span><span class="s2">e</span><span class="s3">},</span><span class="s2">serialize</span><span class="s3">:</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s5">&quot;https&quot;</span><span class="s3">===</span><span class="s2">String</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">();</span><span class="s4">return </span><span class="s2">e</span><span class="s3">.</span><span class="s2">port</span><span class="s3">!==(</span><span class="s2">n</span><span class="s3">?</span><span class="s6">443</span><span class="s3">:</span><span class="s6">80</span><span class="s3">)&amp;&amp;</span><span class="s5">&quot;&quot;</span><span class="s3">!==</span><span class="s2">e</span><span class="s3">.</span><span class="s2">port</span><span class="s3">||(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">port</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">||(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s5">&quot;/&quot;</span><span class="s3">),</span><span class="s2">e</span><span class="s3">}},</span><span class="s2">oe</span><span class="s3">={</span><span class="s2">scheme</span><span class="s3">:</span><span class="s5">&quot;https&quot;</span><span class="s3">,</span><span class="s2">domainHost</span><span class="s3">:</span><span class="s2">te</span><span class="s3">.</span><span class="s2">domainHost</span><span class="s3">,</span><span class="s2">parse</span><span class="s3">:</span><span class="s2">te</span><span class="s3">.</span><span class="s2">parse</span><span class="s3">,</span><span class="s2">serialize</span><span class="s3">:</span><span class="s2">te</span><span class="s3">.</span><span class="s2">serialize</span><span class="s3">},</span><span class="s2">ae</span><span class="s3">={</span><span class="s2">scheme</span><span class="s3">:</span><span class="s5">&quot;ws&quot;</span><span class="s3">,</span><span class="s2">domainHost</span><span class="s3">:!</span><span class="s6">0</span><span class="s3">,</span><span class="s2">parse</span><span class="s3">:</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">;</span><span class="s4">return </span><span class="s2">n</span><span class="s3">.</span><span class="s2">secure</span><span class="s3">=</span><span class="s2">N</span><span class="s3">(</span><span class="s2">n</span><span class="s3">),</span><span class="s2">n</span><span class="s3">.</span><span class="s2">resourceName</span><span class="s3">=(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">path</span><span class="s3">||</span><span class="s5">&quot;/&quot;</span><span class="s3">)+(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">query</span><span class="s3">?</span><span class="s5">&quot;?&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">.</span><span class="s2">query</span><span class="s3">:</span><span class="s5">&quot;&quot;</span><span class="s3">),</span><span class="s2">n</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">n</span><span class="s3">.</span><span class="s2">query</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">n</span><span class="s3">},</span><span class="s2">serialize</span><span class="s3">:</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">if</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">port</span><span class="s3">!==(</span><span class="s2">N</span><span class="s3">(</span><span class="s2">e</span><span class="s3">)?</span><span class="s6">443</span><span class="s3">:</span><span class="s6">80</span><span class="s3">)&amp;&amp;</span><span class="s5">&quot;&quot;</span><span class="s3">!==</span><span class="s2">e</span><span class="s3">.</span><span class="s2">port</span><span class="s3">||(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">port</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">),</span><span class="s5">&quot;boolean&quot;</span><span class="s3">==</span><span class="s4">typeof </span><span class="s2">e</span><span class="s3">.</span><span class="s2">secure</span><span class="s3">&amp;&amp;(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">secure</span><span class="s3">?</span><span class="s5">&quot;wss&quot;</span><span class="s3">:</span><span class="s5">&quot;ws&quot;</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">secure</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">resourceName</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">resourceName</span><span class="s3">.</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;?&quot;</span><span class="s3">),</span><span class="s2">t</span><span class="s3">=</span><span class="s2">T</span><span class="s3">(</span><span class="s2">n</span><span class="s3">,</span><span class="s6">2</span><span class="s3">),</span><span class="s2">o</span><span class="s3">=</span><span class="s2">t</span><span class="s3">[</span><span class="s6">0</span><span class="s3">],</span><span class="s2">a</span><span class="s3">=</span><span class="s2">t</span><span class="s3">[</span><span class="s6">1</span><span class="s3">];</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">o</span><span class="s3">&amp;&amp;</span><span class="s5">&quot;/&quot;</span><span class="s3">!==</span><span class="s2">o</span><span class="s3">?</span><span class="s2">o</span><span class="s3">:</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">query</span><span class="s3">=</span><span class="s2">a</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">resourceName</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">}</span><span class="s4">return </span><span class="s2">e</span><span class="s3">.</span><span class="s2">fragment</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">e</span><span class="s3">}},</span><span class="s2">ie</span><span class="s3">={</span><span class="s2">scheme</span><span class="s3">:</span><span class="s5">&quot;wss&quot;</span><span class="s3">,</span><span class="s2">domainHost</span><span class="s3">:</span><span class="s2">ae</span><span class="s3">.</span><span class="s2">domainHost</span><span class="s3">,</span><span class="s2">parse</span><span class="s3">:</span><span class="s2">ae</span><span class="s3">.</span><span class="s2">parse</span><span class="s3">,</span><span class="s2">serialize</span><span class="s3">:</span><span class="s2">ae</span><span class="s3">.</span><span class="s2">serialize</span><span class="s3">},</span><span class="s2">ue</span><span class="s3">={},</span><span class="s2">se</span><span class="s3">=</span><span class="s5">&quot;[A-Za-z0-9</span><span class="s4">\\</span><span class="s5">-</span><span class="s4">\\</span><span class="s5">.</span><span class="s4">\\</span><span class="s5">_</span><span class="s4">\\</span><span class="s5">~</span><span class="s4">\\</span><span class="s5">xA0-</span><span class="s4">\\</span><span class="s5">u200D</span><span class="s4">\\</span><span class="s5">u2010-</span><span class="s4">\\</span><span class="s5">u2029</span><span class="s4">\\</span><span class="s5">u202F-</span><span class="s4">\\</span><span class="s5">uD7FF</span><span class="s4">\\</span><span class="s5">uF900-</span><span class="s4">\\</span><span class="s5">uFDCF</span><span class="s4">\\</span><span class="s5">uFDF0-</span><span class="s4">\\</span><span class="s5">uFFEF]&quot;</span><span class="s3">,</span><span class="s2">fe</span><span class="s3">=</span><span class="s5">&quot;[0-9A-Fa-f]&quot;</span><span class="s3">,</span><span class="s2">ce</span><span class="s3">=</span><span class="s2">n</span><span class="s3">(</span><span class="s2">n</span><span class="s3">(</span><span class="s5">&quot;%[EFef][0-9A-Fa-f]%&quot;</span><span class="s3">+</span><span class="s2">fe</span><span class="s3">+</span><span class="s2">fe</span><span class="s3">+</span><span class="s5">&quot;%&quot;</span><span class="s3">+</span><span class="s2">fe</span><span class="s3">+</span><span class="s2">fe</span><span class="s3">)+</span><span class="s5">&quot;|&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">(</span><span class="s5">&quot;%[89A-Fa-f][0-9A-Fa-f]%&quot;</span><span class="s3">+</span><span class="s2">fe</span><span class="s3">+</span><span class="s2">fe</span><span class="s3">)+</span><span class="s5">&quot;|&quot;</span><span class="s3">+</span><span class="s2">n</span><span class="s3">(</span><span class="s5">&quot;%&quot;</span><span class="s3">+</span><span class="s2">fe</span><span class="s3">+</span><span class="s2">fe</span><span class="s3">)),</span><span class="s2">pe</span><span class="s3">=</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[</span><span class="s4">\\</span><span class="s5">!</span><span class="s4">\\</span><span class="s5">$</span><span class="s4">\\</span><span class="s5">%</span><span class="s4">\\</span><span class="s5">'</span><span class="s4">\\</span><span class="s5">(</span><span class="s4">\\</span><span class="s5">)</span><span class="s4">\\</span><span class="s5">*</span><span class="s4">\\</span><span class="s5">+</span><span class="s4">\\</span><span class="s5">,</span><span class="s4">\\</span><span class="s5">-</span><span class="s4">\\</span><span class="s5">.0-9</span><span class="s4">\\</span><span class="s5">&lt;</span><span class="s4">\\</span><span class="s5">&gt;A-Z</span><span class="s4">\\</span><span class="s5">x5E-</span><span class="s4">\\</span><span class="s5">x7E]&quot;</span><span class="s3">,</span><span class="s5">'[</span><span class="s4">\\</span><span class="s5">&quot;</span><span class="s4">\\\\</span><span class="s5">]'</span><span class="s3">),</span><span class="s2">he</span><span class="s3">=</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">se</span><span class="s3">,</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">de</span><span class="s3">=</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">ce</span><span class="s3">,</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">le</span><span class="s3">=</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[^]&quot;</span><span class="s3">,</span><span class="s5">&quot;[A-Za-z0-9</span><span class="s4">\\</span><span class="s5">!</span><span class="s4">\\</span><span class="s5">$</span><span class="s4">\\</span><span class="s5">%</span><span class="s4">\\</span><span class="s5">'</span><span class="s4">\\</span><span class="s5">*</span><span class="s4">\\</span><span class="s5">+</span><span class="s4">\\</span><span class="s5">-</span><span class="s4">\\</span><span class="s5">^</span><span class="s4">\\</span><span class="s5">_</span><span class="s4">\\</span><span class="s5">`</span><span class="s4">\\</span><span class="s5">{</span><span class="s4">\\</span><span class="s5">|</span><span class="s4">\\</span><span class="s5">}</span><span class="s4">\\</span><span class="s5">~]&quot;</span><span class="s3">,</span><span class="s5">&quot;[</span><span class="s4">\\</span><span class="s5">.]&quot;</span><span class="s3">,</span><span class="s5">'[</span><span class="s4">\\</span><span class="s5">&quot;]'</span><span class="s3">,</span><span class="s2">pe</span><span class="s3">),</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">me</span><span class="s3">=</span><span class="s4">new </span><span class="s2">RegExp</span><span class="s3">(</span><span class="s2">r</span><span class="s3">(</span><span class="s5">&quot;[^]&quot;</span><span class="s3">,</span><span class="s2">se</span><span class="s3">,</span><span class="s5">&quot;[</span><span class="s4">\\</span><span class="s5">!</span><span class="s4">\\</span><span class="s5">$</span><span class="s4">\\</span><span class="s5">'</span><span class="s4">\\</span><span class="s5">(</span><span class="s4">\\</span><span class="s5">)</span><span class="s4">\\</span><span class="s5">*</span><span class="s4">\\</span><span class="s5">+</span><span class="s4">\\</span><span class="s5">,</span><span class="s4">\\</span><span class="s5">;</span><span class="s4">\\</span><span class="s5">:</span><span class="s4">\\</span><span class="s5">@]&quot;</span><span class="s3">),</span><span class="s5">&quot;g&quot;</span><span class="s3">),</span><span class="s2">ge</span><span class="s3">=</span><span class="s2">me</span><span class="s3">,</span><span class="s2">ve</span><span class="s3">={</span><span class="s2">scheme</span><span class="s3">:</span><span class="s5">&quot;mailto&quot;</span><span class="s3">,</span><span class="s2">parse</span><span class="s3">:</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">,</span><span class="s2">t</span><span class="s3">=</span><span class="s2">n</span><span class="s3">.</span><span class="s2">to</span><span class="s3">=</span><span class="s2">n</span><span class="s3">.</span><span class="s2">path</span><span class="s3">?</span><span class="s2">n</span><span class="s3">.</span><span class="s2">path</span><span class="s3">.</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;,&quot;</span><span class="s3">):[];</span><span class="s4">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">n</span><span class="s3">.</span><span class="s2">query</span><span class="s3">){</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">o</span><span class="s3">=!</span><span class="s6">1</span><span class="s3">,</span><span class="s2">a</span><span class="s3">={},</span><span class="s2">i</span><span class="s3">=</span><span class="s2">n</span><span class="s3">.</span><span class="s2">query</span><span class="s3">.</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;&amp;&quot;</span><span class="s3">),</span><span class="s2">u</span><span class="s3">=</span><span class="s6">0</span><span class="s3">,</span><span class="s2">s</span><span class="s3">=</span><span class="s2">i</span><span class="s3">.</span><span class="s2">length</span><span class="s3">;</span><span class="s2">u</span><span class="s3">&lt;</span><span class="s2">s</span><span class="s3">;++</span><span class="s2">u</span><span class="s3">){</span><span class="s4">var </span><span class="s2">f</span><span class="s3">=</span><span class="s2">i</span><span class="s3">[</span><span class="s2">u</span><span class="s3">].</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;=&quot;</span><span class="s3">);</span><span class="s4">switch</span><span class="s3">(</span><span class="s2">f</span><span class="s3">[</span><span class="s6">0</span><span class="s3">]){</span><span class="s4">case</span><span class="s5">&quot;to&quot;</span><span class="s3">:</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">c</span><span class="s3">=</span><span class="s2">f</span><span class="s3">[</span><span class="s6">1</span><span class="s3">].</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;,&quot;</span><span class="s3">),</span><span class="s2">p</span><span class="s3">=</span><span class="s6">0</span><span class="s3">,</span><span class="s2">h</span><span class="s3">=</span><span class="s2">c</span><span class="s3">.</span><span class="s2">length</span><span class="s3">;</span><span class="s2">p</span><span class="s3">&lt;</span><span class="s2">h</span><span class="s3">;++</span><span class="s2">p</span><span class="s3">)</span><span class="s2">t</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">c</span><span class="s3">[</span><span class="s2">p</span><span class="s3">]);</span><span class="s4">break</span><span class="s3">;</span><span class="s4">case</span><span class="s5">&quot;subject&quot;</span><span class="s3">:</span><span class="s2">n</span><span class="s3">.</span><span class="s2">subject</span><span class="s3">=</span><span class="s2">O</span><span class="s3">(</span><span class="s2">f</span><span class="s3">[</span><span class="s6">1</span><span class="s3">],</span><span class="s2">r</span><span class="s3">);</span><span class="s4">break</span><span class="s3">;</span><span class="s4">case</span><span class="s5">&quot;body&quot;</span><span class="s3">:</span><span class="s2">n</span><span class="s3">.</span><span class="s2">body</span><span class="s3">=</span><span class="s2">O</span><span class="s3">(</span><span class="s2">f</span><span class="s3">[</span><span class="s6">1</span><span class="s3">],</span><span class="s2">r</span><span class="s3">);</span><span class="s4">break</span><span class="s3">;</span><span class="s4">default</span><span class="s3">:</span><span class="s2">o</span><span class="s3">=!</span><span class="s6">0</span><span class="s3">,</span><span class="s2">a</span><span class="s3">[</span><span class="s2">O</span><span class="s3">(</span><span class="s2">f</span><span class="s3">[</span><span class="s6">0</span><span class="s3">],</span><span class="s2">r</span><span class="s3">)]=</span><span class="s2">O</span><span class="s3">(</span><span class="s2">f</span><span class="s3">[</span><span class="s6">1</span><span class="s3">],</span><span class="s2">r</span><span class="s3">)}}</span><span class="s2">o</span><span class="s3">&amp;&amp;(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">headers</span><span class="s3">=</span><span class="s2">a</span><span class="s3">)}</span><span class="s2">n</span><span class="s3">.</span><span class="s2">query</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">;</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">d</span><span class="s3">=</span><span class="s6">0</span><span class="s3">,</span><span class="s2">l</span><span class="s3">=</span><span class="s2">t</span><span class="s3">.</span><span class="s2">length</span><span class="s3">;</span><span class="s2">d</span><span class="s3">&lt;</span><span class="s2">l</span><span class="s3">;++</span><span class="s2">d</span><span class="s3">){</span><span class="s4">var </span><span class="s2">m</span><span class="s3">=</span><span class="s2">t</span><span class="s3">[</span><span class="s2">d</span><span class="s3">].</span><span class="s2">split</span><span class="s3">(</span><span class="s5">&quot;@&quot;</span><span class="s3">);</span><span class="s4">if</span><span class="s3">(</span><span class="s2">m</span><span class="s3">[</span><span class="s6">0</span><span class="s3">]=</span><span class="s2">O</span><span class="s3">(</span><span class="s2">m</span><span class="s3">[</span><span class="s6">0</span><span class="s3">]),</span><span class="s2">r</span><span class="s3">.</span><span class="s2">unicodeSupport</span><span class="s3">)</span><span class="s2">m</span><span class="s3">[</span><span class="s6">1</span><span class="s3">]=</span><span class="s2">O</span><span class="s3">(</span><span class="s2">m</span><span class="s3">[</span><span class="s6">1</span><span class="s3">],</span><span class="s2">r</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">();</span><span class="s4">else try</span><span class="s3">{</span><span class="s2">m</span><span class="s3">[</span><span class="s6">1</span><span class="s3">]=</span><span class="s2">B</span><span class="s3">.</span><span class="s2">toASCII</span><span class="s3">(</span><span class="s2">O</span><span class="s3">(</span><span class="s2">m</span><span class="s3">[</span><span class="s6">1</span><span class="s3">],</span><span class="s2">r</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">())}</span><span class="s4">catch</span><span class="s3">(</span><span class="s2">g</span><span class="s3">){</span><span class="s2">n</span><span class="s3">.</span><span class="s2">error</span><span class="s3">=</span><span class="s2">n</span><span class="s3">.</span><span class="s2">error</span><span class="s3">||</span><span class="s5">&quot;Email address's domain name can not be converted to ASCII via punycode: &quot;</span><span class="s3">+</span><span class="s2">g</span><span class="s3">}</span><span class="s2">t</span><span class="s3">[</span><span class="s2">d</span><span class="s3">]=</span><span class="s2">m</span><span class="s3">.</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;@&quot;</span><span class="s3">)}</span><span class="s4">return </span><span class="s2">n</span><span class="s3">},</span><span class="s2">serialize</span><span class="s3">:</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">,</span><span class="s2">t</span><span class="s3">=</span><span class="s2">a</span><span class="s3">(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">to</span><span class="s3">);</span><span class="s4">if</span><span class="s3">(</span><span class="s2">t</span><span class="s3">){</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">i</span><span class="s3">=</span><span class="s6">0</span><span class="s3">,</span><span class="s2">u</span><span class="s3">=</span><span class="s2">t</span><span class="s3">.</span><span class="s2">length</span><span class="s3">;</span><span class="s2">i</span><span class="s3">&lt;</span><span class="s2">u</span><span class="s3">;++</span><span class="s2">i</span><span class="s3">){</span><span class="s4">var </span><span class="s2">s</span><span class="s3">=</span><span class="s2">String</span><span class="s3">(</span><span class="s2">t</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]),</span><span class="s2">f</span><span class="s3">=</span><span class="s2">s</span><span class="s3">.</span><span class="s2">lastIndexOf</span><span class="s3">(</span><span class="s5">&quot;@&quot;</span><span class="s3">),</span><span class="s2">c</span><span class="s3">=</span><span class="s2">s</span><span class="s3">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s6">0</span><span class="s3">,</span><span class="s2">f</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">de</span><span class="s3">,</span><span class="s2">I</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">de</span><span class="s3">,</span><span class="s2">o</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">le</span><span class="s3">,</span><span class="s2">h</span><span class="s3">),</span><span class="s2">p</span><span class="s3">=</span><span class="s2">s</span><span class="s3">.</span><span class="s2">slice</span><span class="s3">(</span><span class="s2">f</span><span class="s3">+</span><span class="s6">1</span><span class="s3">);</span><span class="s4">try</span><span class="s3">{</span><span class="s2">p</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">iri</span><span class="s3">?</span><span class="s2">B</span><span class="s3">.</span><span class="s2">toUnicode</span><span class="s3">(</span><span class="s2">p</span><span class="s3">):</span><span class="s2">B</span><span class="s3">.</span><span class="s2">toASCII</span><span class="s3">(</span><span class="s2">O</span><span class="s3">(</span><span class="s2">p</span><span class="s3">,</span><span class="s2">r</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">())}</span><span class="s4">catch</span><span class="s3">(</span><span class="s2">g</span><span class="s3">){</span><span class="s2">n</span><span class="s3">.</span><span class="s2">error</span><span class="s3">=</span><span class="s2">n</span><span class="s3">.</span><span class="s2">error</span><span class="s3">||</span><span class="s5">&quot;Email address's domain name can not be converted to &quot;</span><span class="s3">+(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">iri</span><span class="s3">?</span><span class="s5">&quot;Unicode&quot;</span><span class="s3">:</span><span class="s5">&quot;ASCII&quot;</span><span class="s3">)+</span><span class="s5">&quot; via punycode: &quot;</span><span class="s3">+</span><span class="s2">g</span><span class="s3">}</span><span class="s2">t</span><span class="s3">[</span><span class="s2">i</span><span class="s3">]=</span><span class="s2">c</span><span class="s3">+</span><span class="s5">&quot;@&quot;</span><span class="s3">+</span><span class="s2">p</span><span class="s3">}</span><span class="s2">n</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">t</span><span class="s3">.</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;,&quot;</span><span class="s3">)}</span><span class="s4">var </span><span class="s2">d</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">headers</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">headers</span><span class="s3">||{};</span><span class="s2">e</span><span class="s3">.</span><span class="s2">subject</span><span class="s3">&amp;&amp;(</span><span class="s2">d</span><span class="s3">.</span><span class="s2">subject</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">subject</span><span class="s3">),</span><span class="s2">e</span><span class="s3">.</span><span class="s2">body</span><span class="s3">&amp;&amp;(</span><span class="s2">d</span><span class="s3">.</span><span class="s2">body</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">body</span><span class="s3">);</span><span class="s4">var </span><span class="s2">l</span><span class="s3">=[];</span><span class="s4">for</span><span class="s3">(</span><span class="s4">var </span><span class="s2">m </span><span class="s4">in </span><span class="s2">d</span><span class="s3">)</span><span class="s2">d</span><span class="s3">[</span><span class="s2">m</span><span class="s3">]!==</span><span class="s2">ue</span><span class="s3">[</span><span class="s2">m</span><span class="s3">]&amp;&amp;</span><span class="s2">l</span><span class="s3">.</span><span class="s2">push</span><span class="s3">(</span><span class="s2">m</span><span class="s3">.</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">de</span><span class="s3">,</span><span class="s2">I</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">de</span><span class="s3">,</span><span class="s2">o</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">me</span><span class="s3">,</span><span class="s2">h</span><span class="s3">)+</span><span class="s5">&quot;=&quot;</span><span class="s3">+</span><span class="s2">d</span><span class="s3">[</span><span class="s2">m</span><span class="s3">].</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">de</span><span class="s3">,</span><span class="s2">I</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">de</span><span class="s3">,</span><span class="s2">o</span><span class="s3">).</span><span class="s2">replace</span><span class="s3">(</span><span class="s2">ge</span><span class="s3">,</span><span class="s2">h</span><span class="s3">));</span><span class="s4">return </span><span class="s2">l</span><span class="s3">.</span><span class="s2">length</span><span class="s3">&amp;&amp;(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">query</span><span class="s3">=</span><span class="s2">l</span><span class="s3">.</span><span class="s2">join</span><span class="s3">(</span><span class="s5">&quot;&amp;&quot;</span><span class="s3">)),</span><span class="s2">n</span><span class="s3">}},</span><span class="s2">Ee</span><span class="s3">=</span><span class="s7">/^([^\:]+)\:(.*)/</span><span class="s3">,</span><span class="s2">Ce</span><span class="s3">={</span><span class="s2">scheme</span><span class="s3">:</span><span class="s5">&quot;urn&quot;</span><span class="s3">,</span><span class="s2">parse</span><span class="s3">:</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">&amp;&amp;</span><span class="s2">e</span><span class="s3">.</span><span class="s2">path</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s2">Ee</span><span class="s3">),</span><span class="s2">t</span><span class="s3">=</span><span class="s2">e</span><span class="s3">;</span><span class="s4">if</span><span class="s3">(</span><span class="s2">n</span><span class="s3">){</span><span class="s4">var </span><span class="s2">o</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">||</span><span class="s2">t</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">||</span><span class="s5">&quot;urn&quot;</span><span class="s3">,</span><span class="s2">a</span><span class="s3">=</span><span class="s2">n</span><span class="s3">[</span><span class="s6">1</span><span class="s3">].</span><span class="s2">toLowerCase</span><span class="s3">(),</span><span class="s2">i</span><span class="s3">=</span><span class="s2">n</span><span class="s3">[</span><span class="s6">2</span><span class="s3">],</span><span class="s2">u</span><span class="s3">=</span><span class="s2">o</span><span class="s3">+</span><span class="s5">&quot;:&quot;</span><span class="s3">+(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">nid</span><span class="s3">||</span><span class="s2">a</span><span class="s3">),</span><span class="s2">s</span><span class="s3">=</span><span class="s2">J</span><span class="s3">[</span><span class="s2">u</span><span class="s3">];</span><span class="s2">t</span><span class="s3">.</span><span class="s2">nid</span><span class="s3">=</span><span class="s2">a</span><span class="s3">,</span><span class="s2">t</span><span class="s3">.</span><span class="s2">nss</span><span class="s3">=</span><span class="s2">i</span><span class="s3">,</span><span class="s2">t</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">s</span><span class="s3">&amp;&amp;(</span><span class="s2">t</span><span class="s3">=</span><span class="s2">s</span><span class="s3">.</span><span class="s2">parse</span><span class="s3">(</span><span class="s2">t</span><span class="s3">,</span><span class="s2">r</span><span class="s3">))}</span><span class="s4">else </span><span class="s2">t</span><span class="s3">.</span><span class="s2">error</span><span class="s3">=</span><span class="s2">t</span><span class="s3">.</span><span class="s2">error</span><span class="s3">||</span><span class="s5">&quot;URN can not be parsed.&quot;</span><span class="s3">;</span><span class="s4">return </span><span class="s2">t</span><span class="s3">},</span><span class="s2">serialize</span><span class="s3">:</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">r</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">||</span><span class="s2">e</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">||</span><span class="s5">&quot;urn&quot;</span><span class="s3">,</span><span class="s2">t</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">nid</span><span class="s3">,</span><span class="s2">o</span><span class="s3">=</span><span class="s2">n</span><span class="s3">+</span><span class="s5">&quot;:&quot;</span><span class="s3">+(</span><span class="s2">r</span><span class="s3">.</span><span class="s2">nid</span><span class="s3">||</span><span class="s2">t</span><span class="s3">),</span><span class="s2">a</span><span class="s3">=</span><span class="s2">J</span><span class="s3">[</span><span class="s2">o</span><span class="s3">];</span><span class="s2">a</span><span class="s3">&amp;&amp;(</span><span class="s2">e</span><span class="s3">=</span><span class="s2">a</span><span class="s3">.</span><span class="s2">serialize</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">));</span><span class="s4">var </span><span class="s2">i</span><span class="s3">=</span><span class="s2">e</span><span class="s3">,</span><span class="s2">u</span><span class="s3">=</span><span class="s2">e</span><span class="s3">.</span><span class="s2">nss</span><span class="s3">;</span><span class="s4">return </span><span class="s2">i</span><span class="s3">.</span><span class="s2">path</span><span class="s3">=(</span><span class="s2">t</span><span class="s3">||</span><span class="s2">r</span><span class="s3">.</span><span class="s2">nid</span><span class="s3">)+</span><span class="s5">&quot;:&quot;</span><span class="s3">+</span><span class="s2">u</span><span class="s3">,</span><span class="s2">i</span><span class="s3">}},</span><span class="s2">ye</span><span class="s3">=</span><span class="s7">/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/</span><span class="s3">,</span><span class="s2">Se</span><span class="s3">={</span><span class="s2">scheme</span><span class="s3">:</span><span class="s5">&quot;urn:uuid&quot;</span><span class="s3">,</span><span class="s2">parse</span><span class="s3">:</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">;</span><span class="s4">return </span><span class="s2">n</span><span class="s3">.</span><span class="s2">uuid</span><span class="s3">=</span><span class="s2">n</span><span class="s3">.</span><span class="s2">nss</span><span class="s3">,</span><span class="s2">n</span><span class="s3">.</span><span class="s2">nss</span><span class="s3">=</span><span class="s2">undefined</span><span class="s3">,</span><span class="s2">r</span><span class="s3">.</span><span class="s2">tolerant</span><span class="s3">||</span><span class="s2">n</span><span class="s3">.</span><span class="s2">uuid</span><span class="s3">&amp;&amp;</span><span class="s2">n</span><span class="s3">.</span><span class="s2">uuid</span><span class="s3">.</span><span class="s2">match</span><span class="s3">(</span><span class="s2">ye</span><span class="s3">)||(</span><span class="s2">n</span><span class="s3">.</span><span class="s2">error</span><span class="s3">=</span><span class="s2">n</span><span class="s3">.</span><span class="s2">error</span><span class="s3">||</span><span class="s5">&quot;UUID is not valid.&quot;</span><span class="s3">),</span><span class="s2">n</span><span class="s3">},</span><span class="s2">serialize</span><span class="s3">:</span><span class="s4">function</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s2">r</span><span class="s3">){</span><span class="s4">var </span><span class="s2">n</span><span class="s3">=</span><span class="s2">e</span><span class="s3">;</span><span class="s4">return </span><span class="s2">n</span><span class="s3">.</span><span class="s2">nss</span><span class="s3">=(</span><span class="s2">e</span><span class="s3">.</span><span class="s2">uuid</span><span class="s3">||</span><span class="s5">&quot;&quot;</span><span class="s3">).</span><span class="s2">toLowerCase</span><span class="s3">(),</span><span class="s2">n</span><span class="s3">}};</span><span class="s2">J</span><span class="s3">[</span><span class="s2">te</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">]=</span><span class="s2">te</span><span class="s3">,</span><span class="s2">J</span><span class="s3">[</span><span class="s2">oe</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">]=</span><span class="s2">oe</span><span class="s3">,</span><span class="s2">J</span><span class="s3">[</span><span class="s2">ae</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">]=</span><span class="s2">ae</span><span class="s3">,</span><span class="s2">J</span><span class="s3">[</span><span class="s2">ie</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">]=</span><span class="s2">ie</span><span class="s3">,</span><span class="s2">J</span><span class="s3">[</span><span class="s2">ve</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">]=</span><span class="s2">ve</span><span class="s3">,</span><span class="s2">J</span><span class="s3">[</span><span class="s2">Ce</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">]=</span><span class="s2">Ce</span><span class="s3">,</span><span class="s2">J</span><span class="s3">[</span><span class="s2">Se</span><span class="s3">.</span><span class="s2">scheme</span><span class="s3">]=</span><span class="s2">Se</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">SCHEMES</span><span class="s3">=</span><span class="s2">J</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">pctEncChar</span><span class="s3">=</span><span class="s2">h</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">pctDecChars</span><span class="s3">=</span><span class="s2">d</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">parse</span><span class="s3">=</span><span class="s2">E</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">removeDotSegments</span><span class="s3">=</span><span class="s2">y</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">serialize</span><span class="s3">=</span><span class="s2">S</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">resolveComponents</span><span class="s3">=</span><span class="s2">A</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">resolve</span><span class="s3">=</span><span class="s2">D</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">normalize</span><span class="s3">=</span><span class="s2">w</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">equal</span><span class="s3">=</span><span class="s2">b</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">escapeComponent</span><span class="s3">=</span><span class="s2">x</span><span class="s3">,</span><span class="s2">e</span><span class="s3">.</span><span class="s2">unescapeComponent</span><span class="s3">=</span><span class="s2">O</span><span class="s3">,</span><span class="s2">Object</span><span class="s3">.</span><span class="s2">defineProperty</span><span class="s3">(</span><span class="s2">e</span><span class="s3">,</span><span class="s5">&quot;__esModule&quot;</span><span class="s3">,{</span><span class="s2">value</span><span class="s3">:!</span><span class="s6">0</span><span class="s3">})});</span>
<span class="s8">//# sourceMappingURL=uri.all.min.js.map</span></pre>
</body>
</html>
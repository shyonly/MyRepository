<html>
<head>
<title>qs.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #cf8e6d;}
.s2 { color: #bcbec4;}
.s3 { color: #6aab73;}
.s4 { color: #2aacb8;}
.s5 { color: #42c3d4;}
.s6 { color: #7a7e85;}
.s7 { color: #5f826b; font-style: italic;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
qs.js</font>
</center></td></tr></table>
<pre><span class="s0">(</span><span class="s1">function</span><span class="s0">(</span><span class="s2">f</span><span class="s0">){</span><span class="s1">if</span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">exports</span><span class="s0">===</span><span class="s3">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">typeof </span><span class="s2">module</span><span class="s0">!==</span><span class="s3">&quot;undefined&quot;</span><span class="s0">){</span><span class="s2">module</span><span class="s0">.</span><span class="s2">exports</span><span class="s0">=</span><span class="s2">f</span><span class="s0">()}</span><span class="s1">else if</span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">define</span><span class="s0">===</span><span class="s3">&quot;function&quot;</span><span class="s0">&amp;&amp;</span><span class="s2">define</span><span class="s0">.</span><span class="s2">amd</span><span class="s0">){</span><span class="s2">define</span><span class="s0">([],</span><span class="s2">f</span><span class="s0">)}</span><span class="s1">else</span><span class="s0">{</span><span class="s1">var </span><span class="s2">g</span><span class="s0">;</span><span class="s1">if</span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">window</span><span class="s0">!==</span><span class="s3">&quot;undefined&quot;</span><span class="s0">){</span><span class="s2">g</span><span class="s0">=</span><span class="s2">window</span><span class="s0">}</span><span class="s1">else if</span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">global</span><span class="s0">!==</span><span class="s3">&quot;undefined&quot;</span><span class="s0">){</span><span class="s2">g</span><span class="s0">=</span><span class="s2">global</span><span class="s0">}</span><span class="s1">else if</span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">self</span><span class="s0">!==</span><span class="s3">&quot;undefined&quot;</span><span class="s0">){</span><span class="s2">g</span><span class="s0">=</span><span class="s2">self</span><span class="s0">}</span><span class="s1">else</span><span class="s0">{</span><span class="s2">g</span><span class="s0">=</span><span class="s1">this</span><span class="s0">}</span><span class="s2">g</span><span class="s0">.</span><span class="s2">Qs </span><span class="s0">= </span><span class="s2">f</span><span class="s0">()}})(</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">var </span><span class="s2">define</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">;</span><span class="s1">return </span><span class="s0">(</span><span class="s1">function</span><span class="s0">(){</span><span class="s1">function </span><span class="s2">r</span><span class="s0">(</span><span class="s2">e</span><span class="s0">,</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">){</span><span class="s1">function </span><span class="s2">o</span><span class="s0">(</span><span class="s2">i</span><span class="s0">,</span><span class="s2">f</span><span class="s0">){</span><span class="s1">if</span><span class="s0">(!</span><span class="s2">n</span><span class="s0">[</span><span class="s2">i</span><span class="s0">]){</span><span class="s1">if</span><span class="s0">(!</span><span class="s2">e</span><span class="s0">[</span><span class="s2">i</span><span class="s0">]){</span><span class="s1">var </span><span class="s2">c</span><span class="s0">=</span><span class="s3">&quot;function&quot;</span><span class="s0">==</span><span class="s1">typeof </span><span class="s2">require</span><span class="s0">&amp;&amp;</span><span class="s2">require</span><span class="s0">;</span><span class="s1">if</span><span class="s0">(!</span><span class="s2">f</span><span class="s0">&amp;&amp;</span><span class="s2">c</span><span class="s0">)</span><span class="s1">return </span><span class="s2">c</span><span class="s0">(</span><span class="s2">i</span><span class="s0">,!</span><span class="s4">0</span><span class="s0">);</span><span class="s1">if</span><span class="s0">(</span><span class="s2">u</span><span class="s0">)</span><span class="s1">return </span><span class="s2">u</span><span class="s0">(</span><span class="s2">i</span><span class="s0">,!</span><span class="s4">0</span><span class="s0">);</span><span class="s1">var </span><span class="s2">a</span><span class="s0">=</span><span class="s1">new </span><span class="s2">Error</span><span class="s0">(</span><span class="s3">&quot;Cannot find module '&quot;</span><span class="s0">+</span><span class="s2">i</span><span class="s0">+</span><span class="s3">&quot;'&quot;</span><span class="s0">);</span><span class="s1">throw </span><span class="s2">a</span><span class="s0">.</span><span class="s2">code</span><span class="s0">=</span><span class="s3">&quot;MODULE_NOT_FOUND&quot;</span><span class="s0">,</span><span class="s2">a</span><span class="s0">}</span><span class="s1">var </span><span class="s2">p</span><span class="s0">=</span><span class="s2">n</span><span class="s0">[</span><span class="s2">i</span><span class="s0">]={</span><span class="s2">exports</span><span class="s0">:{}};</span><span class="s2">e</span><span class="s0">[</span><span class="s2">i</span><span class="s0">][</span><span class="s4">0</span><span class="s0">].</span><span class="s2">call</span><span class="s0">(</span><span class="s2">p</span><span class="s0">.</span><span class="s2">exports</span><span class="s0">,</span><span class="s1">function</span><span class="s0">(</span><span class="s2">r</span><span class="s0">){</span><span class="s1">var </span><span class="s2">n</span><span class="s0">=</span><span class="s2">e</span><span class="s0">[</span><span class="s2">i</span><span class="s0">][</span><span class="s4">1</span><span class="s0">][</span><span class="s2">r</span><span class="s0">];</span><span class="s1">return </span><span class="s2">o</span><span class="s0">(</span><span class="s2">n</span><span class="s0">||</span><span class="s2">r</span><span class="s0">)},</span><span class="s2">p</span><span class="s0">,</span><span class="s2">p</span><span class="s0">.</span><span class="s2">exports</span><span class="s0">,</span><span class="s2">r</span><span class="s0">,</span><span class="s2">e</span><span class="s0">,</span><span class="s2">n</span><span class="s0">,</span><span class="s2">t</span><span class="s0">)}</span><span class="s1">return </span><span class="s2">n</span><span class="s0">[</span><span class="s2">i</span><span class="s0">].</span><span class="s2">exports</span><span class="s0">}</span><span class="s1">for</span><span class="s0">(</span><span class="s1">var </span><span class="s2">u</span><span class="s0">=</span><span class="s3">&quot;function&quot;</span><span class="s0">==</span><span class="s1">typeof </span><span class="s2">require</span><span class="s0">&amp;&amp;</span><span class="s2">require</span><span class="s0">,</span><span class="s2">i</span><span class="s0">=</span><span class="s4">0</span><span class="s0">;</span><span class="s2">i</span><span class="s0">&lt;</span><span class="s2">t</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span><span class="s2">i</span><span class="s0">++)</span><span class="s2">o</span><span class="s0">(</span><span class="s2">t</span><span class="s0">[</span><span class="s2">i</span><span class="s0">]);</span><span class="s1">return </span><span class="s2">o</span><span class="s0">}</span><span class="s1">return </span><span class="s2">r</span><span class="s0">})()({</span><span class="s4">1</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">replace </span><span class="s0">= </span><span class="s2">String</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">replace</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">percentTwenties </span><span class="s0">= </span><span class="s5">/%20/g</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">Format </span><span class="s0">= {</span>
    <span class="s2">RFC1738</span><span class="s0">: </span><span class="s3">'RFC1738'</span><span class="s0">,</span>
    <span class="s2">RFC3986</span><span class="s0">: </span><span class="s3">'RFC3986'</span>
<span class="s0">};</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= {</span>
    <span class="s3">'default'</span><span class="s0">: </span><span class="s2">Format</span><span class="s0">.</span><span class="s2">RFC3986</span><span class="s0">,</span>
    <span class="s2">formatters</span><span class="s0">: {</span>
        <span class="s2">RFC1738</span><span class="s0">: </span><span class="s1">function </span><span class="s0">(</span><span class="s2">value</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">replace</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">value</span><span class="s0">, </span><span class="s2">percentTwenties</span><span class="s0">, </span><span class="s3">'+'</span><span class="s0">);</span>
        <span class="s0">},</span>
        <span class="s2">RFC3986</span><span class="s0">: </span><span class="s1">function </span><span class="s0">(</span><span class="s2">value</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">String</span><span class="s0">(</span><span class="s2">value</span><span class="s0">);</span>
        <span class="s0">}</span>
    <span class="s0">},</span>
    <span class="s2">RFC1738</span><span class="s0">: </span><span class="s2">Format</span><span class="s0">.</span><span class="s2">RFC1738</span><span class="s0">,</span>
    <span class="s2">RFC3986</span><span class="s0">: </span><span class="s2">Format</span><span class="s0">.</span><span class="s2">RFC3986</span>
<span class="s0">};</span>

<span class="s0">},{}],</span><span class="s4">2</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">stringify </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'./stringify'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">parse </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'./parse'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">formats </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'./formats'</span><span class="s0">);</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= {</span>
    <span class="s2">formats</span><span class="s0">: </span><span class="s2">formats</span><span class="s0">,</span>
    <span class="s2">parse</span><span class="s0">: </span><span class="s2">parse</span><span class="s0">,</span>
    <span class="s2">stringify</span><span class="s0">: </span><span class="s2">stringify</span>
<span class="s0">};</span>

<span class="s0">},{</span><span class="s3">&quot;./formats&quot;</span><span class="s0">:</span><span class="s4">1</span><span class="s0">,</span><span class="s3">&quot;./parse&quot;</span><span class="s0">:</span><span class="s4">3</span><span class="s0">,</span><span class="s3">&quot;./stringify&quot;</span><span class="s0">:</span><span class="s4">4</span><span class="s0">}],</span><span class="s4">3</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">utils </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'./utils'</span><span class="s0">);</span>

<span class="s1">var </span><span class="s2">has </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">hasOwnProperty</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">isArray </span><span class="s0">= </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">defaults </span><span class="s0">= {</span>
    <span class="s2">allowDots</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">allowPrototypes</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">allowSparse</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">arrayLimit</span><span class="s0">: </span><span class="s4">20</span><span class="s0">,</span>
    <span class="s2">charset</span><span class="s0">: </span><span class="s3">'utf-8'</span><span class="s0">,</span>
    <span class="s2">charsetSentinel</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">comma</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">decoder</span><span class="s0">: </span><span class="s2">utils</span><span class="s0">.</span><span class="s2">decode</span><span class="s0">,</span>
    <span class="s2">delimiter</span><span class="s0">: </span><span class="s3">'&amp;'</span><span class="s0">,</span>
    <span class="s2">depth</span><span class="s0">: </span><span class="s4">5</span><span class="s0">,</span>
    <span class="s2">ignoreQueryPrefix</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">interpretNumericEntities</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">parameterLimit</span><span class="s0">: </span><span class="s4">1000</span><span class="s0">,</span>
    <span class="s2">parseArrays</span><span class="s0">: </span><span class="s1">true</span><span class="s0">,</span>
    <span class="s2">plainObjects</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">strictNullHandling</span><span class="s0">: </span><span class="s1">false</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">interpretNumericEntities </span><span class="s0">= </span><span class="s1">function </span><span class="s0">(</span><span class="s2">str</span><span class="s0">) {</span>
    <span class="s1">return </span><span class="s2">str</span><span class="s0">.</span><span class="s2">replace</span><span class="s0">(</span><span class="s5">/&amp;#(\d+);/g</span><span class="s0">, </span><span class="s1">function </span><span class="s0">(</span><span class="s2">$0</span><span class="s0">, </span><span class="s2">numberStr</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">String</span><span class="s0">.</span><span class="s2">fromCharCode</span><span class="s0">(</span><span class="s2">parseInt</span><span class="s0">(</span><span class="s2">numberStr</span><span class="s0">, </span><span class="s4">10</span><span class="s0">));</span>
    <span class="s0">});</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">parseArrayValue </span><span class="s0">= </span><span class="s1">function </span><span class="s0">(</span><span class="s2">val</span><span class="s0">, </span><span class="s2">options</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">val </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">val </span><span class="s0">=== </span><span class="s3">'string' </span><span class="s0">&amp;&amp; </span><span class="s2">options</span><span class="s0">.</span><span class="s2">comma </span><span class="s0">&amp;&amp; </span><span class="s2">val</span><span class="s0">.</span><span class="s2">indexOf</span><span class="s0">(</span><span class="s3">','</span><span class="s0">) &gt; -</span><span class="s4">1</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">val</span><span class="s0">.</span><span class="s2">split</span><span class="s0">(</span><span class="s3">','</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s2">val</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s6">// This is what browsers will submit when the ✓ character occurs in an</span>
<span class="s6">// application/x-www-form-urlencoded body and the encoding of the page containing</span>
<span class="s6">// the form is iso-8859-1, or when the submitted form has an accept-charset</span>
<span class="s6">// attribute of iso-8859-1. Presumably also with other charsets that do not contain</span>
<span class="s6">// the ✓ character, such as us-ascii.</span>
<span class="s1">var </span><span class="s2">isoSentinel </span><span class="s0">= </span><span class="s3">'utf8=%26%2310003%3B'</span><span class="s0">; </span><span class="s6">// encodeURIComponent('&amp;#10003;')</span>

<span class="s6">// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.</span>
<span class="s1">var </span><span class="s2">charsetSentinel </span><span class="s0">= </span><span class="s3">'utf8=%E2%9C%93'</span><span class="s0">; </span><span class="s6">// encodeURIComponent('✓')</span>

<span class="s1">var </span><span class="s2">parseValues </span><span class="s0">= </span><span class="s1">function </span><span class="s2">parseQueryStringValues</span><span class="s0">(</span><span class="s2">str</span><span class="s0">, </span><span class="s2">options</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">obj </span><span class="s0">= {};</span>
    <span class="s1">var </span><span class="s2">cleanStr </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">ignoreQueryPrefix </span><span class="s0">? </span><span class="s2">str</span><span class="s0">.</span><span class="s2">replace</span><span class="s0">(</span><span class="s5">/^\?/</span><span class="s0">, </span><span class="s3">''</span><span class="s0">) : </span><span class="s2">str</span><span class="s0">;</span>
    <span class="s1">var </span><span class="s2">limit </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">parameterLimit </span><span class="s0">=== </span><span class="s2">Infinity </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">options</span><span class="s0">.</span><span class="s2">parameterLimit</span><span class="s0">;</span>
    <span class="s1">var </span><span class="s2">parts </span><span class="s0">= </span><span class="s2">cleanStr</span><span class="s0">.</span><span class="s2">split</span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">delimiter</span><span class="s0">, </span><span class="s2">limit</span><span class="s0">);</span>
    <span class="s1">var </span><span class="s2">skipIndex </span><span class="s0">= -</span><span class="s4">1</span><span class="s0">; </span><span class="s6">// Keep track of where the utf8 sentinel was found</span>
    <span class="s1">var </span><span class="s2">i</span><span class="s0">;</span>

    <span class="s1">var </span><span class="s2">charset </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">charset</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">charsetSentinel</span><span class="s0">) {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; ++</span><span class="s2">i</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">parts</span><span class="s0">[</span><span class="s2">i</span><span class="s0">].</span><span class="s2">indexOf</span><span class="s0">(</span><span class="s3">'utf8='</span><span class="s0">) === </span><span class="s4">0</span><span class="s0">) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">parts</span><span class="s0">[</span><span class="s2">i</span><span class="s0">] === </span><span class="s2">charsetSentinel</span><span class="s0">) {</span>
                    <span class="s2">charset </span><span class="s0">= </span><span class="s3">'utf-8'</span><span class="s0">;</span>
                <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">parts</span><span class="s0">[</span><span class="s2">i</span><span class="s0">] === </span><span class="s2">isoSentinel</span><span class="s0">) {</span>
                    <span class="s2">charset </span><span class="s0">= </span><span class="s3">'iso-8859-1'</span><span class="s0">;</span>
                <span class="s0">}</span>
                <span class="s2">skipIndex </span><span class="s0">= </span><span class="s2">i</span><span class="s0">;</span>
                <span class="s2">i </span><span class="s0">= </span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; </span><span class="s6">// The eslint settings do not allow break;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">for </span><span class="s0">(</span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; ++</span><span class="s2">i</span><span class="s0">) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">i </span><span class="s0">=== </span><span class="s2">skipIndex</span><span class="s0">) {</span>
            <span class="s1">continue</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">var </span><span class="s2">part </span><span class="s0">= </span><span class="s2">parts</span><span class="s0">[</span><span class="s2">i</span><span class="s0">];</span>

        <span class="s1">var </span><span class="s2">bracketEqualsPos </span><span class="s0">= </span><span class="s2">part</span><span class="s0">.</span><span class="s2">indexOf</span><span class="s0">(</span><span class="s3">']='</span><span class="s0">);</span>
        <span class="s1">var </span><span class="s2">pos </span><span class="s0">= </span><span class="s2">bracketEqualsPos </span><span class="s0">=== -</span><span class="s4">1 </span><span class="s0">? </span><span class="s2">part</span><span class="s0">.</span><span class="s2">indexOf</span><span class="s0">(</span><span class="s3">'='</span><span class="s0">) : </span><span class="s2">bracketEqualsPos </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">;</span>

        <span class="s1">var </span><span class="s2">key</span><span class="s0">, </span><span class="s2">val</span><span class="s0">;</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">pos </span><span class="s0">=== -</span><span class="s4">1</span><span class="s0">) {</span>
            <span class="s2">key </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">decoder</span><span class="s0">(</span><span class="s2">part</span><span class="s0">, </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">decoder</span><span class="s0">, </span><span class="s2">charset</span><span class="s0">, </span><span class="s3">'key'</span><span class="s0">);</span>
            <span class="s2">val </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">strictNullHandling </span><span class="s0">? </span><span class="s1">null </span><span class="s0">: </span><span class="s3">''</span><span class="s0">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s2">key </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">decoder</span><span class="s0">(</span><span class="s2">part</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">(</span><span class="s4">0</span><span class="s0">, </span><span class="s2">pos</span><span class="s0">), </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">decoder</span><span class="s0">, </span><span class="s2">charset</span><span class="s0">, </span><span class="s3">'key'</span><span class="s0">);</span>
            <span class="s2">val </span><span class="s0">= </span><span class="s2">utils</span><span class="s0">.</span><span class="s2">maybeMap</span><span class="s0">(</span>
                <span class="s2">parseArrayValue</span><span class="s0">(</span><span class="s2">part</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">(</span><span class="s2">pos </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">), </span><span class="s2">options</span><span class="s0">),</span>
                <span class="s1">function </span><span class="s0">(</span><span class="s2">encodedVal</span><span class="s0">) {</span>
                    <span class="s1">return </span><span class="s2">options</span><span class="s0">.</span><span class="s2">decoder</span><span class="s0">(</span><span class="s2">encodedVal</span><span class="s0">, </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">decoder</span><span class="s0">, </span><span class="s2">charset</span><span class="s0">, </span><span class="s3">'value'</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">);</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s2">val </span><span class="s0">&amp;&amp; </span><span class="s2">options</span><span class="s0">.</span><span class="s2">interpretNumericEntities </span><span class="s0">&amp;&amp; </span><span class="s2">charset </span><span class="s0">=== </span><span class="s3">'iso-8859-1'</span><span class="s0">) {</span>
            <span class="s2">val </span><span class="s0">= </span><span class="s2">interpretNumericEntities</span><span class="s0">(</span><span class="s2">val</span><span class="s0">);</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s2">part</span><span class="s0">.</span><span class="s2">indexOf</span><span class="s0">(</span><span class="s3">'[]='</span><span class="s0">) &gt; -</span><span class="s4">1</span><span class="s0">) {</span>
            <span class="s2">val </span><span class="s0">= </span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">val</span><span class="s0">) ? [</span><span class="s2">val</span><span class="s0">] : </span><span class="s2">val</span><span class="s0">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s2">has</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">key</span><span class="s0">)) {</span>
            <span class="s2">obj</span><span class="s0">[</span><span class="s2">key</span><span class="s0">] = </span><span class="s2">utils</span><span class="s0">.</span><span class="s2">combine</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">[</span><span class="s2">key</span><span class="s0">], </span><span class="s2">val</span><span class="s0">);</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s2">obj</span><span class="s0">[</span><span class="s2">key</span><span class="s0">] = </span><span class="s2">val</span><span class="s0">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s2">obj</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">parseObject </span><span class="s0">= </span><span class="s1">function </span><span class="s0">(</span><span class="s2">chain</span><span class="s0">, </span><span class="s2">val</span><span class="s0">, </span><span class="s2">options</span><span class="s0">, </span><span class="s2">valuesParsed</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">leaf </span><span class="s0">= </span><span class="s2">valuesParsed </span><span class="s0">? </span><span class="s2">val </span><span class="s0">: </span><span class="s2">parseArrayValue</span><span class="s0">(</span><span class="s2">val</span><span class="s0">, </span><span class="s2">options</span><span class="s0">);</span>

    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s2">chain</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- </span><span class="s4">1</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&gt;= </span><span class="s4">0</span><span class="s0">; --</span><span class="s2">i</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s2">obj</span><span class="s0">;</span>
        <span class="s1">var </span><span class="s2">root </span><span class="s0">= </span><span class="s2">chain</span><span class="s0">[</span><span class="s2">i</span><span class="s0">];</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s2">root </span><span class="s0">=== </span><span class="s3">'[]' </span><span class="s0">&amp;&amp; </span><span class="s2">options</span><span class="s0">.</span><span class="s2">parseArrays</span><span class="s0">) {</span>
            <span class="s2">obj </span><span class="s0">= [].</span><span class="s2">concat</span><span class="s0">(</span><span class="s2">leaf</span><span class="s0">);</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s2">obj </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">plainObjects </span><span class="s0">? </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">create</span><span class="s0">(</span><span class="s1">null</span><span class="s0">) : {};</span>
            <span class="s1">var </span><span class="s2">cleanRoot </span><span class="s0">= </span><span class="s2">root</span><span class="s0">.</span><span class="s2">charAt</span><span class="s0">(</span><span class="s4">0</span><span class="s0">) === </span><span class="s3">'[' </span><span class="s0">&amp;&amp; </span><span class="s2">root</span><span class="s0">.</span><span class="s2">charAt</span><span class="s0">(</span><span class="s2">root</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- </span><span class="s4">1</span><span class="s0">) === </span><span class="s3">']' </span><span class="s0">? </span><span class="s2">root</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">(</span><span class="s4">1</span><span class="s0">, -</span><span class="s4">1</span><span class="s0">) : </span><span class="s2">root</span><span class="s0">;</span>
            <span class="s1">var </span><span class="s2">index </span><span class="s0">= </span><span class="s2">parseInt</span><span class="s0">(</span><span class="s2">cleanRoot</span><span class="s0">, </span><span class="s4">10</span><span class="s0">);</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s2">options</span><span class="s0">.</span><span class="s2">parseArrays </span><span class="s0">&amp;&amp; </span><span class="s2">cleanRoot </span><span class="s0">=== </span><span class="s3">''</span><span class="s0">) {</span>
                <span class="s2">obj </span><span class="s0">= { </span><span class="s4">0</span><span class="s0">: </span><span class="s2">leaf </span><span class="s0">};</span>
            <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span>
                <span class="s0">!</span><span class="s2">isNaN</span><span class="s0">(</span><span class="s2">index</span><span class="s0">)</span>
                <span class="s0">&amp;&amp; </span><span class="s2">root </span><span class="s0">!== </span><span class="s2">cleanRoot</span>
                <span class="s0">&amp;&amp; </span><span class="s2">String</span><span class="s0">(</span><span class="s2">index</span><span class="s0">) === </span><span class="s2">cleanRoot</span>
                <span class="s0">&amp;&amp; </span><span class="s2">index </span><span class="s0">&gt;= </span><span class="s4">0</span>
                <span class="s0">&amp;&amp; (</span><span class="s2">options</span><span class="s0">.</span><span class="s2">parseArrays </span><span class="s0">&amp;&amp; </span><span class="s2">index </span><span class="s0">&lt;= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">arrayLimit</span><span class="s0">)</span>
            <span class="s0">) {</span>
                <span class="s2">obj </span><span class="s0">= [];</span>
                <span class="s2">obj</span><span class="s0">[</span><span class="s2">index</span><span class="s0">] = </span><span class="s2">leaf</span><span class="s0">;</span>
            <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">cleanRoot </span><span class="s0">!== </span><span class="s3">'__proto__'</span><span class="s0">) {</span>
                <span class="s2">obj</span><span class="s0">[</span><span class="s2">cleanRoot</span><span class="s0">] = </span><span class="s2">leaf</span><span class="s0">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s2">leaf </span><span class="s0">= </span><span class="s2">obj</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s2">leaf</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">parseKeys </span><span class="s0">= </span><span class="s1">function </span><span class="s2">parseQueryStringKeys</span><span class="s0">(</span><span class="s2">givenKey</span><span class="s0">, </span><span class="s2">val</span><span class="s0">, </span><span class="s2">options</span><span class="s0">, </span><span class="s2">valuesParsed</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">givenKey</span><span class="s0">) {</span>
        <span class="s1">return</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s6">// Transform dot notation to bracket notation</span>
    <span class="s1">var </span><span class="s2">key </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">allowDots </span><span class="s0">? </span><span class="s2">givenKey</span><span class="s0">.</span><span class="s2">replace</span><span class="s0">(</span><span class="s5">/\.([^.[]+)/g</span><span class="s0">, </span><span class="s3">'[$1]'</span><span class="s0">) : </span><span class="s2">givenKey</span><span class="s0">;</span>

    <span class="s6">// The regex chunks</span>

    <span class="s1">var </span><span class="s2">brackets </span><span class="s0">= </span><span class="s5">/(\[[^[\]]*])/</span><span class="s0">;</span>
    <span class="s1">var </span><span class="s2">child </span><span class="s0">= </span><span class="s5">/(\[[^[\]]*])/g</span><span class="s0">;</span>

    <span class="s6">// Get the parent</span>

    <span class="s1">var </span><span class="s2">segment </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">depth </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; </span><span class="s2">brackets</span><span class="s0">.</span><span class="s2">exec</span><span class="s0">(</span><span class="s2">key</span><span class="s0">);</span>
    <span class="s1">var </span><span class="s2">parent </span><span class="s0">= </span><span class="s2">segment </span><span class="s0">? </span><span class="s2">key</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">(</span><span class="s4">0</span><span class="s0">, </span><span class="s2">segment</span><span class="s0">.</span><span class="s2">index</span><span class="s0">) : </span><span class="s2">key</span><span class="s0">;</span>

    <span class="s6">// Stash the parent if it exists</span>

    <span class="s1">var </span><span class="s2">keys </span><span class="s0">= [];</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">parent</span><span class="s0">) {</span>
        <span class="s6">// If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties</span>
        <span class="s1">if </span><span class="s0">(!</span><span class="s2">options</span><span class="s0">.</span><span class="s2">plainObjects </span><span class="s0">&amp;&amp; </span><span class="s2">has</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">, </span><span class="s2">parent</span><span class="s0">)) {</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s2">options</span><span class="s0">.</span><span class="s2">allowPrototypes</span><span class="s0">) {</span>
                <span class="s1">return</span><span class="s0">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>

        <span class="s2">keys</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">parent</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s6">// Loop through children appending to the array until we hit depth</span>

    <span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
    <span class="s1">while </span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">depth </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; (</span><span class="s2">segment </span><span class="s0">= </span><span class="s2">child</span><span class="s0">.</span><span class="s2">exec</span><span class="s0">(</span><span class="s2">key</span><span class="s0">)) !== </span><span class="s1">null </span><span class="s0">&amp;&amp; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">options</span><span class="s0">.</span><span class="s2">depth</span><span class="s0">) {</span>
        <span class="s2">i </span><span class="s0">+= </span><span class="s4">1</span><span class="s0">;</span>
        <span class="s1">if </span><span class="s0">(!</span><span class="s2">options</span><span class="s0">.</span><span class="s2">plainObjects </span><span class="s0">&amp;&amp; </span><span class="s2">has</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">, </span><span class="s2">segment</span><span class="s0">[</span><span class="s4">1</span><span class="s0">].</span><span class="s2">slice</span><span class="s0">(</span><span class="s4">1</span><span class="s0">, -</span><span class="s4">1</span><span class="s0">))) {</span>
            <span class="s1">if </span><span class="s0">(!</span><span class="s2">options</span><span class="s0">.</span><span class="s2">allowPrototypes</span><span class="s0">) {</span>
                <span class="s1">return</span><span class="s0">;</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
        <span class="s2">keys</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">segment</span><span class="s0">[</span><span class="s4">1</span><span class="s0">]);</span>
    <span class="s0">}</span>

    <span class="s6">// If there's a remainder, just add whatever is left</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">segment</span><span class="s0">) {</span>
        <span class="s2">keys</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s3">'[' </span><span class="s0">+ </span><span class="s2">key</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">(</span><span class="s2">segment</span><span class="s0">.</span><span class="s2">index</span><span class="s0">) + </span><span class="s3">']'</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s2">parseObject</span><span class="s0">(</span><span class="s2">keys</span><span class="s0">, </span><span class="s2">val</span><span class="s0">, </span><span class="s2">options</span><span class="s0">, </span><span class="s2">valuesParsed</span><span class="s0">);</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">normalizeParseOptions </span><span class="s0">= </span><span class="s1">function </span><span class="s2">normalizeParseOptions</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">opts</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">defaults</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">decoder </span><span class="s0">!== </span><span class="s1">null </span><span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">decoder </span><span class="s0">!== </span><span class="s2">undefined </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">decoder </span><span class="s0">!== </span><span class="s3">'function'</span><span class="s0">) {</span>
        <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">'Decoder has to be a function.'</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charset </span><span class="s0">!== </span><span class="s3">'undefined' </span><span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charset </span><span class="s0">!== </span><span class="s3">'utf-8' </span><span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charset </span><span class="s0">!== </span><span class="s3">'iso-8859-1'</span><span class="s0">) {</span>
        <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">'The charset option must be either utf-8, iso-8859-1, or undefined'</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s2">charset </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charset </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">charset </span><span class="s0">: </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charset</span><span class="s0">;</span>

    <span class="s1">return </span><span class="s0">{</span>
        <span class="s2">allowDots</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">allowDots </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">allowDots </span><span class="s0">: !!</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">allowDots</span><span class="s0">,</span>
        <span class="s2">allowPrototypes</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">allowPrototypes </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">allowPrototypes </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">allowPrototypes</span><span class="s0">,</span>
        <span class="s2">allowSparse</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">allowSparse </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">allowSparse </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">allowSparse</span><span class="s0">,</span>
        <span class="s2">arrayLimit</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">arrayLimit </span><span class="s0">=== </span><span class="s3">'number' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">arrayLimit </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">arrayLimit</span><span class="s0">,</span>
        <span class="s2">charset</span><span class="s0">: </span><span class="s2">charset</span><span class="s0">,</span>
        <span class="s2">charsetSentinel</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charsetSentinel </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charsetSentinel </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">charsetSentinel</span><span class="s0">,</span>
        <span class="s2">comma</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">comma </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">comma </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">comma</span><span class="s0">,</span>
        <span class="s2">decoder</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">decoder </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">decoder </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">decoder</span><span class="s0">,</span>
        <span class="s2">delimiter</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">delimiter </span><span class="s0">=== </span><span class="s3">'string' </span><span class="s0">|| </span><span class="s2">utils</span><span class="s0">.</span><span class="s2">isRegExp</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">delimiter</span><span class="s0">) ? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">delimiter </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">delimiter</span><span class="s0">,</span>
        <span class="s6">// eslint-disable-next-line no-implicit-coercion, no-extra-parens</span>
        <span class="s2">depth</span><span class="s0">: (</span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">depth </span><span class="s0">=== </span><span class="s3">'number' </span><span class="s0">|| </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">depth </span><span class="s0">=== </span><span class="s1">false</span><span class="s0">) ? +</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">depth </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">depth</span><span class="s0">,</span>
        <span class="s2">ignoreQueryPrefix</span><span class="s0">: </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">ignoreQueryPrefix </span><span class="s0">=== </span><span class="s1">true</span><span class="s0">,</span>
        <span class="s2">interpretNumericEntities</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">interpretNumericEntities </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">interpretNumericEntities </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">interpretNumericEntities</span><span class="s0">,</span>
        <span class="s2">parameterLimit</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">parameterLimit </span><span class="s0">=== </span><span class="s3">'number' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">parameterLimit </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">parameterLimit</span><span class="s0">,</span>
        <span class="s2">parseArrays</span><span class="s0">: </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">parseArrays </span><span class="s0">!== </span><span class="s1">false</span><span class="s0">,</span>
        <span class="s2">plainObjects</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">plainObjects </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">plainObjects </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">plainObjects</span><span class="s0">,</span>
        <span class="s2">strictNullHandling</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">strictNullHandling </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">strictNullHandling </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">strictNullHandling</span>
    <span class="s0">};</span>
<span class="s0">};</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s1">function </span><span class="s0">(</span><span class="s2">str</span><span class="s0">, </span><span class="s2">opts</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">options </span><span class="s0">= </span><span class="s2">normalizeParseOptions</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">);</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">str </span><span class="s0">=== </span><span class="s3">'' </span><span class="s0">|| </span><span class="s2">str </span><span class="s0">=== </span><span class="s1">null </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">str </span><span class="s0">=== </span><span class="s3">'undefined'</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">options</span><span class="s0">.</span><span class="s2">plainObjects </span><span class="s0">? </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">create</span><span class="s0">(</span><span class="s1">null</span><span class="s0">) : {};</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">tempObj </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">str </span><span class="s0">=== </span><span class="s3">'string' </span><span class="s0">? </span><span class="s2">parseValues</span><span class="s0">(</span><span class="s2">str</span><span class="s0">, </span><span class="s2">options</span><span class="s0">) : </span><span class="s2">str</span><span class="s0">;</span>
    <span class="s1">var </span><span class="s2">obj </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">plainObjects </span><span class="s0">? </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">create</span><span class="s0">(</span><span class="s1">null</span><span class="s0">) : {};</span>

    <span class="s6">// Iterate over the keys and setup the new object</span>

    <span class="s1">var </span><span class="s2">keys </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">keys</span><span class="s0">(</span><span class="s2">tempObj</span><span class="s0">);</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">keys</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; ++</span><span class="s2">i</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s2">key </span><span class="s0">= </span><span class="s2">keys</span><span class="s0">[</span><span class="s2">i</span><span class="s0">];</span>
        <span class="s1">var </span><span class="s2">newObj </span><span class="s0">= </span><span class="s2">parseKeys</span><span class="s0">(</span><span class="s2">key</span><span class="s0">, </span><span class="s2">tempObj</span><span class="s0">[</span><span class="s2">key</span><span class="s0">], </span><span class="s2">options</span><span class="s0">, </span><span class="s1">typeof </span><span class="s2">str </span><span class="s0">=== </span><span class="s3">'string'</span><span class="s0">);</span>
        <span class="s2">obj </span><span class="s0">= </span><span class="s2">utils</span><span class="s0">.</span><span class="s2">merge</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">newObj</span><span class="s0">, </span><span class="s2">options</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">allowSparse </span><span class="s0">=== </span><span class="s1">true</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">obj</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s2">utils</span><span class="s0">.</span><span class="s2">compact</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
<span class="s0">};</span>

<span class="s0">},{</span><span class="s3">&quot;./utils&quot;</span><span class="s0">:</span><span class="s4">5</span><span class="s0">}],</span><span class="s4">4</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">getSideChannel </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'side-channel'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">utils </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'./utils'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">formats </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'./formats'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">has </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">hasOwnProperty</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">arrayPrefixGenerators </span><span class="s0">= {</span>
    <span class="s2">brackets</span><span class="s0">: </span><span class="s1">function </span><span class="s2">brackets</span><span class="s0">(</span><span class="s2">prefix</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">prefix </span><span class="s0">+ </span><span class="s3">'[]'</span><span class="s0">;</span>
    <span class="s0">},</span>
    <span class="s2">comma</span><span class="s0">: </span><span class="s3">'comma'</span><span class="s0">,</span>
    <span class="s2">indices</span><span class="s0">: </span><span class="s1">function </span><span class="s2">indices</span><span class="s0">(</span><span class="s2">prefix</span><span class="s0">, </span><span class="s2">key</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">prefix </span><span class="s0">+ </span><span class="s3">'[' </span><span class="s0">+ </span><span class="s2">key </span><span class="s0">+ </span><span class="s3">']'</span><span class="s0">;</span>
    <span class="s0">},</span>
    <span class="s2">repeat</span><span class="s0">: </span><span class="s1">function </span><span class="s2">repeat</span><span class="s0">(</span><span class="s2">prefix</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">prefix</span><span class="s0">;</span>
    <span class="s0">}</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">isArray </span><span class="s0">= </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">split </span><span class="s0">= </span><span class="s2">String</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">split</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">push </span><span class="s0">= </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">push</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">pushToArray </span><span class="s0">= </span><span class="s1">function </span><span class="s0">(</span><span class="s2">arr</span><span class="s0">, </span><span class="s2">valueOrArray</span><span class="s0">) {</span>
    <span class="s2">push</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span><span class="s2">arr</span><span class="s0">, </span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">valueOrArray</span><span class="s0">) ? </span><span class="s2">valueOrArray </span><span class="s0">: [</span><span class="s2">valueOrArray</span><span class="s0">]);</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">toISO </span><span class="s0">= </span><span class="s2">Date</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toISOString</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">defaultFormat </span><span class="s0">= </span><span class="s2">formats</span><span class="s0">[</span><span class="s3">'default'</span><span class="s0">];</span>
<span class="s1">var </span><span class="s2">defaults </span><span class="s0">= {</span>
    <span class="s2">addQueryPrefix</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">allowDots</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">charset</span><span class="s0">: </span><span class="s3">'utf-8'</span><span class="s0">,</span>
    <span class="s2">charsetSentinel</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">delimiter</span><span class="s0">: </span><span class="s3">'&amp;'</span><span class="s0">,</span>
    <span class="s2">encode</span><span class="s0">: </span><span class="s1">true</span><span class="s0">,</span>
    <span class="s2">encoder</span><span class="s0">: </span><span class="s2">utils</span><span class="s0">.</span><span class="s2">encode</span><span class="s0">,</span>
    <span class="s2">encodeValuesOnly</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">format</span><span class="s0">: </span><span class="s2">defaultFormat</span><span class="s0">,</span>
    <span class="s2">formatter</span><span class="s0">: </span><span class="s2">formats</span><span class="s0">.</span><span class="s2">formatters</span><span class="s0">[</span><span class="s2">defaultFormat</span><span class="s0">],</span>
    <span class="s6">// deprecated</span>
    <span class="s2">indices</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">serializeDate</span><span class="s0">: </span><span class="s1">function </span><span class="s2">serializeDate</span><span class="s0">(</span><span class="s2">date</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">toISO</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">date</span><span class="s0">);</span>
    <span class="s0">},</span>
    <span class="s2">skipNulls</span><span class="s0">: </span><span class="s1">false</span><span class="s0">,</span>
    <span class="s2">strictNullHandling</span><span class="s0">: </span><span class="s1">false</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">isNonNullishPrimitive </span><span class="s0">= </span><span class="s1">function </span><span class="s2">isNonNullishPrimitive</span><span class="s0">(</span><span class="s2">v</span><span class="s0">) {</span>
    <span class="s1">return typeof </span><span class="s2">v </span><span class="s0">=== </span><span class="s3">'string'</span>
        <span class="s0">|| </span><span class="s1">typeof </span><span class="s2">v </span><span class="s0">=== </span><span class="s3">'number'</span>
        <span class="s0">|| </span><span class="s1">typeof </span><span class="s2">v </span><span class="s0">=== </span><span class="s3">'boolean'</span>
        <span class="s0">|| </span><span class="s1">typeof </span><span class="s2">v </span><span class="s0">=== </span><span class="s3">'symbol'</span>
        <span class="s0">|| </span><span class="s1">typeof </span><span class="s2">v </span><span class="s0">=== </span><span class="s3">'bigint'</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">sentinel </span><span class="s0">= {};</span>

<span class="s1">var </span><span class="s2">stringify </span><span class="s0">= </span><span class="s1">function </span><span class="s2">stringify</span><span class="s0">(</span>
    <span class="s2">object</span><span class="s0">,</span>
    <span class="s2">prefix</span><span class="s0">,</span>
    <span class="s2">generateArrayPrefix</span><span class="s0">,</span>
    <span class="s2">commaRoundTrip</span><span class="s0">,</span>
    <span class="s2">strictNullHandling</span><span class="s0">,</span>
    <span class="s2">skipNulls</span><span class="s0">,</span>
    <span class="s2">encoder</span><span class="s0">,</span>
    <span class="s2">filter</span><span class="s0">,</span>
    <span class="s2">sort</span><span class="s0">,</span>
    <span class="s2">allowDots</span><span class="s0">,</span>
    <span class="s2">serializeDate</span><span class="s0">,</span>
    <span class="s2">format</span><span class="s0">,</span>
    <span class="s2">formatter</span><span class="s0">,</span>
    <span class="s2">encodeValuesOnly</span><span class="s0">,</span>
    <span class="s2">charset</span><span class="s0">,</span>
    <span class="s2">sideChannel</span>
<span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">obj </span><span class="s0">= </span><span class="s2">object</span><span class="s0">;</span>

    <span class="s1">var </span><span class="s2">tmpSc </span><span class="s0">= </span><span class="s2">sideChannel</span><span class="s0">;</span>
    <span class="s1">var </span><span class="s2">step </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
    <span class="s1">var </span><span class="s2">findFlag </span><span class="s0">= </span><span class="s1">false</span><span class="s0">;</span>
    <span class="s1">while </span><span class="s0">((</span><span class="s2">tmpSc </span><span class="s0">= </span><span class="s2">tmpSc</span><span class="s0">.</span><span class="s2">get</span><span class="s0">(</span><span class="s2">sentinel</span><span class="s0">)) !== </span><span class="s1">void </span><span class="s2">undefined </span><span class="s0">&amp;&amp; !</span><span class="s2">findFlag</span><span class="s0">) {</span>
        <span class="s6">// Where object last appeared in the ref tree</span>
        <span class="s1">var </span><span class="s2">pos </span><span class="s0">= </span><span class="s2">tmpSc</span><span class="s0">.</span><span class="s2">get</span><span class="s0">(</span><span class="s2">object</span><span class="s0">);</span>
        <span class="s2">step </span><span class="s0">+= </span><span class="s4">1</span><span class="s0">;</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">pos </span><span class="s0">!== </span><span class="s3">'undefined'</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">pos </span><span class="s0">=== </span><span class="s2">step</span><span class="s0">) {</span>
                <span class="s1">throw new </span><span class="s2">RangeError</span><span class="s0">(</span><span class="s3">'Cyclic object value'</span><span class="s0">);</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s2">findFlag </span><span class="s0">= </span><span class="s1">true</span><span class="s0">; </span><span class="s6">// Break while</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">tmpSc</span><span class="s0">.</span><span class="s2">get</span><span class="s0">(</span><span class="s2">sentinel</span><span class="s0">) === </span><span class="s3">'undefined'</span><span class="s0">) {</span>
            <span class="s2">step </span><span class="s0">= </span><span class="s4">0</span><span class="s0">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">filter </span><span class="s0">=== </span><span class="s3">'function'</span><span class="s0">) {</span>
        <span class="s2">obj </span><span class="s0">= </span><span class="s2">filter</span><span class="s0">(</span><span class="s2">prefix</span><span class="s0">, </span><span class="s2">obj</span><span class="s0">);</span>
    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">obj </span><span class="s1">instanceof </span><span class="s2">Date</span><span class="s0">) {</span>
        <span class="s2">obj </span><span class="s0">= </span><span class="s2">serializeDate</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">generateArrayPrefix </span><span class="s0">=== </span><span class="s3">'comma' </span><span class="s0">&amp;&amp; </span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s2">obj </span><span class="s0">= </span><span class="s2">utils</span><span class="s0">.</span><span class="s2">maybeMap</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s1">function </span><span class="s0">(</span><span class="s2">value</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">value </span><span class="s1">instanceof </span><span class="s2">Date</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s2">serializeDate</span><span class="s0">(</span><span class="s2">value</span><span class="s0">);</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">value</span><span class="s0">;</span>
        <span class="s0">});</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">obj </span><span class="s0">=== </span><span class="s1">null</span><span class="s0">) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">strictNullHandling</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">encoder </span><span class="s0">&amp;&amp; !</span><span class="s2">encodeValuesOnly </span><span class="s0">? </span><span class="s2">encoder</span><span class="s0">(</span><span class="s2">prefix</span><span class="s0">, </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">encoder</span><span class="s0">, </span><span class="s2">charset</span><span class="s0">, </span><span class="s3">'key'</span><span class="s0">, </span><span class="s2">format</span><span class="s0">) : </span><span class="s2">prefix</span><span class="s0">;</span>
        <span class="s0">}</span>

        <span class="s2">obj </span><span class="s0">= </span><span class="s3">''</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">isNonNullishPrimitive</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) || </span><span class="s2">utils</span><span class="s0">.</span><span class="s2">isBuffer</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">encoder</span><span class="s0">) {</span>
            <span class="s1">var </span><span class="s2">keyValue </span><span class="s0">= </span><span class="s2">encodeValuesOnly </span><span class="s0">? </span><span class="s2">prefix </span><span class="s0">: </span><span class="s2">encoder</span><span class="s0">(</span><span class="s2">prefix</span><span class="s0">, </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">encoder</span><span class="s0">, </span><span class="s2">charset</span><span class="s0">, </span><span class="s3">'key'</span><span class="s0">, </span><span class="s2">format</span><span class="s0">);</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">generateArrayPrefix </span><span class="s0">=== </span><span class="s3">'comma' </span><span class="s0">&amp;&amp; </span><span class="s2">encodeValuesOnly</span><span class="s0">) {</span>
                <span class="s1">var </span><span class="s2">valuesArray </span><span class="s0">= </span><span class="s2">split</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">String</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">), </span><span class="s3">','</span><span class="s0">);</span>
                <span class="s1">var </span><span class="s2">valuesJoined </span><span class="s0">= </span><span class="s3">''</span><span class="s0">;</span>
                <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">valuesArray</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; ++</span><span class="s2">i</span><span class="s0">) {</span>
                    <span class="s2">valuesJoined </span><span class="s0">+= (</span><span class="s2">i </span><span class="s0">=== </span><span class="s4">0 </span><span class="s0">? </span><span class="s3">'' </span><span class="s0">: </span><span class="s3">','</span><span class="s0">) + </span><span class="s2">formatter</span><span class="s0">(</span><span class="s2">encoder</span><span class="s0">(</span><span class="s2">valuesArray</span><span class="s0">[</span><span class="s2">i</span><span class="s0">], </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">encoder</span><span class="s0">, </span><span class="s2">charset</span><span class="s0">, </span><span class="s3">'value'</span><span class="s0">, </span><span class="s2">format</span><span class="s0">));</span>
                <span class="s0">}</span>
                <span class="s1">return </span><span class="s0">[</span><span class="s2">formatter</span><span class="s0">(</span><span class="s2">keyValue</span><span class="s0">) + (</span><span class="s2">commaRoundTrip </span><span class="s0">&amp;&amp; </span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) &amp;&amp; </span><span class="s2">valuesArray</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">1 </span><span class="s0">? </span><span class="s3">'[]' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">) + </span><span class="s3">'=' </span><span class="s0">+ </span><span class="s2">valuesJoined</span><span class="s0">];</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s0">[</span><span class="s2">formatter</span><span class="s0">(</span><span class="s2">keyValue</span><span class="s0">) + </span><span class="s3">'=' </span><span class="s0">+ </span><span class="s2">formatter</span><span class="s0">(</span><span class="s2">encoder</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">encoder</span><span class="s0">, </span><span class="s2">charset</span><span class="s0">, </span><span class="s3">'value'</span><span class="s0">, </span><span class="s2">format</span><span class="s0">))];</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s0">[</span><span class="s2">formatter</span><span class="s0">(</span><span class="s2">prefix</span><span class="s0">) + </span><span class="s3">'=' </span><span class="s0">+ </span><span class="s2">formatter</span><span class="s0">(</span><span class="s2">String</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">))];</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">values </span><span class="s0">= [];</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'undefined'</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">values</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">objKeys</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">generateArrayPrefix </span><span class="s0">=== </span><span class="s3">'comma' </span><span class="s0">&amp;&amp; </span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s6">// we need to join elements in</span>
        <span class="s2">objKeys </span><span class="s0">= [{ </span><span class="s2">value</span><span class="s0">: </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">? </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">join</span><span class="s0">(</span><span class="s3">','</span><span class="s0">) || </span><span class="s1">null </span><span class="s0">: </span><span class="s1">void </span><span class="s2">undefined </span><span class="s0">}];</span>
    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">filter</span><span class="s0">)) {</span>
        <span class="s2">objKeys </span><span class="s0">= </span><span class="s2">filter</span><span class="s0">;</span>
    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
        <span class="s1">var </span><span class="s2">keys </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">keys</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
        <span class="s2">objKeys </span><span class="s0">= </span><span class="s2">sort </span><span class="s0">? </span><span class="s2">keys</span><span class="s0">.</span><span class="s2">sort</span><span class="s0">(</span><span class="s2">sort</span><span class="s0">) : </span><span class="s2">keys</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">adjustedPrefix </span><span class="s0">= </span><span class="s2">commaRoundTrip </span><span class="s0">&amp;&amp; </span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) &amp;&amp; </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">1 </span><span class="s0">? </span><span class="s2">prefix </span><span class="s0">+ </span><span class="s3">'[]' </span><span class="s0">: </span><span class="s2">prefix</span><span class="s0">;</span>

    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">j </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">j </span><span class="s0">&lt; </span><span class="s2">objKeys</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; ++</span><span class="s2">j</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s2">key </span><span class="s0">= </span><span class="s2">objKeys</span><span class="s0">[</span><span class="s2">j</span><span class="s0">];</span>
        <span class="s1">var </span><span class="s2">value </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">key </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">key</span><span class="s0">.</span><span class="s2">value </span><span class="s0">!== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">key</span><span class="s0">.</span><span class="s2">value </span><span class="s0">: </span><span class="s2">obj</span><span class="s0">[</span><span class="s2">key</span><span class="s0">];</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s2">skipNulls </span><span class="s0">&amp;&amp; </span><span class="s2">value </span><span class="s0">=== </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">continue</span><span class="s0">;</span>
        <span class="s0">}</span>

        <span class="s1">var </span><span class="s2">keyPrefix </span><span class="s0">= </span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)</span>
            <span class="s0">? </span><span class="s1">typeof </span><span class="s2">generateArrayPrefix </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">? </span><span class="s2">generateArrayPrefix</span><span class="s0">(</span><span class="s2">adjustedPrefix</span><span class="s0">, </span><span class="s2">key</span><span class="s0">) : </span><span class="s2">adjustedPrefix</span>
            <span class="s0">: </span><span class="s2">adjustedPrefix </span><span class="s0">+ (</span><span class="s2">allowDots </span><span class="s0">? </span><span class="s3">'.' </span><span class="s0">+ </span><span class="s2">key </span><span class="s0">: </span><span class="s3">'[' </span><span class="s0">+ </span><span class="s2">key </span><span class="s0">+ </span><span class="s3">']'</span><span class="s0">);</span>

        <span class="s2">sideChannel</span><span class="s0">.</span><span class="s2">set</span><span class="s0">(</span><span class="s2">object</span><span class="s0">, </span><span class="s2">step</span><span class="s0">);</span>
        <span class="s1">var </span><span class="s2">valueSideChannel </span><span class="s0">= </span><span class="s2">getSideChannel</span><span class="s0">();</span>
        <span class="s2">valueSideChannel</span><span class="s0">.</span><span class="s2">set</span><span class="s0">(</span><span class="s2">sentinel</span><span class="s0">, </span><span class="s2">sideChannel</span><span class="s0">);</span>
        <span class="s2">pushToArray</span><span class="s0">(</span><span class="s2">values</span><span class="s0">, </span><span class="s2">stringify</span><span class="s0">(</span>
            <span class="s2">value</span><span class="s0">,</span>
            <span class="s2">keyPrefix</span><span class="s0">,</span>
            <span class="s2">generateArrayPrefix</span><span class="s0">,</span>
            <span class="s2">commaRoundTrip</span><span class="s0">,</span>
            <span class="s2">strictNullHandling</span><span class="s0">,</span>
            <span class="s2">skipNulls</span><span class="s0">,</span>
            <span class="s2">encoder</span><span class="s0">,</span>
            <span class="s2">filter</span><span class="s0">,</span>
            <span class="s2">sort</span><span class="s0">,</span>
            <span class="s2">allowDots</span><span class="s0">,</span>
            <span class="s2">serializeDate</span><span class="s0">,</span>
            <span class="s2">format</span><span class="s0">,</span>
            <span class="s2">formatter</span><span class="s0">,</span>
            <span class="s2">encodeValuesOnly</span><span class="s0">,</span>
            <span class="s2">charset</span><span class="s0">,</span>
            <span class="s2">valueSideChannel</span>
        <span class="s0">));</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s2">values</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">normalizeStringifyOptions </span><span class="s0">= </span><span class="s1">function </span><span class="s2">normalizeStringifyOptions</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">opts</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">defaults</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">encoder </span><span class="s0">!== </span><span class="s1">null </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">encoder </span><span class="s0">!== </span><span class="s3">'undefined' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">encoder </span><span class="s0">!== </span><span class="s3">'function'</span><span class="s0">) {</span>
        <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">'Encoder has to be a function.'</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">charset </span><span class="s0">= </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charset </span><span class="s0">|| </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">charset</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charset </span><span class="s0">!== </span><span class="s3">'undefined' </span><span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charset </span><span class="s0">!== </span><span class="s3">'utf-8' </span><span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charset </span><span class="s0">!== </span><span class="s3">'iso-8859-1'</span><span class="s0">) {</span>
        <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">'The charset option must be either utf-8, iso-8859-1, or undefined'</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">format </span><span class="s0">= </span><span class="s2">formats</span><span class="s0">[</span><span class="s3">'default'</span><span class="s0">];</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">format </span><span class="s0">!== </span><span class="s3">'undefined'</span><span class="s0">) {</span>
        <span class="s1">if </span><span class="s0">(!</span><span class="s2">has</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">formats</span><span class="s0">.</span><span class="s2">formatters</span><span class="s0">, </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">format</span><span class="s0">)) {</span>
            <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">'Unknown format option provided.'</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s2">format </span><span class="s0">= </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">format</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s2">formatter </span><span class="s0">= </span><span class="s2">formats</span><span class="s0">.</span><span class="s2">formatters</span><span class="s0">[</span><span class="s2">format</span><span class="s0">];</span>

    <span class="s1">var </span><span class="s2">filter </span><span class="s0">= </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">filter</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">filter </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">|| </span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">filter</span><span class="s0">)) {</span>
        <span class="s2">filter </span><span class="s0">= </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">filter</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s0">{</span>
        <span class="s2">addQueryPrefix</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">addQueryPrefix </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">addQueryPrefix </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">addQueryPrefix</span><span class="s0">,</span>
        <span class="s2">allowDots</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">allowDots </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">allowDots </span><span class="s0">: !!</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">allowDots</span><span class="s0">,</span>
        <span class="s2">charset</span><span class="s0">: </span><span class="s2">charset</span><span class="s0">,</span>
        <span class="s2">charsetSentinel</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charsetSentinel </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">charsetSentinel </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">charsetSentinel</span><span class="s0">,</span>
        <span class="s2">delimiter</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">delimiter </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">delimiter </span><span class="s0">: </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">delimiter</span><span class="s0">,</span>
        <span class="s2">encode</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">encode </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">encode </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">encode</span><span class="s0">,</span>
        <span class="s2">encoder</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">encoder </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">encoder </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">encoder</span><span class="s0">,</span>
        <span class="s2">encodeValuesOnly</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">encodeValuesOnly </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">encodeValuesOnly </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">encodeValuesOnly</span><span class="s0">,</span>
        <span class="s2">filter</span><span class="s0">: </span><span class="s2">filter</span><span class="s0">,</span>
        <span class="s2">format</span><span class="s0">: </span><span class="s2">format</span><span class="s0">,</span>
        <span class="s2">formatter</span><span class="s0">: </span><span class="s2">formatter</span><span class="s0">,</span>
        <span class="s2">serializeDate</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">serializeDate </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">serializeDate </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">serializeDate</span><span class="s0">,</span>
        <span class="s2">skipNulls</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">skipNulls </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">skipNulls </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">skipNulls</span><span class="s0">,</span>
        <span class="s2">sort</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">sort </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">sort </span><span class="s0">: </span><span class="s1">null</span><span class="s0">,</span>
        <span class="s2">strictNullHandling</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">strictNullHandling </span><span class="s0">=== </span><span class="s3">'boolean' </span><span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">strictNullHandling </span><span class="s0">: </span><span class="s2">defaults</span><span class="s0">.</span><span class="s2">strictNullHandling</span>
    <span class="s0">};</span>
<span class="s0">};</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s1">function </span><span class="s0">(</span><span class="s2">object</span><span class="s0">, </span><span class="s2">opts</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">obj </span><span class="s0">= </span><span class="s2">object</span><span class="s0">;</span>
    <span class="s1">var </span><span class="s2">options </span><span class="s0">= </span><span class="s2">normalizeStringifyOptions</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">);</span>

    <span class="s1">var </span><span class="s2">objKeys</span><span class="s0">;</span>
    <span class="s1">var </span><span class="s2">filter</span><span class="s0">;</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">options</span><span class="s0">.</span><span class="s2">filter </span><span class="s0">=== </span><span class="s3">'function'</span><span class="s0">) {</span>
        <span class="s2">filter </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">filter</span><span class="s0">;</span>
        <span class="s2">obj </span><span class="s0">= </span><span class="s2">filter</span><span class="s0">(</span><span class="s3">''</span><span class="s0">, </span><span class="s2">obj</span><span class="s0">);</span>
    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">filter</span><span class="s0">)) {</span>
        <span class="s2">filter </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">filter</span><span class="s0">;</span>
        <span class="s2">objKeys </span><span class="s0">= </span><span class="s2">filter</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">keys </span><span class="s0">= [];</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">!== </span><span class="s3">'object' </span><span class="s0">|| </span><span class="s2">obj </span><span class="s0">=== </span><span class="s1">null</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s3">''</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">arrayFormat</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">opts </span><span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">arrayFormat </span><span class="s1">in </span><span class="s2">arrayPrefixGenerators</span><span class="s0">) {</span>
        <span class="s2">arrayFormat </span><span class="s0">= </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">arrayFormat</span><span class="s0">;</span>
    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">opts </span><span class="s0">&amp;&amp; </span><span class="s3">'indices' </span><span class="s1">in </span><span class="s2">opts</span><span class="s0">) {</span>
        <span class="s2">arrayFormat </span><span class="s0">= </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">indices </span><span class="s0">? </span><span class="s3">'indices' </span><span class="s0">: </span><span class="s3">'repeat'</span><span class="s0">;</span>
    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
        <span class="s2">arrayFormat </span><span class="s0">= </span><span class="s3">'indices'</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">generateArrayPrefix </span><span class="s0">= </span><span class="s2">arrayPrefixGenerators</span><span class="s0">[</span><span class="s2">arrayFormat</span><span class="s0">];</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">opts </span><span class="s0">&amp;&amp; </span><span class="s3">'commaRoundTrip' </span><span class="s1">in </span><span class="s2">opts </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">commaRoundTrip </span><span class="s0">!== </span><span class="s3">'boolean'</span><span class="s0">) {</span>
        <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">'`commaRoundTrip` must be a boolean, or absent'</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s2">commaRoundTrip </span><span class="s0">= </span><span class="s2">generateArrayPrefix </span><span class="s0">=== </span><span class="s3">'comma' </span><span class="s0">&amp;&amp; </span><span class="s2">opts </span><span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">commaRoundTrip</span><span class="s0">;</span>

    <span class="s1">if </span><span class="s0">(!</span><span class="s2">objKeys</span><span class="s0">) {</span>
        <span class="s2">objKeys </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">keys</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">sort</span><span class="s0">) {</span>
        <span class="s2">objKeys</span><span class="s0">.</span><span class="s2">sort</span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">sort</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">sideChannel </span><span class="s0">= </span><span class="s2">getSideChannel</span><span class="s0">();</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">objKeys</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; ++</span><span class="s2">i</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s2">key </span><span class="s0">= </span><span class="s2">objKeys</span><span class="s0">[</span><span class="s2">i</span><span class="s0">];</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">skipNulls </span><span class="s0">&amp;&amp; </span><span class="s2">obj</span><span class="s0">[</span><span class="s2">key</span><span class="s0">] === </span><span class="s1">null</span><span class="s0">) {</span>
            <span class="s1">continue</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s2">pushToArray</span><span class="s0">(</span><span class="s2">keys</span><span class="s0">, </span><span class="s2">stringify</span><span class="s0">(</span>
            <span class="s2">obj</span><span class="s0">[</span><span class="s2">key</span><span class="s0">],</span>
            <span class="s2">key</span><span class="s0">,</span>
            <span class="s2">generateArrayPrefix</span><span class="s0">,</span>
            <span class="s2">commaRoundTrip</span><span class="s0">,</span>
            <span class="s2">options</span><span class="s0">.</span><span class="s2">strictNullHandling</span><span class="s0">,</span>
            <span class="s2">options</span><span class="s0">.</span><span class="s2">skipNulls</span><span class="s0">,</span>
            <span class="s2">options</span><span class="s0">.</span><span class="s2">encode </span><span class="s0">? </span><span class="s2">options</span><span class="s0">.</span><span class="s2">encoder </span><span class="s0">: </span><span class="s1">null</span><span class="s0">,</span>
            <span class="s2">options</span><span class="s0">.</span><span class="s2">filter</span><span class="s0">,</span>
            <span class="s2">options</span><span class="s0">.</span><span class="s2">sort</span><span class="s0">,</span>
            <span class="s2">options</span><span class="s0">.</span><span class="s2">allowDots</span><span class="s0">,</span>
            <span class="s2">options</span><span class="s0">.</span><span class="s2">serializeDate</span><span class="s0">,</span>
            <span class="s2">options</span><span class="s0">.</span><span class="s2">format</span><span class="s0">,</span>
            <span class="s2">options</span><span class="s0">.</span><span class="s2">formatter</span><span class="s0">,</span>
            <span class="s2">options</span><span class="s0">.</span><span class="s2">encodeValuesOnly</span><span class="s0">,</span>
            <span class="s2">options</span><span class="s0">.</span><span class="s2">charset</span><span class="s0">,</span>
            <span class="s2">sideChannel</span>
        <span class="s0">));</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">joined </span><span class="s0">= </span><span class="s2">keys</span><span class="s0">.</span><span class="s2">join</span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">delimiter</span><span class="s0">);</span>
    <span class="s1">var </span><span class="s2">prefix </span><span class="s0">= </span><span class="s2">options</span><span class="s0">.</span><span class="s2">addQueryPrefix </span><span class="s0">=== </span><span class="s1">true </span><span class="s0">? </span><span class="s3">'?' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">;</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">charsetSentinel</span><span class="s0">) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">options</span><span class="s0">.</span><span class="s2">charset </span><span class="s0">=== </span><span class="s3">'iso-8859-1'</span><span class="s0">) {</span>
            <span class="s6">// encodeURIComponent('&amp;#10003;'), the &quot;numeric entity&quot; representation of a checkmark</span>
            <span class="s2">prefix </span><span class="s0">+= </span><span class="s3">'utf8=%26%2310003%3B&amp;'</span><span class="s0">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s6">// encodeURIComponent('✓')</span>
            <span class="s2">prefix </span><span class="s0">+= </span><span class="s3">'utf8=%E2%9C%93&amp;'</span><span class="s0">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s2">joined</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">? </span><span class="s2">prefix </span><span class="s0">+ </span><span class="s2">joined </span><span class="s0">: </span><span class="s3">''</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s0">},{</span><span class="s3">&quot;./formats&quot;</span><span class="s0">:</span><span class="s4">1</span><span class="s0">,</span><span class="s3">&quot;./utils&quot;</span><span class="s0">:</span><span class="s4">5</span><span class="s0">,</span><span class="s3">&quot;side-channel&quot;</span><span class="s0">:</span><span class="s4">16</span><span class="s0">}],</span><span class="s4">5</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">formats </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'./formats'</span><span class="s0">);</span>

<span class="s1">var </span><span class="s2">has </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">hasOwnProperty</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">isArray </span><span class="s0">= </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">isArray</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">hexTable </span><span class="s0">= (</span><span class="s1">function </span><span class="s0">() {</span>
    <span class="s1">var </span><span class="s2">array </span><span class="s0">= [];</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s4">256</span><span class="s0">; ++</span><span class="s2">i</span><span class="s0">) {</span>
        <span class="s2">array</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s3">'%' </span><span class="s0">+ ((</span><span class="s2">i </span><span class="s0">&lt; </span><span class="s4">16 </span><span class="s0">? </span><span class="s3">'0' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">) + </span><span class="s2">i</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">(</span><span class="s4">16</span><span class="s0">)).</span><span class="s2">toUpperCase</span><span class="s0">());</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s2">array</span><span class="s0">;</span>
<span class="s0">}());</span>

<span class="s1">var </span><span class="s2">compactQueue </span><span class="s0">= </span><span class="s1">function </span><span class="s2">compactQueue</span><span class="s0">(</span><span class="s2">queue</span><span class="s0">) {</span>
    <span class="s1">while </span><span class="s0">(</span><span class="s2">queue</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">1</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s2">item </span><span class="s0">= </span><span class="s2">queue</span><span class="s0">.</span><span class="s2">pop</span><span class="s0">();</span>
        <span class="s1">var </span><span class="s2">obj </span><span class="s0">= </span><span class="s2">item</span><span class="s0">.</span><span class="s2">obj</span><span class="s0">[</span><span class="s2">item</span><span class="s0">.</span><span class="s2">prop</span><span class="s0">];</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
            <span class="s1">var </span><span class="s2">compacted </span><span class="s0">= [];</span>

            <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">j </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">j </span><span class="s0">&lt; </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; ++</span><span class="s2">j</span><span class="s0">) {</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">obj</span><span class="s0">[</span><span class="s2">j</span><span class="s0">] !== </span><span class="s3">'undefined'</span><span class="s0">) {</span>
                    <span class="s2">compacted</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">[</span><span class="s2">j</span><span class="s0">]);</span>
                <span class="s0">}</span>
            <span class="s0">}</span>

            <span class="s2">item</span><span class="s0">.</span><span class="s2">obj</span><span class="s0">[</span><span class="s2">item</span><span class="s0">.</span><span class="s2">prop</span><span class="s0">] = </span><span class="s2">compacted</span><span class="s0">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">arrayToObject </span><span class="s0">= </span><span class="s1">function </span><span class="s2">arrayToObject</span><span class="s0">(</span><span class="s2">source</span><span class="s0">, </span><span class="s2">options</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">obj </span><span class="s0">= </span><span class="s2">options </span><span class="s0">&amp;&amp; </span><span class="s2">options</span><span class="s0">.</span><span class="s2">plainObjects </span><span class="s0">? </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">create</span><span class="s0">(</span><span class="s1">null</span><span class="s0">) : {};</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">source</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; ++</span><span class="s2">i</span><span class="s0">) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">source</span><span class="s0">[</span><span class="s2">i</span><span class="s0">] !== </span><span class="s3">'undefined'</span><span class="s0">) {</span>
            <span class="s2">obj</span><span class="s0">[</span><span class="s2">i</span><span class="s0">] = </span><span class="s2">source</span><span class="s0">[</span><span class="s2">i</span><span class="s0">];</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s2">obj</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">merge </span><span class="s0">= </span><span class="s1">function </span><span class="s2">merge</span><span class="s0">(</span><span class="s2">target</span><span class="s0">, </span><span class="s2">source</span><span class="s0">, </span><span class="s2">options</span><span class="s0">) {</span>
    <span class="s6">/* eslint no-param-reassign: 0 */</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">source</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">target</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">source </span><span class="s0">!== </span><span class="s3">'object'</span><span class="s0">) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">target</span><span class="s0">)) {</span>
            <span class="s2">target</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">source</span><span class="s0">);</span>
        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">target </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">target </span><span class="s0">=== </span><span class="s3">'object'</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">((</span><span class="s2">options </span><span class="s0">&amp;&amp; (</span><span class="s2">options</span><span class="s0">.</span><span class="s2">plainObjects </span><span class="s0">|| </span><span class="s2">options</span><span class="s0">.</span><span class="s2">allowPrototypes</span><span class="s0">)) || !</span><span class="s2">has</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">, </span><span class="s2">source</span><span class="s0">)) {</span>
                <span class="s2">target</span><span class="s0">[</span><span class="s2">source</span><span class="s0">] = </span><span class="s1">true</span><span class="s0">;</span>
            <span class="s0">}</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s1">return </span><span class="s0">[</span><span class="s2">target</span><span class="s0">, </span><span class="s2">source</span><span class="s0">];</span>
        <span class="s0">}</span>

        <span class="s1">return </span><span class="s2">target</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(!</span><span class="s2">target </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">target </span><span class="s0">!== </span><span class="s3">'object'</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s0">[</span><span class="s2">target</span><span class="s0">].</span><span class="s2">concat</span><span class="s0">(</span><span class="s2">source</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">mergeTarget </span><span class="s0">= </span><span class="s2">target</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">target</span><span class="s0">) &amp;&amp; !</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">source</span><span class="s0">)) {</span>
        <span class="s2">mergeTarget </span><span class="s0">= </span><span class="s2">arrayToObject</span><span class="s0">(</span><span class="s2">target</span><span class="s0">, </span><span class="s2">options</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">target</span><span class="s0">) &amp;&amp; </span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">source</span><span class="s0">)) {</span>
        <span class="s2">source</span><span class="s0">.</span><span class="s2">forEach</span><span class="s0">(</span><span class="s1">function </span><span class="s0">(</span><span class="s2">item</span><span class="s0">, </span><span class="s2">i</span><span class="s0">) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">has</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">target</span><span class="s0">, </span><span class="s2">i</span><span class="s0">)) {</span>
                <span class="s1">var </span><span class="s2">targetItem </span><span class="s0">= </span><span class="s2">target</span><span class="s0">[</span><span class="s2">i</span><span class="s0">];</span>
                <span class="s1">if </span><span class="s0">(</span><span class="s2">targetItem </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">targetItem </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s2">item </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">item </span><span class="s0">=== </span><span class="s3">'object'</span><span class="s0">) {</span>
                    <span class="s2">target</span><span class="s0">[</span><span class="s2">i</span><span class="s0">] = </span><span class="s2">merge</span><span class="s0">(</span><span class="s2">targetItem</span><span class="s0">, </span><span class="s2">item</span><span class="s0">, </span><span class="s2">options</span><span class="s0">);</span>
                <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                    <span class="s2">target</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">item</span><span class="s0">);</span>
                <span class="s0">}</span>
            <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
                <span class="s2">target</span><span class="s0">[</span><span class="s2">i</span><span class="s0">] = </span><span class="s2">item</span><span class="s0">;</span>
            <span class="s0">}</span>
        <span class="s0">});</span>
        <span class="s1">return </span><span class="s2">target</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">keys</span><span class="s0">(</span><span class="s2">source</span><span class="s0">).</span><span class="s2">reduce</span><span class="s0">(</span><span class="s1">function </span><span class="s0">(</span><span class="s2">acc</span><span class="s0">, </span><span class="s2">key</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s2">value </span><span class="s0">= </span><span class="s2">source</span><span class="s0">[</span><span class="s2">key</span><span class="s0">];</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s2">has</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">acc</span><span class="s0">, </span><span class="s2">key</span><span class="s0">)) {</span>
            <span class="s2">acc</span><span class="s0">[</span><span class="s2">key</span><span class="s0">] = </span><span class="s2">merge</span><span class="s0">(</span><span class="s2">acc</span><span class="s0">[</span><span class="s2">key</span><span class="s0">], </span><span class="s2">value</span><span class="s0">, </span><span class="s2">options</span><span class="s0">);</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s2">acc</span><span class="s0">[</span><span class="s2">key</span><span class="s0">] = </span><span class="s2">value</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">acc</span><span class="s0">;</span>
    <span class="s0">}, </span><span class="s2">mergeTarget</span><span class="s0">);</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">assign </span><span class="s0">= </span><span class="s1">function </span><span class="s2">assignSingleSource</span><span class="s0">(</span><span class="s2">target</span><span class="s0">, </span><span class="s2">source</span><span class="s0">) {</span>
    <span class="s1">return </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">keys</span><span class="s0">(</span><span class="s2">source</span><span class="s0">).</span><span class="s2">reduce</span><span class="s0">(</span><span class="s1">function </span><span class="s0">(</span><span class="s2">acc</span><span class="s0">, </span><span class="s2">key</span><span class="s0">) {</span>
        <span class="s2">acc</span><span class="s0">[</span><span class="s2">key</span><span class="s0">] = </span><span class="s2">source</span><span class="s0">[</span><span class="s2">key</span><span class="s0">];</span>
        <span class="s1">return </span><span class="s2">acc</span><span class="s0">;</span>
    <span class="s0">}, </span><span class="s2">target</span><span class="s0">);</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">decode </span><span class="s0">= </span><span class="s1">function </span><span class="s0">(</span><span class="s2">str</span><span class="s0">, </span><span class="s2">decoder</span><span class="s0">, </span><span class="s2">charset</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">strWithoutPlus </span><span class="s0">= </span><span class="s2">str</span><span class="s0">.</span><span class="s2">replace</span><span class="s0">(</span><span class="s5">/\+/g</span><span class="s0">, </span><span class="s3">' '</span><span class="s0">);</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">charset </span><span class="s0">=== </span><span class="s3">'iso-8859-1'</span><span class="s0">) {</span>
        <span class="s6">// unescape never throws, no try...catch needed:</span>
        <span class="s1">return </span><span class="s2">strWithoutPlus</span><span class="s0">.</span><span class="s2">replace</span><span class="s0">(</span><span class="s5">/%[0-9a-f]{2}/gi</span><span class="s0">, </span><span class="s2">unescape</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s6">// utf-8</span>
    <span class="s1">try </span><span class="s0">{</span>
        <span class="s1">return </span><span class="s2">decodeURIComponent</span><span class="s0">(</span><span class="s2">strWithoutPlus</span><span class="s0">);</span>
    <span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">e</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">strWithoutPlus</span><span class="s0">;</span>
    <span class="s0">}</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">encode </span><span class="s0">= </span><span class="s1">function </span><span class="s2">encode</span><span class="s0">(</span><span class="s2">str</span><span class="s0">, </span><span class="s2">defaultEncoder</span><span class="s0">, </span><span class="s2">charset</span><span class="s0">, </span><span class="s2">kind</span><span class="s0">, </span><span class="s2">format</span><span class="s0">) {</span>
    <span class="s6">// This code was originally written by Brian White (mscdex) for the io.js core querystring library.</span>
    <span class="s6">// It has been adapted here for stricter adherence to RFC 3986</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">str</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">str</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">string </span><span class="s0">= </span><span class="s2">str</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">str </span><span class="s0">=== </span><span class="s3">'symbol'</span><span class="s0">) {</span>
        <span class="s2">string </span><span class="s0">= </span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">str</span><span class="s0">);</span>
    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">str </span><span class="s0">!== </span><span class="s3">'string'</span><span class="s0">) {</span>
        <span class="s2">string </span><span class="s0">= </span><span class="s2">String</span><span class="s0">(</span><span class="s2">str</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">charset </span><span class="s0">=== </span><span class="s3">'iso-8859-1'</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">escape</span><span class="s0">(</span><span class="s2">string</span><span class="s0">).</span><span class="s2">replace</span><span class="s0">(</span><span class="s5">/%u[0-9a-f]{4}/gi</span><span class="s0">, </span><span class="s1">function </span><span class="s0">(</span><span class="s2">$0</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s3">'%26%23' </span><span class="s0">+ </span><span class="s2">parseInt</span><span class="s0">(</span><span class="s2">$0</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">(</span><span class="s4">2</span><span class="s0">), </span><span class="s4">16</span><span class="s0">) + </span><span class="s3">'%3B'</span><span class="s0">;</span>
        <span class="s0">});</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">out </span><span class="s0">= </span><span class="s3">''</span><span class="s0">;</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">string</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; ++</span><span class="s2">i</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s2">c </span><span class="s0">= </span><span class="s2">string</span><span class="s0">.</span><span class="s2">charCodeAt</span><span class="s0">(</span><span class="s2">i</span><span class="s0">);</span>

        <span class="s1">if </span><span class="s0">(</span>
            <span class="s2">c </span><span class="s0">=== </span><span class="s4">0x2D </span><span class="s6">// -</span>
            <span class="s0">|| </span><span class="s2">c </span><span class="s0">=== </span><span class="s4">0x2E </span><span class="s6">// .</span>
            <span class="s0">|| </span><span class="s2">c </span><span class="s0">=== </span><span class="s4">0x5F </span><span class="s6">// _</span>
            <span class="s0">|| </span><span class="s2">c </span><span class="s0">=== </span><span class="s4">0x7E </span><span class="s6">// ~</span>
            <span class="s0">|| (</span><span class="s2">c </span><span class="s0">&gt;= </span><span class="s4">0x30 </span><span class="s0">&amp;&amp; </span><span class="s2">c </span><span class="s0">&lt;= </span><span class="s4">0x39</span><span class="s0">) </span><span class="s6">// 0-9</span>
            <span class="s0">|| (</span><span class="s2">c </span><span class="s0">&gt;= </span><span class="s4">0x41 </span><span class="s0">&amp;&amp; </span><span class="s2">c </span><span class="s0">&lt;= </span><span class="s4">0x5A</span><span class="s0">) </span><span class="s6">// a-z</span>
            <span class="s0">|| (</span><span class="s2">c </span><span class="s0">&gt;= </span><span class="s4">0x61 </span><span class="s0">&amp;&amp; </span><span class="s2">c </span><span class="s0">&lt;= </span><span class="s4">0x7A</span><span class="s0">) </span><span class="s6">// A-Z</span>
            <span class="s0">|| (</span><span class="s2">format </span><span class="s0">=== </span><span class="s2">formats</span><span class="s0">.</span><span class="s2">RFC1738 </span><span class="s0">&amp;&amp; (</span><span class="s2">c </span><span class="s0">=== </span><span class="s4">0x28 </span><span class="s0">|| </span><span class="s2">c </span><span class="s0">=== </span><span class="s4">0x29</span><span class="s0">)) </span><span class="s6">// ( )</span>
        <span class="s0">) {</span>
            <span class="s2">out </span><span class="s0">+= </span><span class="s2">string</span><span class="s0">.</span><span class="s2">charAt</span><span class="s0">(</span><span class="s2">i</span><span class="s0">);</span>
            <span class="s1">continue</span><span class="s0">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s2">c </span><span class="s0">&lt; </span><span class="s4">0x80</span><span class="s0">) {</span>
            <span class="s2">out </span><span class="s0">= </span><span class="s2">out </span><span class="s0">+ </span><span class="s2">hexTable</span><span class="s0">[</span><span class="s2">c</span><span class="s0">];</span>
            <span class="s1">continue</span><span class="s0">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s2">c </span><span class="s0">&lt; </span><span class="s4">0x800</span><span class="s0">) {</span>
            <span class="s2">out </span><span class="s0">= </span><span class="s2">out </span><span class="s0">+ (</span><span class="s2">hexTable</span><span class="s0">[</span><span class="s4">0xC0 </span><span class="s0">| (</span><span class="s2">c </span><span class="s0">&gt;&gt; </span><span class="s4">6</span><span class="s0">)] + </span><span class="s2">hexTable</span><span class="s0">[</span><span class="s4">0x80 </span><span class="s0">| (</span><span class="s2">c </span><span class="s0">&amp; </span><span class="s4">0x3F</span><span class="s0">)]);</span>
            <span class="s1">continue</span><span class="s0">;</span>
        <span class="s0">}</span>

        <span class="s1">if </span><span class="s0">(</span><span class="s2">c </span><span class="s0">&lt; </span><span class="s4">0xD800 </span><span class="s0">|| </span><span class="s2">c </span><span class="s0">&gt;= </span><span class="s4">0xE000</span><span class="s0">) {</span>
            <span class="s2">out </span><span class="s0">= </span><span class="s2">out </span><span class="s0">+ (</span><span class="s2">hexTable</span><span class="s0">[</span><span class="s4">0xE0 </span><span class="s0">| (</span><span class="s2">c </span><span class="s0">&gt;&gt; </span><span class="s4">12</span><span class="s0">)] + </span><span class="s2">hexTable</span><span class="s0">[</span><span class="s4">0x80 </span><span class="s0">| ((</span><span class="s2">c </span><span class="s0">&gt;&gt; </span><span class="s4">6</span><span class="s0">) &amp; </span><span class="s4">0x3F</span><span class="s0">)] + </span><span class="s2">hexTable</span><span class="s0">[</span><span class="s4">0x80 </span><span class="s0">| (</span><span class="s2">c </span><span class="s0">&amp; </span><span class="s4">0x3F</span><span class="s0">)]);</span>
            <span class="s1">continue</span><span class="s0">;</span>
        <span class="s0">}</span>

        <span class="s2">i </span><span class="s0">+= </span><span class="s4">1</span><span class="s0">;</span>
        <span class="s2">c </span><span class="s0">= </span><span class="s4">0x10000 </span><span class="s0">+ (((</span><span class="s2">c </span><span class="s0">&amp; </span><span class="s4">0x3FF</span><span class="s0">) &lt;&lt; </span><span class="s4">10</span><span class="s0">) | (</span><span class="s2">string</span><span class="s0">.</span><span class="s2">charCodeAt</span><span class="s0">(</span><span class="s2">i</span><span class="s0">) &amp; </span><span class="s4">0x3FF</span><span class="s0">));</span>
        <span class="s6">/* eslint operator-linebreak: [2, &quot;before&quot;] */</span>
        <span class="s2">out </span><span class="s0">+= </span><span class="s2">hexTable</span><span class="s0">[</span><span class="s4">0xF0 </span><span class="s0">| (</span><span class="s2">c </span><span class="s0">&gt;&gt; </span><span class="s4">18</span><span class="s0">)]</span>
            <span class="s0">+ </span><span class="s2">hexTable</span><span class="s0">[</span><span class="s4">0x80 </span><span class="s0">| ((</span><span class="s2">c </span><span class="s0">&gt;&gt; </span><span class="s4">12</span><span class="s0">) &amp; </span><span class="s4">0x3F</span><span class="s0">)]</span>
            <span class="s0">+ </span><span class="s2">hexTable</span><span class="s0">[</span><span class="s4">0x80 </span><span class="s0">| ((</span><span class="s2">c </span><span class="s0">&gt;&gt; </span><span class="s4">6</span><span class="s0">) &amp; </span><span class="s4">0x3F</span><span class="s0">)]</span>
            <span class="s0">+ </span><span class="s2">hexTable</span><span class="s0">[</span><span class="s4">0x80 </span><span class="s0">| (</span><span class="s2">c </span><span class="s0">&amp; </span><span class="s4">0x3F</span><span class="s0">)];</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s2">out</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">compact </span><span class="s0">= </span><span class="s1">function </span><span class="s2">compact</span><span class="s0">(</span><span class="s2">value</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">queue </span><span class="s0">= [{ </span><span class="s2">obj</span><span class="s0">: { </span><span class="s2">o</span><span class="s0">: </span><span class="s2">value </span><span class="s0">}, </span><span class="s2">prop</span><span class="s0">: </span><span class="s3">'o' </span><span class="s0">}];</span>
    <span class="s1">var </span><span class="s2">refs </span><span class="s0">= [];</span>

    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">queue</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; ++</span><span class="s2">i</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s2">item </span><span class="s0">= </span><span class="s2">queue</span><span class="s0">[</span><span class="s2">i</span><span class="s0">];</span>
        <span class="s1">var </span><span class="s2">obj </span><span class="s0">= </span><span class="s2">item</span><span class="s0">.</span><span class="s2">obj</span><span class="s0">[</span><span class="s2">item</span><span class="s0">.</span><span class="s2">prop</span><span class="s0">];</span>

        <span class="s1">var </span><span class="s2">keys </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">keys</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">j </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">j </span><span class="s0">&lt; </span><span class="s2">keys</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; ++</span><span class="s2">j</span><span class="s0">) {</span>
            <span class="s1">var </span><span class="s2">key </span><span class="s0">= </span><span class="s2">keys</span><span class="s0">[</span><span class="s2">j</span><span class="s0">];</span>
            <span class="s1">var </span><span class="s2">val </span><span class="s0">= </span><span class="s2">obj</span><span class="s0">[</span><span class="s2">key</span><span class="s0">];</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">val </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s2">val </span><span class="s0">!== </span><span class="s1">null </span><span class="s0">&amp;&amp; </span><span class="s2">refs</span><span class="s0">.</span><span class="s2">indexOf</span><span class="s0">(</span><span class="s2">val</span><span class="s0">) === -</span><span class="s4">1</span><span class="s0">) {</span>
                <span class="s2">queue</span><span class="s0">.</span><span class="s2">push</span><span class="s0">({ </span><span class="s2">obj</span><span class="s0">: </span><span class="s2">obj</span><span class="s0">, </span><span class="s2">prop</span><span class="s0">: </span><span class="s2">key </span><span class="s0">});</span>
                <span class="s2">refs</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">val</span><span class="s0">);</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s2">compactQueue</span><span class="s0">(</span><span class="s2">queue</span><span class="s0">);</span>

    <span class="s1">return </span><span class="s2">value</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">isRegExp </span><span class="s0">= </span><span class="s1">function </span><span class="s2">isRegExp</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) {</span>
    <span class="s1">return </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) === </span><span class="s3">'[object RegExp]'</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">isBuffer </span><span class="s0">= </span><span class="s1">function </span><span class="s2">isBuffer</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">obj </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">!== </span><span class="s3">'object'</span><span class="s0">) {</span>
        <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s0">!!(</span><span class="s2">obj</span><span class="s0">.</span><span class="s2">constructor </span><span class="s0">&amp;&amp; </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">constructor</span><span class="s0">.</span><span class="s2">isBuffer </span><span class="s0">&amp;&amp; </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">constructor</span><span class="s0">.</span><span class="s2">isBuffer</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">));</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">combine </span><span class="s0">= </span><span class="s1">function </span><span class="s2">combine</span><span class="s0">(</span><span class="s2">a</span><span class="s0">, </span><span class="s2">b</span><span class="s0">) {</span>
    <span class="s1">return </span><span class="s0">[].</span><span class="s2">concat</span><span class="s0">(</span><span class="s2">a</span><span class="s0">, </span><span class="s2">b</span><span class="s0">);</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">maybeMap </span><span class="s0">= </span><span class="s1">function </span><span class="s2">maybeMap</span><span class="s0">(</span><span class="s2">val</span><span class="s0">, </span><span class="s2">fn</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">val</span><span class="s0">)) {</span>
        <span class="s1">var </span><span class="s2">mapped </span><span class="s0">= [];</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">val</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; </span><span class="s2">i </span><span class="s0">+= </span><span class="s4">1</span><span class="s0">) {</span>
            <span class="s2">mapped</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">fn</span><span class="s0">(</span><span class="s2">val</span><span class="s0">[</span><span class="s2">i</span><span class="s0">]));</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">mapped</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">return </span><span class="s2">fn</span><span class="s0">(</span><span class="s2">val</span><span class="s0">);</span>
<span class="s0">};</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= {</span>
    <span class="s2">arrayToObject</span><span class="s0">: </span><span class="s2">arrayToObject</span><span class="s0">,</span>
    <span class="s2">assign</span><span class="s0">: </span><span class="s2">assign</span><span class="s0">,</span>
    <span class="s2">combine</span><span class="s0">: </span><span class="s2">combine</span><span class="s0">,</span>
    <span class="s2">compact</span><span class="s0">: </span><span class="s2">compact</span><span class="s0">,</span>
    <span class="s2">decode</span><span class="s0">: </span><span class="s2">decode</span><span class="s0">,</span>
    <span class="s2">encode</span><span class="s0">: </span><span class="s2">encode</span><span class="s0">,</span>
    <span class="s2">isBuffer</span><span class="s0">: </span><span class="s2">isBuffer</span><span class="s0">,</span>
    <span class="s2">isRegExp</span><span class="s0">: </span><span class="s2">isRegExp</span><span class="s0">,</span>
    <span class="s2">maybeMap</span><span class="s0">: </span><span class="s2">maybeMap</span><span class="s0">,</span>
    <span class="s2">merge</span><span class="s0">: </span><span class="s2">merge</span>
<span class="s0">};</span>

<span class="s0">},{</span><span class="s3">&quot;./formats&quot;</span><span class="s0">:</span><span class="s4">1</span><span class="s0">}],</span><span class="s4">6</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>

<span class="s0">},{}],</span><span class="s4">7</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">GetIntrinsic </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'get-intrinsic'</span><span class="s0">);</span>

<span class="s1">var </span><span class="s2">callBind </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'./'</span><span class="s0">);</span>

<span class="s1">var </span><span class="s2">$indexOf </span><span class="s0">= </span><span class="s2">callBind</span><span class="s0">(</span><span class="s2">GetIntrinsic</span><span class="s0">(</span><span class="s3">'String.prototype.indexOf'</span><span class="s0">));</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s1">function </span><span class="s2">callBoundIntrinsic</span><span class="s0">(</span><span class="s2">name</span><span class="s0">, </span><span class="s2">allowMissing</span><span class="s0">) {</span>
	<span class="s1">var </span><span class="s2">intrinsic </span><span class="s0">= </span><span class="s2">GetIntrinsic</span><span class="s0">(</span><span class="s2">name</span><span class="s0">, !!</span><span class="s2">allowMissing</span><span class="s0">);</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">intrinsic </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">&amp;&amp; </span><span class="s2">$indexOf</span><span class="s0">(</span><span class="s2">name</span><span class="s0">, </span><span class="s3">'.prototype.'</span><span class="s0">) &gt; -</span><span class="s4">1</span><span class="s0">) {</span>
		<span class="s1">return </span><span class="s2">callBind</span><span class="s0">(</span><span class="s2">intrinsic</span><span class="s0">);</span>
	<span class="s0">}</span>
	<span class="s1">return </span><span class="s2">intrinsic</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s0">},{</span><span class="s3">&quot;./&quot;</span><span class="s0">:</span><span class="s4">8</span><span class="s0">,</span><span class="s3">&quot;get-intrinsic&quot;</span><span class="s0">:</span><span class="s4">11</span><span class="s0">}],</span><span class="s4">8</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">bind </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'function-bind'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">GetIntrinsic </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'get-intrinsic'</span><span class="s0">);</span>

<span class="s1">var </span><span class="s2">$apply </span><span class="s0">= </span><span class="s2">GetIntrinsic</span><span class="s0">(</span><span class="s3">'%Function.prototype.apply%'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$call </span><span class="s0">= </span><span class="s2">GetIntrinsic</span><span class="s0">(</span><span class="s3">'%Function.prototype.call%'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$reflectApply </span><span class="s0">= </span><span class="s2">GetIntrinsic</span><span class="s0">(</span><span class="s3">'%Reflect.apply%'</span><span class="s0">, </span><span class="s1">true</span><span class="s0">) || </span><span class="s2">bind</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">$call</span><span class="s0">, </span><span class="s2">$apply</span><span class="s0">);</span>

<span class="s1">var </span><span class="s2">$gOPD </span><span class="s0">= </span><span class="s2">GetIntrinsic</span><span class="s0">(</span><span class="s3">'%Object.getOwnPropertyDescriptor%'</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$defineProperty </span><span class="s0">= </span><span class="s2">GetIntrinsic</span><span class="s0">(</span><span class="s3">'%Object.defineProperty%'</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$max </span><span class="s0">= </span><span class="s2">GetIntrinsic</span><span class="s0">(</span><span class="s3">'%Math.max%'</span><span class="s0">);</span>

<span class="s1">if </span><span class="s0">(</span><span class="s2">$defineProperty</span><span class="s0">) {</span>
	<span class="s1">try </span><span class="s0">{</span>
		<span class="s2">$defineProperty</span><span class="s0">({}, </span><span class="s3">'a'</span><span class="s0">, { </span><span class="s2">value</span><span class="s0">: </span><span class="s4">1 </span><span class="s0">});</span>
	<span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">e</span><span class="s0">) {</span>
		<span class="s6">// IE 8 has a broken defineProperty</span>
		<span class="s2">$defineProperty </span><span class="s0">= </span><span class="s1">null</span><span class="s0">;</span>
	<span class="s0">}</span>
<span class="s0">}</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s1">function </span><span class="s2">callBind</span><span class="s0">(</span><span class="s2">originalFunction</span><span class="s0">) {</span>
	<span class="s1">var </span><span class="s2">func </span><span class="s0">= </span><span class="s2">$reflectApply</span><span class="s0">(</span><span class="s2">bind</span><span class="s0">, </span><span class="s2">$call</span><span class="s0">, </span><span class="s2">arguments</span><span class="s0">);</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s2">$gOPD </span><span class="s0">&amp;&amp; </span><span class="s2">$defineProperty</span><span class="s0">) {</span>
		<span class="s1">var </span><span class="s2">desc </span><span class="s0">= </span><span class="s2">$gOPD</span><span class="s0">(</span><span class="s2">func</span><span class="s0">, </span><span class="s3">'length'</span><span class="s0">);</span>
		<span class="s1">if </span><span class="s0">(</span><span class="s2">desc</span><span class="s0">.</span><span class="s2">configurable</span><span class="s0">) {</span>
			<span class="s6">// original length, plus the receiver, minus any additional arguments (after the receiver)</span>
			<span class="s2">$defineProperty</span><span class="s0">(</span>
				<span class="s2">func</span><span class="s0">,</span>
				<span class="s3">'length'</span><span class="s0">,</span>
				<span class="s0">{ </span><span class="s2">value</span><span class="s0">: </span><span class="s4">1 </span><span class="s0">+ </span><span class="s2">$max</span><span class="s0">(</span><span class="s4">0</span><span class="s0">, </span><span class="s2">originalFunction</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- (</span><span class="s2">arguments</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- </span><span class="s4">1</span><span class="s0">)) }</span>
			<span class="s0">);</span>
		<span class="s0">}</span>
	<span class="s0">}</span>
	<span class="s1">return </span><span class="s2">func</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">applyBind </span><span class="s0">= </span><span class="s1">function </span><span class="s2">applyBind</span><span class="s0">() {</span>
	<span class="s1">return </span><span class="s2">$reflectApply</span><span class="s0">(</span><span class="s2">bind</span><span class="s0">, </span><span class="s2">$apply</span><span class="s0">, </span><span class="s2">arguments</span><span class="s0">);</span>
<span class="s0">};</span>

<span class="s1">if </span><span class="s0">(</span><span class="s2">$defineProperty</span><span class="s0">) {</span>
	<span class="s2">$defineProperty</span><span class="s0">(</span><span class="s2">module</span><span class="s0">.</span><span class="s2">exports</span><span class="s0">, </span><span class="s3">'apply'</span><span class="s0">, { </span><span class="s2">value</span><span class="s0">: </span><span class="s2">applyBind </span><span class="s0">});</span>
<span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
	<span class="s2">module</span><span class="s0">.</span><span class="s2">exports</span><span class="s0">.</span><span class="s2">apply </span><span class="s0">= </span><span class="s2">applyBind</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s0">},{</span><span class="s3">&quot;function-bind&quot;</span><span class="s0">:</span><span class="s4">10</span><span class="s0">,</span><span class="s3">&quot;get-intrinsic&quot;</span><span class="s0">:</span><span class="s4">11</span><span class="s0">}],</span><span class="s4">9</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s6">/* eslint no-invalid-this: 1 */</span>

<span class="s1">var </span><span class="s2">ERROR_MESSAGE </span><span class="s0">= </span><span class="s3">'Function.prototype.bind called on incompatible '</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">slice </span><span class="s0">= </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">toStr </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">funcType </span><span class="s0">= </span><span class="s3">'[object Function]'</span><span class="s0">;</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s1">function </span><span class="s2">bind</span><span class="s0">(</span><span class="s2">that</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">target </span><span class="s0">= </span><span class="s1">this</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">target </span><span class="s0">!== </span><span class="s3">'function' </span><span class="s0">|| </span><span class="s2">toStr</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">target</span><span class="s0">) !== </span><span class="s2">funcType</span><span class="s0">) {</span>
        <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s2">ERROR_MESSAGE </span><span class="s0">+ </span><span class="s2">target</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s2">args </span><span class="s0">= </span><span class="s2">slice</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">arguments</span><span class="s0">, </span><span class="s4">1</span><span class="s0">);</span>

    <span class="s1">var </span><span class="s2">bound</span><span class="s0">;</span>
    <span class="s1">var </span><span class="s2">binder </span><span class="s0">= </span><span class="s1">function </span><span class="s0">() {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s1">this instanceof </span><span class="s2">bound</span><span class="s0">) {</span>
            <span class="s1">var </span><span class="s2">result </span><span class="s0">= </span><span class="s2">target</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span>
                <span class="s1">this</span><span class="s0">,</span>
                <span class="s2">args</span><span class="s0">.</span><span class="s2">concat</span><span class="s0">(</span><span class="s2">slice</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">arguments</span><span class="s0">))</span>
            <span class="s0">);</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">Object</span><span class="s0">(</span><span class="s2">result</span><span class="s0">) === </span><span class="s2">result</span><span class="s0">) {</span>
                <span class="s1">return </span><span class="s2">result</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">return this</span><span class="s0">;</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s1">return </span><span class="s2">target</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">(</span>
                <span class="s2">that</span><span class="s0">,</span>
                <span class="s2">args</span><span class="s0">.</span><span class="s2">concat</span><span class="s0">(</span><span class="s2">slice</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">arguments</span><span class="s0">))</span>
            <span class="s0">);</span>
        <span class="s0">}</span>
    <span class="s0">};</span>

    <span class="s1">var </span><span class="s2">boundLength </span><span class="s0">= </span><span class="s2">Math</span><span class="s0">.</span><span class="s2">max</span><span class="s0">(</span><span class="s4">0</span><span class="s0">, </span><span class="s2">target</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- </span><span class="s2">args</span><span class="s0">.</span><span class="s2">length</span><span class="s0">);</span>
    <span class="s1">var </span><span class="s2">boundArgs </span><span class="s0">= [];</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">boundLength</span><span class="s0">; </span><span class="s2">i</span><span class="s0">++) {</span>
        <span class="s2">boundArgs</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s3">'$' </span><span class="s0">+ </span><span class="s2">i</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s2">bound </span><span class="s0">= </span><span class="s2">Function</span><span class="s0">(</span><span class="s3">'binder'</span><span class="s0">, </span><span class="s3">'return function (' </span><span class="s0">+ </span><span class="s2">boundArgs</span><span class="s0">.</span><span class="s2">join</span><span class="s0">(</span><span class="s3">','</span><span class="s0">) + </span><span class="s3">'){ return binder.apply(this,arguments); }'</span><span class="s0">)(</span><span class="s2">binder</span><span class="s0">);</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">target</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s2">Empty </span><span class="s0">= </span><span class="s1">function </span><span class="s2">Empty</span><span class="s0">() {};</span>
        <span class="s2">Empty</span><span class="s0">.</span><span class="s2">prototype </span><span class="s0">= </span><span class="s2">target</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">;</span>
        <span class="s2">bound</span><span class="s0">.</span><span class="s2">prototype </span><span class="s0">= </span><span class="s1">new </span><span class="s2">Empty</span><span class="s0">();</span>
        <span class="s2">Empty</span><span class="s0">.</span><span class="s2">prototype </span><span class="s0">= </span><span class="s1">null</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">return </span><span class="s2">bound</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s0">},{}],</span><span class="s4">10</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">implementation </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'./implementation'</span><span class="s0">);</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s2">Function</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">bind </span><span class="s0">|| </span><span class="s2">implementation</span><span class="s0">;</span>

<span class="s0">},{</span><span class="s3">&quot;./implementation&quot;</span><span class="s0">:</span><span class="s4">9</span><span class="s0">}],</span><span class="s4">11</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">undefined</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">$SyntaxError </span><span class="s0">= </span><span class="s2">SyntaxError</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">$Function </span><span class="s0">= </span><span class="s2">Function</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">$TypeError </span><span class="s0">= </span><span class="s2">TypeError</span><span class="s0">;</span>

<span class="s6">// eslint-disable-next-line consistent-return</span>
<span class="s1">var </span><span class="s2">getEvalledConstructor </span><span class="s0">= </span><span class="s1">function </span><span class="s0">(</span><span class="s2">expressionSyntax</span><span class="s0">) {</span>
	<span class="s1">try </span><span class="s0">{</span>
		<span class="s1">return </span><span class="s2">$Function</span><span class="s0">(</span><span class="s3">'&quot;use strict&quot;; return (' </span><span class="s0">+ </span><span class="s2">expressionSyntax </span><span class="s0">+ </span><span class="s3">').constructor;'</span><span class="s0">)();</span>
	<span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">e</span><span class="s0">) {}</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">$gOPD </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s0">;</span>
<span class="s1">if </span><span class="s0">(</span><span class="s2">$gOPD</span><span class="s0">) {</span>
	<span class="s1">try </span><span class="s0">{</span>
		<span class="s2">$gOPD</span><span class="s0">({}, </span><span class="s3">''</span><span class="s0">);</span>
	<span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">e</span><span class="s0">) {</span>
		<span class="s2">$gOPD </span><span class="s0">= </span><span class="s1">null</span><span class="s0">; </span><span class="s6">// this is IE 8, which has a broken gOPD</span>
	<span class="s0">}</span>
<span class="s0">}</span>

<span class="s1">var </span><span class="s2">throwTypeError </span><span class="s0">= </span><span class="s1">function </span><span class="s0">() {</span>
	<span class="s1">throw new </span><span class="s2">$TypeError</span><span class="s0">();</span>
<span class="s0">};</span>
<span class="s1">var </span><span class="s2">ThrowTypeError </span><span class="s0">= </span><span class="s2">$gOPD</span>
	<span class="s0">? (</span><span class="s1">function </span><span class="s0">() {</span>
		<span class="s1">try </span><span class="s0">{</span>
			<span class="s6">// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties</span>
			<span class="s2">arguments</span><span class="s0">.</span><span class="s2">callee</span><span class="s0">; </span><span class="s6">// IE 8 does not throw here</span>
			<span class="s1">return </span><span class="s2">throwTypeError</span><span class="s0">;</span>
		<span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">calleeThrows</span><span class="s0">) {</span>
			<span class="s1">try </span><span class="s0">{</span>
				<span class="s6">// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')</span>
				<span class="s1">return </span><span class="s2">$gOPD</span><span class="s0">(</span><span class="s2">arguments</span><span class="s0">, </span><span class="s3">'callee'</span><span class="s0">).</span><span class="s2">get</span><span class="s0">;</span>
			<span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">gOPDthrows</span><span class="s0">) {</span>
				<span class="s1">return </span><span class="s2">throwTypeError</span><span class="s0">;</span>
			<span class="s0">}</span>
		<span class="s0">}</span>
	<span class="s0">}())</span>
	<span class="s0">: </span><span class="s2">throwTypeError</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">hasSymbols </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'has-symbols'</span><span class="s0">)();</span>

<span class="s1">var </span><span class="s2">getProto </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getPrototypeOf </span><span class="s0">|| </span><span class="s1">function </span><span class="s0">(</span><span class="s2">x</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">x</span><span class="s0">.</span><span class="s2">__proto__</span><span class="s0">; }; </span><span class="s6">// eslint-disable-line no-proto</span>

<span class="s1">var </span><span class="s2">needsEval </span><span class="s0">= {};</span>

<span class="s1">var </span><span class="s2">TypedArray </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">Uint8Array </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">getProto</span><span class="s0">(</span><span class="s2">Uint8Array</span><span class="s0">);</span>

<span class="s1">var </span><span class="s2">INTRINSICS </span><span class="s0">= {</span>
	<span class="s3">'%AggregateError%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">AggregateError </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">AggregateError</span><span class="s0">,</span>
	<span class="s3">'%Array%'</span><span class="s0">: </span><span class="s2">Array</span><span class="s0">,</span>
	<span class="s3">'%ArrayBuffer%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">ArrayBuffer </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">ArrayBuffer</span><span class="s0">,</span>
	<span class="s3">'%ArrayIteratorPrototype%'</span><span class="s0">: </span><span class="s2">hasSymbols </span><span class="s0">? </span><span class="s2">getProto</span><span class="s0">([][</span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">iterator</span><span class="s0">]()) : </span><span class="s2">undefined</span><span class="s0">,</span>
	<span class="s3">'%AsyncFromSyncIteratorPrototype%'</span><span class="s0">: </span><span class="s2">undefined</span><span class="s0">,</span>
	<span class="s3">'%AsyncFunction%'</span><span class="s0">: </span><span class="s2">needsEval</span><span class="s0">,</span>
	<span class="s3">'%AsyncGenerator%'</span><span class="s0">: </span><span class="s2">needsEval</span><span class="s0">,</span>
	<span class="s3">'%AsyncGeneratorFunction%'</span><span class="s0">: </span><span class="s2">needsEval</span><span class="s0">,</span>
	<span class="s3">'%AsyncIteratorPrototype%'</span><span class="s0">: </span><span class="s2">needsEval</span><span class="s0">,</span>
	<span class="s3">'%Atomics%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Atomics </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Atomics</span><span class="s0">,</span>
	<span class="s3">'%BigInt%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">BigInt </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">BigInt</span><span class="s0">,</span>
	<span class="s3">'%Boolean%'</span><span class="s0">: </span><span class="s2">Boolean</span><span class="s0">,</span>
	<span class="s3">'%DataView%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">DataView </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">DataView</span><span class="s0">,</span>
	<span class="s3">'%Date%'</span><span class="s0">: </span><span class="s2">Date</span><span class="s0">,</span>
	<span class="s3">'%decodeURI%'</span><span class="s0">: </span><span class="s2">decodeURI</span><span class="s0">,</span>
	<span class="s3">'%decodeURIComponent%'</span><span class="s0">: </span><span class="s2">decodeURIComponent</span><span class="s0">,</span>
	<span class="s3">'%encodeURI%'</span><span class="s0">: </span><span class="s2">encodeURI</span><span class="s0">,</span>
	<span class="s3">'%encodeURIComponent%'</span><span class="s0">: </span><span class="s2">encodeURIComponent</span><span class="s0">,</span>
	<span class="s3">'%Error%'</span><span class="s0">: </span><span class="s2">Error</span><span class="s0">,</span>
	<span class="s3">'%eval%'</span><span class="s0">: </span><span class="s2">eval</span><span class="s0">, </span><span class="s6">// eslint-disable-line no-eval</span>
	<span class="s3">'%EvalError%'</span><span class="s0">: </span><span class="s2">EvalError</span><span class="s0">,</span>
	<span class="s3">'%Float32Array%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Float32Array </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Float32Array</span><span class="s0">,</span>
	<span class="s3">'%Float64Array%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Float64Array </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Float64Array</span><span class="s0">,</span>
	<span class="s3">'%FinalizationRegistry%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">FinalizationRegistry </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">FinalizationRegistry</span><span class="s0">,</span>
	<span class="s3">'%Function%'</span><span class="s0">: </span><span class="s2">$Function</span><span class="s0">,</span>
	<span class="s3">'%GeneratorFunction%'</span><span class="s0">: </span><span class="s2">needsEval</span><span class="s0">,</span>
	<span class="s3">'%Int8Array%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Int8Array </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Int8Array</span><span class="s0">,</span>
	<span class="s3">'%Int16Array%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Int16Array </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Int16Array</span><span class="s0">,</span>
	<span class="s3">'%Int32Array%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Int32Array </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Int32Array</span><span class="s0">,</span>
	<span class="s3">'%isFinite%'</span><span class="s0">: </span><span class="s2">isFinite</span><span class="s0">,</span>
	<span class="s3">'%isNaN%'</span><span class="s0">: </span><span class="s2">isNaN</span><span class="s0">,</span>
	<span class="s3">'%IteratorPrototype%'</span><span class="s0">: </span><span class="s2">hasSymbols </span><span class="s0">? </span><span class="s2">getProto</span><span class="s0">(</span><span class="s2">getProto</span><span class="s0">([][</span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">iterator</span><span class="s0">]())) : </span><span class="s2">undefined</span><span class="s0">,</span>
	<span class="s3">'%JSON%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">JSON </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">? </span><span class="s2">JSON </span><span class="s0">: </span><span class="s2">undefined</span><span class="s0">,</span>
	<span class="s3">'%Map%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Map </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Map</span><span class="s0">,</span>
	<span class="s3">'%MapIteratorPrototype%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Map </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">|| !</span><span class="s2">hasSymbols </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">getProto</span><span class="s0">(</span><span class="s1">new </span><span class="s2">Map</span><span class="s0">()[</span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">iterator</span><span class="s0">]()),</span>
	<span class="s3">'%Math%'</span><span class="s0">: </span><span class="s2">Math</span><span class="s0">,</span>
	<span class="s3">'%Number%'</span><span class="s0">: </span><span class="s2">Number</span><span class="s0">,</span>
	<span class="s3">'%Object%'</span><span class="s0">: </span><span class="s2">Object</span><span class="s0">,</span>
	<span class="s3">'%parseFloat%'</span><span class="s0">: </span><span class="s2">parseFloat</span><span class="s0">,</span>
	<span class="s3">'%parseInt%'</span><span class="s0">: </span><span class="s2">parseInt</span><span class="s0">,</span>
	<span class="s3">'%Promise%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Promise </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Promise</span><span class="s0">,</span>
	<span class="s3">'%Proxy%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Proxy </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Proxy</span><span class="s0">,</span>
	<span class="s3">'%RangeError%'</span><span class="s0">: </span><span class="s2">RangeError</span><span class="s0">,</span>
	<span class="s3">'%ReferenceError%'</span><span class="s0">: </span><span class="s2">ReferenceError</span><span class="s0">,</span>
	<span class="s3">'%Reflect%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Reflect </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Reflect</span><span class="s0">,</span>
	<span class="s3">'%RegExp%'</span><span class="s0">: </span><span class="s2">RegExp</span><span class="s0">,</span>
	<span class="s3">'%Set%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Set </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Set</span><span class="s0">,</span>
	<span class="s3">'%SetIteratorPrototype%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Set </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">|| !</span><span class="s2">hasSymbols </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">getProto</span><span class="s0">(</span><span class="s1">new </span><span class="s2">Set</span><span class="s0">()[</span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">iterator</span><span class="s0">]()),</span>
	<span class="s3">'%SharedArrayBuffer%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">SharedArrayBuffer </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">SharedArrayBuffer</span><span class="s0">,</span>
	<span class="s3">'%String%'</span><span class="s0">: </span><span class="s2">String</span><span class="s0">,</span>
	<span class="s3">'%StringIteratorPrototype%'</span><span class="s0">: </span><span class="s2">hasSymbols </span><span class="s0">? </span><span class="s2">getProto</span><span class="s0">(</span><span class="s3">''</span><span class="s0">[</span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">iterator</span><span class="s0">]()) : </span><span class="s2">undefined</span><span class="s0">,</span>
	<span class="s3">'%Symbol%'</span><span class="s0">: </span><span class="s2">hasSymbols </span><span class="s0">? </span><span class="s2">Symbol </span><span class="s0">: </span><span class="s2">undefined</span><span class="s0">,</span>
	<span class="s3">'%SyntaxError%'</span><span class="s0">: </span><span class="s2">$SyntaxError</span><span class="s0">,</span>
	<span class="s3">'%ThrowTypeError%'</span><span class="s0">: </span><span class="s2">ThrowTypeError</span><span class="s0">,</span>
	<span class="s3">'%TypedArray%'</span><span class="s0">: </span><span class="s2">TypedArray</span><span class="s0">,</span>
	<span class="s3">'%TypeError%'</span><span class="s0">: </span><span class="s2">$TypeError</span><span class="s0">,</span>
	<span class="s3">'%Uint8Array%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Uint8Array </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Uint8Array</span><span class="s0">,</span>
	<span class="s3">'%Uint8ClampedArray%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Uint8ClampedArray </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Uint8ClampedArray</span><span class="s0">,</span>
	<span class="s3">'%Uint16Array%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Uint16Array </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Uint16Array</span><span class="s0">,</span>
	<span class="s3">'%Uint32Array%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">Uint32Array </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">Uint32Array</span><span class="s0">,</span>
	<span class="s3">'%URIError%'</span><span class="s0">: </span><span class="s2">URIError</span><span class="s0">,</span>
	<span class="s3">'%WeakMap%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">WeakMap </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">WeakMap</span><span class="s0">,</span>
	<span class="s3">'%WeakRef%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">WeakRef </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">WeakRef</span><span class="s0">,</span>
	<span class="s3">'%WeakSet%'</span><span class="s0">: </span><span class="s1">typeof </span><span class="s2">WeakSet </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s2">undefined </span><span class="s0">: </span><span class="s2">WeakSet</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">doEval </span><span class="s0">= </span><span class="s1">function </span><span class="s2">doEval</span><span class="s0">(</span><span class="s2">name</span><span class="s0">) {</span>
	<span class="s1">var </span><span class="s2">value</span><span class="s0">;</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s2">name </span><span class="s0">=== </span><span class="s3">'%AsyncFunction%'</span><span class="s0">) {</span>
		<span class="s2">value </span><span class="s0">= </span><span class="s2">getEvalledConstructor</span><span class="s0">(</span><span class="s3">'async function () {}'</span><span class="s0">);</span>
	<span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">name </span><span class="s0">=== </span><span class="s3">'%GeneratorFunction%'</span><span class="s0">) {</span>
		<span class="s2">value </span><span class="s0">= </span><span class="s2">getEvalledConstructor</span><span class="s0">(</span><span class="s3">'function* () {}'</span><span class="s0">);</span>
	<span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">name </span><span class="s0">=== </span><span class="s3">'%AsyncGeneratorFunction%'</span><span class="s0">) {</span>
		<span class="s2">value </span><span class="s0">= </span><span class="s2">getEvalledConstructor</span><span class="s0">(</span><span class="s3">'async function* () {}'</span><span class="s0">);</span>
	<span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">name </span><span class="s0">=== </span><span class="s3">'%AsyncGenerator%'</span><span class="s0">) {</span>
		<span class="s1">var </span><span class="s2">fn </span><span class="s0">= </span><span class="s2">doEval</span><span class="s0">(</span><span class="s3">'%AsyncGeneratorFunction%'</span><span class="s0">);</span>
		<span class="s1">if </span><span class="s0">(</span><span class="s2">fn</span><span class="s0">) {</span>
			<span class="s2">value </span><span class="s0">= </span><span class="s2">fn</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">;</span>
		<span class="s0">}</span>
	<span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">name </span><span class="s0">=== </span><span class="s3">'%AsyncIteratorPrototype%'</span><span class="s0">) {</span>
		<span class="s1">var </span><span class="s2">gen </span><span class="s0">= </span><span class="s2">doEval</span><span class="s0">(</span><span class="s3">'%AsyncGenerator%'</span><span class="s0">);</span>
		<span class="s1">if </span><span class="s0">(</span><span class="s2">gen</span><span class="s0">) {</span>
			<span class="s2">value </span><span class="s0">= </span><span class="s2">getProto</span><span class="s0">(</span><span class="s2">gen</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">);</span>
		<span class="s0">}</span>
	<span class="s0">}</span>

	<span class="s2">INTRINSICS</span><span class="s0">[</span><span class="s2">name</span><span class="s0">] = </span><span class="s2">value</span><span class="s0">;</span>

	<span class="s1">return </span><span class="s2">value</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">LEGACY_ALIASES </span><span class="s0">= {</span>
	<span class="s3">'%ArrayBufferPrototype%'</span><span class="s0">: [</span><span class="s3">'ArrayBuffer'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%ArrayPrototype%'</span><span class="s0">: [</span><span class="s3">'Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%ArrayProto_entries%'</span><span class="s0">: [</span><span class="s3">'Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">, </span><span class="s3">'entries'</span><span class="s0">],</span>
	<span class="s3">'%ArrayProto_forEach%'</span><span class="s0">: [</span><span class="s3">'Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">, </span><span class="s3">'forEach'</span><span class="s0">],</span>
	<span class="s3">'%ArrayProto_keys%'</span><span class="s0">: [</span><span class="s3">'Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">, </span><span class="s3">'keys'</span><span class="s0">],</span>
	<span class="s3">'%ArrayProto_values%'</span><span class="s0">: [</span><span class="s3">'Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">, </span><span class="s3">'values'</span><span class="s0">],</span>
	<span class="s3">'%AsyncFunctionPrototype%'</span><span class="s0">: [</span><span class="s3">'AsyncFunction'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%AsyncGenerator%'</span><span class="s0">: [</span><span class="s3">'AsyncGeneratorFunction'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%AsyncGeneratorPrototype%'</span><span class="s0">: [</span><span class="s3">'AsyncGeneratorFunction'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%BooleanPrototype%'</span><span class="s0">: [</span><span class="s3">'Boolean'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%DataViewPrototype%'</span><span class="s0">: [</span><span class="s3">'DataView'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%DatePrototype%'</span><span class="s0">: [</span><span class="s3">'Date'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%ErrorPrototype%'</span><span class="s0">: [</span><span class="s3">'Error'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%EvalErrorPrototype%'</span><span class="s0">: [</span><span class="s3">'EvalError'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%Float32ArrayPrototype%'</span><span class="s0">: [</span><span class="s3">'Float32Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%Float64ArrayPrototype%'</span><span class="s0">: [</span><span class="s3">'Float64Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%FunctionPrototype%'</span><span class="s0">: [</span><span class="s3">'Function'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%Generator%'</span><span class="s0">: [</span><span class="s3">'GeneratorFunction'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%GeneratorPrototype%'</span><span class="s0">: [</span><span class="s3">'GeneratorFunction'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%Int8ArrayPrototype%'</span><span class="s0">: [</span><span class="s3">'Int8Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%Int16ArrayPrototype%'</span><span class="s0">: [</span><span class="s3">'Int16Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%Int32ArrayPrototype%'</span><span class="s0">: [</span><span class="s3">'Int32Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%JSONParse%'</span><span class="s0">: [</span><span class="s3">'JSON'</span><span class="s0">, </span><span class="s3">'parse'</span><span class="s0">],</span>
	<span class="s3">'%JSONStringify%'</span><span class="s0">: [</span><span class="s3">'JSON'</span><span class="s0">, </span><span class="s3">'stringify'</span><span class="s0">],</span>
	<span class="s3">'%MapPrototype%'</span><span class="s0">: [</span><span class="s3">'Map'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%NumberPrototype%'</span><span class="s0">: [</span><span class="s3">'Number'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%ObjectPrototype%'</span><span class="s0">: [</span><span class="s3">'Object'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%ObjProto_toString%'</span><span class="s0">: [</span><span class="s3">'Object'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">, </span><span class="s3">'toString'</span><span class="s0">],</span>
	<span class="s3">'%ObjProto_valueOf%'</span><span class="s0">: [</span><span class="s3">'Object'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">, </span><span class="s3">'valueOf'</span><span class="s0">],</span>
	<span class="s3">'%PromisePrototype%'</span><span class="s0">: [</span><span class="s3">'Promise'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%PromiseProto_then%'</span><span class="s0">: [</span><span class="s3">'Promise'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">, </span><span class="s3">'then'</span><span class="s0">],</span>
	<span class="s3">'%Promise_all%'</span><span class="s0">: [</span><span class="s3">'Promise'</span><span class="s0">, </span><span class="s3">'all'</span><span class="s0">],</span>
	<span class="s3">'%Promise_reject%'</span><span class="s0">: [</span><span class="s3">'Promise'</span><span class="s0">, </span><span class="s3">'reject'</span><span class="s0">],</span>
	<span class="s3">'%Promise_resolve%'</span><span class="s0">: [</span><span class="s3">'Promise'</span><span class="s0">, </span><span class="s3">'resolve'</span><span class="s0">],</span>
	<span class="s3">'%RangeErrorPrototype%'</span><span class="s0">: [</span><span class="s3">'RangeError'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%ReferenceErrorPrototype%'</span><span class="s0">: [</span><span class="s3">'ReferenceError'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%RegExpPrototype%'</span><span class="s0">: [</span><span class="s3">'RegExp'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%SetPrototype%'</span><span class="s0">: [</span><span class="s3">'Set'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%SharedArrayBufferPrototype%'</span><span class="s0">: [</span><span class="s3">'SharedArrayBuffer'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%StringPrototype%'</span><span class="s0">: [</span><span class="s3">'String'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%SymbolPrototype%'</span><span class="s0">: [</span><span class="s3">'Symbol'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%SyntaxErrorPrototype%'</span><span class="s0">: [</span><span class="s3">'SyntaxError'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%TypedArrayPrototype%'</span><span class="s0">: [</span><span class="s3">'TypedArray'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%TypeErrorPrototype%'</span><span class="s0">: [</span><span class="s3">'TypeError'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%Uint8ArrayPrototype%'</span><span class="s0">: [</span><span class="s3">'Uint8Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%Uint8ClampedArrayPrototype%'</span><span class="s0">: [</span><span class="s3">'Uint8ClampedArray'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%Uint16ArrayPrototype%'</span><span class="s0">: [</span><span class="s3">'Uint16Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%Uint32ArrayPrototype%'</span><span class="s0">: [</span><span class="s3">'Uint32Array'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%URIErrorPrototype%'</span><span class="s0">: [</span><span class="s3">'URIError'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%WeakMapPrototype%'</span><span class="s0">: [</span><span class="s3">'WeakMap'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">],</span>
	<span class="s3">'%WeakSetPrototype%'</span><span class="s0">: [</span><span class="s3">'WeakSet'</span><span class="s0">, </span><span class="s3">'prototype'</span><span class="s0">]</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">bind </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'function-bind'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">hasOwn </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'has'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$concat </span><span class="s0">= </span><span class="s2">bind</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">Function</span><span class="s0">.</span><span class="s2">call</span><span class="s0">, </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">concat</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$spliceApply </span><span class="s0">= </span><span class="s2">bind</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">Function</span><span class="s0">.</span><span class="s2">apply</span><span class="s0">, </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">splice</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$replace </span><span class="s0">= </span><span class="s2">bind</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">Function</span><span class="s0">.</span><span class="s2">call</span><span class="s0">, </span><span class="s2">String</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">replace</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$strSlice </span><span class="s0">= </span><span class="s2">bind</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">Function</span><span class="s0">.</span><span class="s2">call</span><span class="s0">, </span><span class="s2">String</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">);</span>

<span class="s6">/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */</span>
<span class="s1">var </span><span class="s2">rePropName </span><span class="s0">= </span><span class="s5">/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|([&quot;'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">reEscapeChar </span><span class="s0">= </span><span class="s5">/\\(\\)?/g</span><span class="s0">; </span><span class="s7">/** Used to match backslashes in property paths. */</span>
<span class="s1">var </span><span class="s2">stringToPath </span><span class="s0">= </span><span class="s1">function </span><span class="s2">stringToPath</span><span class="s0">(</span><span class="s2">string</span><span class="s0">) {</span>
	<span class="s1">var </span><span class="s2">first </span><span class="s0">= </span><span class="s2">$strSlice</span><span class="s0">(</span><span class="s2">string</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1</span><span class="s0">);</span>
	<span class="s1">var </span><span class="s2">last </span><span class="s0">= </span><span class="s2">$strSlice</span><span class="s0">(</span><span class="s2">string</span><span class="s0">, -</span><span class="s4">1</span><span class="s0">);</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s2">first </span><span class="s0">=== </span><span class="s3">'%' </span><span class="s0">&amp;&amp; </span><span class="s2">last </span><span class="s0">!== </span><span class="s3">'%'</span><span class="s0">) {</span>
		<span class="s1">throw new </span><span class="s2">$SyntaxError</span><span class="s0">(</span><span class="s3">'invalid intrinsic syntax, expected closing `%`'</span><span class="s0">);</span>
	<span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">last </span><span class="s0">=== </span><span class="s3">'%' </span><span class="s0">&amp;&amp; </span><span class="s2">first </span><span class="s0">!== </span><span class="s3">'%'</span><span class="s0">) {</span>
		<span class="s1">throw new </span><span class="s2">$SyntaxError</span><span class="s0">(</span><span class="s3">'invalid intrinsic syntax, expected opening `%`'</span><span class="s0">);</span>
	<span class="s0">}</span>
	<span class="s1">var </span><span class="s2">result </span><span class="s0">= [];</span>
	<span class="s2">$replace</span><span class="s0">(</span><span class="s2">string</span><span class="s0">, </span><span class="s2">rePropName</span><span class="s0">, </span><span class="s1">function </span><span class="s0">(</span><span class="s2">match</span><span class="s0">, </span><span class="s2">number</span><span class="s0">, </span><span class="s2">quote</span><span class="s0">, </span><span class="s2">subString</span><span class="s0">) {</span>
		<span class="s2">result</span><span class="s0">[</span><span class="s2">result</span><span class="s0">.</span><span class="s2">length</span><span class="s0">] = </span><span class="s2">quote </span><span class="s0">? </span><span class="s2">$replace</span><span class="s0">(</span><span class="s2">subString</span><span class="s0">, </span><span class="s2">reEscapeChar</span><span class="s0">, </span><span class="s3">'$1'</span><span class="s0">) : </span><span class="s2">number </span><span class="s0">|| </span><span class="s2">match</span><span class="s0">;</span>
	<span class="s0">});</span>
	<span class="s1">return </span><span class="s2">result</span><span class="s0">;</span>
<span class="s0">};</span>
<span class="s6">/* end adaptation */</span>

<span class="s1">var </span><span class="s2">getBaseIntrinsic </span><span class="s0">= </span><span class="s1">function </span><span class="s2">getBaseIntrinsic</span><span class="s0">(</span><span class="s2">name</span><span class="s0">, </span><span class="s2">allowMissing</span><span class="s0">) {</span>
	<span class="s1">var </span><span class="s2">intrinsicName </span><span class="s0">= </span><span class="s2">name</span><span class="s0">;</span>
	<span class="s1">var </span><span class="s2">alias</span><span class="s0">;</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s2">hasOwn</span><span class="s0">(</span><span class="s2">LEGACY_ALIASES</span><span class="s0">, </span><span class="s2">intrinsicName</span><span class="s0">)) {</span>
		<span class="s2">alias </span><span class="s0">= </span><span class="s2">LEGACY_ALIASES</span><span class="s0">[</span><span class="s2">intrinsicName</span><span class="s0">];</span>
		<span class="s2">intrinsicName </span><span class="s0">= </span><span class="s3">'%' </span><span class="s0">+ </span><span class="s2">alias</span><span class="s0">[</span><span class="s4">0</span><span class="s0">] + </span><span class="s3">'%'</span><span class="s0">;</span>
	<span class="s0">}</span>

	<span class="s1">if </span><span class="s0">(</span><span class="s2">hasOwn</span><span class="s0">(</span><span class="s2">INTRINSICS</span><span class="s0">, </span><span class="s2">intrinsicName</span><span class="s0">)) {</span>
		<span class="s1">var </span><span class="s2">value </span><span class="s0">= </span><span class="s2">INTRINSICS</span><span class="s0">[</span><span class="s2">intrinsicName</span><span class="s0">];</span>
		<span class="s1">if </span><span class="s0">(</span><span class="s2">value </span><span class="s0">=== </span><span class="s2">needsEval</span><span class="s0">) {</span>
			<span class="s2">value </span><span class="s0">= </span><span class="s2">doEval</span><span class="s0">(</span><span class="s2">intrinsicName</span><span class="s0">);</span>
		<span class="s0">}</span>
		<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">value </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">&amp;&amp; !</span><span class="s2">allowMissing</span><span class="s0">) {</span>
			<span class="s1">throw new </span><span class="s2">$TypeError</span><span class="s0">(</span><span class="s3">'intrinsic ' </span><span class="s0">+ </span><span class="s2">name </span><span class="s0">+ </span><span class="s3">' exists, but is not available. Please file an issue!'</span><span class="s0">);</span>
		<span class="s0">}</span>

		<span class="s1">return </span><span class="s0">{</span>
			<span class="s2">alias</span><span class="s0">: </span><span class="s2">alias</span><span class="s0">,</span>
			<span class="s2">name</span><span class="s0">: </span><span class="s2">intrinsicName</span><span class="s0">,</span>
			<span class="s2">value</span><span class="s0">: </span><span class="s2">value</span>
		<span class="s0">};</span>
	<span class="s0">}</span>

	<span class="s1">throw new </span><span class="s2">$SyntaxError</span><span class="s0">(</span><span class="s3">'intrinsic ' </span><span class="s0">+ </span><span class="s2">name </span><span class="s0">+ </span><span class="s3">' does not exist!'</span><span class="s0">);</span>
<span class="s0">};</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s1">function </span><span class="s2">GetIntrinsic</span><span class="s0">(</span><span class="s2">name</span><span class="s0">, </span><span class="s2">allowMissing</span><span class="s0">) {</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">name </span><span class="s0">!== </span><span class="s3">'string' </span><span class="s0">|| </span><span class="s2">name</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) {</span>
		<span class="s1">throw new </span><span class="s2">$TypeError</span><span class="s0">(</span><span class="s3">'intrinsic name must be a non-empty string'</span><span class="s0">);</span>
	<span class="s0">}</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s2">arguments</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">1 </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">allowMissing </span><span class="s0">!== </span><span class="s3">'boolean'</span><span class="s0">) {</span>
		<span class="s1">throw new </span><span class="s2">$TypeError</span><span class="s0">(</span><span class="s3">'&quot;allowMissing&quot; argument must be a boolean'</span><span class="s0">);</span>
	<span class="s0">}</span>

	<span class="s1">var </span><span class="s2">parts </span><span class="s0">= </span><span class="s2">stringToPath</span><span class="s0">(</span><span class="s2">name</span><span class="s0">);</span>
	<span class="s1">var </span><span class="s2">intrinsicBaseName </span><span class="s0">= </span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">? </span><span class="s2">parts</span><span class="s0">[</span><span class="s4">0</span><span class="s0">] : </span><span class="s3">''</span><span class="s0">;</span>

	<span class="s1">var </span><span class="s2">intrinsic </span><span class="s0">= </span><span class="s2">getBaseIntrinsic</span><span class="s0">(</span><span class="s3">'%' </span><span class="s0">+ </span><span class="s2">intrinsicBaseName </span><span class="s0">+ </span><span class="s3">'%'</span><span class="s0">, </span><span class="s2">allowMissing</span><span class="s0">);</span>
	<span class="s1">var </span><span class="s2">intrinsicRealName </span><span class="s0">= </span><span class="s2">intrinsic</span><span class="s0">.</span><span class="s2">name</span><span class="s0">;</span>
	<span class="s1">var </span><span class="s2">value </span><span class="s0">= </span><span class="s2">intrinsic</span><span class="s0">.</span><span class="s2">value</span><span class="s0">;</span>
	<span class="s1">var </span><span class="s2">skipFurtherCaching </span><span class="s0">= </span><span class="s1">false</span><span class="s0">;</span>

	<span class="s1">var </span><span class="s2">alias </span><span class="s0">= </span><span class="s2">intrinsic</span><span class="s0">.</span><span class="s2">alias</span><span class="s0">;</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s2">alias</span><span class="s0">) {</span>
		<span class="s2">intrinsicBaseName </span><span class="s0">= </span><span class="s2">alias</span><span class="s0">[</span><span class="s4">0</span><span class="s0">];</span>
		<span class="s2">$spliceApply</span><span class="s0">(</span><span class="s2">parts</span><span class="s0">, </span><span class="s2">$concat</span><span class="s0">([</span><span class="s4">0</span><span class="s0">, </span><span class="s4">1</span><span class="s0">], </span><span class="s2">alias</span><span class="s0">));</span>
	<span class="s0">}</span>

	<span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">1</span><span class="s0">, </span><span class="s2">isOwn </span><span class="s0">= </span><span class="s1">true</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; </span><span class="s2">i </span><span class="s0">+= </span><span class="s4">1</span><span class="s0">) {</span>
		<span class="s1">var </span><span class="s2">part </span><span class="s0">= </span><span class="s2">parts</span><span class="s0">[</span><span class="s2">i</span><span class="s0">];</span>
		<span class="s1">var </span><span class="s2">first </span><span class="s0">= </span><span class="s2">$strSlice</span><span class="s0">(</span><span class="s2">part</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">1</span><span class="s0">);</span>
		<span class="s1">var </span><span class="s2">last </span><span class="s0">= </span><span class="s2">$strSlice</span><span class="s0">(</span><span class="s2">part</span><span class="s0">, -</span><span class="s4">1</span><span class="s0">);</span>
		<span class="s1">if </span><span class="s0">(</span>
			<span class="s0">(</span>
				<span class="s0">(</span><span class="s2">first </span><span class="s0">=== </span><span class="s3">'&quot;' </span><span class="s0">|| </span><span class="s2">first </span><span class="s0">=== </span><span class="s3">&quot;'&quot; </span><span class="s0">|| </span><span class="s2">first </span><span class="s0">=== </span><span class="s3">'`'</span><span class="s0">)</span>
				<span class="s0">|| (</span><span class="s2">last </span><span class="s0">=== </span><span class="s3">'&quot;' </span><span class="s0">|| </span><span class="s2">last </span><span class="s0">=== </span><span class="s3">&quot;'&quot; </span><span class="s0">|| </span><span class="s2">last </span><span class="s0">=== </span><span class="s3">'`'</span><span class="s0">)</span>
			<span class="s0">)</span>
			<span class="s0">&amp;&amp; </span><span class="s2">first </span><span class="s0">!== </span><span class="s2">last</span>
		<span class="s0">) {</span>
			<span class="s1">throw new </span><span class="s2">$SyntaxError</span><span class="s0">(</span><span class="s3">'property names with quotes must have matching quotes'</span><span class="s0">);</span>
		<span class="s0">}</span>
		<span class="s1">if </span><span class="s0">(</span><span class="s2">part </span><span class="s0">=== </span><span class="s3">'constructor' </span><span class="s0">|| !</span><span class="s2">isOwn</span><span class="s0">) {</span>
			<span class="s2">skipFurtherCaching </span><span class="s0">= </span><span class="s1">true</span><span class="s0">;</span>
		<span class="s0">}</span>

		<span class="s2">intrinsicBaseName </span><span class="s0">+= </span><span class="s3">'.' </span><span class="s0">+ </span><span class="s2">part</span><span class="s0">;</span>
		<span class="s2">intrinsicRealName </span><span class="s0">= </span><span class="s3">'%' </span><span class="s0">+ </span><span class="s2">intrinsicBaseName </span><span class="s0">+ </span><span class="s3">'%'</span><span class="s0">;</span>

		<span class="s1">if </span><span class="s0">(</span><span class="s2">hasOwn</span><span class="s0">(</span><span class="s2">INTRINSICS</span><span class="s0">, </span><span class="s2">intrinsicRealName</span><span class="s0">)) {</span>
			<span class="s2">value </span><span class="s0">= </span><span class="s2">INTRINSICS</span><span class="s0">[</span><span class="s2">intrinsicRealName</span><span class="s0">];</span>
		<span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">value </span><span class="s0">!= </span><span class="s1">null</span><span class="s0">) {</span>
			<span class="s1">if </span><span class="s0">(!(</span><span class="s2">part </span><span class="s1">in </span><span class="s2">value</span><span class="s0">)) {</span>
				<span class="s1">if </span><span class="s0">(!</span><span class="s2">allowMissing</span><span class="s0">) {</span>
					<span class="s1">throw new </span><span class="s2">$TypeError</span><span class="s0">(</span><span class="s3">'base intrinsic for ' </span><span class="s0">+ </span><span class="s2">name </span><span class="s0">+ </span><span class="s3">' exists, but the property is not available.'</span><span class="s0">);</span>
				<span class="s0">}</span>
				<span class="s1">return void </span><span class="s2">undefined</span><span class="s0">;</span>
			<span class="s0">}</span>
			<span class="s1">if </span><span class="s0">(</span><span class="s2">$gOPD </span><span class="s0">&amp;&amp; (</span><span class="s2">i </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">) &gt;= </span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length</span><span class="s0">) {</span>
				<span class="s1">var </span><span class="s2">desc </span><span class="s0">= </span><span class="s2">$gOPD</span><span class="s0">(</span><span class="s2">value</span><span class="s0">, </span><span class="s2">part</span><span class="s0">);</span>
				<span class="s2">isOwn </span><span class="s0">= !!</span><span class="s2">desc</span><span class="s0">;</span>

				<span class="s6">// By convention, when a data property is converted to an accessor</span>
				<span class="s6">// property to emulate a data property that does not suffer from</span>
				<span class="s6">// the override mistake, that accessor's getter is marked with</span>
				<span class="s6">// an `originalValue` property. Here, when we detect this, we</span>
				<span class="s6">// uphold the illusion by pretending to see that original data</span>
				<span class="s6">// property, i.e., returning the value rather than the getter</span>
				<span class="s6">// itself.</span>
				<span class="s1">if </span><span class="s0">(</span><span class="s2">isOwn </span><span class="s0">&amp;&amp; </span><span class="s3">'get' </span><span class="s1">in </span><span class="s2">desc </span><span class="s0">&amp;&amp; !(</span><span class="s3">'originalValue' </span><span class="s1">in </span><span class="s2">desc</span><span class="s0">.</span><span class="s2">get</span><span class="s0">)) {</span>
					<span class="s2">value </span><span class="s0">= </span><span class="s2">desc</span><span class="s0">.</span><span class="s2">get</span><span class="s0">;</span>
				<span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
					<span class="s2">value </span><span class="s0">= </span><span class="s2">value</span><span class="s0">[</span><span class="s2">part</span><span class="s0">];</span>
				<span class="s0">}</span>
			<span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
				<span class="s2">isOwn </span><span class="s0">= </span><span class="s2">hasOwn</span><span class="s0">(</span><span class="s2">value</span><span class="s0">, </span><span class="s2">part</span><span class="s0">);</span>
				<span class="s2">value </span><span class="s0">= </span><span class="s2">value</span><span class="s0">[</span><span class="s2">part</span><span class="s0">];</span>
			<span class="s0">}</span>

			<span class="s1">if </span><span class="s0">(</span><span class="s2">isOwn </span><span class="s0">&amp;&amp; !</span><span class="s2">skipFurtherCaching</span><span class="s0">) {</span>
				<span class="s2">INTRINSICS</span><span class="s0">[</span><span class="s2">intrinsicRealName</span><span class="s0">] = </span><span class="s2">value</span><span class="s0">;</span>
			<span class="s0">}</span>
		<span class="s0">}</span>
	<span class="s0">}</span>
	<span class="s1">return </span><span class="s2">value</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s0">},{</span><span class="s3">&quot;function-bind&quot;</span><span class="s0">:</span><span class="s4">10</span><span class="s0">,</span><span class="s3">&quot;has&quot;</span><span class="s0">:</span><span class="s4">14</span><span class="s0">,</span><span class="s3">&quot;has-symbols&quot;</span><span class="s0">:</span><span class="s4">12</span><span class="s0">}],</span><span class="s4">12</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">origSymbol </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">Symbol </span><span class="s0">!== </span><span class="s3">'undefined' </span><span class="s0">&amp;&amp; </span><span class="s2">Symbol</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">hasSymbolSham </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'./shams'</span><span class="s0">);</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s1">function </span><span class="s2">hasNativeSymbols</span><span class="s0">() {</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">origSymbol </span><span class="s0">!== </span><span class="s3">'function'</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">Symbol </span><span class="s0">!== </span><span class="s3">'function'</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">origSymbol</span><span class="s0">(</span><span class="s3">'foo'</span><span class="s0">) !== </span><span class="s3">'symbol'</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">Symbol</span><span class="s0">(</span><span class="s3">'bar'</span><span class="s0">) !== </span><span class="s3">'symbol'</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>

	<span class="s1">return </span><span class="s2">hasSymbolSham</span><span class="s0">();</span>
<span class="s0">};</span>

<span class="s0">},{</span><span class="s3">&quot;./shams&quot;</span><span class="s0">:</span><span class="s4">13</span><span class="s0">}],</span><span class="s4">13</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s6">/* eslint complexity: [2, 18], max-statements: [2, 33] */</span>
<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s1">function </span><span class="s2">hasSymbols</span><span class="s0">() {</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">Symbol </span><span class="s0">!== </span><span class="s3">'function' </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertySymbols </span><span class="s0">!== </span><span class="s3">'function'</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">iterator </span><span class="s0">=== </span><span class="s3">'symbol'</span><span class="s0">) { </span><span class="s1">return true</span><span class="s0">; }</span>

	<span class="s1">var </span><span class="s2">obj </span><span class="s0">= {};</span>
	<span class="s1">var </span><span class="s2">sym </span><span class="s0">= </span><span class="s2">Symbol</span><span class="s0">(</span><span class="s3">'test'</span><span class="s0">);</span>
	<span class="s1">var </span><span class="s2">symObj </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">(</span><span class="s2">sym</span><span class="s0">);</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">sym </span><span class="s0">=== </span><span class="s3">'string'</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>

	<span class="s1">if </span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">sym</span><span class="s0">) !== </span><span class="s3">'[object Symbol]'</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">symObj</span><span class="s0">) !== </span><span class="s3">'[object Symbol]'</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>

	<span class="s6">// temp disabled per https://github.com/ljharb/object.assign/issues/17</span>
	<span class="s6">// if (sym instanceof Symbol) { return false; }</span>
	<span class="s6">// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4</span>
	<span class="s6">// if (!(symObj instanceof Symbol)) { return false; }</span>

	<span class="s6">// if (typeof Symbol.prototype.toString !== 'function') { return false; }</span>
	<span class="s6">// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }</span>

	<span class="s1">var </span><span class="s2">symVal </span><span class="s0">= </span><span class="s4">42</span><span class="s0">;</span>
	<span class="s2">obj</span><span class="s0">[</span><span class="s2">sym</span><span class="s0">] = </span><span class="s2">symVal</span><span class="s0">;</span>
	<span class="s1">for </span><span class="s0">(</span><span class="s2">sym </span><span class="s1">in </span><span class="s2">obj</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; } </span><span class="s6">// eslint-disable-line no-restricted-syntax, no-unreachable-loop</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">keys </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">&amp;&amp; </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">keys</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">).</span><span class="s2">length </span><span class="s0">!== </span><span class="s4">0</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>

	<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertyNames </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">&amp;&amp; </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertyNames</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">).</span><span class="s2">length </span><span class="s0">!== </span><span class="s4">0</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>

	<span class="s1">var </span><span class="s2">syms </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertySymbols</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s2">syms</span><span class="s0">.</span><span class="s2">length </span><span class="s0">!== </span><span class="s4">1 </span><span class="s0">|| </span><span class="s2">syms</span><span class="s0">[</span><span class="s4">0</span><span class="s0">] !== </span><span class="s2">sym</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>

	<span class="s1">if </span><span class="s0">(!</span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">propertyIsEnumerable</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">sym</span><span class="s0">)) { </span><span class="s1">return false</span><span class="s0">; }</span>

	<span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertyDescriptor </span><span class="s0">=== </span><span class="s3">'function'</span><span class="s0">) {</span>
		<span class="s1">var </span><span class="s2">descriptor </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">sym</span><span class="s0">);</span>
		<span class="s1">if </span><span class="s0">(</span><span class="s2">descriptor</span><span class="s0">.</span><span class="s2">value </span><span class="s0">!== </span><span class="s2">symVal </span><span class="s0">|| </span><span class="s2">descriptor</span><span class="s0">.</span><span class="s2">enumerable </span><span class="s0">!== </span><span class="s1">true</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>
	<span class="s0">}</span>

	<span class="s1">return true</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s0">},{}],</span><span class="s4">14</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">bind </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'function-bind'</span><span class="s0">);</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s2">bind</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">Function</span><span class="s0">.</span><span class="s2">call</span><span class="s0">, </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">hasOwnProperty</span><span class="s0">);</span>

<span class="s0">},{</span><span class="s3">&quot;function-bind&quot;</span><span class="s0">:</span><span class="s4">10</span><span class="s0">}],</span><span class="s4">15</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s1">var </span><span class="s2">hasMap </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">Map </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">&amp;&amp; </span><span class="s2">Map</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">mapSizeDescriptor </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertyDescriptor </span><span class="s0">&amp;&amp; </span><span class="s2">hasMap </span><span class="s0">? </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s0">(</span><span class="s2">Map</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">, </span><span class="s3">'size'</span><span class="s0">) : </span><span class="s1">null</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">mapSize </span><span class="s0">= </span><span class="s2">hasMap </span><span class="s0">&amp;&amp; </span><span class="s2">mapSizeDescriptor </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">mapSizeDescriptor</span><span class="s0">.</span><span class="s2">get </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">? </span><span class="s2">mapSizeDescriptor</span><span class="s0">.</span><span class="s2">get </span><span class="s0">: </span><span class="s1">null</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">mapForEach </span><span class="s0">= </span><span class="s2">hasMap </span><span class="s0">&amp;&amp; </span><span class="s2">Map</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">forEach</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">hasSet </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">Set </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">&amp;&amp; </span><span class="s2">Set</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">setSizeDescriptor </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertyDescriptor </span><span class="s0">&amp;&amp; </span><span class="s2">hasSet </span><span class="s0">? </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertyDescriptor</span><span class="s0">(</span><span class="s2">Set</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">, </span><span class="s3">'size'</span><span class="s0">) : </span><span class="s1">null</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">setSize </span><span class="s0">= </span><span class="s2">hasSet </span><span class="s0">&amp;&amp; </span><span class="s2">setSizeDescriptor </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">setSizeDescriptor</span><span class="s0">.</span><span class="s2">get </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">? </span><span class="s2">setSizeDescriptor</span><span class="s0">.</span><span class="s2">get </span><span class="s0">: </span><span class="s1">null</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">setForEach </span><span class="s0">= </span><span class="s2">hasSet </span><span class="s0">&amp;&amp; </span><span class="s2">Set</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">forEach</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">hasWeakMap </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">WeakMap </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">&amp;&amp; </span><span class="s2">WeakMap</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">weakMapHas </span><span class="s0">= </span><span class="s2">hasWeakMap </span><span class="s0">? </span><span class="s2">WeakMap</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">has </span><span class="s0">: </span><span class="s1">null</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">hasWeakSet </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">WeakSet </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">&amp;&amp; </span><span class="s2">WeakSet</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">weakSetHas </span><span class="s0">= </span><span class="s2">hasWeakSet </span><span class="s0">? </span><span class="s2">WeakSet</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">has </span><span class="s0">: </span><span class="s1">null</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">hasWeakRef </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">WeakRef </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">&amp;&amp; </span><span class="s2">WeakRef</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">weakRefDeref </span><span class="s0">= </span><span class="s2">hasWeakRef </span><span class="s0">? </span><span class="s2">WeakRef</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">deref </span><span class="s0">: </span><span class="s1">null</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">booleanValueOf </span><span class="s0">= </span><span class="s2">Boolean</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">valueOf</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">objectToString </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">functionToString </span><span class="s0">= </span><span class="s2">Function</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">$match </span><span class="s0">= </span><span class="s2">String</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">match</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">$slice </span><span class="s0">= </span><span class="s2">String</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">$replace </span><span class="s0">= </span><span class="s2">String</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">replace</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">$toUpperCase </span><span class="s0">= </span><span class="s2">String</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toUpperCase</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">$toLowerCase </span><span class="s0">= </span><span class="s2">String</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toLowerCase</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">$test </span><span class="s0">= </span><span class="s2">RegExp</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">test</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">$concat </span><span class="s0">= </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">concat</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">$join </span><span class="s0">= </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">join</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">$arrSlice </span><span class="s0">= </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">slice</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">$floor </span><span class="s0">= </span><span class="s2">Math</span><span class="s0">.</span><span class="s2">floor</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">bigIntValueOf </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">BigInt </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">? </span><span class="s2">BigInt</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">valueOf </span><span class="s0">: </span><span class="s1">null</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">gOPS </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getOwnPropertySymbols</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">symToString </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">Symbol </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">iterator </span><span class="s0">=== </span><span class="s3">'symbol' </span><span class="s0">? </span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">toString </span><span class="s0">: </span><span class="s1">null</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">hasShammedSymbols </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">Symbol </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">iterator </span><span class="s0">=== </span><span class="s3">'object'</span><span class="s0">;</span>
<span class="s6">// ie, `has-tostringtag/shams</span>
<span class="s1">var </span><span class="s2">toStringTag </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">Symbol </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">&amp;&amp; </span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">toStringTag </span><span class="s0">&amp;&amp; (</span><span class="s1">typeof </span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">toStringTag </span><span class="s0">=== </span><span class="s2">hasShammedSymbols </span><span class="s0">? </span><span class="s3">'object' </span><span class="s0">: </span><span class="s3">'symbol'</span><span class="s0">)</span>
    <span class="s0">? </span><span class="s2">Symbol</span><span class="s0">.</span><span class="s2">toStringTag</span>
    <span class="s0">: </span><span class="s1">null</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">isEnumerable </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">propertyIsEnumerable</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">gPO </span><span class="s0">= (</span><span class="s1">typeof </span><span class="s2">Reflect </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">? </span><span class="s2">Reflect</span><span class="s0">.</span><span class="s2">getPrototypeOf </span><span class="s0">: </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">getPrototypeOf</span><span class="s0">) || (</span>
    <span class="s0">[].</span><span class="s2">__proto__ </span><span class="s0">=== </span><span class="s2">Array</span><span class="s0">.</span><span class="s2">prototype </span><span class="s6">// eslint-disable-line no-proto</span>
        <span class="s0">? </span><span class="s1">function </span><span class="s0">(</span><span class="s2">O</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">O</span><span class="s0">.</span><span class="s2">__proto__</span><span class="s0">; </span><span class="s6">// eslint-disable-line no-proto</span>
        <span class="s0">}</span>
        <span class="s0">: </span><span class="s1">null</span>
<span class="s0">);</span>

<span class="s1">function </span><span class="s2">addNumericSeparator</span><span class="s0">(</span><span class="s2">num</span><span class="s0">, </span><span class="s2">str</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(</span>
        <span class="s2">num </span><span class="s0">=== </span><span class="s2">Infinity</span>
        <span class="s0">|| </span><span class="s2">num </span><span class="s0">=== -</span><span class="s2">Infinity</span>
        <span class="s0">|| </span><span class="s2">num </span><span class="s0">!== </span><span class="s2">num</span>
        <span class="s0">|| (</span><span class="s2">num </span><span class="s0">&amp;&amp; </span><span class="s2">num </span><span class="s0">&gt; -</span><span class="s4">1000 </span><span class="s0">&amp;&amp; </span><span class="s2">num </span><span class="s0">&lt; </span><span class="s4">1000</span><span class="s0">)</span>
        <span class="s0">|| </span><span class="s2">$test</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s5">/e/</span><span class="s0">, </span><span class="s2">str</span><span class="s0">)</span>
    <span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">str</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s2">sepRegex </span><span class="s0">= </span><span class="s5">/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">num </span><span class="s0">=== </span><span class="s3">'number'</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s2">int </span><span class="s0">= </span><span class="s2">num </span><span class="s0">&lt; </span><span class="s4">0 </span><span class="s0">? -</span><span class="s2">$floor</span><span class="s0">(-</span><span class="s2">num</span><span class="s0">) : </span><span class="s2">$floor</span><span class="s0">(</span><span class="s2">num</span><span class="s0">); </span><span class="s6">// trunc(num)</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">int </span><span class="s0">!== </span><span class="s2">num</span><span class="s0">) {</span>
            <span class="s1">var </span><span class="s2">intStr </span><span class="s0">= </span><span class="s2">String</span><span class="s0">(</span><span class="s2">int</span><span class="s0">);</span>
            <span class="s1">var </span><span class="s2">dec </span><span class="s0">= </span><span class="s2">$slice</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">str</span><span class="s0">, </span><span class="s2">intStr</span><span class="s0">.</span><span class="s2">length </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">);</span>
            <span class="s1">return </span><span class="s2">$replace</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">intStr</span><span class="s0">, </span><span class="s2">sepRegex</span><span class="s0">, </span><span class="s3">'$&amp;_'</span><span class="s0">) + </span><span class="s3">'.' </span><span class="s0">+ </span><span class="s2">$replace</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">$replace</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">dec</span><span class="s0">, </span><span class="s5">/([0-9]{3})/g</span><span class="s0">, </span><span class="s3">'$&amp;_'</span><span class="s0">), </span><span class="s5">/_$/</span><span class="s0">, </span><span class="s3">''</span><span class="s0">);</span>
        <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">return </span><span class="s2">$replace</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">str</span><span class="s0">, </span><span class="s2">sepRegex</span><span class="s0">, </span><span class="s3">'$&amp;_'</span><span class="s0">);</span>
<span class="s0">}</span>

<span class="s1">var </span><span class="s2">utilInspect </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'./util.inspect'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">inspectCustom </span><span class="s0">= </span><span class="s2">utilInspect</span><span class="s0">.</span><span class="s2">custom</span><span class="s0">;</span>
<span class="s1">var </span><span class="s2">inspectSymbol </span><span class="s0">= </span><span class="s2">isSymbol</span><span class="s0">(</span><span class="s2">inspectCustom</span><span class="s0">) ? </span><span class="s2">inspectCustom </span><span class="s0">: </span><span class="s1">null</span><span class="s0">;</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s1">function </span><span class="s2">inspect_</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">options</span><span class="s0">, </span><span class="s2">depth</span><span class="s0">, </span><span class="s2">seen</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">opts </span><span class="s0">= </span><span class="s2">options </span><span class="s0">|| {};</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s2">has</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">, </span><span class="s3">'quoteStyle'</span><span class="s0">) &amp;&amp; (</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">quoteStyle </span><span class="s0">!== </span><span class="s3">'single' </span><span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">quoteStyle </span><span class="s0">!== </span><span class="s3">'double'</span><span class="s0">)) {</span>
        <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">'option &quot;quoteStyle&quot; must be &quot;single&quot; or &quot;double&quot;'</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span>
        <span class="s2">has</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">, </span><span class="s3">'maxStringLength'</span><span class="s0">) &amp;&amp; (</span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">maxStringLength </span><span class="s0">=== </span><span class="s3">'number'</span>
            <span class="s0">? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">maxStringLength </span><span class="s0">&lt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">maxStringLength </span><span class="s0">!== </span><span class="s2">Infinity</span>
            <span class="s0">: </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">maxStringLength </span><span class="s0">!== </span><span class="s1">null</span>
        <span class="s0">)</span>
    <span class="s0">) {</span>
        <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">'option &quot;maxStringLength&quot;, if provided, must be a positive integer, Infinity, or `null`'</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s2">customInspect </span><span class="s0">= </span><span class="s2">has</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">, </span><span class="s3">'customInspect'</span><span class="s0">) ? </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">customInspect </span><span class="s0">: </span><span class="s1">true</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">customInspect </span><span class="s0">!== </span><span class="s3">'boolean' </span><span class="s0">&amp;&amp; </span><span class="s2">customInspect </span><span class="s0">!== </span><span class="s3">'symbol'</span><span class="s0">) {</span>
        <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">'option &quot;customInspect&quot;, if provided, must be `true`, `false`, or `</span><span class="s1">\'</span><span class="s3">symbol</span><span class="s1">\'</span><span class="s3">`'</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span>
        <span class="s2">has</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">, </span><span class="s3">'indent'</span><span class="s0">)</span>
        <span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">indent </span><span class="s0">!== </span><span class="s1">null</span>
        <span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">indent </span><span class="s0">!== </span><span class="s3">'</span><span class="s1">\t</span><span class="s3">'</span>
        <span class="s0">&amp;&amp; !(</span><span class="s2">parseInt</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">indent</span><span class="s0">, </span><span class="s4">10</span><span class="s0">) === </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">indent </span><span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">indent </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">)</span>
    <span class="s0">) {</span>
        <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">'option &quot;indent&quot; must be &quot;</span><span class="s1">\\</span><span class="s3">t&quot;, an integer &gt; 0, or `null`'</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">has</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">, </span><span class="s3">'numericSeparator'</span><span class="s0">) &amp;&amp; </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">numericSeparator </span><span class="s0">!== </span><span class="s3">'boolean'</span><span class="s0">) {</span>
        <span class="s1">throw new </span><span class="s2">TypeError</span><span class="s0">(</span><span class="s3">'option &quot;numericSeparator&quot;, if provided, must be `true` or `false`'</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s2">numericSeparator </span><span class="s0">= </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">numericSeparator</span><span class="s0">;</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'undefined'</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s3">'undefined'</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">obj </span><span class="s0">=== </span><span class="s1">null</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s3">'null'</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'boolean'</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">obj </span><span class="s0">? </span><span class="s3">'true' </span><span class="s0">: </span><span class="s3">'false'</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'string'</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">inspectString</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">opts</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'number'</span><span class="s0">) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">obj </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">Infinity </span><span class="s0">/ </span><span class="s2">obj </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">? </span><span class="s3">'0' </span><span class="s0">: </span><span class="s3">'-0'</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">var </span><span class="s2">str </span><span class="s0">= </span><span class="s2">String</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
        <span class="s1">return </span><span class="s2">numericSeparator </span><span class="s0">? </span><span class="s2">addNumericSeparator</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">str</span><span class="s0">) : </span><span class="s2">str</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'bigint'</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s2">bigIntStr </span><span class="s0">= </span><span class="s2">String</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) + </span><span class="s3">'n'</span><span class="s0">;</span>
        <span class="s1">return </span><span class="s2">numericSeparator </span><span class="s0">? </span><span class="s2">addNumericSeparator</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">bigIntStr</span><span class="s0">) : </span><span class="s2">bigIntStr</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">maxDepth </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">depth </span><span class="s0">=== </span><span class="s3">'undefined' </span><span class="s0">? </span><span class="s4">5 </span><span class="s0">: </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">depth</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">depth </span><span class="s0">=== </span><span class="s3">'undefined'</span><span class="s0">) { </span><span class="s2">depth </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; }</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">depth </span><span class="s0">&gt;= </span><span class="s2">maxDepth </span><span class="s0">&amp;&amp; </span><span class="s2">maxDepth </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'object'</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) ? </span><span class="s3">'[Array]' </span><span class="s0">: </span><span class="s3">'[Object]'</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">var </span><span class="s2">indent </span><span class="s0">= </span><span class="s2">getIndent</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">, </span><span class="s2">depth</span><span class="s0">);</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">seen </span><span class="s0">=== </span><span class="s3">'undefined'</span><span class="s0">) {</span>
        <span class="s2">seen </span><span class="s0">= [];</span>
    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">indexOf</span><span class="s0">(</span><span class="s2">seen</span><span class="s0">, </span><span class="s2">obj</span><span class="s0">) &gt;= </span><span class="s4">0</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s3">'[Circular]'</span><span class="s0">;</span>
    <span class="s0">}</span>

    <span class="s1">function </span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">value</span><span class="s0">, </span><span class="s2">from</span><span class="s0">, </span><span class="s2">noIndent</span><span class="s0">) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">from</span><span class="s0">) {</span>
            <span class="s2">seen </span><span class="s0">= </span><span class="s2">$arrSlice</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">seen</span><span class="s0">);</span>
            <span class="s2">seen</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">from</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">noIndent</span><span class="s0">) {</span>
            <span class="s1">var </span><span class="s2">newOpts </span><span class="s0">= {</span>
                <span class="s2">depth</span><span class="s0">: </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">depth</span>
            <span class="s0">};</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">has</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">, </span><span class="s3">'quoteStyle'</span><span class="s0">)) {</span>
                <span class="s2">newOpts</span><span class="s0">.</span><span class="s2">quoteStyle </span><span class="s0">= </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">quoteStyle</span><span class="s0">;</span>
            <span class="s0">}</span>
            <span class="s1">return </span><span class="s2">inspect_</span><span class="s0">(</span><span class="s2">value</span><span class="s0">, </span><span class="s2">newOpts</span><span class="s0">, </span><span class="s2">depth </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">, </span><span class="s2">seen</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">inspect_</span><span class="s0">(</span><span class="s2">value</span><span class="s0">, </span><span class="s2">opts</span><span class="s0">, </span><span class="s2">depth </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">, </span><span class="s2">seen</span><span class="s0">);</span>
    <span class="s0">}</span>

    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">&amp;&amp; !</span><span class="s2">isRegExp</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) { </span><span class="s6">// in older engines, regexes are callable</span>
        <span class="s1">var </span><span class="s2">name </span><span class="s0">= </span><span class="s2">nameOf</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
        <span class="s1">var </span><span class="s2">keys </span><span class="s0">= </span><span class="s2">arrObjKeys</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">inspect</span><span class="s0">);</span>
        <span class="s1">return </span><span class="s3">'[Function' </span><span class="s0">+ (</span><span class="s2">name </span><span class="s0">? </span><span class="s3">': ' </span><span class="s0">+ </span><span class="s2">name </span><span class="s0">: </span><span class="s3">' (anonymous)'</span><span class="s0">) + </span><span class="s3">']' </span><span class="s0">+ (</span><span class="s2">keys</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s4">0 </span><span class="s0">? </span><span class="s3">' { ' </span><span class="s0">+ </span><span class="s2">$join</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">keys</span><span class="s0">, </span><span class="s3">', '</span><span class="s0">) + </span><span class="s3">' }' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isSymbol</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">var </span><span class="s2">symString </span><span class="s0">= </span><span class="s2">hasShammedSymbols </span><span class="s0">? </span><span class="s2">$replace</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">String</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">), </span><span class="s5">/^(Symbol\(.*\))_[^)]*$/</span><span class="s0">, </span><span class="s3">'$1'</span><span class="s0">) : </span><span class="s2">symToString</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
        <span class="s1">return typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; !</span><span class="s2">hasShammedSymbols </span><span class="s0">? </span><span class="s2">markBoxed</span><span class="s0">(</span><span class="s2">symString</span><span class="s0">) : </span><span class="s2">symString</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isElement</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">var </span><span class="s2">s </span><span class="s0">= </span><span class="s3">'&lt;' </span><span class="s0">+ </span><span class="s2">$toLowerCase</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">String</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">.</span><span class="s2">nodeName</span><span class="s0">));</span>
        <span class="s1">var </span><span class="s2">attrs </span><span class="s0">= </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">attributes </span><span class="s0">|| [];</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">attrs</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; </span><span class="s2">i</span><span class="s0">++) {</span>
            <span class="s2">s </span><span class="s0">+= </span><span class="s3">' ' </span><span class="s0">+ </span><span class="s2">attrs</span><span class="s0">[</span><span class="s2">i</span><span class="s0">].</span><span class="s2">name </span><span class="s0">+ </span><span class="s3">'=' </span><span class="s0">+ </span><span class="s2">wrapQuotes</span><span class="s0">(</span><span class="s2">quote</span><span class="s0">(</span><span class="s2">attrs</span><span class="s0">[</span><span class="s2">i</span><span class="s0">].</span><span class="s2">value</span><span class="s0">), </span><span class="s3">'double'</span><span class="s0">, </span><span class="s2">opts</span><span class="s0">);</span>
        <span class="s0">}</span>
        <span class="s2">s </span><span class="s0">+= </span><span class="s3">'&gt;'</span><span class="s0">;</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">obj</span><span class="s0">.</span><span class="s2">childNodes </span><span class="s0">&amp;&amp; </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">childNodes</span><span class="s0">.</span><span class="s2">length</span><span class="s0">) { </span><span class="s2">s </span><span class="s0">+= </span><span class="s3">'...'</span><span class="s0">; }</span>
        <span class="s2">s </span><span class="s0">+= </span><span class="s3">'&lt;/' </span><span class="s0">+ </span><span class="s2">$toLowerCase</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">String</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">.</span><span class="s2">nodeName</span><span class="s0">)) + </span><span class="s3">'&gt;'</span><span class="s0">;</span>
        <span class="s1">return </span><span class="s2">s</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">obj</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) { </span><span class="s1">return </span><span class="s3">'[]'</span><span class="s0">; }</span>
        <span class="s1">var </span><span class="s2">xs </span><span class="s0">= </span><span class="s2">arrObjKeys</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">inspect</span><span class="s0">);</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">indent </span><span class="s0">&amp;&amp; !</span><span class="s2">singleLineValues</span><span class="s0">(</span><span class="s2">xs</span><span class="s0">)) {</span>
            <span class="s1">return </span><span class="s3">'[' </span><span class="s0">+ </span><span class="s2">indentedJoin</span><span class="s0">(</span><span class="s2">xs</span><span class="s0">, </span><span class="s2">indent</span><span class="s0">) + </span><span class="s3">']'</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s3">'[ ' </span><span class="s0">+ </span><span class="s2">$join</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">xs</span><span class="s0">, </span><span class="s3">', '</span><span class="s0">) + </span><span class="s3">' ]'</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isError</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">var </span><span class="s2">parts </span><span class="s0">= </span><span class="s2">arrObjKeys</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">inspect</span><span class="s0">);</span>
        <span class="s1">if </span><span class="s0">(!(</span><span class="s3">'cause' </span><span class="s1">in </span><span class="s2">Error</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">) &amp;&amp; </span><span class="s3">'cause' </span><span class="s1">in </span><span class="s2">obj </span><span class="s0">&amp;&amp; !</span><span class="s2">isEnumerable</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s3">'cause'</span><span class="s0">)) {</span>
            <span class="s1">return </span><span class="s3">'{ [' </span><span class="s0">+ </span><span class="s2">String</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) + </span><span class="s3">'] ' </span><span class="s0">+ </span><span class="s2">$join</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">$concat</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s3">'[cause]: ' </span><span class="s0">+ </span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">.</span><span class="s2">cause</span><span class="s0">), </span><span class="s2">parts</span><span class="s0">), </span><span class="s3">', '</span><span class="s0">) + </span><span class="s3">' }'</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">parts</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) { </span><span class="s1">return </span><span class="s3">'[' </span><span class="s0">+ </span><span class="s2">String</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) + </span><span class="s3">']'</span><span class="s0">; }</span>
        <span class="s1">return </span><span class="s3">'{ [' </span><span class="s0">+ </span><span class="s2">String</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) + </span><span class="s3">'] ' </span><span class="s0">+ </span><span class="s2">$join</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">parts</span><span class="s0">, </span><span class="s3">', '</span><span class="s0">) + </span><span class="s3">' }'</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s2">customInspect</span><span class="s0">) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">inspectSymbol </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">obj</span><span class="s0">[</span><span class="s2">inspectSymbol</span><span class="s0">] === </span><span class="s3">'function' </span><span class="s0">&amp;&amp; </span><span class="s2">utilInspect</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">utilInspect</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, { </span><span class="s2">depth</span><span class="s0">: </span><span class="s2">maxDepth </span><span class="s0">- </span><span class="s2">depth </span><span class="s0">});</span>
        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">customInspect </span><span class="s0">!== </span><span class="s3">'symbol' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">inspect </span><span class="s0">=== </span><span class="s3">'function'</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">inspect</span><span class="s0">();</span>
        <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isMap</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">var </span><span class="s2">mapParts </span><span class="s0">= [];</span>
        <span class="s2">mapForEach</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s1">function </span><span class="s0">(</span><span class="s2">value</span><span class="s0">, </span><span class="s2">key</span><span class="s0">) {</span>
            <span class="s2">mapParts</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">key</span><span class="s0">, </span><span class="s2">obj</span><span class="s0">, </span><span class="s1">true</span><span class="s0">) + </span><span class="s3">' =&gt; ' </span><span class="s0">+ </span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">value</span><span class="s0">, </span><span class="s2">obj</span><span class="s0">));</span>
        <span class="s0">});</span>
        <span class="s1">return </span><span class="s2">collectionOf</span><span class="s0">(</span><span class="s3">'Map'</span><span class="s0">, </span><span class="s2">mapSize</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">), </span><span class="s2">mapParts</span><span class="s0">, </span><span class="s2">indent</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isSet</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">var </span><span class="s2">setParts </span><span class="s0">= [];</span>
        <span class="s2">setForEach</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s1">function </span><span class="s0">(</span><span class="s2">value</span><span class="s0">) {</span>
            <span class="s2">setParts</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">value</span><span class="s0">, </span><span class="s2">obj</span><span class="s0">));</span>
        <span class="s0">});</span>
        <span class="s1">return </span><span class="s2">collectionOf</span><span class="s0">(</span><span class="s3">'Set'</span><span class="s0">, </span><span class="s2">setSize</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">), </span><span class="s2">setParts</span><span class="s0">, </span><span class="s2">indent</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isWeakMap</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">return </span><span class="s2">weakCollectionOf</span><span class="s0">(</span><span class="s3">'WeakMap'</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isWeakSet</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">return </span><span class="s2">weakCollectionOf</span><span class="s0">(</span><span class="s3">'WeakSet'</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isWeakRef</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">return </span><span class="s2">weakCollectionOf</span><span class="s0">(</span><span class="s3">'WeakRef'</span><span class="s0">);</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isNumber</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">return </span><span class="s2">markBoxed</span><span class="s0">(</span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">Number</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)));</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isBigInt</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">return </span><span class="s2">markBoxed</span><span class="s0">(</span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">bigIntValueOf</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)));</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isBoolean</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">return </span><span class="s2">markBoxed</span><span class="s0">(</span><span class="s2">booleanValueOf</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">));</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isString</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">return </span><span class="s2">markBoxed</span><span class="s0">(</span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">String</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)));</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">isDate</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) &amp;&amp; !</span><span class="s2">isRegExp</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">)) {</span>
        <span class="s1">var </span><span class="s2">ys </span><span class="s0">= </span><span class="s2">arrObjKeys</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">inspect</span><span class="s0">);</span>
        <span class="s1">var </span><span class="s2">isPlainObject </span><span class="s0">= </span><span class="s2">gPO </span><span class="s0">? </span><span class="s2">gPO</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) === </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype </span><span class="s0">: </span><span class="s2">obj </span><span class="s1">instanceof </span><span class="s2">Object </span><span class="s0">|| </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">constructor </span><span class="s0">=== </span><span class="s2">Object</span><span class="s0">;</span>
        <span class="s1">var </span><span class="s2">protoTag </span><span class="s0">= </span><span class="s2">obj </span><span class="s1">instanceof </span><span class="s2">Object </span><span class="s0">? </span><span class="s3">'' </span><span class="s0">: </span><span class="s3">'null prototype'</span><span class="s0">;</span>
        <span class="s1">var </span><span class="s2">stringTag </span><span class="s0">= !</span><span class="s2">isPlainObject </span><span class="s0">&amp;&amp; </span><span class="s2">toStringTag </span><span class="s0">&amp;&amp; </span><span class="s2">Object</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) === </span><span class="s2">obj </span><span class="s0">&amp;&amp; </span><span class="s2">toStringTag </span><span class="s1">in </span><span class="s2">obj </span><span class="s0">? </span><span class="s2">$slice</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">toStr</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">), </span><span class="s4">8</span><span class="s0">, -</span><span class="s4">1</span><span class="s0">) : </span><span class="s2">protoTag </span><span class="s0">? </span><span class="s3">'Object' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">;</span>
        <span class="s1">var </span><span class="s2">constructorTag </span><span class="s0">= </span><span class="s2">isPlainObject </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">constructor </span><span class="s0">!== </span><span class="s3">'function' </span><span class="s0">? </span><span class="s3">'' </span><span class="s0">: </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">constructor</span><span class="s0">.</span><span class="s2">name </span><span class="s0">? </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">constructor</span><span class="s0">.</span><span class="s2">name </span><span class="s0">+ </span><span class="s3">' ' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">;</span>
        <span class="s1">var </span><span class="s2">tag </span><span class="s0">= </span><span class="s2">constructorTag </span><span class="s0">+ (</span><span class="s2">stringTag </span><span class="s0">|| </span><span class="s2">protoTag </span><span class="s0">? </span><span class="s3">'[' </span><span class="s0">+ </span><span class="s2">$join</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">$concat</span><span class="s0">.</span><span class="s2">call</span><span class="s0">([], </span><span class="s2">stringTag </span><span class="s0">|| [], </span><span class="s2">protoTag </span><span class="s0">|| []), </span><span class="s3">': '</span><span class="s0">) + </span><span class="s3">'] ' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">);</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">ys</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">tag </span><span class="s0">+ </span><span class="s3">'{}'</span><span class="s0">; }</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">indent</span><span class="s0">) {</span>
            <span class="s1">return </span><span class="s2">tag </span><span class="s0">+ </span><span class="s3">'{' </span><span class="s0">+ </span><span class="s2">indentedJoin</span><span class="s0">(</span><span class="s2">ys</span><span class="s0">, </span><span class="s2">indent</span><span class="s0">) + </span><span class="s3">'}'</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">tag </span><span class="s0">+ </span><span class="s3">'{ ' </span><span class="s0">+ </span><span class="s2">$join</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">ys</span><span class="s0">, </span><span class="s3">', '</span><span class="s0">) + </span><span class="s3">' }'</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">return </span><span class="s2">String</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
<span class="s0">};</span>

<span class="s1">function </span><span class="s2">wrapQuotes</span><span class="s0">(</span><span class="s2">s</span><span class="s0">, </span><span class="s2">defaultStyle</span><span class="s0">, </span><span class="s2">opts</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">quoteChar </span><span class="s0">= (</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">quoteStyle </span><span class="s0">|| </span><span class="s2">defaultStyle</span><span class="s0">) === </span><span class="s3">'double' </span><span class="s0">? </span><span class="s3">'&quot;' </span><span class="s0">: </span><span class="s3">&quot;'&quot;</span><span class="s0">;</span>
    <span class="s1">return </span><span class="s2">quoteChar </span><span class="s0">+ </span><span class="s2">s </span><span class="s0">+ </span><span class="s2">quoteChar</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">quote</span><span class="s0">(</span><span class="s2">s</span><span class="s0">) {</span>
    <span class="s1">return </span><span class="s2">$replace</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">String</span><span class="s0">(</span><span class="s2">s</span><span class="s0">), </span><span class="s5">/&quot;/g</span><span class="s0">, </span><span class="s3">'&amp;quot;'</span><span class="s0">);</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">toStr</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) === </span><span class="s3">'[object Array]' </span><span class="s0">&amp;&amp; (!</span><span class="s2">toStringTag </span><span class="s0">|| !(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s2">toStringTag </span><span class="s1">in </span><span class="s2">obj</span><span class="s0">)); }</span>
<span class="s1">function </span><span class="s2">isDate</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">toStr</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) === </span><span class="s3">'[object Date]' </span><span class="s0">&amp;&amp; (!</span><span class="s2">toStringTag </span><span class="s0">|| !(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s2">toStringTag </span><span class="s1">in </span><span class="s2">obj</span><span class="s0">)); }</span>
<span class="s1">function </span><span class="s2">isRegExp</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">toStr</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) === </span><span class="s3">'[object RegExp]' </span><span class="s0">&amp;&amp; (!</span><span class="s2">toStringTag </span><span class="s0">|| !(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s2">toStringTag </span><span class="s1">in </span><span class="s2">obj</span><span class="s0">)); }</span>
<span class="s1">function </span><span class="s2">isError</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">toStr</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) === </span><span class="s3">'[object Error]' </span><span class="s0">&amp;&amp; (!</span><span class="s2">toStringTag </span><span class="s0">|| !(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s2">toStringTag </span><span class="s1">in </span><span class="s2">obj</span><span class="s0">)); }</span>
<span class="s1">function </span><span class="s2">isString</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">toStr</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) === </span><span class="s3">'[object String]' </span><span class="s0">&amp;&amp; (!</span><span class="s2">toStringTag </span><span class="s0">|| !(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s2">toStringTag </span><span class="s1">in </span><span class="s2">obj</span><span class="s0">)); }</span>
<span class="s1">function </span><span class="s2">isNumber</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">toStr</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) === </span><span class="s3">'[object Number]' </span><span class="s0">&amp;&amp; (!</span><span class="s2">toStringTag </span><span class="s0">|| !(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s2">toStringTag </span><span class="s1">in </span><span class="s2">obj</span><span class="s0">)); }</span>
<span class="s1">function </span><span class="s2">isBoolean</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">toStr</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) === </span><span class="s3">'[object Boolean]' </span><span class="s0">&amp;&amp; (!</span><span class="s2">toStringTag </span><span class="s0">|| !(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s2">toStringTag </span><span class="s1">in </span><span class="s2">obj</span><span class="s0">)); }</span>

<span class="s6">// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives</span>
<span class="s1">function </span><span class="s2">isSymbol</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">hasShammedSymbols</span><span class="s0">) {</span>
        <span class="s1">return </span><span class="s2">obj </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">&amp;&amp; </span><span class="s2">obj </span><span class="s1">instanceof </span><span class="s2">Symbol</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">=== </span><span class="s3">'symbol'</span><span class="s0">) {</span>
        <span class="s1">return true</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">obj </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">!== </span><span class="s3">'object' </span><span class="s0">|| !</span><span class="s2">symToString</span><span class="s0">) {</span>
        <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">try </span><span class="s0">{</span>
        <span class="s2">symToString</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
        <span class="s1">return true</span><span class="s0">;</span>
    <span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">e</span><span class="s0">) {}</span>
    <span class="s1">return false</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">isBigInt</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">obj </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">obj </span><span class="s0">!== </span><span class="s3">'object' </span><span class="s0">|| !</span><span class="s2">bigIntValueOf</span><span class="s0">) {</span>
        <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">try </span><span class="s0">{</span>
        <span class="s2">bigIntValueOf</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
        <span class="s1">return true</span><span class="s0">;</span>
    <span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">e</span><span class="s0">) {}</span>
    <span class="s1">return false</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">var </span><span class="s2">hasOwn </span><span class="s0">= </span><span class="s2">Object</span><span class="s0">.</span><span class="s2">prototype</span><span class="s0">.</span><span class="s2">hasOwnProperty </span><span class="s0">|| </span><span class="s1">function </span><span class="s0">(</span><span class="s2">key</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">key </span><span class="s1">in this</span><span class="s0">; };</span>
<span class="s1">function </span><span class="s2">has</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">key</span><span class="s0">) {</span>
    <span class="s1">return </span><span class="s2">hasOwn</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">key</span><span class="s0">);</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">toStr</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) {</span>
    <span class="s1">return </span><span class="s2">objectToString</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">nameOf</span><span class="s0">(</span><span class="s2">f</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">f</span><span class="s0">.</span><span class="s2">name</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">f</span><span class="s0">.</span><span class="s2">name</span><span class="s0">; }</span>
    <span class="s1">var </span><span class="s2">m </span><span class="s0">= </span><span class="s2">$match</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">functionToString</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">f</span><span class="s0">), </span><span class="s5">/^function\s*([\w$]+)/</span><span class="s0">);</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">m</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">m</span><span class="s0">[</span><span class="s4">1</span><span class="s0">]; }</span>
    <span class="s1">return null</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">indexOf</span><span class="s0">(</span><span class="s2">xs</span><span class="s0">, </span><span class="s2">x</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">xs</span><span class="s0">.</span><span class="s2">indexOf</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">xs</span><span class="s0">.</span><span class="s2">indexOf</span><span class="s0">(</span><span class="s2">x</span><span class="s0">); }</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">, </span><span class="s2">l </span><span class="s0">= </span><span class="s2">xs</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">l</span><span class="s0">; </span><span class="s2">i</span><span class="s0">++) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">xs</span><span class="s0">[</span><span class="s2">i</span><span class="s0">] === </span><span class="s2">x</span><span class="s0">) { </span><span class="s1">return </span><span class="s2">i</span><span class="s0">; }</span>
    <span class="s0">}</span>
    <span class="s1">return </span><span class="s0">-</span><span class="s4">1</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">isMap</span><span class="s0">(</span><span class="s2">x</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">mapSize </span><span class="s0">|| !</span><span class="s2">x </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">x </span><span class="s0">!== </span><span class="s3">'object'</span><span class="s0">) {</span>
        <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">try </span><span class="s0">{</span>
        <span class="s2">mapSize</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">x</span><span class="s0">);</span>
        <span class="s1">try </span><span class="s0">{</span>
            <span class="s2">setSize</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">x</span><span class="s0">);</span>
        <span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">s</span><span class="s0">) {</span>
            <span class="s1">return true</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">x </span><span class="s1">instanceof </span><span class="s2">Map</span><span class="s0">; </span><span class="s6">// core-js workaround, pre-v2.5.0</span>
    <span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">e</span><span class="s0">) {}</span>
    <span class="s1">return false</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">isWeakMap</span><span class="s0">(</span><span class="s2">x</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">weakMapHas </span><span class="s0">|| !</span><span class="s2">x </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">x </span><span class="s0">!== </span><span class="s3">'object'</span><span class="s0">) {</span>
        <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">try </span><span class="s0">{</span>
        <span class="s2">weakMapHas</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">x</span><span class="s0">, </span><span class="s2">weakMapHas</span><span class="s0">);</span>
        <span class="s1">try </span><span class="s0">{</span>
            <span class="s2">weakSetHas</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">x</span><span class="s0">, </span><span class="s2">weakSetHas</span><span class="s0">);</span>
        <span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">s</span><span class="s0">) {</span>
            <span class="s1">return true</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">x </span><span class="s1">instanceof </span><span class="s2">WeakMap</span><span class="s0">; </span><span class="s6">// core-js workaround, pre-v2.5.0</span>
    <span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">e</span><span class="s0">) {}</span>
    <span class="s1">return false</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">isWeakRef</span><span class="s0">(</span><span class="s2">x</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">weakRefDeref </span><span class="s0">|| !</span><span class="s2">x </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">x </span><span class="s0">!== </span><span class="s3">'object'</span><span class="s0">) {</span>
        <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">try </span><span class="s0">{</span>
        <span class="s2">weakRefDeref</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">x</span><span class="s0">);</span>
        <span class="s1">return true</span><span class="s0">;</span>
    <span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">e</span><span class="s0">) {}</span>
    <span class="s1">return false</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">isSet</span><span class="s0">(</span><span class="s2">x</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">setSize </span><span class="s0">|| !</span><span class="s2">x </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">x </span><span class="s0">!== </span><span class="s3">'object'</span><span class="s0">) {</span>
        <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">try </span><span class="s0">{</span>
        <span class="s2">setSize</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">x</span><span class="s0">);</span>
        <span class="s1">try </span><span class="s0">{</span>
            <span class="s2">mapSize</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">x</span><span class="s0">);</span>
        <span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">m</span><span class="s0">) {</span>
            <span class="s1">return true</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">x </span><span class="s1">instanceof </span><span class="s2">Set</span><span class="s0">; </span><span class="s6">// core-js workaround, pre-v2.5.0</span>
    <span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">e</span><span class="s0">) {}</span>
    <span class="s1">return false</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">isWeakSet</span><span class="s0">(</span><span class="s2">x</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">weakSetHas </span><span class="s0">|| !</span><span class="s2">x </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">x </span><span class="s0">!== </span><span class="s3">'object'</span><span class="s0">) {</span>
        <span class="s1">return false</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">try </span><span class="s0">{</span>
        <span class="s2">weakSetHas</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">x</span><span class="s0">, </span><span class="s2">weakSetHas</span><span class="s0">);</span>
        <span class="s1">try </span><span class="s0">{</span>
            <span class="s2">weakMapHas</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">x</span><span class="s0">, </span><span class="s2">weakMapHas</span><span class="s0">);</span>
        <span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">s</span><span class="s0">) {</span>
            <span class="s1">return true</span><span class="s0">;</span>
        <span class="s0">}</span>
        <span class="s1">return </span><span class="s2">x </span><span class="s1">instanceof </span><span class="s2">WeakSet</span><span class="s0">; </span><span class="s6">// core-js workaround, pre-v2.5.0</span>
    <span class="s0">} </span><span class="s1">catch </span><span class="s0">(</span><span class="s2">e</span><span class="s0">) {}</span>
    <span class="s1">return false</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">isElement</span><span class="s0">(</span><span class="s2">x</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(!</span><span class="s2">x </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">x </span><span class="s0">!== </span><span class="s3">'object'</span><span class="s0">) { </span><span class="s1">return false</span><span class="s0">; }</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">HTMLElement </span><span class="s0">!== </span><span class="s3">'undefined' </span><span class="s0">&amp;&amp; </span><span class="s2">x </span><span class="s1">instanceof </span><span class="s2">HTMLElement</span><span class="s0">) {</span>
        <span class="s1">return true</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">return typeof </span><span class="s2">x</span><span class="s0">.</span><span class="s2">nodeName </span><span class="s0">=== </span><span class="s3">'string' </span><span class="s0">&amp;&amp; </span><span class="s1">typeof </span><span class="s2">x</span><span class="s0">.</span><span class="s2">getAttribute </span><span class="s0">=== </span><span class="s3">'function'</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">inspectString</span><span class="s0">(</span><span class="s2">str</span><span class="s0">, </span><span class="s2">opts</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">str</span><span class="s0">.</span><span class="s2">length </span><span class="s0">&gt; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">maxStringLength</span><span class="s0">) {</span>
        <span class="s1">var </span><span class="s2">remaining </span><span class="s0">= </span><span class="s2">str</span><span class="s0">.</span><span class="s2">length </span><span class="s0">- </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">maxStringLength</span><span class="s0">;</span>
        <span class="s1">var </span><span class="s2">trailer </span><span class="s0">= </span><span class="s3">'... ' </span><span class="s0">+ </span><span class="s2">remaining </span><span class="s0">+ </span><span class="s3">' more character' </span><span class="s0">+ (</span><span class="s2">remaining </span><span class="s0">&gt; </span><span class="s4">1 </span><span class="s0">? </span><span class="s3">'s' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">);</span>
        <span class="s1">return </span><span class="s2">inspectString</span><span class="s0">(</span><span class="s2">$slice</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">str</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">maxStringLength</span><span class="s0">), </span><span class="s2">opts</span><span class="s0">) + </span><span class="s2">trailer</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s6">// eslint-disable-next-line no-control-regex</span>
    <span class="s1">var </span><span class="s2">s </span><span class="s0">= </span><span class="s2">$replace</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">$replace</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">str</span><span class="s0">, </span><span class="s5">/(['\\])/g</span><span class="s0">, </span><span class="s3">'</span><span class="s1">\\</span><span class="s3">$1'</span><span class="s0">), </span><span class="s5">/[\x00-\x1f]/g</span><span class="s0">, </span><span class="s2">lowbyte</span><span class="s0">);</span>
    <span class="s1">return </span><span class="s2">wrapQuotes</span><span class="s0">(</span><span class="s2">s</span><span class="s0">, </span><span class="s3">'single'</span><span class="s0">, </span><span class="s2">opts</span><span class="s0">);</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">lowbyte</span><span class="s0">(</span><span class="s2">c</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">n </span><span class="s0">= </span><span class="s2">c</span><span class="s0">.</span><span class="s2">charCodeAt</span><span class="s0">(</span><span class="s4">0</span><span class="s0">);</span>
    <span class="s1">var </span><span class="s2">x </span><span class="s0">= {</span>
        <span class="s4">8</span><span class="s0">: </span><span class="s3">'b'</span><span class="s0">,</span>
        <span class="s4">9</span><span class="s0">: </span><span class="s3">'t'</span><span class="s0">,</span>
        <span class="s4">10</span><span class="s0">: </span><span class="s3">'n'</span><span class="s0">,</span>
        <span class="s4">12</span><span class="s0">: </span><span class="s3">'f'</span><span class="s0">,</span>
        <span class="s4">13</span><span class="s0">: </span><span class="s3">'r'</span>
    <span class="s0">}[</span><span class="s2">n</span><span class="s0">];</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">x</span><span class="s0">) { </span><span class="s1">return </span><span class="s3">'</span><span class="s1">\\</span><span class="s3">' </span><span class="s0">+ </span><span class="s2">x</span><span class="s0">; }</span>
    <span class="s1">return </span><span class="s3">'</span><span class="s1">\\</span><span class="s3">x' </span><span class="s0">+ (</span><span class="s2">n </span><span class="s0">&lt; </span><span class="s4">0x10 </span><span class="s0">? </span><span class="s3">'0' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">) + </span><span class="s2">$toUpperCase</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">n</span><span class="s0">.</span><span class="s2">toString</span><span class="s0">(</span><span class="s4">16</span><span class="s0">));</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">markBoxed</span><span class="s0">(</span><span class="s2">str</span><span class="s0">) {</span>
    <span class="s1">return </span><span class="s3">'Object(' </span><span class="s0">+ </span><span class="s2">str </span><span class="s0">+ </span><span class="s3">')'</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">weakCollectionOf</span><span class="s0">(</span><span class="s2">type</span><span class="s0">) {</span>
    <span class="s1">return </span><span class="s2">type </span><span class="s0">+ </span><span class="s3">' { ? }'</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">collectionOf</span><span class="s0">(</span><span class="s2">type</span><span class="s0">, </span><span class="s2">size</span><span class="s0">, </span><span class="s2">entries</span><span class="s0">, </span><span class="s2">indent</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">joinedEntries </span><span class="s0">= </span><span class="s2">indent </span><span class="s0">? </span><span class="s2">indentedJoin</span><span class="s0">(</span><span class="s2">entries</span><span class="s0">, </span><span class="s2">indent</span><span class="s0">) : </span><span class="s2">$join</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">entries</span><span class="s0">, </span><span class="s3">', '</span><span class="s0">);</span>
    <span class="s1">return </span><span class="s2">type </span><span class="s0">+ </span><span class="s3">' (' </span><span class="s0">+ </span><span class="s2">size </span><span class="s0">+ </span><span class="s3">') {' </span><span class="s0">+ </span><span class="s2">joinedEntries </span><span class="s0">+ </span><span class="s3">'}'</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">singleLineValues</span><span class="s0">(</span><span class="s2">xs</span><span class="s0">) {</span>
    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">xs</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; </span><span class="s2">i</span><span class="s0">++) {</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">indexOf</span><span class="s0">(</span><span class="s2">xs</span><span class="s0">[</span><span class="s2">i</span><span class="s0">], </span><span class="s3">'</span><span class="s1">\n</span><span class="s3">'</span><span class="s0">) &gt;= </span><span class="s4">0</span><span class="s0">) {</span>
            <span class="s1">return false</span><span class="s0">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">return true</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">getIndent</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">, </span><span class="s2">depth</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">baseIndent</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">indent </span><span class="s0">=== </span><span class="s3">'</span><span class="s1">\t</span><span class="s3">'</span><span class="s0">) {</span>
        <span class="s2">baseIndent </span><span class="s0">= </span><span class="s3">'</span><span class="s1">\t</span><span class="s3">'</span><span class="s0">;</span>
    <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">indent </span><span class="s0">=== </span><span class="s3">'number' </span><span class="s0">&amp;&amp; </span><span class="s2">opts</span><span class="s0">.</span><span class="s2">indent </span><span class="s0">&gt; </span><span class="s4">0</span><span class="s0">) {</span>
        <span class="s2">baseIndent </span><span class="s0">= </span><span class="s2">$join</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">Array</span><span class="s0">(</span><span class="s2">opts</span><span class="s0">.</span><span class="s2">indent </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">), </span><span class="s3">' '</span><span class="s0">);</span>
    <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
        <span class="s1">return null</span><span class="s0">;</span>
    <span class="s0">}</span>
    <span class="s1">return </span><span class="s0">{</span>
        <span class="s2">base</span><span class="s0">: </span><span class="s2">baseIndent</span><span class="s0">,</span>
        <span class="s2">prev</span><span class="s0">: </span><span class="s2">$join</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">Array</span><span class="s0">(</span><span class="s2">depth </span><span class="s0">+ </span><span class="s4">1</span><span class="s0">), </span><span class="s2">baseIndent</span><span class="s0">)</span>
    <span class="s0">};</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">indentedJoin</span><span class="s0">(</span><span class="s2">xs</span><span class="s0">, </span><span class="s2">indent</span><span class="s0">) {</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">xs</span><span class="s0">.</span><span class="s2">length </span><span class="s0">=== </span><span class="s4">0</span><span class="s0">) { </span><span class="s1">return </span><span class="s3">''</span><span class="s0">; }</span>
    <span class="s1">var </span><span class="s2">lineJoiner </span><span class="s0">= </span><span class="s3">'</span><span class="s1">\n</span><span class="s3">' </span><span class="s0">+ </span><span class="s2">indent</span><span class="s0">.</span><span class="s2">prev </span><span class="s0">+ </span><span class="s2">indent</span><span class="s0">.</span><span class="s2">base</span><span class="s0">;</span>
    <span class="s1">return </span><span class="s2">lineJoiner </span><span class="s0">+ </span><span class="s2">$join</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">xs</span><span class="s0">, </span><span class="s3">',' </span><span class="s0">+ </span><span class="s2">lineJoiner</span><span class="s0">) + </span><span class="s3">'</span><span class="s1">\n</span><span class="s3">' </span><span class="s0">+ </span><span class="s2">indent</span><span class="s0">.</span><span class="s2">prev</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s1">function </span><span class="s2">arrObjKeys</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">inspect</span><span class="s0">) {</span>
    <span class="s1">var </span><span class="s2">isArr </span><span class="s0">= </span><span class="s2">isArray</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">);</span>
    <span class="s1">var </span><span class="s2">xs </span><span class="s0">= [];</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">isArr</span><span class="s0">) {</span>
        <span class="s2">xs</span><span class="s0">.</span><span class="s2">length </span><span class="s0">= </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">length</span><span class="s0">;</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">i </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">i </span><span class="s0">&lt; </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; </span><span class="s2">i</span><span class="s0">++) {</span>
            <span class="s2">xs</span><span class="s0">[</span><span class="s2">i</span><span class="s0">] = </span><span class="s2">has</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">i</span><span class="s0">) ? </span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">[</span><span class="s2">i</span><span class="s0">], </span><span class="s2">obj</span><span class="s0">) : </span><span class="s3">''</span><span class="s0">;</span>
        <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">var </span><span class="s2">syms </span><span class="s0">= </span><span class="s1">typeof </span><span class="s2">gOPS </span><span class="s0">=== </span><span class="s3">'function' </span><span class="s0">? </span><span class="s2">gOPS</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">) : [];</span>
    <span class="s1">var </span><span class="s2">symMap</span><span class="s0">;</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s2">hasShammedSymbols</span><span class="s0">) {</span>
        <span class="s2">symMap </span><span class="s0">= {};</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">k </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">k </span><span class="s0">&lt; </span><span class="s2">syms</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; </span><span class="s2">k</span><span class="s0">++) {</span>
            <span class="s2">symMap</span><span class="s0">[</span><span class="s3">'$' </span><span class="s0">+ </span><span class="s2">syms</span><span class="s0">[</span><span class="s2">k</span><span class="s0">]] = </span><span class="s2">syms</span><span class="s0">[</span><span class="s2">k</span><span class="s0">];</span>
        <span class="s0">}</span>
    <span class="s0">}</span>

    <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">key </span><span class="s1">in </span><span class="s2">obj</span><span class="s0">) { </span><span class="s6">// eslint-disable-line no-restricted-syntax</span>
        <span class="s1">if </span><span class="s0">(!</span><span class="s2">has</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">key</span><span class="s0">)) { </span><span class="s1">continue</span><span class="s0">; } </span><span class="s6">// eslint-disable-line no-restricted-syntax, no-continue</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">isArr </span><span class="s0">&amp;&amp; </span><span class="s2">String</span><span class="s0">(</span><span class="s2">Number</span><span class="s0">(</span><span class="s2">key</span><span class="s0">)) === </span><span class="s2">key </span><span class="s0">&amp;&amp; </span><span class="s2">key </span><span class="s0">&lt; </span><span class="s2">obj</span><span class="s0">.</span><span class="s2">length</span><span class="s0">) { </span><span class="s1">continue</span><span class="s0">; } </span><span class="s6">// eslint-disable-line no-restricted-syntax, no-continue</span>
        <span class="s1">if </span><span class="s0">(</span><span class="s2">hasShammedSymbols </span><span class="s0">&amp;&amp; </span><span class="s2">symMap</span><span class="s0">[</span><span class="s3">'$' </span><span class="s0">+ </span><span class="s2">key</span><span class="s0">] </span><span class="s1">instanceof </span><span class="s2">Symbol</span><span class="s0">) {</span>
            <span class="s6">// this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section</span>
            <span class="s1">continue</span><span class="s0">; </span><span class="s6">// eslint-disable-line no-restricted-syntax, no-continue</span>
        <span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">$test</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s5">/[^\w$]/</span><span class="s0">, </span><span class="s2">key</span><span class="s0">)) {</span>
            <span class="s2">xs</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">key</span><span class="s0">, </span><span class="s2">obj</span><span class="s0">) + </span><span class="s3">': ' </span><span class="s0">+ </span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">[</span><span class="s2">key</span><span class="s0">], </span><span class="s2">obj</span><span class="s0">));</span>
        <span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
            <span class="s2">xs</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s2">key </span><span class="s0">+ </span><span class="s3">': ' </span><span class="s0">+ </span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">[</span><span class="s2">key</span><span class="s0">], </span><span class="s2">obj</span><span class="s0">));</span>
        <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">if </span><span class="s0">(</span><span class="s1">typeof </span><span class="s2">gOPS </span><span class="s0">=== </span><span class="s3">'function'</span><span class="s0">) {</span>
        <span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">j </span><span class="s0">= </span><span class="s4">0</span><span class="s0">; </span><span class="s2">j </span><span class="s0">&lt; </span><span class="s2">syms</span><span class="s0">.</span><span class="s2">length</span><span class="s0">; </span><span class="s2">j</span><span class="s0">++) {</span>
            <span class="s1">if </span><span class="s0">(</span><span class="s2">isEnumerable</span><span class="s0">.</span><span class="s2">call</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">, </span><span class="s2">syms</span><span class="s0">[</span><span class="s2">j</span><span class="s0">])) {</span>
                <span class="s2">xs</span><span class="s0">.</span><span class="s2">push</span><span class="s0">(</span><span class="s3">'[' </span><span class="s0">+ </span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">syms</span><span class="s0">[</span><span class="s2">j</span><span class="s0">]) + </span><span class="s3">']: ' </span><span class="s0">+ </span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">obj</span><span class="s0">[</span><span class="s2">syms</span><span class="s0">[</span><span class="s2">j</span><span class="s0">]], </span><span class="s2">obj</span><span class="s0">));</span>
            <span class="s0">}</span>
        <span class="s0">}</span>
    <span class="s0">}</span>
    <span class="s1">return </span><span class="s2">xs</span><span class="s0">;</span>
<span class="s0">}</span>

<span class="s0">},{</span><span class="s3">&quot;./util.inspect&quot;</span><span class="s0">:</span><span class="s4">6</span><span class="s0">}],</span><span class="s4">16</span><span class="s0">:[</span><span class="s1">function</span><span class="s0">(</span><span class="s2">require</span><span class="s0">,</span><span class="s2">module</span><span class="s0">,</span><span class="s2">exports</span><span class="s0">){</span>
<span class="s3">'use strict'</span><span class="s0">;</span>

<span class="s1">var </span><span class="s2">GetIntrinsic </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'get-intrinsic'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">callBound </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'call-bind/callBound'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">inspect </span><span class="s0">= </span><span class="s2">require</span><span class="s0">(</span><span class="s3">'object-inspect'</span><span class="s0">);</span>

<span class="s1">var </span><span class="s2">$TypeError </span><span class="s0">= </span><span class="s2">GetIntrinsic</span><span class="s0">(</span><span class="s3">'%TypeError%'</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$WeakMap </span><span class="s0">= </span><span class="s2">GetIntrinsic</span><span class="s0">(</span><span class="s3">'%WeakMap%'</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$Map </span><span class="s0">= </span><span class="s2">GetIntrinsic</span><span class="s0">(</span><span class="s3">'%Map%'</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>

<span class="s1">var </span><span class="s2">$weakMapGet </span><span class="s0">= </span><span class="s2">callBound</span><span class="s0">(</span><span class="s3">'WeakMap.prototype.get'</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$weakMapSet </span><span class="s0">= </span><span class="s2">callBound</span><span class="s0">(</span><span class="s3">'WeakMap.prototype.set'</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$weakMapHas </span><span class="s0">= </span><span class="s2">callBound</span><span class="s0">(</span><span class="s3">'WeakMap.prototype.has'</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$mapGet </span><span class="s0">= </span><span class="s2">callBound</span><span class="s0">(</span><span class="s3">'Map.prototype.get'</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$mapSet </span><span class="s0">= </span><span class="s2">callBound</span><span class="s0">(</span><span class="s3">'Map.prototype.set'</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>
<span class="s1">var </span><span class="s2">$mapHas </span><span class="s0">= </span><span class="s2">callBound</span><span class="s0">(</span><span class="s3">'Map.prototype.has'</span><span class="s0">, </span><span class="s1">true</span><span class="s0">);</span>

<span class="s6">/* 
 * This function traverses the list returning the node corresponding to the 
 * given key. 
 * 
 * That node is also moved to the head of the list, so that if it's accessed 
 * again we don't need to traverse the whole list. By doing so, all the recently 
 * used nodes can be accessed relatively quickly. 
 */</span>
<span class="s1">var </span><span class="s2">listGetNode </span><span class="s0">= </span><span class="s1">function </span><span class="s0">(</span><span class="s2">list</span><span class="s0">, </span><span class="s2">key</span><span class="s0">) { </span><span class="s6">// eslint-disable-line consistent-return</span>
	<span class="s1">for </span><span class="s0">(</span><span class="s1">var </span><span class="s2">prev </span><span class="s0">= </span><span class="s2">list</span><span class="s0">, </span><span class="s2">curr</span><span class="s0">; (</span><span class="s2">curr </span><span class="s0">= </span><span class="s2">prev</span><span class="s0">.</span><span class="s2">next</span><span class="s0">) !== </span><span class="s1">null</span><span class="s0">; </span><span class="s2">prev </span><span class="s0">= </span><span class="s2">curr</span><span class="s0">) {</span>
		<span class="s1">if </span><span class="s0">(</span><span class="s2">curr</span><span class="s0">.</span><span class="s2">key </span><span class="s0">=== </span><span class="s2">key</span><span class="s0">) {</span>
			<span class="s2">prev</span><span class="s0">.</span><span class="s2">next </span><span class="s0">= </span><span class="s2">curr</span><span class="s0">.</span><span class="s2">next</span><span class="s0">;</span>
			<span class="s2">curr</span><span class="s0">.</span><span class="s2">next </span><span class="s0">= </span><span class="s2">list</span><span class="s0">.</span><span class="s2">next</span><span class="s0">;</span>
			<span class="s2">list</span><span class="s0">.</span><span class="s2">next </span><span class="s0">= </span><span class="s2">curr</span><span class="s0">; </span><span class="s6">// eslint-disable-line no-param-reassign</span>
			<span class="s1">return </span><span class="s2">curr</span><span class="s0">;</span>
		<span class="s0">}</span>
	<span class="s0">}</span>
<span class="s0">};</span>

<span class="s1">var </span><span class="s2">listGet </span><span class="s0">= </span><span class="s1">function </span><span class="s0">(</span><span class="s2">objects</span><span class="s0">, </span><span class="s2">key</span><span class="s0">) {</span>
	<span class="s1">var </span><span class="s2">node </span><span class="s0">= </span><span class="s2">listGetNode</span><span class="s0">(</span><span class="s2">objects</span><span class="s0">, </span><span class="s2">key</span><span class="s0">);</span>
	<span class="s1">return </span><span class="s2">node </span><span class="s0">&amp;&amp; </span><span class="s2">node</span><span class="s0">.</span><span class="s2">value</span><span class="s0">;</span>
<span class="s0">};</span>
<span class="s1">var </span><span class="s2">listSet </span><span class="s0">= </span><span class="s1">function </span><span class="s0">(</span><span class="s2">objects</span><span class="s0">, </span><span class="s2">key</span><span class="s0">, </span><span class="s2">value</span><span class="s0">) {</span>
	<span class="s1">var </span><span class="s2">node </span><span class="s0">= </span><span class="s2">listGetNode</span><span class="s0">(</span><span class="s2">objects</span><span class="s0">, </span><span class="s2">key</span><span class="s0">);</span>
	<span class="s1">if </span><span class="s0">(</span><span class="s2">node</span><span class="s0">) {</span>
		<span class="s2">node</span><span class="s0">.</span><span class="s2">value </span><span class="s0">= </span><span class="s2">value</span><span class="s0">;</span>
	<span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
		<span class="s6">// Prepend the new node to the beginning of the list</span>
		<span class="s2">objects</span><span class="s0">.</span><span class="s2">next </span><span class="s0">= { </span><span class="s6">// eslint-disable-line no-param-reassign</span>
			<span class="s2">key</span><span class="s0">: </span><span class="s2">key</span><span class="s0">,</span>
			<span class="s2">next</span><span class="s0">: </span><span class="s2">objects</span><span class="s0">.</span><span class="s2">next</span><span class="s0">,</span>
			<span class="s2">value</span><span class="s0">: </span><span class="s2">value</span>
		<span class="s0">};</span>
	<span class="s0">}</span>
<span class="s0">};</span>
<span class="s1">var </span><span class="s2">listHas </span><span class="s0">= </span><span class="s1">function </span><span class="s0">(</span><span class="s2">objects</span><span class="s0">, </span><span class="s2">key</span><span class="s0">) {</span>
	<span class="s1">return </span><span class="s0">!!</span><span class="s2">listGetNode</span><span class="s0">(</span><span class="s2">objects</span><span class="s0">, </span><span class="s2">key</span><span class="s0">);</span>
<span class="s0">};</span>

<span class="s2">module</span><span class="s0">.</span><span class="s2">exports </span><span class="s0">= </span><span class="s1">function </span><span class="s2">getSideChannel</span><span class="s0">() {</span>
	<span class="s1">var </span><span class="s2">$wm</span><span class="s0">;</span>
	<span class="s1">var </span><span class="s2">$m</span><span class="s0">;</span>
	<span class="s1">var </span><span class="s2">$o</span><span class="s0">;</span>
	<span class="s1">var </span><span class="s2">channel </span><span class="s0">= {</span>
		<span class="s2">assert</span><span class="s0">: </span><span class="s1">function </span><span class="s0">(</span><span class="s2">key</span><span class="s0">) {</span>
			<span class="s1">if </span><span class="s0">(!</span><span class="s2">channel</span><span class="s0">.</span><span class="s2">has</span><span class="s0">(</span><span class="s2">key</span><span class="s0">)) {</span>
				<span class="s1">throw new </span><span class="s2">$TypeError</span><span class="s0">(</span><span class="s3">'Side channel does not contain ' </span><span class="s0">+ </span><span class="s2">inspect</span><span class="s0">(</span><span class="s2">key</span><span class="s0">));</span>
			<span class="s0">}</span>
		<span class="s0">},</span>
		<span class="s2">get</span><span class="s0">: </span><span class="s1">function </span><span class="s0">(</span><span class="s2">key</span><span class="s0">) { </span><span class="s6">// eslint-disable-line consistent-return</span>
			<span class="s1">if </span><span class="s0">(</span><span class="s2">$WeakMap </span><span class="s0">&amp;&amp; </span><span class="s2">key </span><span class="s0">&amp;&amp; (</span><span class="s1">typeof </span><span class="s2">key </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">key </span><span class="s0">=== </span><span class="s3">'function'</span><span class="s0">)) {</span>
				<span class="s1">if </span><span class="s0">(</span><span class="s2">$wm</span><span class="s0">) {</span>
					<span class="s1">return </span><span class="s2">$weakMapGet</span><span class="s0">(</span><span class="s2">$wm</span><span class="s0">, </span><span class="s2">key</span><span class="s0">);</span>
				<span class="s0">}</span>
			<span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">$Map</span><span class="s0">) {</span>
				<span class="s1">if </span><span class="s0">(</span><span class="s2">$m</span><span class="s0">) {</span>
					<span class="s1">return </span><span class="s2">$mapGet</span><span class="s0">(</span><span class="s2">$m</span><span class="s0">, </span><span class="s2">key</span><span class="s0">);</span>
				<span class="s0">}</span>
			<span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
				<span class="s1">if </span><span class="s0">(</span><span class="s2">$o</span><span class="s0">) { </span><span class="s6">// eslint-disable-line no-lonely-if</span>
					<span class="s1">return </span><span class="s2">listGet</span><span class="s0">(</span><span class="s2">$o</span><span class="s0">, </span><span class="s2">key</span><span class="s0">);</span>
				<span class="s0">}</span>
			<span class="s0">}</span>
		<span class="s0">},</span>
		<span class="s2">has</span><span class="s0">: </span><span class="s1">function </span><span class="s0">(</span><span class="s2">key</span><span class="s0">) {</span>
			<span class="s1">if </span><span class="s0">(</span><span class="s2">$WeakMap </span><span class="s0">&amp;&amp; </span><span class="s2">key </span><span class="s0">&amp;&amp; (</span><span class="s1">typeof </span><span class="s2">key </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">key </span><span class="s0">=== </span><span class="s3">'function'</span><span class="s0">)) {</span>
				<span class="s1">if </span><span class="s0">(</span><span class="s2">$wm</span><span class="s0">) {</span>
					<span class="s1">return </span><span class="s2">$weakMapHas</span><span class="s0">(</span><span class="s2">$wm</span><span class="s0">, </span><span class="s2">key</span><span class="s0">);</span>
				<span class="s0">}</span>
			<span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">$Map</span><span class="s0">) {</span>
				<span class="s1">if </span><span class="s0">(</span><span class="s2">$m</span><span class="s0">) {</span>
					<span class="s1">return </span><span class="s2">$mapHas</span><span class="s0">(</span><span class="s2">$m</span><span class="s0">, </span><span class="s2">key</span><span class="s0">);</span>
				<span class="s0">}</span>
			<span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
				<span class="s1">if </span><span class="s0">(</span><span class="s2">$o</span><span class="s0">) { </span><span class="s6">// eslint-disable-line no-lonely-if</span>
					<span class="s1">return </span><span class="s2">listHas</span><span class="s0">(</span><span class="s2">$o</span><span class="s0">, </span><span class="s2">key</span><span class="s0">);</span>
				<span class="s0">}</span>
			<span class="s0">}</span>
			<span class="s1">return false</span><span class="s0">;</span>
		<span class="s0">},</span>
		<span class="s2">set</span><span class="s0">: </span><span class="s1">function </span><span class="s0">(</span><span class="s2">key</span><span class="s0">, </span><span class="s2">value</span><span class="s0">) {</span>
			<span class="s1">if </span><span class="s0">(</span><span class="s2">$WeakMap </span><span class="s0">&amp;&amp; </span><span class="s2">key </span><span class="s0">&amp;&amp; (</span><span class="s1">typeof </span><span class="s2">key </span><span class="s0">=== </span><span class="s3">'object' </span><span class="s0">|| </span><span class="s1">typeof </span><span class="s2">key </span><span class="s0">=== </span><span class="s3">'function'</span><span class="s0">)) {</span>
				<span class="s1">if </span><span class="s0">(!</span><span class="s2">$wm</span><span class="s0">) {</span>
					<span class="s2">$wm </span><span class="s0">= </span><span class="s1">new </span><span class="s2">$WeakMap</span><span class="s0">();</span>
				<span class="s0">}</span>
				<span class="s2">$weakMapSet</span><span class="s0">(</span><span class="s2">$wm</span><span class="s0">, </span><span class="s2">key</span><span class="s0">, </span><span class="s2">value</span><span class="s0">);</span>
			<span class="s0">} </span><span class="s1">else if </span><span class="s0">(</span><span class="s2">$Map</span><span class="s0">) {</span>
				<span class="s1">if </span><span class="s0">(!</span><span class="s2">$m</span><span class="s0">) {</span>
					<span class="s2">$m </span><span class="s0">= </span><span class="s1">new </span><span class="s2">$Map</span><span class="s0">();</span>
				<span class="s0">}</span>
				<span class="s2">$mapSet</span><span class="s0">(</span><span class="s2">$m</span><span class="s0">, </span><span class="s2">key</span><span class="s0">, </span><span class="s2">value</span><span class="s0">);</span>
			<span class="s0">} </span><span class="s1">else </span><span class="s0">{</span>
				<span class="s1">if </span><span class="s0">(!</span><span class="s2">$o</span><span class="s0">) {</span>
					<span class="s6">/* 
                     * Initialize the linked list as an empty node, so that we don't have 
                     * to special-case handling of the first node: we can always refer to 
                     * it as (previous node).next, instead of something like (list).head 
                     */</span>
					<span class="s2">$o </span><span class="s0">= { </span><span class="s2">key</span><span class="s0">: {}, </span><span class="s2">next</span><span class="s0">: </span><span class="s1">null </span><span class="s0">};</span>
				<span class="s0">}</span>
				<span class="s2">listSet</span><span class="s0">(</span><span class="s2">$o</span><span class="s0">, </span><span class="s2">key</span><span class="s0">, </span><span class="s2">value</span><span class="s0">);</span>
			<span class="s0">}</span>
		<span class="s0">}</span>
	<span class="s0">};</span>
	<span class="s1">return </span><span class="s2">channel</span><span class="s0">;</span>
<span class="s0">};</span>

<span class="s0">},{</span><span class="s3">&quot;call-bind/callBound&quot;</span><span class="s0">:</span><span class="s4">7</span><span class="s0">,</span><span class="s3">&quot;get-intrinsic&quot;</span><span class="s0">:</span><span class="s4">11</span><span class="s0">,</span><span class="s3">&quot;object-inspect&quot;</span><span class="s0">:</span><span class="s4">15</span><span class="s0">}]},{},[</span><span class="s4">2</span><span class="s0">])(</span><span class="s4">2</span><span class="s0">)</span>
<span class="s0">});</span>
</pre>
</body>
</html>
<html>
<head>
<title>ce79300e12456e0db2f8c633f6f1ba0d71e8683d11b06f21a4b26d006b744c42.json</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #cf8e6d;}
.s3 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
ce79300e12456e0db2f8c633f6f1ba0d71e8683d11b06f21a4b26d006b744c42.json</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;ast&quot;</span><span class="s0">:</span><span class="s2">null</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">:</span><span class="s1">&quot;import </span><span class="s2">\&quot;</span><span class="s1">core-js/modules/es.array.push.js</span><span class="s2">\&quot;</span><span class="s1">;</span><span class="s2">\n</span><span class="s1">import axios from 'axios';</span><span class="s2">\n</span><span class="s1">import router from </span><span class="s2">\&quot;</span><span class="s1">@/router</span><span class="s2">\&quot;</span><span class="s1">;</span><span class="s2">\n\n</span><span class="s1">// 创建可一个新的axios对象</span><span class="s2">\n</span><span class="s1">const request = axios.create({</span><span class="s2">\n  </span><span class="s1">baseURL: process.env.VUE_APP_BASEURL,</span><span class="s2">\n  </span><span class="s1">// 后端的接口地址  ip:port</span><span class="s2">\n  </span><span class="s1">timeout: 30000 // 30s请求超时</span><span class="s2">\n</span><span class="s1">});</span><span class="s2">\n\n</span><span class="s1">// request 拦截器</span><span class="s2">\n</span><span class="s1">// 可以自请求发送前对请求做一些处理</span><span class="s2">\n</span><span class="s1">// 比如统一加token，对请求参数统一加密</span><span class="s2">\n</span><span class="s1">request.interceptors.request.use(config =&gt; {</span><span class="s2">\n  </span><span class="s1">config.headers['Content-Type'] = 'application/json;charset=utf-8'; // 设置请求头格式</span><span class="s2">\n  </span><span class="s1">let user = JSON.parse(localStorage.getItem(</span><span class="s2">\&quot;</span><span class="s1">xm-user</span><span class="s2">\&quot;</span><span class="s1">) || '{}'); // 获取缓存的用户信息</span><span class="s2">\n  </span><span class="s1">config.headers['token'] = user.token; // 设置请求头</span><span class="s2">\n\n  </span><span class="s1">return config;</span><span class="s2">\n</span><span class="s1">}, error =&gt; {</span><span class="s2">\n  </span><span class="s1">console.error('request error: ' + error); // for debug</span><span class="s2">\n  </span><span class="s1">return Promise.reject(error);</span><span class="s2">\n</span><span class="s1">});</span><span class="s2">\n\n</span><span class="s1">// response 拦截器</span><span class="s2">\n</span><span class="s1">// 可以在接口响应后统一处理结果</span><span class="s2">\n</span><span class="s1">request.interceptors.response.use(response =&gt; {</span><span class="s2">\n  </span><span class="s1">let res = response.data;</span><span class="s2">\n\n  </span><span class="s1">// 兼容服务端返回的字符串数据</span><span class="s2">\n  </span><span class="s1">if (typeof res === 'string') {</span><span class="s2">\n    </span><span class="s1">res = res ? JSON.parse(res) : res;</span><span class="s2">\n  </span><span class="s1">}</span><span class="s2">\n  </span><span class="s1">if (res.code === '401') {</span><span class="s2">\n    </span><span class="s1">router.push('/login');</span><span class="s2">\n  </span><span class="s1">}</span><span class="s2">\n  </span><span class="s1">return res;</span><span class="s2">\n</span><span class="s1">}, error =&gt; {</span><span class="s2">\n  </span><span class="s1">console.error('response error: ' + error); // for debug</span><span class="s2">\n  </span><span class="s1">return Promise.reject(error);</span><span class="s2">\n</span><span class="s1">});</span><span class="s2">\n</span><span class="s1">export default request;&quot;</span><span class="s0">,</span><span class="s1">&quot;map&quot;</span><span class="s0">:{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s3">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;axios&quot;</span><span class="s0">,</span><span class="s1">&quot;router&quot;</span><span class="s0">,</span><span class="s1">&quot;request&quot;</span><span class="s0">,</span><span class="s1">&quot;create&quot;</span><span class="s0">,</span><span class="s1">&quot;baseURL&quot;</span><span class="s0">,</span><span class="s1">&quot;process&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;VUE_APP_BASEURL&quot;</span><span class="s0">,</span><span class="s1">&quot;timeout&quot;</span><span class="s0">,</span><span class="s1">&quot;interceptors&quot;</span><span class="s0">,</span><span class="s1">&quot;use&quot;</span><span class="s0">,</span><span class="s1">&quot;config&quot;</span><span class="s0">,</span><span class="s1">&quot;headers&quot;</span><span class="s0">,</span><span class="s1">&quot;user&quot;</span><span class="s0">,</span><span class="s1">&quot;JSON&quot;</span><span class="s0">,</span><span class="s1">&quot;parse&quot;</span><span class="s0">,</span><span class="s1">&quot;localStorage&quot;</span><span class="s0">,</span><span class="s1">&quot;getItem&quot;</span><span class="s0">,</span><span class="s1">&quot;token&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;console&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;reject&quot;</span><span class="s0">,</span><span class="s1">&quot;response&quot;</span><span class="s0">,</span><span class="s1">&quot;res&quot;</span><span class="s0">,</span><span class="s1">&quot;data&quot;</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;E:/work/project/manager/vue/src/utils/request.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import axios from 'axios'</span><span class="s2">\r\n</span><span class="s1">import router from </span><span class="s2">\&quot;</span><span class="s1">@/router</span><span class="s2">\&quot;</span><span class="s1">;</span><span class="s2">\r\n\r\n</span><span class="s1">// 创建可一个新的axios对象</span><span class="s2">\r\n</span><span class="s1">const request = axios.create({</span><span class="s2">\r\n    </span><span class="s1">baseURL: process.env.VUE_APP_BASEURL,   // 后端的接口地址  ip:port</span><span class="s2">\r\n    </span><span class="s1">timeout: 30000                          // 30s请求超时</span><span class="s2">\r\n</span><span class="s1">})</span><span class="s2">\r\n\r\n</span><span class="s1">// request 拦截器</span><span class="s2">\r\n</span><span class="s1">// 可以自请求发送前对请求做一些处理</span><span class="s2">\r\n</span><span class="s1">// 比如统一加token，对请求参数统一加密</span><span class="s2">\r\n</span><span class="s1">request.interceptors.request.use(config =&gt; {</span><span class="s2">\r\n    </span><span class="s1">config.headers['Content-Type'] = 'application/json;charset=utf-8';        // 设置请求头格式</span><span class="s2">\r\n    </span><span class="s1">let user = JSON.parse(localStorage.getItem(</span><span class="s2">\&quot;</span><span class="s1">xm-user</span><span class="s2">\&quot;</span><span class="s1">) || '{}')  // 获取缓存的用户信息</span><span class="s2">\r\n    </span><span class="s1">config.headers['token'] = user.token  // 设置请求头</span><span class="s2">\r\n\r\n    </span><span class="s1">return config</span><span class="s2">\r\n</span><span class="s1">}, error =&gt; {</span><span class="s2">\r\n    </span><span class="s1">console.error('request error: ' + error) // for debug</span><span class="s2">\r\n    </span><span class="s1">return Promise.reject(error)</span><span class="s2">\r\n</span><span class="s1">});</span><span class="s2">\r\n\r\n</span><span class="s1">// response 拦截器</span><span class="s2">\r\n</span><span class="s1">// 可以在接口响应后统一处理结果</span><span class="s2">\r\n</span><span class="s1">request.interceptors.response.use(</span><span class="s2">\r\n    </span><span class="s1">response =&gt; {</span><span class="s2">\r\n        </span><span class="s1">let res = response.data;</span><span class="s2">\r\n\r\n        </span><span class="s1">// 兼容服务端返回的字符串数据</span><span class="s2">\r\n        </span><span class="s1">if (typeof res === 'string') {</span><span class="s2">\r\n            </span><span class="s1">res = res ? JSON.parse(res) : res</span><span class="s2">\r\n        </span><span class="s1">}</span><span class="s2">\r\n        </span><span class="s1">if (res.code === '401') {</span><span class="s2">\r\n            </span><span class="s1">router.push('/login')</span><span class="s2">\r\n        </span><span class="s1">}</span><span class="s2">\r\n        </span><span class="s1">return res;</span><span class="s2">\r\n    </span><span class="s1">},</span><span class="s2">\r\n    </span><span class="s1">error =&gt; {</span><span class="s2">\r\n        </span><span class="s1">console.error('response error: ' + error) // for debug</span><span class="s2">\r\n        </span><span class="s1">return Promise.reject(error)</span><span class="s2">\r\n    </span><span class="s1">}</span><span class="s2">\r\n</span><span class="s1">)</span><span class="s2">\r\n\r\n\r\n</span><span class="s1">export default request&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,UAAU;;AAE7B;AACA,MAAMC,OAAO,GAAGF,KAAK,CAACG,MAAM,CAAC;EACzBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,eAAe;EAAI;EACxCC,OAAO,EAAE,KAAK,CAA0B;AAC5C,CAAC,CAAC;;AAEF;AACA;AACA;AACAN,OAAO,CAACO,YAAY,CAACP,OAAO,CAACQ,GAAG,CAACC,MAAM,IAAI;EACvCA,MAAM,CAACC,OAAO,CAAC,cAAc,CAAC,GAAG,gCAAgC,CAAC,CAAQ;EAC1E,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,EAAE;EAChEN,MAAM,CAACC,OAAO,CAAC,OAAO,CAAC,GAAGC,IAAI,CAACK,KAAK,EAAE;;EAEtC,OAAOP,MAAM;AACjB,CAAC,EAAEQ,KAAK,IAAI;EACRC,OAAO,CAACD,KAAK,CAAC,iBAAiB,GAAGA,KAAK,CAAC,EAAC;EACzC,OAAOE,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC;AAChC,CAAC,CAAC;;AAEF;AACA;AACAjB,OAAO,CAACO,YAAY,CAACc,QAAQ,CAACb,GAAG,CAC7Ba,QAAQ,IAAI;EACR,IAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAI;;EAEvB;EACA,IAAI,OAAOD,GAAG,KAAK,QAAQ,EAAE;IACzBA,GAAG,GAAGA,GAAG,GAAGV,IAAI,CAACC,KAAK,CAACS,GAAG,CAAC,GAAGA,GAAG;EACrC;EACA,IAAIA,GAAG,CAACE,IAAI,KAAK,KAAK,EAAE;IACpBzB,MAAM,CAAC0B,IAAI,CAAC,QAAQ,CAAC;EACzB;EACA,OAAOH,GAAG;AACd,CAAC,EACDL,KAAK,IAAI;EACLC,OAAO,CAACD,KAAK,CAAC,kBAAkB,GAAGA,KAAK,CAAC,EAAC;EAC1C,OAAOE,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC;AAChC,CACJ,CAAC;AAGD,eAAejB,OAAO&quot;</span><span class="s0">},</span><span class="s1">&quot;metadata&quot;</span><span class="s0">:{},</span><span class="s1">&quot;sourceType&quot;</span><span class="s0">:</span><span class="s1">&quot;module&quot;</span><span class="s0">,</span><span class="s1">&quot;externalDependencies&quot;</span><span class="s0">:[]}</span></pre>
</body>
</html>